const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Cib7bOw5.js","assets/router-vendor-DPFf4uwN.js","assets/charts-vendor-BzUcaNB1.js"])))=>i.map(i=>d[i]);
import{r as FR,a as HR,g as Jg,b as G,j as D,u as xc,S as dS,R as Ge,c as l1,d as ro,e as UR,L as Vh,f as c1,h as u1,i as GR,k as td,l as VR,O as WR,m as YR,n as $R}from"./router-vendor-DPFf4uwN.js";import{r as qR,a as XR}from"./charts-vendor-BzUcaNB1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(l){if(l.ep)return;l.ep=!0;const d=n(l);fetch(l.href,d)}})();var vx={exports:{}},xg={},bx={exports:{}},xx={};var qE;function ZR(){return qE||(qE=1,(function(e){function t(oe,Ee){var Ie=oe.length;oe.push(Ee);e:for(;0<Ie;){var Ye=Ie-1>>>1,je=oe[Ye];if(0<l(je,Ee))oe[Ye]=Ee,oe[Ie]=je,Ie=Ye;else break e}}function n(oe){return oe.length===0?null:oe[0]}function a(oe){if(oe.length===0)return null;var Ee=oe[0],Ie=oe.pop();if(Ie!==Ee){oe[0]=Ie;e:for(var Ye=0,je=oe.length,Re=je>>>1;Ye<Re;){var ge=2*(Ye+1)-1,Ae=oe[ge],Be=ge+1,Xe=oe[Be];if(0>l(Ae,Ie))Be<je&&0>l(Xe,Ae)?(oe[Ye]=Xe,oe[Be]=Ie,Ye=Be):(oe[Ye]=Ae,oe[ge]=Ie,Ye=ge);else if(Be<je&&0>l(Xe,Ie))oe[Ye]=Xe,oe[Be]=Ie,Ye=Be;else break e}}return Ee}function l(oe,Ee){var Ie=oe.sortIndex-Ee.sortIndex;return Ie!==0?Ie:oe.id-Ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var p=Date,y=p.now();e.unstable_now=function(){return p.now()-y}}var S=[],T=[],_=1,O=null,L=3,P=!1,H=!1,B=!1,F=!1,W=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function K(oe){for(var Ee=n(T);Ee!==null;){if(Ee.callback===null)a(T);else if(Ee.startTime<=oe)a(T),Ee.sortIndex=Ee.expirationTime,t(S,Ee);else break;Ee=n(T)}}function re(oe){if(B=!1,K(oe),!H)if(n(S)!==null)H=!0,ue||(ue=!0,ye());else{var Ee=n(T);Ee!==null&&$e(re,Ee.startTime-oe)}}var ue=!1,X=-1,ie=5,pe=-1;function be(){return F?!0:!(e.unstable_now()-pe<ie)}function le(){if(F=!1,ue){var oe=e.unstable_now();pe=oe;var Ee=!0;try{e:{H=!1,B&&(B=!1,Y(X),X=-1),P=!0;var Ie=L;try{t:{for(K(oe),O=n(S);O!==null&&!(O.expirationTime>oe&&be());){var Ye=O.callback;if(typeof Ye=="function"){O.callback=null,L=O.priorityLevel;var je=Ye(O.expirationTime<=oe);if(oe=e.unstable_now(),typeof je=="function"){O.callback=je,K(oe),Ee=!0;break t}O===n(S)&&a(S),K(oe)}else a(S);O=n(S)}if(O!==null)Ee=!0;else{var Re=n(T);Re!==null&&$e(re,Re.startTime-oe),Ee=!1}}break e}finally{O=null,L=Ie,P=!1}Ee=void 0}}finally{Ee?ye():ue=!1}}}var ye;if(typeof $=="function")ye=function(){$(le)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Fe=De.port2;De.port1.onmessage=le,ye=function(){Fe.postMessage(null)}}else ye=function(){W(le,0)};function $e(oe,Ee){X=W(function(){oe(e.unstable_now())},Ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_next=function(oe){switch(L){case 1:case 2:case 3:var Ee=3;break;default:Ee=L}var Ie=L;L=Ee;try{return oe()}finally{L=Ie}},e.unstable_requestPaint=function(){F=!0},e.unstable_runWithPriority=function(oe,Ee){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var Ie=L;L=oe;try{return Ee()}finally{L=Ie}},e.unstable_scheduleCallback=function(oe,Ee,Ie){var Ye=e.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?Ye+Ie:Ye):Ie=Ye,oe){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=Ie+je,oe={id:_++,callback:Ee,priorityLevel:oe,startTime:Ie,expirationTime:je,sortIndex:-1},Ie>Ye?(oe.sortIndex=Ie,t(T,oe),n(S)===null&&oe===n(T)&&(B?(Y(X),X=-1):B=!0,$e(re,Ie-Ye))):(oe.sortIndex=je,t(S,oe),H||P||(H=!0,ue||(ue=!0,ye()))),oe},e.unstable_shouldYield=be,e.unstable_wrapCallback=function(oe){var Ee=L;return function(){var Ie=L;L=Ee;try{return oe.apply(this,arguments)}finally{L=Ie}}}})(xx)),xx}var XE;function QR(){return XE||(XE=1,bx.exports=ZR()),bx.exports}var ZE;function KR(){if(ZE)return xg;ZE=1;var e=QR(),t=FR(),n=HR();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function d(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function p(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function y(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function S(r){if(d(r)!==r)throw Error(a(188))}function T(r){var s=r.alternate;if(!s){if(s=d(r),s===null)throw Error(a(188));return s!==r?null:r}for(var u=r,m=s;;){var C=u.return;if(C===null)break;var R=C.alternate;if(R===null){if(m=C.return,m!==null){u=m;continue}break}if(C.child===R.child){for(R=C.child;R;){if(R===u)return S(C),r;if(R===m)return S(C),s;R=R.sibling}throw Error(a(188))}if(u.return!==m.return)u=C,m=R;else{for(var U=!1,Z=C.child;Z;){if(Z===u){U=!0,u=C,m=R;break}if(Z===m){U=!0,m=C,u=R;break}Z=Z.sibling}if(!U){for(Z=R.child;Z;){if(Z===u){U=!0,u=R,m=C;break}if(Z===m){U=!0,m=R,u=C;break}Z=Z.sibling}if(!U)throw Error(a(189))}}if(u.alternate!==m)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?r:s}function _(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=_(r),s!==null)return s;r=r.sibling}return null}var O=Object.assign,L=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),$=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=le&&r[le]||r["@@iterator"],typeof r=="function"?r:null)}var De=Symbol.for("react.client.reference");function Fe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===De?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case B:return"Fragment";case W:return"Profiler";case F:return"StrictMode";case re:return"Suspense";case ue:return"SuspenseList";case pe:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case H:return"Portal";case $:return r.displayName||"Context";case Y:return(r._context.displayName||"Context")+".Consumer";case K:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case X:return s=r.displayName||null,s!==null?s:Fe(r.type)||"Memo";case ie:s=r._payload,r=r._init;try{return Fe(r(s))}catch{}}return null}var $e=Array.isArray,oe=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Ye=[],je=-1;function Re(r){return{current:r}}function ge(r){0>je||(r.current=Ye[je],Ye[je]=null,je--)}function Ae(r,s){je++,Ye[je]=r.current,r.current=s}var Be=Re(null),Xe=Re(null),Ke=Re(null),Ze=Re(null);function Ve(r,s){switch(Ae(Ke,s),Ae(Xe,r),Ae(Be,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Qy(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Qy(s),r=Ky(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ge(Be),Ae(Be,r)}function tt(){ge(Be),ge(Xe),ge(Ke)}function Qe(r){r.memoizedState!==null&&Ae(Ze,r);var s=Be.current,u=Ky(s,r.type);s!==u&&(Ae(Xe,r),Ae(Be,u))}function _t(r){Xe.current===r&&(ge(Be),ge(Xe)),Ze.current===r&&(ge(Ze),ha._currentValue=Ie)}var ce,hn;function Je(r){if(ce===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);ce=s&&s[1]||"",hn=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+r+hn}var kt=!1;function Pt(r,s){if(!r||kt)return"";kt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(s){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(Te){var Se=Te}Reflect.construct(r,[],Pe)}else{try{Pe.call()}catch(Te){Se=Te}r.call(Pe.prototype)}}else{try{throw Error()}catch(Te){Se=Te}(Pe=r())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(Te){if(Te&&Se&&typeof Te.stack=="string")return[Te.stack,Se.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=m.DetermineComponentFrameRoot(),U=R[0],Z=R[1];if(U&&Z){var ae=U.split(`
`),Ce=Z.split(`
`);for(C=m=0;m<ae.length&&!ae[m].includes("DetermineComponentFrameRoot");)m++;for(;C<Ce.length&&!Ce[C].includes("DetermineComponentFrameRoot");)C++;if(m===ae.length||C===Ce.length)for(m=ae.length-1,C=Ce.length-1;1<=m&&0<=C&&ae[m]!==Ce[C];)C--;for(;1<=m&&0<=C;m--,C--)if(ae[m]!==Ce[C]){if(m!==1||C!==1)do if(m--,C--,0>C||ae[m]!==Ce[C]){var Le=`
`+ae[m].replace(" at new "," at ");return r.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",r.displayName)),Le}while(1<=m&&0<=C);break}}}finally{kt=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?Je(u):""}function mi(r,s){switch(r.tag){case 26:case 27:case 5:return Je(r.type);case 16:return Je("Lazy");case 13:return r.child!==s&&s!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return Pt(r.type,!1);case 11:return Pt(r.type.render,!1);case 1:return Pt(r.type,!0);case 31:return Je("Activity");default:return""}}function Bn(r){try{var s="",u=null;do s+=mi(r,u),u=r,r=r.return;while(r);return s}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Fn=Object.prototype.hasOwnProperty,nn=e.unstable_scheduleCallback,xn=e.unstable_cancelCallback,jt=e.unstable_shouldYield,wn=e.unstable_requestPaint,nt=e.unstable_now,Ot=e.unstable_getCurrentPriorityLevel,Dn=e.unstable_ImmediatePriority,Qt=e.unstable_UserBlockingPriority,fn=e.unstable_NormalPriority,ti=e.unstable_LowPriority,wi=e.unstable_IdlePriority,Yn=e.log,Si=e.unstable_setDisableYieldValue,ni=null,Hn=null;function Rn(r){if(typeof Yn=="function"&&Si(r),Hn&&typeof Hn.setStrictMode=="function")try{Hn.setStrictMode(ni,r)}catch{}}var kn=Math.clz32?Math.clz32:gt,We=Math.log,wa=Math.LN2;function gt(r){return r>>>=0,r===0?32:31-(We(r)/wa|0)|0}var Rt=256,Lt=262144,dt=4194304;function mt(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function zt(r,s,u){var m=r.pendingLanes;if(m===0)return 0;var C=0,R=r.suspendedLanes,U=r.pingedLanes;r=r.warmLanes;var Z=m&134217727;return Z!==0?(m=Z&~R,m!==0?C=mt(m):(U&=Z,U!==0?C=mt(U):u||(u=Z&~r,u!==0&&(C=mt(u))))):(Z=m&~R,Z!==0?C=mt(Z):U!==0?C=mt(U):u||(u=m&~r,u!==0&&(C=mt(u)))),C===0?0:s!==0&&s!==C&&(s&R)===0&&(R=C&-C,u=s&-s,R>=u||R===32&&(u&4194048)!==0)?s:C}function Vt(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Mt(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kt(){var r=dt;return dt<<=1,(dt&62914560)===0&&(dt=4194304),r}function on(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function Pn(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Wt(r,s,u,m,C,R){var U=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var Z=r.entanglements,ae=r.expirationTimes,Ce=r.hiddenUpdates;for(u=U&~u;0<u;){var Le=31-kn(u),Pe=1<<Le;Z[Le]=0,ae[Le]=-1;var Se=Ce[Le];if(Se!==null)for(Ce[Le]=null,Le=0;Le<Se.length;Le++){var Te=Se[Le];Te!==null&&(Te.lane&=-536870913)}u&=~Pe}m!==0&&yi(r,m,0),R!==0&&C===0&&r.tag!==0&&(r.suspendedLanes|=R&~(U&~s))}function yi(r,s,u){r.pendingLanes|=s,r.suspendedLanes&=~s;var m=31-kn(s);r.entangledLanes|=s,r.entanglements[m]=r.entanglements[m]|1073741824|u&261930}function vi(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var m=31-kn(u),C=1<<m;C&s|r[m]&s&&(r[m]|=s),u&=~C}}function Ji(r,s){var u=s&-s;return u=(u&42)!==0?1:ii(u),(u&(r.suspendedLanes|s))!==0?0:u}function ii(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ri(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function tn(){var r=Ee.p;return r!==0?r:(r=window.event,r===void 0?32:cr(r.type))}function fr(r,s){var u=Ee.p;try{return Ee.p=r,s()}finally{Ee.p=u}}var ji=Math.random().toString(36).slice(2),li="__reactFiber$"+ji,jn="__reactProps$"+ji,ki="__reactContainer$"+ji,Ss="__reactEvents$"+ji,Un="__reactListeners$"+ji,ud="__reactHandles$"+ji,Es="__reactResources$"+ji,st="__reactMarker$"+ji;function he(r){delete r[li],delete r[jn],delete r[Ss],delete r[Un],delete r[ud]}function ze(r){var s=r[li];if(s)return s;for(var u=r.parentNode;u;){if(s=u[ki]||u[li]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=ug(r);r!==null;){if(u=r[li])return u;r=ug(r)}return s}r=u,u=r.parentNode}return null}function it(r){if(r=r[li]||r[ki]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function ln(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function On(r){var s=r[Es];return s||(s=r[Es]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function at(r){r[st]=!0}var Ei=new Set,Or={};function zi(r,s){Sa(r,s),Sa(r+"Capture",s)}function Sa(r,s){for(Or[r]=s,r=0;r<s.length;r++)Ei.add(s[r])}var rn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cc={},Dc={};function a0(r){return Fn.call(Dc,r)?!0:Fn.call(Cc,r)?!1:rn.test(r)?Dc[r]=!0:(Cc[r]=!0,!1)}function dd(r,s,u){if(a0(s))if(u===null)r.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var m=s.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+u)}}function al(r,s,u){if(u===null)r.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+u)}}function Ea(r,s,u,m){if(m===null)r.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(s,u,""+m)}}function Nr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function dm(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function mf(r,s,u){var m=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var C=m.get,R=m.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return C.call(this)},set:function(U){u=""+U,R.call(this,U)}}),Object.defineProperty(r,s,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(U){u=""+U},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function hd(r){if(!r._valueTracker){var s=dm(r)?"checked":"value";r._valueTracker=mf(r,s,""+r[s])}}function Ai(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),m="";return r&&(m=dm(r)?r.checked?"true":"false":r.value),r=m,r!==u?(s.setValue(r),!0):!1}function Tc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var s0=/[\n"\\]/g;function Lr(r){return r.replace(s0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function yf(r,s,u,m,C,R,U,Z){r.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.type=U:r.removeAttribute("type"),s!=null?U==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Nr(s)):r.value!==""+Nr(s)&&(r.value=""+Nr(s)):U!=="submit"&&U!=="reset"||r.removeAttribute("value"),s!=null?fd(r,U,Nr(s)):u!=null?fd(r,U,Nr(u)):m!=null&&r.removeAttribute("value"),C==null&&R!=null&&(r.defaultChecked=!!R),C!=null&&(r.checked=C&&typeof C!="function"&&typeof C!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?r.name=""+Nr(Z):r.removeAttribute("name")}function hm(r,s,u,m,C,R,U,Z){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.type=R),s!=null||u!=null){if(!(R!=="submit"&&R!=="reset"||s!=null)){hd(r);return}u=u!=null?""+Nr(u):"",s=s!=null?""+Nr(s):u,Z||s===r.value||(r.value=s),r.defaultValue=s}m=m??C,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=Z?r.checked:!!m,r.defaultChecked=!!m,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(r.name=U),hd(r)}function fd(r,s,u){s==="number"&&Tc(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function sl(r,s,u,m){if(r=r.options,s){s={};for(var C=0;C<u.length;C++)s["$"+u[C]]=!0;for(u=0;u<r.length;u++)C=s.hasOwnProperty("$"+r[u].value),r[u].selected!==C&&(r[u].selected=C),C&&m&&(r[u].defaultSelected=!0)}else{for(u=""+Nr(u),s=null,C=0;C<r.length;C++){if(r[C].value===u){r[C].selected=!0,m&&(r[C].defaultSelected=!0);return}s!==null||r[C].disabled||(s=r[C])}s!==null&&(s.selected=!0)}}function vf(r,s,u){if(s!=null&&(s=""+Nr(s),s!==r.value&&(r.value=s),u==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=u!=null?""+Nr(u):""}function bf(r,s,u,m){if(s==null){if(m!=null){if(u!=null)throw Error(a(92));if($e(m)){if(1<m.length)throw Error(a(93));m=m[0]}u=m}u==null&&(u=""),s=u}u=Nr(s),r.defaultValue=u,m=r.textContent,m===u&&m!==""&&m!==null&&(r.value=m),hd(r)}function ol(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var xf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(r,s,u){var m=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":m?r.setProperty(s,u):typeof u!="number"||u===0||xf.has(s)?s==="float"?r.cssFloat=u:r[s]=(""+u).trim():r[s]=u+"px"}function fm(r,s,u){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||s!=null&&s.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var C in s)m=s[C],s.hasOwnProperty(C)&&u[C]!==m&&Mc(r,C,m)}else for(var R in s)s.hasOwnProperty(R)&&Mc(r,R,s[R])}function Tn(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pd(r){return gm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ua(){}var wf=null;function Sf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var uo=null,ll=null;function mm(r){var s=it(r);if(s&&(r=s.stateNode)){var u=r[jn]||null;e:switch(r=s.stateNode,s.type){case"input":if(yf(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Lr(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var m=u[s];if(m!==r&&m.form===r.form){var C=m[jn]||null;if(!C)throw Error(a(90));yf(m,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(s=0;s<u.length;s++)m=u[s],m.form===r.form&&Ai(m)}break e;case"textarea":vf(r,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&sl(r,!!u.multiple,s,!1)}}}var Ef=!1;function ym(r,s,u){if(Ef)return r(s,u);Ef=!0;try{var m=r(s);return m}finally{if(Ef=!1,(uo!==null||ll!==null)&&(uh(),uo&&(s=uo,r=ll,ll=uo=null,mm(s),r)))for(s=0;s<r.length;s++)mm(r[s])}}function As(r,s){var u=r.stateNode;if(u===null)return null;var m=u[jn]||null;if(m===null)return null;u=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(a(231,s,typeof u));return u}var Aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cl=!1;if(Aa)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){cl=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{cl=!1}var $n=null,Ga=null,gd=null;function vm(){if(gd)return gd;var r,s=Ga,u=s.length,m,C="value"in $n?$n.value:$n.textContent,R=C.length;for(r=0;r<u&&s[r]===C[r];r++);var U=u-r;for(m=1;m<=U&&s[u-m]===C[R-m];m++);return gd=C.slice(r,1<m?1-m:void 0)}function md(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function dl(){return!0}function hl(){return!1}function er(r){function s(u,m,C,R,U){this._reactName=u,this._targetInst=C,this.type=m,this.nativeEvent=R,this.target=U,this.currentTarget=null;for(var Z in r)r.hasOwnProperty(Z)&&(u=r[Z],this[Z]=u?u(R):R[Z]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?dl:hl,this.isPropagationStopped=hl,this}return O(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),s}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=er(ho),fl=O({},ho,{view:0,detail:0}),pl=er(fl),Af,gl,Rc,yd=O({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Rc&&(Rc&&r.type==="mousemove"?(Af=r.screenX-Rc.screenX,gl=r.screenY-Rc.screenY):gl=Af=0,Rc=r),Af)},movementY:function(r){return"movementY"in r?r.movementY:gl}}),bm=er(yd),Cf=O({},yd,{dataTransfer:0}),o0=er(Cf),vd=O({},fl,{relatedTarget:0}),bd=er(vd),Ca=O({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),l0=er(Ca),kc=O({},ho,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Df=er(kc),Tf=O({},ho,{data:0}),Mf=er(Tf),xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wm(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=u0[r])?!!s[r]:!1}function Oc(){return wm}var ml=O({},fl,{key:function(r){if(r.key){var s=xm[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=md(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?c0[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(r){return r.type==="keypress"?md(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?md(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),fo=er(ml),xd=O({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sm=er(xd),d0=O({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),h0=er(d0),Em=O({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),bi=er(Em),Ir=O({},yd,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Am=er(Ir),f0=O({},ho,{newState:0,oldState:0}),Cm=er(f0),Nc=[9,13,27,32],_f=Aa&&"CompositionEvent"in window,Cs=null;Aa&&"documentMode"in document&&(Cs=document.documentMode);var Dm=Aa&&"TextEvent"in window&&!Cs,Ds=Aa&&(!_f||Cs&&8<Cs&&11>=Cs),Rf=" ",Tm=!1;function yl(r,s){switch(r){case"keyup":return Nc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var po=!1;function Of(r,s){switch(r){case"compositionend":return kf(s);case"keypress":return s.which!==32?null:(Tm=!0,Rf);case"textInput":return r=s.data,r===Rf&&Tm?null:r;default:return null}}function Nf(r,s){if(po)return r==="compositionend"||!_f&&yl(r,s)?(r=vm(),gd=Ga=$n=null,po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ds&&s.locale!=="ko"?null:s.data;default:return null}}var Lf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Lf[r.type]:s==="textarea"}function If(r,s,u,m){uo?ll?ll.push(m):ll=[m]:uo=m,s=Sh(s,"onChange"),0<s.length&&(u=new _c("onChange","change",null,u,m),r.push({event:u,listeners:s}))}var go=null,Lc=null;function p0(r){xh(r,0)}function wd(r){var s=ln(r);if(Ai(s))return r}function _m(r,s){if(r==="change")return s}var Rm=!1;if(Aa){var Ic;if(Aa){var Pf="oninput"in document;if(!Pf){var km=document.createElement("div");km.setAttribute("oninput","return;"),Pf=typeof km.oninput=="function"}Ic=Pf}else Ic=!1;Rm=Ic&&(!document.documentMode||9<document.documentMode)}function Om(){go&&(go.detachEvent("onpropertychange",jf),Lc=go=null)}function jf(r){if(r.propertyName==="value"&&wd(Lc)){var s=[];If(s,Lc,r,Sf(r)),ym(p0,s)}}function vl(r,s,u){r==="focusin"?(Om(),go=s,Lc=u,go.attachEvent("onpropertychange",jf)):r==="focusout"&&Om()}function Nm(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wd(Lc)}function Lm(r,s){if(r==="click")return wd(s)}function g0(r,s){if(r==="input"||r==="change")return wd(s)}function m0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var pr=typeof Object.is=="function"?Object.is:m0;function mo(r,s){if(pr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),m=Object.keys(s);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var C=u[m];if(!Fn.call(s,C)||!pr(r[C],s[C]))return!1}return!0}function Sd(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Pc(r,s){var u=Sd(r);r=0;for(var m;u;){if(u.nodeType===3){if(m=r+u.textContent.length,r<=s&&m>=s)return{node:u,offset:s-r};r=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Sd(u)}}function jc(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?jc(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Im(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Tc(r.document);s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=Tc(r.document)}return s}function Ed(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Ad=Aa&&"documentMode"in document&&11>=document.documentMode,Pr=null,zf=null,na=null,Bf=!1;function Ts(r,s,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bf||Pr==null||Pr!==Tc(m)||(m=Pr,"selectionStart"in m&&Ed(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),na&&mo(na,m)||(na=m,m=Sh(zf,"onSelect"),0<m.length&&(s=new _c("onSelect","select",null,s,u),r.push({event:s,listeners:m}),s.target=Pr)))}function ia(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var bl={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},zc={},Cd={};Aa&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function yo(r){if(zc[r])return zc[r];if(!bl[r])return r;var s=bl[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in Cd)return zc[r]=s[u];return r}var Pm=yo("animationend"),jm=yo("animationiteration"),xl=yo("animationstart"),y0=yo("transitionrun"),v0=yo("transitionstart"),b0=yo("transitioncancel"),Va=yo("transitionend"),zm=new Map,Dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dd.push("scrollEnd");function ra(r,s){zm.set(r,s),zi(s,[r])}var Td=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Yi=[],wl=0,Ff=0;function Bc(){for(var r=wl,s=Ff=wl=0;s<r;){var u=Yi[s];Yi[s++]=null;var m=Yi[s];Yi[s++]=null;var C=Yi[s];Yi[s++]=null;var R=Yi[s];if(Yi[s++]=null,m!==null&&C!==null){var U=m.pending;U===null?C.next=C:(C.next=U.next,U.next=C),m.pending=C}R!==0&&Bm(u,C,R)}}function Md(r,s,u,m){Yi[wl++]=r,Yi[wl++]=s,Yi[wl++]=u,Yi[wl++]=m,Ff|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function Ms(r,s,u,m){return Md(r,s,u,m),_d(r)}function gr(r,s){return Md(r,null,null,s),_d(r)}function Bm(r,s,u){r.lanes|=u;var m=r.alternate;m!==null&&(m.lanes|=u);for(var C=!1,R=r.return;R!==null;)R.childLanes|=u,m=R.alternate,m!==null&&(m.childLanes|=u),R.tag===22&&(r=R.stateNode,r===null||r._visibility&1||(C=!0)),r=R,R=R.return;return r.tag===3?(R=r.stateNode,C&&s!==null&&(C=31-kn(u),r=R.hiddenUpdates,m=r[C],m===null?r[C]=[s]:m.push(s),s.lane=u|536870912),R):null}function _d(r){if(50<vu)throw vu=0,ch=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Sl={};function x0(r,s,u,m){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(r,s,u,m){return new x0(r,s,u,m)}function El(r){return r=r.prototype,!(!r||!r.isReactComponent)}function aa(r,s){var u=r.alternate;return u===null?(u=mr(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Fm(r,s){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,s=u.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function vo(r,s,u,m,C,R){var U=0;if(m=r,typeof r=="function")El(r)&&(U=1);else if(typeof r=="string")U=Mh(r,u,Be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case pe:return r=mr(31,u,s,C),r.elementType=pe,r.lanes=R,r;case B:return Wa(u.children,C,R,s);case F:U=8,C|=24;break;case W:return r=mr(12,u,s,C|2),r.elementType=W,r.lanes=R,r;case re:return r=mr(13,u,s,C),r.elementType=re,r.lanes=R,r;case ue:return r=mr(19,u,s,C),r.elementType=ue,r.lanes=R,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:U=10;break e;case Y:U=9;break e;case K:U=11;break e;case X:U=14;break e;case ie:U=16,m=null;break e}U=29,u=Error(a(130,r===null?"null":typeof r,"")),m=null}return s=mr(U,u,s,C),s.elementType=r,s.type=m,s.lanes=R,s}function Wa(r,s,u,m){return r=mr(7,r,m,s),r.lanes=u,r}function Hf(r,s,u){return r=mr(6,r,null,s),r.lanes=u,r}function Uf(r){var s=mr(18,null,null,0);return s.stateNode=r,s}function bo(r,s,u){return s=mr(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Hm=new WeakMap;function $i(r,s){if(typeof r=="object"&&r!==null){var u=Hm.get(r);return u!==void 0?u:(s={value:r,source:s,stack:Bn(s)},Hm.set(r,s),s)}return{value:r,source:s,stack:Bn(s)}}var Al=[],Cl=0,yr=null,Da=0,jr=[],vr=0,_s=null,zr=1,Ta="";function Ya(r,s){Al[Cl++]=Da,Al[Cl++]=yr,yr=r,Da=s}function Gf(r,s,u){jr[vr++]=zr,jr[vr++]=Ta,jr[vr++]=_s,_s=r;var m=zr;r=Ta;var C=32-kn(m)-1;m&=~(1<<C),u+=1;var R=32-kn(s)+C;if(30<R){var U=C-C%5;R=(m&(1<<U)-1).toString(32),m>>=U,C-=U,zr=1<<32-kn(s)+C|u<<C|m,Ta=R+r}else zr=1<<R|u<<C|m,Ta=r}function Vf(r){r.return!==null&&(Ya(r,1),Gf(r,1,0))}function Dl(r){for(;r===yr;)yr=Al[--Cl],Al[Cl]=null,Da=Al[--Cl],Al[Cl]=null;for(;r===_s;)_s=jr[--vr],jr[vr]=null,Ta=jr[--vr],jr[vr]=null,zr=jr[--vr],jr[vr]=null}function tr(r,s){jr[vr++]=zr,jr[vr++]=Ta,jr[vr++]=_s,zr=s.id,Ta=s.overflow,_s=r}var Dt=null,Nn=null,Yt=!1,Ma=null,qi=!1,Mn=Error(a(519));function $a(r){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fc($i(s,r)),Mn}function Um(r){var s=r.stateNode,u=r.type,m=r.memoizedProps;switch(s[li]=r,s[jn]=m,u){case"dialog":Ut("cancel",s),Ut("close",s);break;case"iframe":case"object":case"embed":Ut("load",s);break;case"video":case"audio":for(u=0;u<Kl.length;u++)Ut(Kl[u],s);break;case"source":Ut("error",s);break;case"img":case"image":case"link":Ut("error",s),Ut("load",s);break;case"details":Ut("toggle",s);break;case"input":Ut("invalid",s),hm(s,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ut("invalid",s);break;case"textarea":Ut("invalid",s),bf(s,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||m.suppressHydrationWarning===!0||Zy(s.textContent,u)?(m.popover!=null&&(Ut("beforetoggle",s),Ut("toggle",s)),m.onScroll!=null&&Ut("scroll",s),m.onScrollEnd!=null&&Ut("scrollend",s),m.onClick!=null&&(s.onclick=Ua),s=!0):s=!1,s||$a(r,!0)}function Wf(r){for(Dt=r.return;Dt;)switch(Dt.tag){case 5:case 31:case 13:qi=!1;return;case 27:case 3:qi=!0;return;default:Dt=Dt.return}}function lt(r){if(r!==Dt)return!1;if(!Yt)return Wf(r),Yt=!0,!1;var s=r.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||ng(r.type,r.memoizedProps)),u=!u),u&&Nn&&$a(r),Wf(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Nn=cg(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Nn=cg(r)}else s===27?(s=Nn,$s(r.type)?(r=Tu,Tu=null,Nn=r):Nn=s):Nn=Dt?Cr(r.stateNode.nextSibling):null;return!0}function Rs(){Nn=Dt=null,Yt=!1}function Tl(){var r=Ma;return r!==null&&(or===null?or=r:or.push.apply(or,r),Ma=null),r}function Fc(r){Ma===null?Ma=[r]:Ma.push(r)}var Ml=Re(null),wt=null,Br=null;function ks(r,s,u){Ae(Ml,s._currentValue),s._currentValue=u}function qa(r){r._currentValue=Ml.current,ge(Ml)}function Yf(r,s,u){for(;r!==null;){var m=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),r===u)break;r=r.return}}function Rd(r,s,u,m){var C=r.child;for(C!==null&&(C.return=r);C!==null;){var R=C.dependencies;if(R!==null){var U=C.child;R=R.firstContext;e:for(;R!==null;){var Z=R;R=C;for(var ae=0;ae<s.length;ae++)if(Z.context===s[ae]){R.lanes|=u,Z=R.alternate,Z!==null&&(Z.lanes|=u),Yf(R.return,u,r),m||(U=null);break e}R=Z.next}}else if(C.tag===18){if(U=C.return,U===null)throw Error(a(341));U.lanes|=u,R=U.alternate,R!==null&&(R.lanes|=u),Yf(U,u,r),U=null}else U=C.child;if(U!==null)U.return=C;else for(U=C;U!==null;){if(U===r){U=null;break}if(C=U.sibling,C!==null){C.return=U.return,U=C;break}U=U.return}C=U}}function nr(r,s,u,m){r=null;for(var C=s,R=!1;C!==null;){if(!R){if((C.flags&524288)!==0)R=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var U=C.alternate;if(U===null)throw Error(a(387));if(U=U.memoizedProps,U!==null){var Z=C.type;pr(C.pendingProps.value,U.value)||(r!==null?r.push(Z):r=[Z])}}else if(C===Ze.current){if(U=C.alternate,U===null)throw Error(a(387));U.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(r!==null?r.push(ha):r=[ha])}C=C.return}r!==null&&Rd(s,r,u,m),s.flags|=262144}function kd(r){for(r=r.firstContext;r!==null;){if(!pr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function xo(r){wt=r,Br=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Oi(r){return $f(wt,r)}function wo(r,s){return wt===null&&xo(r),$f(r,s)}function $f(r,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Br===null){if(r===null)throw Error(a(308));Br=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Br=Br.next=s;return u}var Gm=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(u,m){r.push(m)}};this.abort=function(){s.aborted=!0,r.forEach(function(u){return u()})}},w0=e.unstable_scheduleCallback,S0=e.unstable_NormalPriority,ci={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new Gm,data:new Map,refCount:0}}function Hc(r){r.refCount--,r.refCount===0&&w0(S0,function(){r.controller.abort()})}var _l=null,Xf=0,Rl=0,So=null;function Vm(r,s){if(_l===null){var u=_l=[];Xf=0,Rl=vh(),So={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Xf++,s.then(sa,sa),s}function sa(){if(--Xf===0&&_l!==null){So!==null&&(So.status="fulfilled");var r=_l;_l=null,Rl=0,So=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function E0(r,s){var u=[],m={status:"pending",value:null,reason:null,then:function(C){u.push(C)}};return r.then(function(){m.status="fulfilled",m.value=s;for(var C=0;C<u.length;C++)(0,u[C])(s)},function(C){for(m.status="rejected",m.reason=C,C=0;C<u.length;C++)(0,u[C])(void 0)}),m}var Wm=oe.S;oe.S=function(r,s){Dy=nt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Vm(r,s),Wm!==null&&Wm(r,s)};var Eo=Re(null);function Od(){var r=Eo.current;return r!==null?r:gn.pooledCache}function Nd(r,s){s===null?Ae(Eo,Eo.current):Ae(Eo,s.pool)}function Ym(){var r=Od();return r===null?null:{parent:ci._currentValue,pool:r}}var Xa=Error(a(460)),Zf=Error(a(474)),Uc=Error(a(542)),Ld={then:function(){}};function $m(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Qf(r,s,u){switch(u=r[u],u===void 0?r.push(s):u!==s&&(s.then(Ua,Ua),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Do(r),r;default:if(typeof s.status=="string")s.then(Ua,Ua);else{if(r=gn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(m){if(s.status==="pending"){var C=s;C.status="fulfilled",C.value=m}},function(m){if(s.status==="pending"){var C=s;C.status="rejected",C.reason=m}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Do(r),r}throw Co=s,Xa}}function Ao(r){try{var s=r._init;return s(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Co=u,Xa):u}}var Co=null;function Kf(){if(Co===null)throw Error(a(459));var r=Co;return Co=null,r}function Do(r){if(r===Xa||r===Uc)throw Error(a(483))}var To=null,Os=0;function Id(r){var s=Os;return Os+=1,To===null&&(To=[]),Qf(To,r,s)}function Gc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function kl(r,s){throw s.$$typeof===L?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Jf(r){function s(ve,fe){if(r){var xe=ve.deletions;xe===null?(ve.deletions=[fe],ve.flags|=16):xe.push(fe)}}function u(ve,fe){if(!r)return null;for(;fe!==null;)s(ve,fe),fe=fe.sibling;return null}function m(ve){for(var fe=new Map;ve!==null;)ve.key!==null?fe.set(ve.key,ve):fe.set(ve.index,ve),ve=ve.sibling;return fe}function C(ve,fe){return ve=aa(ve,fe),ve.index=0,ve.sibling=null,ve}function R(ve,fe,xe){return ve.index=xe,r?(xe=ve.alternate,xe!==null?(xe=xe.index,xe<fe?(ve.flags|=67108866,fe):xe):(ve.flags|=67108866,fe)):(ve.flags|=1048576,fe)}function U(ve){return r&&ve.alternate===null&&(ve.flags|=67108866),ve}function Z(ve,fe,xe,Oe){return fe===null||fe.tag!==6?(fe=Hf(xe,ve.mode,Oe),fe.return=ve,fe):(fe=C(fe,xe),fe.return=ve,fe)}function ae(ve,fe,xe,Oe){var ht=xe.type;return ht===B?Le(ve,fe,xe.props.children,Oe,xe.key):fe!==null&&(fe.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ie&&Ao(ht)===fe.type)?(fe=C(fe,xe.props),Gc(fe,xe),fe.return=ve,fe):(fe=vo(xe.type,xe.key,xe.props,null,ve.mode,Oe),Gc(fe,xe),fe.return=ve,fe)}function Ce(ve,fe,xe,Oe){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==xe.containerInfo||fe.stateNode.implementation!==xe.implementation?(fe=bo(xe,ve.mode,Oe),fe.return=ve,fe):(fe=C(fe,xe.children||[]),fe.return=ve,fe)}function Le(ve,fe,xe,Oe,ht){return fe===null||fe.tag!==7?(fe=Wa(xe,ve.mode,Oe,ht),fe.return=ve,fe):(fe=C(fe,xe),fe.return=ve,fe)}function Pe(ve,fe,xe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Hf(""+fe,ve.mode,xe),fe.return=ve,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case P:return xe=vo(fe.type,fe.key,fe.props,null,ve.mode,xe),Gc(xe,fe),xe.return=ve,xe;case H:return fe=bo(fe,ve.mode,xe),fe.return=ve,fe;case ie:return fe=Ao(fe),Pe(ve,fe,xe)}if($e(fe)||ye(fe))return fe=Wa(fe,ve.mode,xe,null),fe.return=ve,fe;if(typeof fe.then=="function")return Pe(ve,Id(fe),xe);if(fe.$$typeof===$)return Pe(ve,wo(ve,fe),xe);kl(ve,fe)}return null}function Se(ve,fe,xe,Oe){var ht=fe!==null?fe.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return ht!==null?null:Z(ve,fe,""+xe,Oe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case P:return xe.key===ht?ae(ve,fe,xe,Oe):null;case H:return xe.key===ht?Ce(ve,fe,xe,Oe):null;case ie:return xe=Ao(xe),Se(ve,fe,xe,Oe)}if($e(xe)||ye(xe))return ht!==null?null:Le(ve,fe,xe,Oe,null);if(typeof xe.then=="function")return Se(ve,fe,Id(xe),Oe);if(xe.$$typeof===$)return Se(ve,fe,wo(ve,xe),Oe);kl(ve,xe)}return null}function Te(ve,fe,xe,Oe,ht){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ve=ve.get(xe)||null,Z(fe,ve,""+Oe,ht);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case P:return ve=ve.get(Oe.key===null?xe:Oe.key)||null,ae(fe,ve,Oe,ht);case H:return ve=ve.get(Oe.key===null?xe:Oe.key)||null,Ce(fe,ve,Oe,ht);case ie:return Oe=Ao(Oe),Te(ve,fe,xe,Oe,ht)}if($e(Oe)||ye(Oe))return ve=ve.get(xe)||null,Le(fe,ve,Oe,ht,null);if(typeof Oe.then=="function")return Te(ve,fe,xe,Id(Oe),ht);if(Oe.$$typeof===$)return Te(ve,fe,xe,wo(fe,Oe),ht);kl(fe,Oe)}return null}function et(ve,fe,xe,Oe){for(var ht=null,It=null,ot=fe,yt=fe=0,Xt=null;ot!==null&&yt<xe.length;yt++){ot.index>yt?(Xt=ot,ot=null):Xt=ot.sibling;var sn=Se(ve,ot,xe[yt],Oe);if(sn===null){ot===null&&(ot=Xt);break}r&&ot&&sn.alternate===null&&s(ve,ot),fe=R(sn,fe,yt),It===null?ht=sn:It.sibling=sn,It=sn,ot=Xt}if(yt===xe.length)return u(ve,ot),Yt&&Ya(ve,yt),ht;if(ot===null){for(;yt<xe.length;yt++)ot=Pe(ve,xe[yt],Oe),ot!==null&&(fe=R(ot,fe,yt),It===null?ht=ot:It.sibling=ot,It=ot);return Yt&&Ya(ve,yt),ht}for(ot=m(ot);yt<xe.length;yt++)Xt=Te(ot,ve,yt,xe[yt],Oe),Xt!==null&&(r&&Xt.alternate!==null&&ot.delete(Xt.key===null?yt:Xt.key),fe=R(Xt,fe,yt),It===null?ht=Xt:It.sibling=Xt,It=Xt);return r&&ot.forEach(function(qr){return s(ve,qr)}),Yt&&Ya(ve,yt),ht}function ct(ve,fe,xe,Oe){if(xe==null)throw Error(a(151));for(var ht=null,It=null,ot=fe,yt=fe=0,Xt=null,sn=xe.next();ot!==null&&!sn.done;yt++,sn=xe.next()){ot.index>yt?(Xt=ot,ot=null):Xt=ot.sibling;var qr=Se(ve,ot,sn.value,Oe);if(qr===null){ot===null&&(ot=Xt);break}r&&ot&&qr.alternate===null&&s(ve,ot),fe=R(qr,fe,yt),It===null?ht=qr:It.sibling=qr,It=qr,ot=Xt}if(sn.done)return u(ve,ot),Yt&&Ya(ve,yt),ht;if(ot===null){for(;!sn.done;yt++,sn=xe.next())sn=Pe(ve,sn.value,Oe),sn!==null&&(fe=R(sn,fe,yt),It===null?ht=sn:It.sibling=sn,It=sn);return Yt&&Ya(ve,yt),ht}for(ot=m(ot);!sn.done;yt++,sn=xe.next())sn=Te(ot,ve,yt,sn.value,Oe),sn!==null&&(r&&sn.alternate!==null&&ot.delete(sn.key===null?yt:sn.key),fe=R(sn,fe,yt),It===null?ht=sn:It.sibling=sn,It=sn);return r&&ot.forEach(function(ox){return s(ve,ox)}),Yt&&Ya(ve,yt),ht}function An(ve,fe,xe,Oe){if(typeof xe=="object"&&xe!==null&&xe.type===B&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case P:e:{for(var ht=xe.key;fe!==null;){if(fe.key===ht){if(ht=xe.type,ht===B){if(fe.tag===7){u(ve,fe.sibling),Oe=C(fe,xe.props.children),Oe.return=ve,ve=Oe;break e}}else if(fe.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ie&&Ao(ht)===fe.type){u(ve,fe.sibling),Oe=C(fe,xe.props),Gc(Oe,xe),Oe.return=ve,ve=Oe;break e}u(ve,fe);break}else s(ve,fe);fe=fe.sibling}xe.type===B?(Oe=Wa(xe.props.children,ve.mode,Oe,xe.key),Oe.return=ve,ve=Oe):(Oe=vo(xe.type,xe.key,xe.props,null,ve.mode,Oe),Gc(Oe,xe),Oe.return=ve,ve=Oe)}return U(ve);case H:e:{for(ht=xe.key;fe!==null;){if(fe.key===ht)if(fe.tag===4&&fe.stateNode.containerInfo===xe.containerInfo&&fe.stateNode.implementation===xe.implementation){u(ve,fe.sibling),Oe=C(fe,xe.children||[]),Oe.return=ve,ve=Oe;break e}else{u(ve,fe);break}else s(ve,fe);fe=fe.sibling}Oe=bo(xe,ve.mode,Oe),Oe.return=ve,ve=Oe}return U(ve);case ie:return xe=Ao(xe),An(ve,fe,xe,Oe)}if($e(xe))return et(ve,fe,xe,Oe);if(ye(xe)){if(ht=ye(xe),typeof ht!="function")throw Error(a(150));return xe=ht.call(xe),ct(ve,fe,xe,Oe)}if(typeof xe.then=="function")return An(ve,fe,Id(xe),Oe);if(xe.$$typeof===$)return An(ve,fe,wo(ve,xe),Oe);kl(ve,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,fe!==null&&fe.tag===6?(u(ve,fe.sibling),Oe=C(fe,xe),Oe.return=ve,ve=Oe):(u(ve,fe),Oe=Hf(xe,ve.mode,Oe),Oe.return=ve,ve=Oe),U(ve)):u(ve,fe)}return function(ve,fe,xe,Oe){try{Os=0;var ht=An(ve,fe,xe,Oe);return To=null,ht}catch(ot){if(ot===Xa||ot===Uc)throw ot;var It=mr(29,ot,null,ve.mode);return It.lanes=Oe,It.return=ve,It}}}var Mo=Jf(!0),qm=Jf(!1),Ns=!1;function Vc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ep(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function br(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ls(r,s,u){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(un&2)!==0){var C=m.pending;return C===null?s.next=s:(s.next=C.next,C.next=s),m.pending=s,s=_d(r),Bm(r,null,u),s}return Md(r,m,s,u),_d(r)}function _o(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var m=s.lanes;m&=r.pendingLanes,u|=m,s.lanes=u,vi(r,u)}}function tp(r,s){var u=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var C=null,R=null;if(u=u.firstBaseUpdate,u!==null){do{var U={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};R===null?C=R=U:R=R.next=U,u=u.next}while(u!==null);R===null?C=R=s:R=R.next=s}else C=R=s;u={baseState:m.baseState,firstBaseUpdate:C,lastBaseUpdate:R,shared:m.shared,callbacks:m.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}var Wc=!1;function Ol(){if(Wc){var r=So;if(r!==null)throw r}}function Yc(r,s,u,m){Wc=!1;var C=r.updateQueue;Ns=!1;var R=C.firstBaseUpdate,U=C.lastBaseUpdate,Z=C.shared.pending;if(Z!==null){C.shared.pending=null;var ae=Z,Ce=ae.next;ae.next=null,U===null?R=Ce:U.next=Ce,U=ae;var Le=r.alternate;Le!==null&&(Le=Le.updateQueue,Z=Le.lastBaseUpdate,Z!==U&&(Z===null?Le.firstBaseUpdate=Ce:Z.next=Ce,Le.lastBaseUpdate=ae))}if(R!==null){var Pe=C.baseState;U=0,Le=Ce=ae=null,Z=R;do{var Se=Z.lane&-536870913,Te=Se!==Z.lane;if(Te?(qt&Se)===Se:(m&Se)===Se){Se!==0&&Se===Rl&&(Wc=!0),Le!==null&&(Le=Le.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var et=r,ct=Z;Se=s;var An=u;switch(ct.tag){case 1:if(et=ct.payload,typeof et=="function"){Pe=et.call(An,Pe,Se);break e}Pe=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=ct.payload,Se=typeof et=="function"?et.call(An,Pe,Se):et,Se==null)break e;Pe=O({},Pe,Se);break e;case 2:Ns=!0}}Se=Z.callback,Se!==null&&(r.flags|=64,Te&&(r.flags|=8192),Te=C.callbacks,Te===null?C.callbacks=[Se]:Te.push(Se))}else Te={lane:Se,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Le===null?(Ce=Le=Te,ae=Pe):Le=Le.next=Te,U|=Se;if(Z=Z.next,Z===null){if(Z=C.shared.pending,Z===null)break;Te=Z,Z=Te.next,Te.next=null,C.lastBaseUpdate=Te,C.shared.pending=null}}while(!0);Le===null&&(ae=Pe),C.baseState=ae,C.firstBaseUpdate=Ce,C.lastBaseUpdate=Le,R===null&&(C.shared.lanes=0),ns|=U,r.lanes=U,r.memoizedState=Pe}}function Xm(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function Zm(r,s){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Xm(u[r],s)}var Nl=Re(null),Pd=Re(0);function Qm(r,s){r=Wr,Ae(Pd,r),Ae(Nl,s),Wr=r|s.baseLanes}function Ll(){Ae(Pd,Wr),Ae(Nl,Nl.current)}function $c(){Wr=Pd.current,ge(Nl),ge(Pd)}var xr=Re(null),Fr=null;function Is(r){var s=r.alternate;Ae(ri,ri.current&1),Ae(xr,r),Fr===null&&(s===null||Nl.current!==null||s.memoizedState!==null)&&(Fr=r)}function _a(r){Ae(ri,ri.current),Ae(xr,r),Fr===null&&(Fr=r)}function qc(r){r.tag===22?(Ae(ri,ri.current),Ae(xr,r),Fr===null&&(Fr=r)):Za()}function Za(){Ae(ri,ri.current),Ae(xr,xr.current)}function ui(r){ge(xr),Fr===r&&(Fr=null),ge(ri)}var ri=Re(0);function Xc(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||og(u)||lg(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Qa=0,St=null,$t=null,di=null,Il=!1,Pl=!1,Ro=!1,Xi=0,Zc=0,Ps=null,np=0;function Gn(){throw Error(a(321))}function Ra(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!pr(r[u],s[u]))return!1;return!0}function jl(r,s,u,m,C,R){return Qa=R,St=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,oe.H=r===null||r.memoizedState===null?ly:su,Ro=!1,R=u(m,C),Ro=!1,Pl&&(R=Km(s,u,m,C)),Qc(r),R}function Qc(r){oe.H=au;var s=$t!==null&&$t.next!==null;if(Qa=0,di=$t=St=null,Il=!1,Zc=0,Ps=null,s)throw Error(a(300));r===null||fi||(r=r.dependencies,r!==null&&kd(r)&&(fi=!0))}function Km(r,s,u,m){St=r;var C=0;do{if(Pl&&(Ps=null),Zc=0,Pl=!1,25<=C)throw Error(a(301));if(C+=1,di=$t=null,r.updateQueue!=null){var R=r.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}oe.H=cy,R=s(u,m)}while(Pl);return R}function A0(){var r=oe.H,s=r.useState()[0];return s=typeof s.then=="function"?zl(s):s,r=r.useState()[0],($t!==null?$t.memoizedState:null)!==r&&(St.flags|=1024),s}function Hr(){var r=Xi!==0;return Xi=0,r}function ip(r,s,u){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~u}function jd(r){if(Il){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Il=!1}Qa=0,di=$t=St=null,Pl=!1,Zc=Xi=0,Ps=null}function an(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return di===null?St.memoizedState=di=r:di=di.next=r,di}function qn(){if($t===null){var r=St.alternate;r=r!==null?r.memoizedState:null}else r=$t.next;var s=di===null?St.memoizedState:di.next;if(s!==null)di=s,$t=r;else{if(r===null)throw St.alternate===null?Error(a(467)):Error(a(310));$t=r,r={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},di===null?St.memoizedState=di=r:di=di.next=r}return di}function zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(r){var s=Zc;return Zc+=1,Ps===null&&(Ps=[]),r=Qf(Ps,r,s),s=St,(di===null?s.memoizedState:di.next)===null&&(s=s.alternate,oe.H=s===null||s.memoizedState===null?ly:su),r}function Bl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return zl(r);if(r.$$typeof===$)return Oi(r)}throw Error(a(438,String(r)))}function ko(r){var s=null,u=St.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var m=St.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(s={data:m.data.map(function(C){return C.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=zd(),St.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(r),m=0;m<r;m++)u[m]=be;return s.index++,u}function wr(r,s){return typeof s=="function"?s(r):s}function Ka(r){var s=qn();return rp(s,$t,r)}function rp(r,s,u){var m=r.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=u;var C=r.baseQueue,R=m.pending;if(R!==null){if(C!==null){var U=C.next;C.next=R.next,R.next=U}s.baseQueue=C=R,m.pending=null}if(R=r.baseState,C===null)r.memoizedState=R;else{s=C.next;var Z=U=null,ae=null,Ce=s,Le=!1;do{var Pe=Ce.lane&-536870913;if(Pe!==Ce.lane?(qt&Pe)===Pe:(Qa&Pe)===Pe){var Se=Ce.revertLane;if(Se===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),Pe===Rl&&(Le=!0);else if((Qa&Se)===Se){Ce=Ce.next,Se===Rl&&(Le=!0);continue}else Pe={lane:0,revertLane:Ce.revertLane,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},ae===null?(Z=ae=Pe,U=R):ae=ae.next=Pe,St.lanes|=Se,ns|=Se;Pe=Ce.action,Ro&&u(R,Pe),R=Ce.hasEagerState?Ce.eagerState:u(R,Pe)}else Se={lane:Pe,revertLane:Ce.revertLane,gesture:Ce.gesture,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},ae===null?(Z=ae=Se,U=R):ae=ae.next=Se,St.lanes|=Pe,ns|=Pe;Ce=Ce.next}while(Ce!==null&&Ce!==s);if(ae===null?U=R:ae.next=Z,!pr(R,r.memoizedState)&&(fi=!0,Le&&(u=So,u!==null)))throw u;r.memoizedState=R,r.baseState=U,r.baseQueue=ae,m.lastRenderedState=R}return C===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function ap(r){var s=qn(),u=s.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=r;var m=u.dispatch,C=u.pending,R=s.memoizedState;if(C!==null){u.pending=null;var U=C=C.next;do R=r(R,U.action),U=U.next;while(U!==C);pr(R,s.memoizedState)||(fi=!0),s.memoizedState=R,s.baseQueue===null&&(s.baseState=R),u.lastRenderedState=R}return[R,m]}function sp(r,s,u){var m=St,C=qn(),R=Yt;if(R){if(u===void 0)throw Error(a(407));u=u()}else u=s();var U=!pr(($t||C).memoizedState,u);if(U&&(C.memoizedState=u,fi=!0),C=C.queue,gp(lp.bind(null,m,C,r),[r]),C.getSnapshot!==s||U||di!==null&&di.memoizedState.tag&1){if(m.flags|=2048,No(9,{destroy:void 0},op.bind(null,m,C,u,s),null),gn===null)throw Error(a(349));R||(Qa&127)!==0||Bd(m,s,u)}return u}function Bd(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=St.updateQueue,s===null?(s=zd(),St.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function op(r,s,u,m){s.value=u,s.getSnapshot=m,cp(s)&&Jm(r)}function lp(r,s,u){return u(function(){cp(s)&&Jm(r)})}function cp(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!pr(r,u)}catch{return!0}}function Jm(r){var s=gr(r,2);s!==null&&Qi(s,r,2)}function up(r){var s=an();if(typeof r=="function"){var u=r;if(r=u(),Ro){Rn(!0);try{u()}finally{Rn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:r},s}function ey(r,s,u,m){return r.baseState=u,rp(r,$t,typeof m=="function"?m:wr)}function ka(r,s,u,m,C){if(Wd(r))throw Error(a(485));if(r=s.action,r!==null){var R={payload:C,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){R.listeners.push(U)}};oe.T!==null?u(!0):R.isTransition=!1,m(R),u=s.pending,u===null?(R.next=s.pending=R,dp(s,R)):(R.next=u.next,s.pending=u.next=R)}}function dp(r,s){var u=s.action,m=s.payload,C=r.state;if(s.isTransition){var R=oe.T,U={};oe.T=U;try{var Z=u(C,m),ae=oe.S;ae!==null&&ae(U,Z),Bt(r,s,Z)}catch(Ce){fp(r,s,Ce)}finally{R!==null&&U.types!==null&&(R.types=U.types),oe.T=R}}else try{R=u(C,m),Bt(r,s,R)}catch(Ce){fp(r,s,Ce)}}function Bt(r,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){hp(r,s,m)},function(m){return fp(r,s,m)}):hp(r,s,u)}function hp(r,s,u){s.status="fulfilled",s.value=u,Kc(s),r.state=u,s=r.pending,s!==null&&(u=s.next,u===s?r.pending=null:(u=u.next,s.next=u,dp(r,u)))}function fp(r,s,u){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do s.status="rejected",s.reason=u,Kc(s),s=s.next;while(s!==m)}r.action=null}function Kc(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function ty(r,s){return s}function ny(r,s){if(Yt){var u=gn.formState;if(u!==null){e:{var m=St;if(Yt){if(Nn){t:{for(var C=Nn,R=qi;C.nodeType!==8;){if(!R){C=null;break t}if(C=Cr(C.nextSibling),C===null){C=null;break t}}R=C.data,C=R==="F!"||R==="F"?C:null}if(C){Nn=Cr(C.nextSibling),m=C.data==="F!";break e}}$a(m)}m=!1}m&&(s=u[0])}}return u=an(),u.memoizedState=u.baseState=s,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ty,lastRenderedState:s},u.queue=m,u=xp.bind(null,St,m),m.dispatch=u,m=up(!1),R=Vd.bind(null,St,!1,m.queue),m=an(),C={state:s,dispatch:null,action:r,pending:null},m.queue=C,u=ka.bind(null,St,C,R,u),C.dispatch=u,m.memoizedState=r,[s,u,!1]}function iy(r){var s=qn();return Oo(s,$t,r)}function Oo(r,s,u){if(s=rp(r,s,ty)[0],r=Ka(wr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var m=zl(s)}catch(U){throw U===Xa?Uc:U}else m=s;s=qn();var C=s.queue,R=C.dispatch;return u!==s.memoizedState&&(St.flags|=2048,No(9,{destroy:void 0},C0.bind(null,C,u),null)),[m,R,r]}function C0(r,s){r.action=s}function Fd(r){var s=qn(),u=$t;if(u!==null)return Oo(s,u,r);qn(),s=s.memoizedState,u=qn();var m=u.queue.dispatch;return u.memoizedState=r,[s,m,!1]}function No(r,s,u,m){return r={tag:r,create:u,deps:m,inst:s,next:null},s=St.updateQueue,s===null&&(s=zd(),St.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=r.next=r:(m=u.next,u.next=r,r.next=m,s.lastEffect=r),r}function pp(){return qn().memoizedState}function Jc(r,s,u,m){var C=an();St.flags|=r,C.memoizedState=No(1|s,{destroy:void 0},u,m===void 0?null:m)}function Hd(r,s,u,m){var C=qn();m=m===void 0?null:m;var R=C.memoizedState.inst;$t!==null&&m!==null&&Ra(m,$t.memoizedState.deps)?C.memoizedState=No(s,R,u,m):(St.flags|=r,C.memoizedState=No(1|s,R,u,m))}function ai(r,s){Jc(8390656,8,r,s)}function gp(r,s){Hd(2048,8,r,s)}function D0(r){St.flags|=4;var s=St.updateQueue;if(s===null)s=zd(),St.updateQueue=s,s.events=[r];else{var u=s.events;u===null?s.events=[r]:u.push(r)}}function mp(r){var s=qn().memoizedState;return D0({ref:s,nextImpl:r}),function(){if((un&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function eu(r,s){return Hd(4,2,r,s)}function Lo(r,s){return Hd(4,4,r,s)}function ry(r,s){if(typeof s=="function"){r=r();var u=s(r);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function _n(r,s,u){u=u!=null?u.concat([r]):null,Hd(4,4,ry.bind(null,s,r),u)}function yp(){}function vp(r,s){var u=qn();s=s===void 0?null:s;var m=u.memoizedState;return s!==null&&Ra(s,m[1])?m[0]:(u.memoizedState=[r,s],r)}function bp(r,s){var u=qn();s=s===void 0?null:s;var m=u.memoizedState;if(s!==null&&Ra(s,m[1]))return m[0];if(m=r(),Ro){Rn(!0);try{r()}finally{Rn(!1)}}return u.memoizedState=[m,s],m}function Ud(r,s,u){return u===void 0||(Qa&1073741824)!==0&&(qt&261930)===0?r.memoizedState=s:(r.memoizedState=u,r=Ty(),St.lanes|=r,ns|=r,u)}function hi(r,s,u,m){return pr(u,s)?u:Nl.current!==null?(r=Ud(r,u,m),pr(r,s)||(fi=!0),r):(Qa&42)===0||(Qa&1073741824)!==0&&(qt&261930)===0?(fi=!0,r.memoizedState=u):(r=Ty(),St.lanes|=r,ns|=r,s)}function ay(r,s,u,m,C){var R=Ee.p;Ee.p=R!==0&&8>R?R:8;var U=oe.T,Z={};oe.T=Z,Vd(r,!1,s,u);try{var ae=C(),Ce=oe.S;if(Ce!==null&&Ce(Z,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var Le=E0(ae,m);iu(r,s,Le,Hi(r))}else iu(r,s,m,Hi(r))}catch(Pe){iu(r,s,{then:function(){},status:"rejected",reason:Pe},Hi())}finally{Ee.p=R,U!==null&&Z.types!==null&&(U.types=Z.types),oe.T=U}}function tu(){}function nu(r,s,u,m){if(r.tag!==5)throw Error(a(476));var C=Ln(r).queue;ay(r,C,s,Ie,u===null?tu:function(){return sy(r),u(m)})}function Ln(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:Ie},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:u},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function sy(r){var s=Ln(r);s.next===null&&(s=r.alternate.memoizedState),iu(r,s.next.queue,{},Hi())}function Gd(){return Oi(ha)}function Ur(){return qn().memoizedState}function Bi(){return qn().memoizedState}function T0(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var u=Hi();r=br(u);var m=Ls(s,r,u);m!==null&&(Qi(m,s,u),_o(m,s,u)),s={cache:qf()},r.payload=s;return}s=s.return}}function M0(r,s,u){var m=Hi();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Wd(r)?oy(s,u):(u=Ms(r,s,u,m),u!==null&&(Qi(u,r,m),ru(u,s,m)))}function xp(r,s,u){var m=Hi();iu(r,s,u,m)}function iu(r,s,u,m){var C={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Wd(r))oy(s,C);else{var R=r.alternate;if(r.lanes===0&&(R===null||R.lanes===0)&&(R=s.lastRenderedReducer,R!==null))try{var U=s.lastRenderedState,Z=R(U,u);if(C.hasEagerState=!0,C.eagerState=Z,pr(Z,U))return Md(r,s,C,0),gn===null&&Bc(),!1}catch{}if(u=Ms(r,s,C,m),u!==null)return Qi(u,r,m),ru(u,s,m),!0}return!1}function Vd(r,s,u,m){if(m={lane:2,revertLane:vh(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Wd(r)){if(s)throw Error(a(479))}else s=Ms(r,u,m,2),s!==null&&Qi(s,r,2)}function Wd(r){var s=r.alternate;return r===St||s!==null&&s===St}function oy(r,s){Pl=Il=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function ru(r,s,u){if((u&4194048)!==0){var m=s.lanes;m&=r.pendingLanes,u|=m,s.lanes=u,vi(r,u)}}var au={readContext:Oi,use:Bl,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useLayoutEffect:Gn,useInsertionEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useSyncExternalStore:Gn,useId:Gn,useHostTransitionStatus:Gn,useFormState:Gn,useActionState:Gn,useOptimistic:Gn,useMemoCache:Gn,useCacheRefresh:Gn};au.useEffectEvent=Gn;var ly={readContext:Oi,use:Bl,useCallback:function(r,s){return an().memoizedState=[r,s===void 0?null:s],r},useContext:Oi,useEffect:ai,useImperativeHandle:function(r,s,u){u=u!=null?u.concat([r]):null,Jc(4194308,4,ry.bind(null,s,r),u)},useLayoutEffect:function(r,s){return Jc(4194308,4,r,s)},useInsertionEffect:function(r,s){Jc(4,2,r,s)},useMemo:function(r,s){var u=an();s=s===void 0?null:s;var m=r();if(Ro){Rn(!0);try{r()}finally{Rn(!1)}}return u.memoizedState=[m,s],m},useReducer:function(r,s,u){var m=an();if(u!==void 0){var C=u(s);if(Ro){Rn(!0);try{u(s)}finally{Rn(!1)}}}else C=s;return m.memoizedState=m.baseState=C,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:C},m.queue=r,r=r.dispatch=M0.bind(null,St,r),[m.memoizedState,r]},useRef:function(r){var s=an();return r={current:r},s.memoizedState=r},useState:function(r){r=up(r);var s=r.queue,u=xp.bind(null,St,s);return s.dispatch=u,[r.memoizedState,u]},useDebugValue:yp,useDeferredValue:function(r,s){var u=an();return Ud(u,r,s)},useTransition:function(){var r=up(!1);return r=ay.bind(null,St,r.queue,!0,!1),an().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,u){var m=St,C=an();if(Yt){if(u===void 0)throw Error(a(407));u=u()}else{if(u=s(),gn===null)throw Error(a(349));(qt&127)!==0||Bd(m,s,u)}C.memoizedState=u;var R={value:u,getSnapshot:s};return C.queue=R,ai(lp.bind(null,m,R,r),[r]),m.flags|=2048,No(9,{destroy:void 0},op.bind(null,m,R,u,s),null),u},useId:function(){var r=an(),s=gn.identifierPrefix;if(Yt){var u=Ta,m=zr;u=(m&~(1<<32-kn(m)-1)).toString(32)+u,s="_"+s+"R_"+u,u=Xi++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=np++,s="_"+s+"r_"+u.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Gd,useFormState:ny,useActionState:ny,useOptimistic:function(r){var s=an();s.memoizedState=s.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Vd.bind(null,St,!0,u),u.dispatch=s,[r,s]},useMemoCache:ko,useCacheRefresh:function(){return an().memoizedState=T0.bind(null,St)},useEffectEvent:function(r){var s=an(),u={impl:r};return s.memoizedState=u,function(){if((un&2)!==0)throw Error(a(440));return u.impl.apply(void 0,arguments)}}},su={readContext:Oi,use:Bl,useCallback:vp,useContext:Oi,useEffect:gp,useImperativeHandle:_n,useInsertionEffect:eu,useLayoutEffect:Lo,useMemo:bp,useReducer:Ka,useRef:pp,useState:function(){return Ka(wr)},useDebugValue:yp,useDeferredValue:function(r,s){var u=qn();return hi(u,$t.memoizedState,r,s)},useTransition:function(){var r=Ka(wr)[0],s=qn().memoizedState;return[typeof r=="boolean"?r:zl(r),s]},useSyncExternalStore:sp,useId:Ur,useHostTransitionStatus:Gd,useFormState:iy,useActionState:iy,useOptimistic:function(r,s){var u=qn();return ey(u,$t,r,s)},useMemoCache:ko,useCacheRefresh:Bi};su.useEffectEvent=mp;var cy={readContext:Oi,use:Bl,useCallback:vp,useContext:Oi,useEffect:gp,useImperativeHandle:_n,useInsertionEffect:eu,useLayoutEffect:Lo,useMemo:bp,useReducer:ap,useRef:pp,useState:function(){return ap(wr)},useDebugValue:yp,useDeferredValue:function(r,s){var u=qn();return $t===null?Ud(u,r,s):hi(u,$t.memoizedState,r,s)},useTransition:function(){var r=ap(wr)[0],s=qn().memoizedState;return[typeof r=="boolean"?r:zl(r),s]},useSyncExternalStore:sp,useId:Ur,useHostTransitionStatus:Gd,useFormState:Fd,useActionState:Fd,useOptimistic:function(r,s){var u=qn();return $t!==null?ey(u,$t,r,s):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:ko,useCacheRefresh:Bi};cy.useEffectEvent=mp;function wp(r,s,u,m){s=r.memoizedState,u=u(m,s),u=u==null?s:O({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var oa={enqueueSetState:function(r,s,u){r=r._reactInternals;var m=Hi(),C=br(m);C.payload=s,u!=null&&(C.callback=u),s=Ls(r,C,m),s!==null&&(Qi(s,r,m),_o(s,r,m))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var m=Hi(),C=br(m);C.tag=1,C.payload=s,u!=null&&(C.callback=u),s=Ls(r,C,m),s!==null&&(Qi(s,r,m),_o(s,r,m))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=Hi(),m=br(u);m.tag=2,s!=null&&(m.callback=s),s=Ls(r,m,u),s!==null&&(Qi(s,r,u),_o(s,r,u))}};function Sp(r,s,u,m,C,R,U){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,R,U):s.prototype&&s.prototype.isPureReactComponent?!mo(u,m)||!mo(C,R):!0}function js(r,s,u,m){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,m),s.state!==r&&oa.enqueueReplaceState(s,s.state,null)}function Ni(r,s){var u=s;if("ref"in s){u={};for(var m in s)m!=="ref"&&(u[m]=s[m])}if(r=r.defaultProps){u===s&&(u=O({},u));for(var C in r)u[C]===void 0&&(u[C]=r[C])}return u}function uy(r){Td(r)}function Yd(r){console.error(r)}function dy(r){Td(r)}function $d(r,s){try{var u=r.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(m){setTimeout(function(){throw m})}}function qd(r,s,u){try{var m=r.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Xd(r,s,u){return u=br(u),u.tag=3,u.payload={element:null},u.callback=function(){$d(r,s)},u}function Zd(r){return r=br(r),r.tag=3,r}function hy(r,s,u,m){var C=u.type.getDerivedStateFromError;if(typeof C=="function"){var R=m.value;r.payload=function(){return C(R)},r.callback=function(){qd(s,u,m)}}var U=u.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(r.callback=function(){qd(s,u,m),typeof C!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var Z=m.stack;this.componentDidCatch(m.value,{componentStack:Z!==null?Z:""})})}function Ep(r,s,u,m,C){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(s=u.alternate,s!==null&&nr(s,u,C,!0),u=xr.current,u!==null){switch(u.tag){case 31:case 13:return Fr===null?dh():u.alternate===null&&Vn===0&&(Vn=3),u.flags&=-257,u.flags|=65536,u.lanes=C,m===Ld?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([m]):s.add(m),$p(r,m,C)),!1;case 22:return u.flags|=65536,m===Ld?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([m]):u.add(m)),$p(r,m,C)),!1}throw Error(a(435,u.tag))}return $p(r,m,C),dh(),!1}if(Yt)return s=xr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=C,m!==Mn&&(r=Error(a(422),{cause:m}),Fc($i(r,u)))):(m!==Mn&&(s=Error(a(423),{cause:m}),Fc($i(s,u))),r=r.current.alternate,r.flags|=65536,C&=-C,r.lanes|=C,m=$i(m,u),C=Xd(r.stateNode,m,C),tp(r,C),Vn!==4&&(Vn=2)),!1;var R=Error(a(520),{cause:m});if(R=$i(R,u),is===null?is=[R]:is.push(R),Vn!==4&&(Vn=2),s===null)return!0;m=$i(m,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,r=C&-C,u.lanes|=r,r=Xd(u.stateNode,m,r),tp(u,r),!1;case 1:if(s=u.type,R=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(rs===null||!rs.has(R))))return u.flags|=65536,C&=-C,u.lanes|=C,C=Zd(C),hy(C,r,u,m),tp(u,C),!1}u=u.return}while(u!==null);return!1}var ou=Error(a(461)),fi=!1;function Ci(r,s,u,m){s.child=r===null?qm(s,null,u,m):Mo(s,r.child,u,m)}function zs(r,s,u,m,C){u=u.render;var R=s.ref;if("ref"in m){var U={};for(var Z in m)Z!=="ref"&&(U[Z]=m[Z])}else U=m;return xo(s),m=jl(r,s,u,U,R,C),Z=Hr(),r!==null&&!fi?(ip(r,s,C),Di(r,s,C)):(Yt&&Z&&Vf(s),s.flags|=1,Ci(r,s,m,C),s.child)}function Fl(r,s,u,m,C){if(r===null){var R=u.type;return typeof R=="function"&&!El(R)&&R.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=R,Ap(r,s,R,m,C)):(r=vo(u.type,null,m,s,s.mode,C),r.ref=s.ref,r.return=s,s.child=r)}if(R=r.child,!uu(r,C)){var U=R.memoizedProps;if(u=u.compare,u=u!==null?u:mo,u(U,m)&&r.ref===s.ref)return Di(r,s,C)}return s.flags|=1,r=aa(R,m),r.ref=s.ref,r.return=s,s.child=r}function Ap(r,s,u,m,C){if(r!==null){var R=r.memoizedProps;if(mo(R,m)&&r.ref===s.ref)if(fi=!1,s.pendingProps=m=R,uu(r,C))(r.flags&131072)!==0&&(fi=!0);else return s.lanes=r.lanes,Di(r,s,C)}return Oa(r,s,u,m,C)}function fy(r,s,u,m){var C=m.children,R=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((s.flags&128)!==0){if(R=R!==null?R.baseLanes|u:u,r!==null){for(m=s.child=r.child,C=0;m!==null;)C=C|m.lanes|m.childLanes,m=m.sibling;m=C&~R}else m=0,s.child=null;return Qd(r,s,R,u,m)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Nd(s,R!==null?R.cachePool:null),R!==null?Qm(s,R):Ll(),qc(s);else return m=s.lanes=536870912,Qd(r,s,R!==null?R.baseLanes|u:u,u,m)}else R!==null?(Nd(s,R.cachePool),Qm(s,R),Za(),s.memoizedState=null):(r!==null&&Nd(s,null),Ll(),Za());return Ci(r,s,C,u),s.child}function Io(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Qd(r,s,u,m,C){var R=Od();return R=R===null?null:{parent:ci._currentValue,pool:R},s.memoizedState={baseLanes:u,cachePool:R},r!==null&&Nd(s,null),Ll(),qc(s),r!==null&&nr(r,s,m,!0),s.childLanes=C,null}function Hl(r,s){return s=Gl({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Cp(r,s,u){return Mo(s,r.child,null,u),r=Hl(s,s.pendingProps),r.flags|=2,ui(s),s.memoizedState=null,r}function Dp(r,s,u){var m=s.pendingProps,C=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(Yt){if(m.mode==="hidden")return r=Hl(s,m),s.lanes=536870912,Io(null,r);if(_a(s),(r=Nn)?(r=tv(r,qi),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:_s!==null?{id:zr,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},u=Uf(r),u.return=s,s.child=u,Dt=s,Nn=null)):r=null,r===null)throw $a(s);return s.lanes=536870912,null}return Hl(s,m)}var R=r.memoizedState;if(R!==null){var U=R.dehydrated;if(_a(s),C)if(s.flags&256)s.flags&=-257,s=Cp(r,s,u);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(a(558));else if(fi||nr(r,s,u,!1),C=(u&r.childLanes)!==0,fi||C){if(m=gn,m!==null&&(U=Ji(m,u),U!==0&&U!==R.retryLane))throw R.retryLane=U,gr(r,U),Qi(m,r,U),ou;dh(),s=Cp(r,s,u)}else r=R.treeContext,Nn=Cr(U.nextSibling),Dt=s,Yt=!0,Ma=null,qi=!1,r!==null&&tr(s,r),s=Hl(s,m),s.flags|=4096;return s}return r=aa(r.child,{mode:m.mode,children:m.children}),r.ref=s.ref,s.child=r,r.return=s,r}function ir(r,s){var u=s.ref;if(u===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(r===null||r.ref!==u)&&(s.flags|=4194816)}}function Oa(r,s,u,m,C){return xo(s),u=jl(r,s,u,m,void 0,C),m=Hr(),r!==null&&!fi?(ip(r,s,C),Di(r,s,C)):(Yt&&m&&Vf(s),s.flags|=1,Ci(r,s,u,C),s.child)}function Tp(r,s,u,m,C,R){return xo(s),s.updateQueue=null,u=Km(s,m,u,C),Qc(r),m=Hr(),r!==null&&!fi?(ip(r,s,R),Di(r,s,R)):(Yt&&m&&Vf(s),s.flags|=1,Ci(r,s,u,R),s.child)}function py(r,s,u,m,C){if(xo(s),s.stateNode===null){var R=Sl,U=u.contextType;typeof U=="object"&&U!==null&&(R=Oi(U)),R=new u(m,R),s.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=oa,s.stateNode=R,R._reactInternals=s,R=s.stateNode,R.props=m,R.state=s.memoizedState,R.refs={},Vc(s),U=u.contextType,R.context=typeof U=="object"&&U!==null?Oi(U):Sl,R.state=s.memoizedState,U=u.getDerivedStateFromProps,typeof U=="function"&&(wp(s,u,U,m),R.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(U=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),U!==R.state&&oa.enqueueReplaceState(R,R.state,null),Yc(s,m,R,C),Ol(),R.state=s.memoizedState),typeof R.componentDidMount=="function"&&(s.flags|=4194308),m=!0}else if(r===null){R=s.stateNode;var Z=s.memoizedProps,ae=Ni(u,Z);R.props=ae;var Ce=R.context,Le=u.contextType;U=Sl,typeof Le=="object"&&Le!==null&&(U=Oi(Le));var Pe=u.getDerivedStateFromProps;Le=typeof Pe=="function"||typeof R.getSnapshotBeforeUpdate=="function",Z=s.pendingProps!==Z,Le||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(Z||Ce!==U)&&js(s,R,m,U),Ns=!1;var Se=s.memoizedState;R.state=Se,Yc(s,m,R,C),Ol(),Ce=s.memoizedState,Z||Se!==Ce||Ns?(typeof Pe=="function"&&(wp(s,u,Pe,m),Ce=s.memoizedState),(ae=Ns||Sp(s,u,ae,m,Se,Ce,U))?(Le||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(s.flags|=4194308)):(typeof R.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=Ce),R.props=m,R.state=Ce,R.context=U,m=ae):(typeof R.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{R=s.stateNode,ep(r,s),U=s.memoizedProps,Le=Ni(u,U),R.props=Le,Pe=s.pendingProps,Se=R.context,Ce=u.contextType,ae=Sl,typeof Ce=="object"&&Ce!==null&&(ae=Oi(Ce)),Z=u.getDerivedStateFromProps,(Ce=typeof Z=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(U!==Pe||Se!==ae)&&js(s,R,m,ae),Ns=!1,Se=s.memoizedState,R.state=Se,Yc(s,m,R,C),Ol();var Te=s.memoizedState;U!==Pe||Se!==Te||Ns||r!==null&&r.dependencies!==null&&kd(r.dependencies)?(typeof Z=="function"&&(wp(s,u,Z,m),Te=s.memoizedState),(Le=Ns||Sp(s,u,Le,m,Se,Te,ae)||r!==null&&r.dependencies!==null&&kd(r.dependencies))?(Ce||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,Te,ae),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,Te,ae)),typeof R.componentDidUpdate=="function"&&(s.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof R.componentDidUpdate!="function"||U===r.memoizedProps&&Se===r.memoizedState||(s.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&Se===r.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=Te),R.props=m,R.state=Te,R.context=ae,m=Le):(typeof R.componentDidUpdate!="function"||U===r.memoizedProps&&Se===r.memoizedState||(s.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&Se===r.memoizedState||(s.flags|=1024),m=!1)}return R=m,ir(r,s),m=(s.flags&128)!==0,R||m?(R=s.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:R.render(),s.flags|=1,r!==null&&m?(s.child=Mo(s,r.child,null,C),s.child=Mo(s,null,u,C)):Ci(r,s,u,C),s.memoizedState=R.state,r=s.child):r=Di(r,s,C),r}function gy(r,s,u,m){return Rs(),s.flags|=256,Ci(r,s,u,m),s.child}var Ul={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Na(r){return{baseLanes:r,cachePool:Ym()}}function lu(r,s,u){return r=r!==null?r.childLanes&~u:0,s&&(r|=Fi),r}function Ft(r,s,u){var m=s.pendingProps,C=!1,R=(s.flags&128)!==0,U;if((U=R)||(U=r!==null&&r.memoizedState===null?!1:(ri.current&2)!==0),U&&(C=!0,s.flags&=-129),U=(s.flags&32)!==0,s.flags&=-33,r===null){if(Yt){if(C?Is(s):Za(),(r=Nn)?(r=tv(r,qi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:_s!==null?{id:zr,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},u=Uf(r),u.return=s,s.child=u,Dt=s,Nn=null)):r=null,r===null)throw $a(s);return lg(r)?s.lanes=32:s.lanes=536870912,null}var Z=m.children;return m=m.fallback,C?(Za(),C=s.mode,Z=Gl({mode:"hidden",children:Z},C),m=Wa(m,C,u,null),Z.return=s,m.return=s,Z.sibling=m,s.child=Z,m=s.child,m.memoizedState=Na(u),m.childLanes=lu(r,U,u),s.memoizedState=Ul,Io(null,m)):(Is(s),Mp(s,Z))}var ae=r.memoizedState;if(ae!==null&&(Z=ae.dehydrated,Z!==null)){if(R)s.flags&256?(Is(s),s.flags&=-257,s=_p(r,s,u)):s.memoizedState!==null?(Za(),s.child=r.child,s.flags|=128,s=null):(Za(),Z=m.fallback,C=s.mode,m=Gl({mode:"visible",children:m.children},C),Z=Wa(Z,C,u,null),Z.flags|=2,m.return=s,Z.return=s,m.sibling=Z,s.child=m,Mo(s,r.child,null,u),m=s.child,m.memoizedState=Na(u),m.childLanes=lu(r,U,u),s.memoizedState=Ul,s=Io(null,m));else if(Is(s),lg(Z)){if(U=Z.nextSibling&&Z.nextSibling.dataset,U)var Ce=U.dgst;U=Ce,m=Error(a(419)),m.stack="",m.digest=U,Fc({value:m,source:null,stack:null}),s=_p(r,s,u)}else if(fi||nr(r,s,u,!1),U=(u&r.childLanes)!==0,fi||U){if(U=gn,U!==null&&(m=Ji(U,u),m!==0&&m!==ae.retryLane))throw ae.retryLane=m,gr(r,m),Qi(U,r,m),ou;og(Z)||dh(),s=_p(r,s,u)}else og(Z)?(s.flags|=192,s.child=r.child,s=null):(r=ae.treeContext,Nn=Cr(Z.nextSibling),Dt=s,Yt=!0,Ma=null,qi=!1,r!==null&&tr(s,r),s=Mp(s,m.children),s.flags|=4096);return s}return C?(Za(),Z=m.fallback,C=s.mode,ae=r.child,Ce=ae.sibling,m=aa(ae,{mode:"hidden",children:m.children}),m.subtreeFlags=ae.subtreeFlags&65011712,Ce!==null?Z=aa(Ce,Z):(Z=Wa(Z,C,u,null),Z.flags|=2),Z.return=s,m.return=s,m.sibling=Z,s.child=m,Io(null,m),m=s.child,Z=r.child.memoizedState,Z===null?Z=Na(u):(C=Z.cachePool,C!==null?(ae=ci._currentValue,C=C.parent!==ae?{parent:ae,pool:ae}:C):C=Ym(),Z={baseLanes:Z.baseLanes|u,cachePool:C}),m.memoizedState=Z,m.childLanes=lu(r,U,u),s.memoizedState=Ul,Io(r.child,m)):(Is(s),u=r.child,r=u.sibling,u=aa(u,{mode:"visible",children:m.children}),u.return=s,u.sibling=null,r!==null&&(U=s.deletions,U===null?(s.deletions=[r],s.flags|=16):U.push(r)),s.child=u,s.memoizedState=null,u)}function Mp(r,s){return s=Gl({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Gl(r,s){return r=mr(22,r,null,s),r.lanes=0,r}function _p(r,s,u){return Mo(s,r.child,null,u),r=Mp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Po(r,s,u){r.lanes|=s;var m=r.alternate;m!==null&&(m.lanes|=s),Yf(r.return,s,u)}function Rp(r,s,u,m,C,R){var U=r.memoizedState;U===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:C,treeForkCount:R}:(U.isBackwards=s,U.rendering=null,U.renderingStartTime=0,U.last=m,U.tail=u,U.tailMode=C,U.treeForkCount=R)}function cu(r,s,u){var m=s.pendingProps,C=m.revealOrder,R=m.tail;m=m.children;var U=ri.current,Z=(U&2)!==0;if(Z?(U=U&1|2,s.flags|=128):U&=1,Ae(ri,U),Ci(r,s,m,u),m=Yt?Da:0,!Z&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Po(r,u,s);else if(r.tag===19)Po(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(C){case"forwards":for(u=s.child,C=null;u!==null;)r=u.alternate,r!==null&&Xc(r)===null&&(C=u),u=u.sibling;u=C,u===null?(C=s.child,s.child=null):(C=u.sibling,u.sibling=null),Rp(s,!1,C,u,R,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,C=s.child,s.child=null;C!==null;){if(r=C.alternate,r!==null&&Xc(r)===null){s.child=C;break}r=C.sibling,C.sibling=u,u=C,C=r}Rp(s,!0,u,null,R,m);break;case"together":Rp(s,!1,null,null,void 0,m);break;default:s.memoizedState=null}return s.child}function Di(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),ns|=s.lanes,(u&s.childLanes)===0)if(r!==null){if(nr(r,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,u=aa(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=aa(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function uu(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&kd(r)))}function rr(r,s,u){switch(s.tag){case 3:Ve(s,s.stateNode.containerInfo),ks(s,ci,r.memoizedState.cache),Rs();break;case 27:case 5:Qe(s);break;case 4:Ve(s,s.stateNode.containerInfo);break;case 10:ks(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,_a(s),null;break;case 13:var m=s.memoizedState;if(m!==null)return m.dehydrated!==null?(Is(s),s.flags|=128,null):(u&s.child.childLanes)!==0?Ft(r,s,u):(Is(s),r=Di(r,s,u),r!==null?r.sibling:null);Is(s);break;case 19:var C=(r.flags&128)!==0;if(m=(u&s.childLanes)!==0,m||(nr(r,s,u,!1),m=(u&s.childLanes)!==0),C){if(m)return cu(r,s,u);s.flags|=128}if(C=s.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Ae(ri,ri.current),m)break;return null;case 22:return s.lanes=0,fy(r,s,u,s.pendingProps);case 24:ks(s,ci,r.memoizedState.cache)}return Di(r,s,u)}function my(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps)fi=!0;else{if(!uu(r,u)&&(s.flags&128)===0)return fi=!1,rr(r,s,u);fi=(r.flags&131072)!==0}else fi=!1,Yt&&(s.flags&1048576)!==0&&Gf(s,Da,s.index);switch(s.lanes=0,s.tag){case 16:e:{var m=s.pendingProps;if(r=Ao(s.elementType),s.type=r,typeof r=="function")El(r)?(m=Ni(r,m),s.tag=1,s=py(null,s,r,m,u)):(s.tag=0,s=Oa(null,s,r,m,u));else{if(r!=null){var C=r.$$typeof;if(C===K){s.tag=11,s=zs(null,s,r,m,u);break e}else if(C===X){s.tag=14,s=Fl(null,s,r,m,u);break e}}throw s=Fe(r)||r,Error(a(306,s,""))}}return s;case 0:return Oa(r,s,s.type,s.pendingProps,u);case 1:return m=s.type,C=Ni(m,s.pendingProps),py(r,s,m,C,u);case 3:e:{if(Ve(s,s.stateNode.containerInfo),r===null)throw Error(a(387));m=s.pendingProps;var R=s.memoizedState;C=R.element,ep(r,s),Yc(s,m,null,u);var U=s.memoizedState;if(m=U.cache,ks(s,ci,m),m!==R.cache&&Rd(s,[ci],u,!0),Ol(),m=U.element,R.isDehydrated)if(R={element:m,isDehydrated:!1,cache:U.cache},s.updateQueue.baseState=R,s.memoizedState=R,s.flags&256){s=gy(r,s,m,u);break e}else if(m!==C){C=$i(Error(a(424)),s),Fc(C),s=gy(r,s,m,u);break e}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Nn=Cr(r.firstChild),Dt=s,Yt=!0,Ma=null,qi=!0,u=qm(s,null,m,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Rs(),m===C){s=Di(r,s,u);break e}Ci(r,s,m,u)}s=s.child}return s;case 26:return ir(r,s),r===null?(u=sv(s.type,null,s.pendingProps,null))?s.memoizedState=u:Yt||(u=s.type,r=s.pendingProps,m=Du(Ke.current).createElement(u),m[li]=s,m[jn]=r,Li(m,u,r),at(m),s.stateNode=m):s.memoizedState=sv(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Qe(s),r===null&&Yt&&(m=s.stateNode=iv(s.type,s.pendingProps,Ke.current),Dt=s,qi=!0,C=Nn,$s(s.type)?(Tu=C,Nn=Cr(m.firstChild)):Nn=C),Ci(r,s,s.pendingProps.children,u),ir(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Yt&&((C=m=Nn)&&(m=Y0(m,s.type,s.pendingProps,qi),m!==null?(s.stateNode=m,Dt=s,Nn=Cr(m.firstChild),qi=!1,C=!0):C=!1),C||$a(s)),Qe(s),C=s.type,R=s.pendingProps,U=r!==null?r.memoizedProps:null,m=R.children,ng(C,R)?m=null:U!==null&&ng(C,U)&&(s.flags|=32),s.memoizedState!==null&&(C=jl(r,s,A0,null,null,u),ha._currentValue=C),ir(r,s),Ci(r,s,m,u),s.child;case 6:return r===null&&Yt&&((r=u=Nn)&&(u=$0(u,s.pendingProps,qi),u!==null?(s.stateNode=u,Dt=s,Nn=null,r=!0):r=!1),r||$a(s)),null;case 13:return Ft(r,s,u);case 4:return Ve(s,s.stateNode.containerInfo),m=s.pendingProps,r===null?s.child=Mo(s,null,m,u):Ci(r,s,m,u),s.child;case 11:return zs(r,s,s.type,s.pendingProps,u);case 7:return Ci(r,s,s.pendingProps,u),s.child;case 8:return Ci(r,s,s.pendingProps.children,u),s.child;case 12:return Ci(r,s,s.pendingProps.children,u),s.child;case 10:return m=s.pendingProps,ks(s,s.type,m.value),Ci(r,s,m.children,u),s.child;case 9:return C=s.type._context,m=s.pendingProps.children,xo(s),C=Oi(C),m=m(C),s.flags|=1,Ci(r,s,m,u),s.child;case 14:return Fl(r,s,s.type,s.pendingProps,u);case 15:return Ap(r,s,s.type,s.pendingProps,u);case 19:return cu(r,s,u);case 31:return Dp(r,s,u);case 22:return fy(r,s,u,s.pendingProps);case 24:return xo(s),m=Oi(ci),r===null?(C=Od(),C===null&&(C=gn,R=qf(),C.pooledCache=R,R.refCount++,R!==null&&(C.pooledCacheLanes|=u),C=R),s.memoizedState={parent:m,cache:C},Vc(s),ks(s,ci,C)):((r.lanes&u)!==0&&(ep(r,s),Yc(s,null,null,u),Ol()),C=r.memoizedState,R=s.memoizedState,C.parent!==m?(C={parent:m,cache:m},s.memoizedState=C,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=C),ks(s,ci,m)):(m=R.cache,ks(s,ci,m),m!==C.cache&&Rd(s,[ci],u,!0))),Ci(r,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function La(r){r.flags|=4}function Kd(r,s,u,m,C){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(C&335544128)===C)if(r.stateNode.complete)r.flags|=8192;else if(Gp())r.flags|=8192;else throw Co=Ld,Zf}else r.flags&=-16777217}function du(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!hg(s))if(Gp())r.flags|=8192;else throw Co=Ld,Zf}function Jd(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Kt():536870912,r.lanes|=s,Us|=s)}function hu(r,s){if(!Yt)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function cn(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,m=0;if(s)for(var C=r.child;C!==null;)u|=C.lanes|C.childLanes,m|=C.subtreeFlags&65011712,m|=C.flags&65011712,C.return=r,C=C.sibling;else for(C=r.child;C!==null;)u|=C.lanes|C.childLanes,m|=C.subtreeFlags,m|=C.flags,C.return=r,C=C.sibling;return r.subtreeFlags|=m,r.childLanes=u,s}function eh(r,s,u){var m=s.pendingProps;switch(Dl(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(s),null;case 1:return cn(s),null;case 3:return u=s.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),s.memoizedState.cache!==m&&(s.flags|=2048),qa(ci),tt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(lt(s)?La(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Tl())),cn(s),null;case 26:var C=s.type,R=s.memoizedState;return r===null?(La(s),R!==null?(cn(s),du(s,R)):(cn(s),Kd(s,C,null,m,u))):R?R!==r.memoizedState?(La(s),cn(s),du(s,R)):(cn(s),s.flags&=-16777217):(r=r.memoizedProps,r!==m&&La(s),cn(s),Kd(s,C,r,m,u)),null;case 27:if(_t(s),u=Ke.current,C=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==m&&La(s);else{if(!m){if(s.stateNode===null)throw Error(a(166));return cn(s),null}r=Be.current,lt(s)?Um(s):(r=iv(C,m,u),s.stateNode=r,La(s))}return cn(s),null;case 5:if(_t(s),C=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==m&&La(s);else{if(!m){if(s.stateNode===null)throw Error(a(166));return cn(s),null}if(R=Be.current,lt(s))Um(s);else{var U=Du(Ke.current);switch(R){case 1:R=U.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:R=U.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":R=U.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":R=U.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":R=U.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild);break;case"select":R=typeof m.is=="string"?U.createElement("select",{is:m.is}):U.createElement("select"),m.multiple?R.multiple=!0:m.size&&(R.size=m.size);break;default:R=typeof m.is=="string"?U.createElement(C,{is:m.is}):U.createElement(C)}}R[li]=s,R[jn]=m;e:for(U=s.child;U!==null;){if(U.tag===5||U.tag===6)R.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===s)break e;for(;U.sibling===null;){if(U.return===null||U.return===s)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}s.stateNode=R;e:switch(Li(R,C,m),C){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&La(s)}}return cn(s),Kd(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,u),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==m&&La(s);else{if(typeof m!="string"&&s.stateNode===null)throw Error(a(166));if(r=Ke.current,lt(s)){if(r=s.stateNode,u=s.memoizedProps,m=null,C=Dt,C!==null)switch(C.tag){case 27:case 5:m=C.memoizedProps}r[li]=s,r=!!(r.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||Zy(r.nodeValue,u)),r||$a(s,!0)}else r=Du(r).createTextNode(m),r[li]=s,s.stateNode=r}return cn(s),null;case 31:if(u=s.memoizedState,r===null||r.memoizedState!==null){if(m=lt(s),u!==null){if(r===null){if(!m)throw Error(a(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(557));r[li]=s}else Rs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;cn(s),r=!1}else u=Tl(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return s.flags&256?(ui(s),s):(ui(s),null);if((s.flags&128)!==0)throw Error(a(558))}return cn(s),null;case 13:if(m=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(C=lt(s),m!==null&&m.dehydrated!==null){if(r===null){if(!C)throw Error(a(318));if(C=s.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(a(317));C[li]=s}else Rs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;cn(s),C=!1}else C=Tl(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=C),C=!0;if(!C)return s.flags&256?(ui(s),s):(ui(s),null)}return ui(s),(s.flags&128)!==0?(s.lanes=u,s):(u=m!==null,r=r!==null&&r.memoizedState!==null,u&&(m=s.child,C=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(C=m.alternate.memoizedState.cachePool.pool),R=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(R=m.memoizedState.cachePool.pool),R!==C&&(m.flags|=2048)),u!==r&&u&&(s.child.flags|=8192),Jd(s,s.updateQueue),cn(s),null);case 4:return tt(),r===null&&Kp(s.stateNode.containerInfo),cn(s),null;case 10:return qa(s.type),cn(s),null;case 19:if(ge(ri),m=s.memoizedState,m===null)return cn(s),null;if(C=(s.flags&128)!==0,R=m.rendering,R===null)if(C)hu(m,!1);else{if(Vn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(R=Xc(r),R!==null){for(s.flags|=128,hu(m,!1),r=R.updateQueue,s.updateQueue=r,Jd(s,r),s.subtreeFlags=0,r=u,u=s.child;u!==null;)Fm(u,r),u=u.sibling;return Ae(ri,ri.current&1|2),Yt&&Ya(s,m.treeForkCount),s.child}r=r.sibling}m.tail!==null&&nt()>lh&&(s.flags|=128,C=!0,hu(m,!1),s.lanes=4194304)}else{if(!C)if(r=Xc(R),r!==null){if(s.flags|=128,C=!0,r=r.updateQueue,s.updateQueue=r,Jd(s,r),hu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!R.alternate&&!Yt)return cn(s),null}else 2*nt()-m.renderingStartTime>lh&&u!==536870912&&(s.flags|=128,C=!0,hu(m,!1),s.lanes=4194304);m.isBackwards?(R.sibling=s.child,s.child=R):(r=m.last,r!==null?r.sibling=R:s.child=R,m.last=R)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=nt(),r.sibling=null,u=ri.current,Ae(ri,C?u&1|2:u&1),Yt&&Ya(s,m.treeForkCount),r):(cn(s),null);case 22:case 23:return ui(s),$c(),m=s.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(s.flags|=8192):m&&(s.flags|=8192),m?(u&536870912)!==0&&(s.flags&128)===0&&(cn(s),s.subtreeFlags&6&&(s.flags|=8192)):cn(s),u=s.updateQueue,u!==null&&Jd(s,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==u&&(s.flags|=2048),r!==null&&ge(Eo),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),qa(ci),cn(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function _0(r,s){switch(Dl(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return qa(ci),tt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return _t(s),null;case 31:if(s.memoizedState!==null){if(ui(s),s.alternate===null)throw Error(a(340));Rs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(ui(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Rs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ge(ri),null;case 4:return tt(),null;case 10:return qa(s.type),null;case 22:case 23:return ui(s),$c(),r!==null&&ge(Eo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return qa(ci),null;case 25:return null;default:return null}}function yy(r,s){switch(Dl(s),s.tag){case 3:qa(ci),tt();break;case 26:case 27:case 5:_t(s);break;case 4:tt();break;case 31:s.memoizedState!==null&&ui(s);break;case 13:ui(s);break;case 19:ge(ri);break;case 10:qa(s.type);break;case 22:case 23:ui(s),$c(),r!==null&&ge(Eo);break;case 24:qa(ci)}}function Gr(r,s){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var C=m.next;u=C;do{if((u.tag&r)===r){m=void 0;var R=u.create,U=u.inst;m=R(),U.destroy=m}u=u.next}while(u!==C)}}catch(Z){mn(s,s.return,Z)}}function la(r,s,u){try{var m=s.updateQueue,C=m!==null?m.lastEffect:null;if(C!==null){var R=C.next;m=R;do{if((m.tag&r)===r){var U=m.inst,Z=U.destroy;if(Z!==void 0){U.destroy=void 0,C=s;var ae=u,Ce=Z;try{Ce()}catch(Le){mn(C,ae,Le)}}}m=m.next}while(m!==R)}}catch(Le){mn(s,s.return,Le)}}function th(r){var s=r.updateQueue;if(s!==null){var u=r.stateNode;try{Zm(s,u)}catch(m){mn(r,r.return,m)}}}function nh(r,s,u){u.props=Ni(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(m){mn(r,s,m)}}function fu(r,s){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(C){mn(r,s,C)}}function ca(r,s){var u=r.ref,m=r.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(C){mn(r,s,C)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(C){mn(r,s,C)}else u.current=null}function kp(r){var s=r.type,u=r.memoizedProps,m=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(C){mn(r,r.return,C)}}function Op(r,s,u){try{var m=r.stateNode;U0(m,r.type,u,s),m[jn]=s}catch(C){mn(r,r.return,C)}}function Np(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&$s(r.type)||r.tag===4}function jo(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Np(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&$s(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Lp(r,s,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(r),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Ua));else if(m!==4&&(m===27&&$s(r.type)&&(u=r.stateNode,s=null),r=r.child,r!==null))for(Lp(r,s,u),r=r.sibling;r!==null;)Lp(r,s,u),r=r.sibling}function ih(r,s,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(m!==4&&(m===27&&$s(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(ih(r,s,u),r=r.sibling;r!==null;)ih(r,s,u),r=r.sibling}function vy(r){var s=r.stateNode,u=r.memoizedProps;try{for(var m=r.type,C=s.attributes;C.length;)s.removeAttributeNode(C[0]);Li(s,m,u),s[li]=r,s[jn]=u}catch(R){mn(r,r.return,R)}}var Ia=!1,Xn=!1,pu=!1,Vl=typeof WeakSet=="function"?WeakSet:Set,pi=null;function R0(r,s){if(r=r.containerInfo,eg=os,r=Im(r),Ed(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var C=m.anchorOffset,R=m.focusNode;m=m.focusOffset;try{u.nodeType,R.nodeType}catch{u=null;break e}var U=0,Z=-1,ae=-1,Ce=0,Le=0,Pe=r,Se=null;t:for(;;){for(var Te;Pe!==u||C!==0&&Pe.nodeType!==3||(Z=U+C),Pe!==R||m!==0&&Pe.nodeType!==3||(ae=U+m),Pe.nodeType===3&&(U+=Pe.nodeValue.length),(Te=Pe.firstChild)!==null;)Se=Pe,Pe=Te;for(;;){if(Pe===r)break t;if(Se===u&&++Ce===C&&(Z=U),Se===R&&++Le===m&&(ae=U),(Te=Pe.nextSibling)!==null)break;Pe=Se,Se=Pe.parentNode}Pe=Te}u=Z===-1||ae===-1?null:{start:Z,end:ae}}else u=null}u=u||{start:0,end:0}}else u=null;for(tg={focusedElem:r,selectionRange:u},os=!1,pi=s;pi!==null;)if(s=pi,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,pi=r;else for(;pi!==null;){switch(s=pi,R=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)C=r[u],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&R!==null){r=void 0,u=s,C=R.memoizedProps,R=R.memoizedState,m=u.stateNode;try{var et=Ni(u.type,C);r=m.getSnapshotBeforeUpdate(et,R),m.__reactInternalSnapshotBeforeUpdate=r}catch(ct){mn(u,u.return,ct)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,u=r.nodeType,u===9)sg(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":sg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,pi=r;break}pi=s.return}}function by(r,s,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:es(r,u),m&4&&Gr(5,u);break;case 1:if(es(r,u),m&4)if(r=u.stateNode,s===null)try{r.componentDidMount()}catch(U){mn(u,u.return,U)}else{var C=Ni(u.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(C,s,r.__reactInternalSnapshotBeforeUpdate)}catch(U){mn(u,u.return,U)}}m&64&&th(u),m&512&&fu(u,u.return);break;case 3:if(es(r,u),m&64&&(r=u.updateQueue,r!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Zm(r,s)}catch(U){mn(u,u.return,U)}}break;case 27:s===null&&m&4&&vy(u);case 26:case 5:es(r,u),s===null&&m&4&&kp(u),m&512&&fu(u,u.return);break;case 12:es(r,u);break;case 31:es(r,u),m&4&&rh(r,u);break;case 13:es(r,u),m&4&&Bs(r,u),m&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=N0.bind(null,u),nv(r,u))));break;case 22:if(m=u.memoizedState!==null||Ia,!m){s=s!==null&&s.memoizedState!==null||Xn,C=Ia;var R=Xn;Ia=m,(Xn=s)&&!R?ts(r,u,(u.subtreeFlags&8772)!==0):es(r,u),Ia=C,Xn=R}break;case 30:break;default:es(r,u)}}function Ip(r){var s=r.alternate;s!==null&&(r.alternate=null,Ip(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&he(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Sn=null,Zi=!1;function Ja(r,s,u){for(u=u.child;u!==null;)xy(r,s,u),u=u.sibling}function xy(r,s,u){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(ni,u)}catch{}switch(u.tag){case 26:Xn||ca(u,s),Ja(r,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Xn||ca(u,s);var m=Sn,C=Zi;$s(u.type)&&(Sn=u.stateNode,Zi=!1),Ja(r,s,u),Mu(u.stateNode),Sn=m,Zi=C;break;case 5:Xn||ca(u,s);case 6:if(m=Sn,C=Zi,Sn=null,Ja(r,s,u),Sn=m,Zi=C,Sn!==null)if(Zi)try{(Sn.nodeType===9?Sn.body:Sn.nodeName==="HTML"?Sn.ownerDocument.body:Sn).removeChild(u.stateNode)}catch(R){mn(u,s,R)}else try{Sn.removeChild(u.stateNode)}catch(R){mn(u,s,R)}break;case 18:Sn!==null&&(Zi?(r=Sn,Jy(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),$r(r)):Jy(Sn,u.stateNode));break;case 4:m=Sn,C=Zi,Sn=u.stateNode.containerInfo,Zi=!0,Ja(r,s,u),Sn=m,Zi=C;break;case 0:case 11:case 14:case 15:la(2,u,s),Xn||la(4,u,s),Ja(r,s,u);break;case 1:Xn||(ca(u,s),m=u.stateNode,typeof m.componentWillUnmount=="function"&&nh(u,s,m)),Ja(r,s,u);break;case 21:Ja(r,s,u);break;case 22:Xn=(m=Xn)||u.memoizedState!==null,Ja(r,s,u),Xn=m;break;default:Ja(r,s,u)}}function rh(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{$r(r)}catch(u){mn(s,s.return,u)}}}function Bs(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{$r(r)}catch(u){mn(s,s.return,u)}}function Pp(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Vl),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Vl),s;default:throw Error(a(435,r.tag))}}function ah(r,s){var u=Pp(r);s.forEach(function(m){if(!u.has(m)){u.add(m);var C=qp.bind(null,r,m);m.then(C,C)}})}function ar(r,s){var u=s.deletions;if(u!==null)for(var m=0;m<u.length;m++){var C=u[m],R=r,U=s,Z=U;e:for(;Z!==null;){switch(Z.tag){case 27:if($s(Z.type)){Sn=Z.stateNode,Zi=!1;break e}break;case 5:Sn=Z.stateNode,Zi=!1;break e;case 3:case 4:Sn=Z.stateNode.containerInfo,Zi=!0;break e}Z=Z.return}if(Sn===null)throw Error(a(160));xy(R,U,C),Sn=null,Zi=!1,R=C.alternate,R!==null&&(R.return=null),C.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)wy(s,r),s=s.sibling}var ua=null;function wy(r,s){var u=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ar(s,r),sr(r),m&4&&(la(3,r,r.return),Gr(3,r),la(5,r,r.return));break;case 1:ar(s,r),sr(r),m&512&&(Xn||u===null||ca(u,u.return)),m&64&&Ia&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var C=ua;if(ar(s,r),sr(r),m&512&&(Xn||u===null||ca(u,u.return)),m&4){var R=u!==null?u.memoizedState:null;if(m=r.memoizedState,u===null)if(m===null)if(r.stateNode===null){e:{m=r.type,u=r.memoizedProps,C=C.ownerDocument||C;t:switch(m){case"title":R=C.getElementsByTagName("title")[0],(!R||R[st]||R[li]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=C.createElement(m),C.head.insertBefore(R,C.querySelector("head > title"))),Li(R,m,u),R[li]=r,at(R),m=R;break e;case"link":var U=cv("link","href",C).get(m+(u.href||""));if(U){for(var Z=0;Z<U.length;Z++)if(R=U[Z],R.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&R.getAttribute("rel")===(u.rel==null?null:u.rel)&&R.getAttribute("title")===(u.title==null?null:u.title)&&R.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){U.splice(Z,1);break t}}R=C.createElement(m),Li(R,m,u),C.head.appendChild(R);break;case"meta":if(U=cv("meta","content",C).get(m+(u.content||""))){for(Z=0;Z<U.length;Z++)if(R=U[Z],R.getAttribute("content")===(u.content==null?null:""+u.content)&&R.getAttribute("name")===(u.name==null?null:u.name)&&R.getAttribute("property")===(u.property==null?null:u.property)&&R.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&R.getAttribute("charset")===(u.charSet==null?null:u.charSet)){U.splice(Z,1);break t}}R=C.createElement(m),Li(R,m,u),C.head.appendChild(R);break;default:throw Error(a(468,m))}R[li]=r,at(R),m=R}r.stateNode=m}else qs(C,r.type,r.stateNode);else r.stateNode=lv(C,m,r.memoizedProps);else R!==m?(R===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):R.count--,m===null?qs(C,r.type,r.stateNode):lv(C,m,r.memoizedProps)):m===null&&r.stateNode!==null&&Op(r,r.memoizedProps,u.memoizedProps)}break;case 27:ar(s,r),sr(r),m&512&&(Xn||u===null||ca(u,u.return)),u!==null&&m&4&&Op(r,r.memoizedProps,u.memoizedProps);break;case 5:if(ar(s,r),sr(r),m&512&&(Xn||u===null||ca(u,u.return)),r.flags&32){C=r.stateNode;try{ol(C,"")}catch(et){mn(r,r.return,et)}}m&4&&r.stateNode!=null&&(C=r.memoizedProps,Op(r,C,u!==null?u.memoizedProps:C)),m&1024&&(pu=!0);break;case 6:if(ar(s,r),sr(r),m&4){if(r.stateNode===null)throw Error(a(162));m=r.memoizedProps,u=r.stateNode;try{u.nodeValue=m}catch(et){mn(r,r.return,et)}}break;case 3:if(Th=null,C=ua,ua=Ah(s.containerInfo),ar(s,r),ua=C,sr(r),m&4&&u!==null&&u.memoizedState.isDehydrated)try{$r(s.containerInfo)}catch(et){mn(r,r.return,et)}pu&&(pu=!1,Sy(r));break;case 4:m=ua,ua=Ah(r.stateNode.containerInfo),ar(s,r),sr(r),ua=m;break;case 12:ar(s,r),sr(r);break;case 31:ar(s,r),sr(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,ah(r,m)));break;case 13:ar(s,r),sr(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Gs=nt()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,ah(r,m)));break;case 22:C=r.memoizedState!==null;var ae=u!==null&&u.memoizedState!==null,Ce=Ia,Le=Xn;if(Ia=Ce||C,Xn=Le||ae,ar(s,r),Xn=Le,Ia=Ce,sr(r),m&8192)e:for(s=r.stateNode,s._visibility=C?s._visibility&-2:s._visibility|1,C&&(u===null||ae||Ia||Xn||zo(r)),u=null,s=r;;){if(s.tag===5||s.tag===26){if(u===null){ae=u=s;try{if(R=ae.stateNode,C)U=R.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{Z=ae.stateNode;var Pe=ae.memoizedProps.style,Se=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;Z.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(et){mn(ae,ae.return,et)}}}else if(s.tag===6){if(u===null){ae=s;try{ae.stateNode.nodeValue=C?"":ae.memoizedProps}catch(et){mn(ae,ae.return,et)}}}else if(s.tag===18){if(u===null){ae=s;try{var Te=ae.stateNode;C?ev(Te,!0):ev(ae.stateNode,!1)}catch(et){mn(ae,ae.return,et)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}m&4&&(m=r.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,ah(r,u))));break;case 19:ar(s,r),sr(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,ah(r,m)));break;case 30:break;case 21:break;default:ar(s,r),sr(r)}}function sr(r){var s=r.flags;if(s&2){try{for(var u,m=r.return;m!==null;){if(Np(m)){u=m;break}m=m.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var C=u.stateNode,R=jo(r);ih(r,R,C);break;case 5:var U=u.stateNode;u.flags&32&&(ol(U,""),u.flags&=-33);var Z=jo(r);ih(r,Z,U);break;case 3:case 4:var ae=u.stateNode.containerInfo,Ce=jo(r);Lp(r,Ce,ae);break;default:throw Error(a(161))}}catch(Le){mn(r,r.return,Le)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Sy(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Sy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function es(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)by(r,s.alternate,s),s=s.sibling}function zo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:la(4,s,s.return),zo(s);break;case 1:ca(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&nh(s,s.return,u),zo(s);break;case 27:Mu(s.stateNode);case 26:case 5:ca(s,s.return),zo(s);break;case 22:s.memoizedState===null&&zo(s);break;case 30:zo(s);break;default:zo(s)}r=r.sibling}}function ts(r,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var m=s.alternate,C=r,R=s,U=R.flags;switch(R.tag){case 0:case 11:case 15:ts(C,R,u),Gr(4,R);break;case 1:if(ts(C,R,u),m=R,C=m.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Ce){mn(m,m.return,Ce)}if(m=R,C=m.updateQueue,C!==null){var Z=m.stateNode;try{var ae=C.shared.hiddenCallbacks;if(ae!==null)for(C.shared.hiddenCallbacks=null,C=0;C<ae.length;C++)Xm(ae[C],Z)}catch(Ce){mn(m,m.return,Ce)}}u&&U&64&&th(R),fu(R,R.return);break;case 27:vy(R);case 26:case 5:ts(C,R,u),u&&m===null&&U&4&&kp(R),fu(R,R.return);break;case 12:ts(C,R,u);break;case 31:ts(C,R,u),u&&U&4&&rh(C,R);break;case 13:ts(C,R,u),u&&U&4&&Bs(C,R);break;case 22:R.memoizedState===null&&ts(C,R,u),fu(R,R.return);break;case 30:break;default:ts(C,R,u)}s=s.sibling}}function jp(r,s){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Hc(u))}function zp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Hc(r))}function Vr(r,s,u,m){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ey(r,s,u,m),s=s.sibling}function Ey(r,s,u,m){var C=s.flags;switch(s.tag){case 0:case 11:case 15:Vr(r,s,u,m),C&2048&&Gr(9,s);break;case 1:Vr(r,s,u,m);break;case 3:Vr(r,s,u,m),C&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Hc(r)));break;case 12:if(C&2048){Vr(r,s,u,m),r=s.stateNode;try{var R=s.memoizedProps,U=R.id,Z=R.onPostCommit;typeof Z=="function"&&Z(U,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ae){mn(s,s.return,ae)}}else Vr(r,s,u,m);break;case 31:Vr(r,s,u,m);break;case 13:Vr(r,s,u,m);break;case 23:break;case 22:R=s.stateNode,U=s.alternate,s.memoizedState!==null?R._visibility&2?Vr(r,s,u,m):Fo(r,s):R._visibility&2?Vr(r,s,u,m):(R._visibility|=2,Bo(r,s,u,m,(s.subtreeFlags&10256)!==0||!1)),C&2048&&jp(U,s);break;case 24:Vr(r,s,u,m),C&2048&&zp(s.alternate,s);break;default:Vr(r,s,u,m)}}function Bo(r,s,u,m,C){for(C=C&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var R=r,U=s,Z=u,ae=m,Ce=U.flags;switch(U.tag){case 0:case 11:case 15:Bo(R,U,Z,ae,C),Gr(8,U);break;case 23:break;case 22:var Le=U.stateNode;U.memoizedState!==null?Le._visibility&2?Bo(R,U,Z,ae,C):Fo(R,U):(Le._visibility|=2,Bo(R,U,Z,ae,C)),C&&Ce&2048&&jp(U.alternate,U);break;case 24:Bo(R,U,Z,ae,C),C&&Ce&2048&&zp(U.alternate,U);break;default:Bo(R,U,Z,ae,C)}s=s.sibling}}function Fo(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=r,m=s,C=m.flags;switch(m.tag){case 22:Fo(u,m),C&2048&&jp(m.alternate,m);break;case 24:Fo(u,m),C&2048&&zp(m.alternate,m);break;default:Fo(u,m)}s=s.sibling}}var gu=8192;function Wl(r,s,u){if(r.subtreeFlags&gu)for(r=r.child;r!==null;)Ay(r,s,u),r=r.sibling}function Ay(r,s,u){switch(r.tag){case 26:Wl(r,s,u),r.flags&gu&&r.memoizedState!==null&&nx(u,ua,r.memoizedState,r.memoizedProps);break;case 5:Wl(r,s,u);break;case 3:case 4:var m=ua;ua=Ah(r.stateNode.containerInfo),Wl(r,s,u),ua=m;break;case 22:r.memoizedState===null&&(m=r.alternate,m!==null&&m.memoizedState!==null?(m=gu,gu=16777216,Wl(r,s,u),gu=m):Wl(r,s,u));break;default:Wl(r,s,u)}}function mu(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ho(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var m=s[u];pi=m,yu(m,r)}mu(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Bp(r),r=r.sibling}function Bp(r){switch(r.tag){case 0:case 11:case 15:Ho(r),r.flags&2048&&la(9,r,r.return);break;case 3:Ho(r);break;case 12:Ho(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,sh(r)):Ho(r);break;default:Ho(r)}}function sh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var m=s[u];pi=m,yu(m,r)}mu(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:la(8,s,s.return),sh(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,sh(s));break;default:sh(s)}r=r.sibling}}function yu(r,s){for(;pi!==null;){var u=pi;switch(u.tag){case 0:case 11:case 15:la(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Hc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,pi=m;else e:for(u=r;pi!==null;){m=pi;var C=m.sibling,R=m.return;if(Ip(m),m===u){pi=null;break e}if(C!==null){C.return=R,pi=C;break e}pi=R}}}var Fp={getCacheForType:function(r){var s=Oi(ci),u=s.data.get(r);return u===void 0&&(u=r(),s.data.set(r,u)),u},cacheSignal:function(){return Oi(ci).controller.signal}},Cy=typeof WeakMap=="function"?WeakMap:Map,un=0,gn=null,Ht=null,qt=0,dn=0,Sr=null,Fs=!1,Yl=!1,$l=!1,Wr=0,Vn=0,ns=0,Hs=0,oh=0,Fi=0,Us=0,is=null,or=null,ql=!1,Gs=0,Dy=0,lh=1/0,Pa=null,rs=null,Zn=0,as=null,Er=null,Ar=0,Uo=0,Hp=null,Xl=null,vu=0,ch=null;function Hi(){return(un&2)!==0&&qt!==0?qt&-qt:oe.T!==null?vh():tn()}function Ty(){if(Fi===0)if((qt&536870912)===0||Yt){var r=Lt;Lt<<=1,(Lt&3932160)===0&&(Lt=262144),Fi=r}else Fi=536870912;return r=xr.current,r!==null&&(r.flags|=32),Fi}function Qi(r,s,u){(r===gn&&(dn===2||dn===9)||r.cancelPendingCommit!==null)&&(Ws(r,0),Vs(r,qt,Fi,!1)),Pn(r,u),((un&2)===0||r!==gn)&&(r===gn&&((un&2)===0&&(Hs|=u),Vn===4&&Vs(r,qt,Fi,!1)),ja(r))}function My(r,s,u){if((un&6)!==0)throw Error(a(327));var m=!u&&(s&127)===0&&(s&r.expiredLanes)===0||Vt(r,s),C=m?O0(r,s):Zl(r,s,!0),R=m;do{if(C===0){Yl&&!m&&Vs(r,s,0,!1);break}else{if(u=r.current.alternate,R&&!k0(u)){C=Zl(r,s,!1),R=!1;continue}if(C===2){if(R=s,r.errorRecoveryDisabledLanes&R)var U=0;else U=r.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){s=U;e:{var Z=r;C=is;var ae=Z.current.memoizedState.isDehydrated;if(ae&&(Ws(Z,U).flags|=256),U=Zl(Z,U,!1),U!==2){if($l&&!ae){Z.errorRecoveryDisabledLanes|=R,Hs|=R,C=4;break e}R=or,or=C,R!==null&&(or===null?or=R:or.push.apply(or,R))}C=U}if(R=!1,C!==2)continue}}if(C===1){Ws(r,0),Vs(r,s,0,!0);break}e:{switch(m=r,R=C,R){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Vs(m,s,Fi,!Fs);break e;case 2:or=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(C=Gs+300-nt(),10<C)){if(Vs(m,s,Fi,!Fs),zt(m,0,!0)!==0)break e;Ar=s,m.timeoutHandle=ig(_y.bind(null,m,u,or,Pa,ql,s,Fi,Hs,Us,Fs,R,"Throttled",-0,0),C);break e}_y(m,u,or,Pa,ql,s,Fi,Hs,Us,Fs,R,null,-0,0)}}break}while(!0);ja(r)}function _y(r,s,u,m,C,R,U,Z,ae,Ce,Le,Pe,Se,Te){if(r.timeoutHandle=-1,Pe=s.subtreeFlags,Pe&8192||(Pe&16785408)===16785408){Pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ua},Ay(s,R,Pe);var et=(R&62914560)===R?Gs-nt():(R&4194048)===R?Dy-nt():0;if(et=ku(Pe,et),et!==null){Ar=R,r.cancelPendingCommit=et(Iy.bind(null,r,s,R,u,m,C,U,Z,ae,Le,Pe,null,Se,Te)),Vs(r,R,U,!Ce);return}}Iy(r,s,R,u,m,C,U,Z,ae)}function k0(r){for(var s=r;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var C=u[m],R=C.getSnapshot;C=C.value;try{if(!pr(R(),C))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vs(r,s,u,m){s&=~oh,s&=~Hs,r.suspendedLanes|=s,r.pingedLanes&=~s,m&&(r.warmLanes|=s),m=r.expirationTimes;for(var C=s;0<C;){var R=31-kn(C),U=1<<R;m[R]=-1,C&=~U}u!==0&&yi(r,u,s)}function uh(){return(un&6)===0?(wu(0),!1):!0}function Up(){if(Ht!==null){if(dn===0)var r=Ht.return;else r=Ht,Br=wt=null,jd(r),To=null,Os=0,r=Ht;for(;r!==null;)yy(r.alternate,r),r=r.return;Ht=null}}function Ws(r,s){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,Jl(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Ar=0,Up(),gn=r,Ht=u=aa(r.current,null),qt=s,dn=0,Sr=null,Fs=!1,Yl=Vt(r,s),$l=!1,Us=Fi=oh=Hs=ns=Vn=0,or=is=null,ql=!1,(s&8)!==0&&(s|=s&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=s;0<m;){var C=31-kn(m),R=1<<C;s|=r[C],m&=~R}return Wr=s,Bc(),u}function Ry(r,s){St=null,oe.H=au,s===Xa||s===Uc?(s=Kf(),dn=3):s===Zf?(s=Kf(),dn=4):dn=s===ou?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sr=s,Ht===null&&(Vn=1,$d(r,$i(s,r.current)))}function Gp(){var r=xr.current;return r===null?!0:(qt&4194048)===qt?Fr===null:(qt&62914560)===qt||(qt&536870912)!==0?r===Fr:!1}function ky(){var r=oe.H;return oe.H=au,r===null?au:r}function Oy(){var r=oe.A;return oe.A=Fp,r}function dh(){Vn=4,Fs||(qt&4194048)!==qt&&xr.current!==null||(Yl=!0),(ns&134217727)===0&&(Hs&134217727)===0||gn===null||Vs(gn,qt,Fi,!1)}function Zl(r,s,u){var m=un;un|=2;var C=ky(),R=Oy();(gn!==r||qt!==s)&&(Pa=null,Ws(r,s)),s=!1;var U=Vn;e:do try{if(dn!==0&&Ht!==null){var Z=Ht,ae=Sr;switch(dn){case 8:Up(),U=6;break e;case 3:case 2:case 9:case 6:xr.current===null&&(s=!0);var Ce=dn;if(dn=0,Sr=null,Go(r,Z,ae,Ce),u&&Yl){U=0;break e}break;default:Ce=dn,dn=0,Sr=null,Go(r,Z,ae,Ce)}}Ny(),U=Vn;break}catch(Le){Ry(r,Le)}while(!0);return s&&r.shellSuspendCounter++,Br=wt=null,un=m,oe.H=C,oe.A=R,Ht===null&&(gn=null,qt=0,Bc()),U}function Ny(){for(;Ht!==null;)bu(Ht)}function O0(r,s){var u=un;un|=2;var m=ky(),C=Oy();gn!==r||qt!==s?(Pa=null,lh=nt()+500,Ws(r,s)):Yl=Vt(r,s);e:do try{if(dn!==0&&Ht!==null){s=Ht;var R=Sr;t:switch(dn){case 1:dn=0,Sr=null,Go(r,s,R,1);break;case 2:case 9:if($m(R)){dn=0,Sr=null,Ly(s);break}s=function(){dn!==2&&dn!==9||gn!==r||(dn=7),ja(r)},R.then(s,s);break e;case 3:dn=7;break e;case 4:dn=5;break e;case 7:$m(R)?(dn=0,Sr=null,Ly(s)):(dn=0,Sr=null,Go(r,s,R,7));break;case 5:var U=null;switch(Ht.tag){case 26:U=Ht.memoizedState;case 5:case 27:var Z=Ht;if(U?hg(U):Z.stateNode.complete){dn=0,Sr=null;var ae=Z.sibling;if(ae!==null)Ht=ae;else{var Ce=Z.return;Ce!==null?(Ht=Ce,hh(Ce)):Ht=null}break t}}dn=0,Sr=null,Go(r,s,R,5);break;case 6:dn=0,Sr=null,Go(r,s,R,6);break;case 8:Up(),Vn=6;break e;default:throw Error(a(462))}}Vp();break}catch(Le){Ry(r,Le)}while(!0);return Br=wt=null,oe.H=m,oe.A=C,un=u,Ht!==null?0:(gn=null,qt=0,Bc(),Vn)}function Vp(){for(;Ht!==null&&!jt();)bu(Ht)}function bu(r){var s=my(r.alternate,r,Wr);r.memoizedProps=r.pendingProps,s===null?hh(r):Ht=s}function Ly(r){var s=r,u=s.alternate;switch(s.tag){case 15:case 0:s=Tp(u,s,s.pendingProps,s.type,void 0,qt);break;case 11:s=Tp(u,s,s.pendingProps,s.type.render,s.ref,qt);break;case 5:jd(s);default:yy(u,s),s=Ht=Fm(s,Wr),s=my(u,s,Wr)}r.memoizedProps=r.pendingProps,s===null?hh(r):Ht=s}function Go(r,s,u,m){Br=wt=null,jd(s),To=null,Os=0;var C=s.return;try{if(Ep(r,C,s,u,qt)){Vn=1,$d(r,$i(u,r.current)),Ht=null;return}}catch(R){if(C!==null)throw Ht=C,R;Vn=1,$d(r,$i(u,r.current)),Ht=null;return}s.flags&32768?(Yt||m===1?r=!0:Yl||(qt&536870912)!==0?r=!1:(Fs=r=!0,(m===2||m===9||m===3||m===6)&&(m=xr.current,m!==null&&m.tag===13&&(m.flags|=16384))),Wp(s,r)):hh(s)}function hh(r){var s=r;do{if((s.flags&32768)!==0){Wp(s,Fs);return}r=s.return;var u=eh(s.alternate,s,Wr);if(u!==null){Ht=u;return}if(s=s.sibling,s!==null){Ht=s;return}Ht=s=r}while(s!==null);Vn===0&&(Vn=5)}function Wp(r,s){do{var u=_0(r.alternate,r);if(u!==null){u.flags&=32767,Ht=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(r=r.sibling,r!==null)){Ht=r;return}Ht=r=u}while(r!==null);Vn=6,Ht=null}function Iy(r,s,u,m,C,R,U,Z,ae){r.cancelPendingCommit=null;do xu();while(Zn!==0);if((un&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(R=s.lanes|s.childLanes,R|=Ff,Wt(r,u,R,U,Z,ae),r===gn&&(Ht=gn=null,qt=0),Er=s,as=r,Ar=u,Uo=R,Hp=C,Xl=m,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,L0(fn,function(){return Fy(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||m){m=oe.T,oe.T=null,C=Ee.p,Ee.p=2,U=un,un|=4;try{R0(r,s,u)}finally{un=U,Ee.p=C,oe.T=m}}Zn=1,Py(),jy(),zy()}}function Py(){if(Zn===1){Zn=0;var r=as,s=Er,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=oe.T,oe.T=null;var m=Ee.p;Ee.p=2;var C=un;un|=4;try{wy(s,r);var R=tg,U=Im(r.containerInfo),Z=R.focusedElem,ae=R.selectionRange;if(U!==Z&&Z&&Z.ownerDocument&&jc(Z.ownerDocument.documentElement,Z)){if(ae!==null&&Ed(Z)){var Ce=ae.start,Le=ae.end;if(Le===void 0&&(Le=Ce),"selectionStart"in Z)Z.selectionStart=Ce,Z.selectionEnd=Math.min(Le,Z.value.length);else{var Pe=Z.ownerDocument||document,Se=Pe&&Pe.defaultView||window;if(Se.getSelection){var Te=Se.getSelection(),et=Z.textContent.length,ct=Math.min(ae.start,et),An=ae.end===void 0?ct:Math.min(ae.end,et);!Te.extend&&ct>An&&(U=An,An=ct,ct=U);var ve=Pc(Z,ct),fe=Pc(Z,An);if(ve&&fe&&(Te.rangeCount!==1||Te.anchorNode!==ve.node||Te.anchorOffset!==ve.offset||Te.focusNode!==fe.node||Te.focusOffset!==fe.offset)){var xe=Pe.createRange();xe.setStart(ve.node,ve.offset),Te.removeAllRanges(),ct>An?(Te.addRange(xe),Te.extend(fe.node,fe.offset)):(xe.setEnd(fe.node,fe.offset),Te.addRange(xe))}}}}for(Pe=[],Te=Z;Te=Te.parentNode;)Te.nodeType===1&&Pe.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<Pe.length;Z++){var Oe=Pe[Z];Oe.element.scrollLeft=Oe.left,Oe.element.scrollTop=Oe.top}}os=!!eg,tg=eg=null}finally{un=C,Ee.p=m,oe.T=u}}r.current=s,Zn=2}}function jy(){if(Zn===2){Zn=0;var r=as,s=Er,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=oe.T,oe.T=null;var m=Ee.p;Ee.p=2;var C=un;un|=4;try{by(r,s.alternate,s)}finally{un=C,Ee.p=m,oe.T=u}}Zn=3}}function zy(){if(Zn===4||Zn===3){Zn=0,wn();var r=as,s=Er,u=Ar,m=Xl;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zn=5:(Zn=0,Er=as=null,By(r,r.pendingLanes));var C=r.pendingLanes;if(C===0&&(rs=null),Ri(u),s=s.stateNode,Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(ni,s,void 0,(s.current.flags&128)===128)}catch{}if(m!==null){s=oe.T,C=Ee.p,Ee.p=2,oe.T=null;try{for(var R=r.onRecoverableError,U=0;U<m.length;U++){var Z=m[U];R(Z.value,{componentStack:Z.stack})}}finally{oe.T=s,Ee.p=C}}(Ar&3)!==0&&xu(),ja(r),C=r.pendingLanes,(u&261930)!==0&&(C&42)!==0?r===ch?vu++:(vu=0,ch=r):vu=0,wu(0)}}function By(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Hc(s)))}function xu(){return Py(),jy(),zy(),Fy()}function Fy(){if(Zn!==5)return!1;var r=as,s=Uo;Uo=0;var u=Ri(Ar),m=oe.T,C=Ee.p;try{Ee.p=32>u?32:u,oe.T=null,u=Hp,Hp=null;var R=as,U=Ar;if(Zn=0,Er=as=null,Ar=0,(un&6)!==0)throw Error(a(331));var Z=un;if(un|=4,Bp(R.current),Ey(R,R.current,U,u),un=Z,wu(0,!1),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(ni,R)}catch{}return!0}finally{Ee.p=C,oe.T=m,By(r,s)}}function Yp(r,s,u){s=$i(u,s),s=Xd(r.stateNode,s,2),r=Ls(r,s,2),r!==null&&(Pn(r,2),ja(r))}function mn(r,s,u){if(r.tag===3)Yp(r,r,u);else for(;s!==null;){if(s.tag===3){Yp(s,r,u);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(rs===null||!rs.has(m))){r=$i(u,r),u=Zd(2),m=Ls(s,u,2),m!==null&&(hy(u,m,s,r),Pn(m,2),ja(m));break}}s=s.return}}function $p(r,s,u){var m=r.pingCache;if(m===null){m=r.pingCache=new Cy;var C=new Set;m.set(s,C)}else C=m.get(s),C===void 0&&(C=new Set,m.set(s,C));C.has(u)||($l=!0,C.add(u),r=Hy.bind(null,r,s,u),s.then(r,r))}function Hy(r,s,u){var m=r.pingCache;m!==null&&m.delete(s),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,gn===r&&(qt&u)===u&&(Vn===4||Vn===3&&(qt&62914560)===qt&&300>nt()-Gs?(un&2)===0&&Ws(r,0):oh|=u,Us===qt&&(Us=0)),ja(r)}function fh(r,s){s===0&&(s=Kt()),r=gr(r,s),r!==null&&(Pn(r,s),ja(r))}function N0(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),fh(r,u)}function qp(r,s){var u=0;switch(r.tag){case 31:case 13:var m=r.stateNode,C=r.memoizedState;C!==null&&(u=C.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(s),fh(r,u)}function L0(r,s){return nn(r,s)}var ph=null,Ql=null,gh=!1,mh=!1,yh=!1,ss=0;function ja(r){r!==Ql&&r.next===null&&(Ql===null?ph=Ql=r:Ql=Ql.next=r),mh=!0,gh||(gh=!0,P0())}function wu(r,s){if(!yh&&mh){yh=!0;do for(var u=!1,m=ph;m!==null;){if(r!==0){var C=m.pendingLanes;if(C===0)var R=0;else{var U=m.suspendedLanes,Z=m.pingedLanes;R=(1<<31-kn(42|r)+1)-1,R&=C&~(U&~Z),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(u=!0,Vy(m,R))}else R=qt,R=zt(m,m===gn?R:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(R&3)===0||Vt(m,R)||(u=!0,Vy(m,R));m=m.next}while(u);yh=!1}}function I0(){Xp()}function Xp(){mh=gh=!1;var r=0;ss!==0&&V0()&&(r=ss);for(var s=nt(),u=null,m=ph;m!==null;){var C=m.next,R=Uy(m,s);R===0?(m.next=null,u===null?ph=C:u.next=C,C===null&&(Ql=u)):(u=m,(r!==0||(R&3)!==0)&&(mh=!0)),m=C}Zn!==0&&Zn!==5||wu(r),ss!==0&&(ss=0)}function Uy(r,s){for(var u=r.suspendedLanes,m=r.pingedLanes,C=r.expirationTimes,R=r.pendingLanes&-62914561;0<R;){var U=31-kn(R),Z=1<<U,ae=C[U];ae===-1?((Z&u)===0||(Z&m)!==0)&&(C[U]=Mt(Z,s)):ae<=s&&(r.expiredLanes|=Z),R&=~Z}if(s=gn,u=qt,u=zt(r,r===s?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,u===0||r===s&&(dn===2||dn===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&xn(m),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Vt(r,u)){if(s=u&-u,s===r.callbackPriority)return s;switch(m!==null&&xn(m),Ri(u)){case 2:case 8:u=Qt;break;case 32:u=fn;break;case 268435456:u=wi;break;default:u=fn}return m=Gy.bind(null,r),u=nn(u,m),r.callbackPriority=s,r.callbackNode=u,s}return m!==null&&m!==null&&xn(m),r.callbackPriority=2,r.callbackNode=null,2}function Gy(r,s){if(Zn!==0&&Zn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(xu()&&r.callbackNode!==u)return null;var m=qt;return m=zt(r,r===gn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(My(r,m,s),Uy(r,nt()),r.callbackNode!=null&&r.callbackNode===u?Gy.bind(null,r):null)}function Vy(r,s){if(xu())return null;My(r,s,!0)}function P0(){ag(function(){(un&6)!==0?nn(Dn,I0):Xp()})}function vh(){if(ss===0){var r=Rl;r===0&&(r=Rt,Rt<<=1,(Rt&261888)===0&&(Rt=256)),ss=r}return ss}function Zp(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:pd(""+r)}function Wy(r,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,r.id&&u.setAttribute("form",r.id),s.parentNode.insertBefore(u,s),r=new FormData(r),u.parentNode.removeChild(u),r}function Yy(r,s,u,m,C){if(s==="submit"&&u&&u.stateNode===C){var R=Zp((C[jn]||null).action),U=m.submitter;U&&(s=(s=U[jn]||null)?Zp(s.formAction):U.getAttribute("formAction"),s!==null&&(R=s,U=null));var Z=new _c("action","action",null,m,C);r.push({event:Z,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ss!==0){var ae=U?Wy(C,U):new FormData(C);nu(u,{pending:!0,data:ae,method:C.method,action:R},null,ae)}}else typeof R=="function"&&(Z.preventDefault(),ae=U?Wy(C,U):new FormData(C),nu(u,{pending:!0,data:ae,method:C.method,action:R},R,ae))},currentTarget:C}]})}}for(var Qp=0;Qp<Dd.length;Qp++){var bh=Dd[Qp],$y=bh.toLowerCase(),j0=bh[0].toUpperCase()+bh.slice(1);ra($y,"on"+j0)}ra(Pm,"onAnimationEnd"),ra(jm,"onAnimationIteration"),ra(xl,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(y0,"onTransitionRun"),ra(v0,"onTransitionStart"),ra(b0,"onTransitionCancel"),ra(Va,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function xh(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var m=r[u],C=m.event;m=m.listeners;e:{var R=void 0;if(s)for(var U=m.length-1;0<=U;U--){var Z=m[U],ae=Z.instance,Ce=Z.currentTarget;if(Z=Z.listener,ae!==R&&C.isPropagationStopped())break e;R=Z,C.currentTarget=Ce;try{R(C)}catch(Le){Td(Le)}C.currentTarget=null,R=ae}else for(U=0;U<m.length;U++){if(Z=m[U],ae=Z.instance,Ce=Z.currentTarget,Z=Z.listener,ae!==R&&C.isPropagationStopped())break e;R=Z,C.currentTarget=Ce;try{R(C)}catch(Le){Td(Le)}C.currentTarget=null,R=ae}}}}function Ut(r,s){var u=s[Ss];u===void 0&&(u=s[Ss]=new Set);var m=r+"__bubble";u.has(m)||(qy(s,r,2,!1),u.add(m))}function wh(r,s,u){var m=0;s&&(m|=4),qy(u,r,m,s)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Kp(r){if(!r[Su]){r[Su]=!0,Ei.forEach(function(u){u!=="selectionchange"&&(z0.has(u)||wh(u,!1,r),wh(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Su]||(s[Su]=!0,wh("selectionchange",!1,s))}}function qy(r,s,u,m){switch(cr(s)){case 2:var C=rx;break;case 8:C=ax;break;default:C=Nu}u=C.bind(null,s,u,r),C=void 0,!cl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(C=!0),m?C!==void 0?r.addEventListener(s,u,{capture:!0,passive:C}):r.addEventListener(s,u,!0):C!==void 0?r.addEventListener(s,u,{passive:C}):r.addEventListener(s,u,!1)}function Eu(r,s,u,m,C){var R=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var Z=m.stateNode.containerInfo;if(Z===C)break;if(U===4)for(U=m.return;U!==null;){var ae=U.tag;if((ae===3||ae===4)&&U.stateNode.containerInfo===C)return;U=U.return}for(;Z!==null;){if(U=ze(Z),U===null)return;if(ae=U.tag,ae===5||ae===6||ae===26||ae===27){m=R=U;continue e}Z=Z.parentNode}}m=m.return}ym(function(){var Ce=R,Le=Sf(u),Pe=[];e:{var Se=zm.get(r);if(Se!==void 0){var Te=_c,et=r;switch(r){case"keypress":if(md(u)===0)break e;case"keydown":case"keyup":Te=fo;break;case"focusin":et="focus",Te=bd;break;case"focusout":et="blur",Te=bd;break;case"beforeblur":case"afterblur":Te=bd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=o0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=h0;break;case Pm:case jm:case xl:Te=l0;break;case Va:Te=bi;break;case"scroll":case"scrollend":Te=pl;break;case"wheel":Te=Am;break;case"copy":case"cut":case"paste":Te=Df;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=Sm;break;case"toggle":case"beforetoggle":Te=Cm}var ct=(s&4)!==0,An=!ct&&(r==="scroll"||r==="scrollend"),ve=ct?Se!==null?Se+"Capture":null:Se;ct=[];for(var fe=Ce,xe;fe!==null;){var Oe=fe;if(xe=Oe.stateNode,Oe=Oe.tag,Oe!==5&&Oe!==26&&Oe!==27||xe===null||ve===null||(Oe=As(fe,ve),Oe!=null&&ct.push(Au(fe,Oe,xe))),An)break;fe=fe.return}0<ct.length&&(Se=new Te(Se,et,null,u,Le),Pe.push({event:Se,listeners:ct}))}}if((s&7)===0){e:{if(Se=r==="mouseover"||r==="pointerover",Te=r==="mouseout"||r==="pointerout",Se&&u!==wf&&(et=u.relatedTarget||u.fromElement)&&(ze(et)||et[ki]))break e;if((Te||Se)&&(Se=Le.window===Le?Le:(Se=Le.ownerDocument)?Se.defaultView||Se.parentWindow:window,Te?(et=u.relatedTarget||u.toElement,Te=Ce,et=et?ze(et):null,et!==null&&(An=d(et),ct=et.tag,et!==An||ct!==5&&ct!==27&&ct!==6)&&(et=null)):(Te=null,et=Ce),Te!==et)){if(ct=bm,Oe="onMouseLeave",ve="onMouseEnter",fe="mouse",(r==="pointerout"||r==="pointerover")&&(ct=Sm,Oe="onPointerLeave",ve="onPointerEnter",fe="pointer"),An=Te==null?Se:ln(Te),xe=et==null?Se:ln(et),Se=new ct(Oe,fe+"leave",Te,u,Le),Se.target=An,Se.relatedTarget=xe,Oe=null,ze(Le)===Ce&&(ct=new ct(ve,fe+"enter",et,u,Le),ct.target=xe,ct.relatedTarget=An,Oe=ct),An=Oe,Te&&et)t:{for(ct=B0,ve=Te,fe=et,xe=0,Oe=ve;Oe;Oe=ct(Oe))xe++;Oe=0;for(var ht=fe;ht;ht=ct(ht))Oe++;for(;0<xe-Oe;)ve=ct(ve),xe--;for(;0<Oe-xe;)fe=ct(fe),Oe--;for(;xe--;){if(ve===fe||fe!==null&&ve===fe.alternate){ct=ve;break t}ve=ct(ve),fe=ct(fe)}ct=null}else ct=null;Te!==null&&Xy(Pe,Se,Te,ct,!1),et!==null&&An!==null&&Xy(Pe,An,et,ct,!0)}}e:{if(Se=Ce?ln(Ce):window,Te=Se.nodeName&&Se.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Se.type==="file")var It=_m;else if(Mm(Se))if(Rm)It=g0;else{It=Nm;var ot=vl}else Te=Se.nodeName,!Te||Te.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?Ce&&Tn(Ce.elementType)&&(It=_m):It=Lm;if(It&&(It=It(r,Ce))){If(Pe,It,u,Le);break e}ot&&ot(r,Se,Ce),r==="focusout"&&Ce&&Se.type==="number"&&Ce.memoizedProps.value!=null&&fd(Se,"number",Se.value)}switch(ot=Ce?ln(Ce):window,r){case"focusin":(Mm(ot)||ot.contentEditable==="true")&&(Pr=ot,zf=Ce,na=null);break;case"focusout":na=zf=Pr=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,Ts(Pe,u,Le);break;case"selectionchange":if(Ad)break;case"keydown":case"keyup":Ts(Pe,u,Le)}var yt;if(_f)e:{switch(r){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else po?yl(r,u)&&(Xt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Xt="onCompositionStart");Xt&&(Ds&&u.locale!=="ko"&&(po||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&po&&(yt=vm()):($n=Le,Ga="value"in $n?$n.value:$n.textContent,po=!0)),ot=Sh(Ce,Xt),0<ot.length&&(Xt=new Mf(Xt,r,null,u,Le),Pe.push({event:Xt,listeners:ot}),yt?Xt.data=yt:(yt=kf(u),yt!==null&&(Xt.data=yt)))),(yt=Dm?Of(r,u):Nf(r,u))&&(Xt=Sh(Ce,"onBeforeInput"),0<Xt.length&&(ot=new Mf("onBeforeInput","beforeinput",null,u,Le),Pe.push({event:ot,listeners:Xt}),ot.data=yt)),Yy(Pe,r,Ce,u,Le)}xh(Pe,s)})}function Au(r,s,u){return{instance:r,listener:s,currentTarget:u}}function Sh(r,s){for(var u=s+"Capture",m=[];r!==null;){var C=r,R=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||R===null||(C=As(r,u),C!=null&&m.unshift(Au(r,C,R)),C=As(r,s),C!=null&&m.push(Au(r,C,R))),r.tag===3)return m;r=r.return}return[]}function B0(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Xy(r,s,u,m,C){for(var R=s._reactName,U=[];u!==null&&u!==m;){var Z=u,ae=Z.alternate,Ce=Z.stateNode;if(Z=Z.tag,ae!==null&&ae===m)break;Z!==5&&Z!==26&&Z!==27||Ce===null||(ae=Ce,C?(Ce=As(u,R),Ce!=null&&U.unshift(Au(u,Ce,ae))):C||(Ce=As(u,R),Ce!=null&&U.push(Au(u,Ce,ae)))),u=u.return}U.length!==0&&r.push({event:s,listeners:U})}var F0=/\r\n?/g,H0=/\u0000|\uFFFD/g;function Cu(r){return(typeof r=="string"?r:""+r).replace(F0,`
`).replace(H0,"")}function Zy(r,s){return s=Cu(s),Cu(r)===s}function En(r,s,u,m,C,R){switch(u){case"children":typeof m=="string"?s==="body"||s==="textarea"&&m===""||ol(r,m):(typeof m=="number"||typeof m=="bigint")&&s!=="body"&&ol(r,""+m);break;case"className":al(r,"class",m);break;case"tabIndex":al(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":al(r,u,m);break;case"style":fm(r,m,R);break;case"data":if(s!=="object"){al(r,"data",m);break}case"src":case"href":if(m===""&&(s!=="a"||u!=="href")){r.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=pd(""+m),r.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(u==="formAction"?(s!=="input"&&En(r,s,"name",C.name,C,null),En(r,s,"formEncType",C.formEncType,C,null),En(r,s,"formMethod",C.formMethod,C,null),En(r,s,"formTarget",C.formTarget,C,null)):(En(r,s,"encType",C.encType,C,null),En(r,s,"method",C.method,C,null),En(r,s,"target",C.target,C,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=pd(""+m),r.setAttribute(u,m);break;case"onClick":m!=null&&(r.onclick=Ua);break;case"onScroll":m!=null&&Ut("scroll",r);break;case"onScrollEnd":m!=null&&Ut("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(u=m.__html,u!=null){if(C.children!=null)throw Error(a(60));r.innerHTML=u}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}u=pd(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""+m):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":m===!0?r.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,m):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(u,m):r.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(u):r.setAttribute(u,m);break;case"popover":Ut("beforetoggle",r),Ut("toggle",r),dd(r,"popover",m);break;case"xlinkActuate":Ea(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ea(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ea(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ea(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ea(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ea(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ea(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ea(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ea(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":dd(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=pm.get(u)||u,dd(r,u,m))}}function Jp(r,s,u,m,C,R){switch(u){case"style":fm(r,m,R);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(u=m.__html,u!=null){if(C.children!=null)throw Error(a(60));r.innerHTML=u}}break;case"children":typeof m=="string"?ol(r,m):(typeof m=="number"||typeof m=="bigint")&&ol(r,""+m);break;case"onScroll":m!=null&&Ut("scroll",r);break;case"onScrollEnd":m!=null&&Ut("scrollend",r);break;case"onClick":m!=null&&(r.onclick=Ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(C=u.endsWith("Capture"),s=u.slice(2,C?u.length-7:void 0),R=r[jn]||null,R=R!=null?R[u]:null,typeof R=="function"&&r.removeEventListener(s,R,C),typeof m=="function")){typeof R!="function"&&R!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(s,m,C);break e}u in r?r[u]=m:m===!0?r.setAttribute(u,""):dd(r,u,m)}}}function Li(r,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",r),Ut("load",r);var m=!1,C=!1,R;for(R in u)if(u.hasOwnProperty(R)){var U=u[R];if(U!=null)switch(R){case"src":m=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:En(r,s,R,U,u,null)}}C&&En(r,s,"srcSet",u.srcSet,u,null),m&&En(r,s,"src",u.src,u,null);return;case"input":Ut("invalid",r);var Z=R=U=C=null,ae=null,Ce=null;for(m in u)if(u.hasOwnProperty(m)){var Le=u[m];if(Le!=null)switch(m){case"name":C=Le;break;case"type":U=Le;break;case"checked":ae=Le;break;case"defaultChecked":Ce=Le;break;case"value":R=Le;break;case"defaultValue":Z=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(a(137,s));break;default:En(r,s,m,Le,u,null)}}hm(r,R,Z,ae,Ce,U,C,!1);return;case"select":Ut("invalid",r),m=U=R=null;for(C in u)if(u.hasOwnProperty(C)&&(Z=u[C],Z!=null))switch(C){case"value":R=Z;break;case"defaultValue":U=Z;break;case"multiple":m=Z;default:En(r,s,C,Z,u,null)}s=R,u=U,r.multiple=!!m,s!=null?sl(r,!!m,s,!1):u!=null&&sl(r,!!m,u,!0);return;case"textarea":Ut("invalid",r),R=C=m=null;for(U in u)if(u.hasOwnProperty(U)&&(Z=u[U],Z!=null))switch(U){case"value":m=Z;break;case"defaultValue":C=Z;break;case"children":R=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(91));break;default:En(r,s,U,Z,u,null)}bf(r,m,C,R);return;case"option":for(ae in u)u.hasOwnProperty(ae)&&(m=u[ae],m!=null)&&(ae==="selected"?r.selected=m&&typeof m!="function"&&typeof m!="symbol":En(r,s,ae,m,u,null));return;case"dialog":Ut("beforetoggle",r),Ut("toggle",r),Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":Ut("load",r);break;case"video":case"audio":for(m=0;m<Kl.length;m++)Ut(Kl[m],r);break;case"image":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"embed":case"source":case"link":Ut("error",r),Ut("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ce in u)if(u.hasOwnProperty(Ce)&&(m=u[Ce],m!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:En(r,s,Ce,m,u,null)}return;default:if(Tn(s)){for(Le in u)u.hasOwnProperty(Le)&&(m=u[Le],m!==void 0&&Jp(r,s,Le,m,u,void 0));return}}for(Z in u)u.hasOwnProperty(Z)&&(m=u[Z],m!=null&&En(r,s,Z,m,u,null))}function U0(r,s,u,m){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,R=null,U=null,Z=null,ae=null,Ce=null,Le=null;for(Te in u){var Pe=u[Te];if(u.hasOwnProperty(Te)&&Pe!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":ae=Pe;default:m.hasOwnProperty(Te)||En(r,s,Te,null,m,Pe)}}for(var Se in m){var Te=m[Se];if(Pe=u[Se],m.hasOwnProperty(Se)&&(Te!=null||Pe!=null))switch(Se){case"type":R=Te;break;case"name":C=Te;break;case"checked":Ce=Te;break;case"defaultChecked":Le=Te;break;case"value":U=Te;break;case"defaultValue":Z=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(a(137,s));break;default:Te!==Pe&&En(r,s,Se,Te,m,Pe)}}yf(r,U,Z,ae,Ce,Le,R,C);return;case"select":Te=U=Z=Se=null;for(R in u)if(ae=u[R],u.hasOwnProperty(R)&&ae!=null)switch(R){case"value":break;case"multiple":Te=ae;default:m.hasOwnProperty(R)||En(r,s,R,null,m,ae)}for(C in m)if(R=m[C],ae=u[C],m.hasOwnProperty(C)&&(R!=null||ae!=null))switch(C){case"value":Se=R;break;case"defaultValue":Z=R;break;case"multiple":U=R;default:R!==ae&&En(r,s,C,R,m,ae)}s=Z,u=U,m=Te,Se!=null?sl(r,!!u,Se,!1):!!m!=!!u&&(s!=null?sl(r,!!u,s,!0):sl(r,!!u,u?[]:"",!1));return;case"textarea":Te=Se=null;for(Z in u)if(C=u[Z],u.hasOwnProperty(Z)&&C!=null&&!m.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:En(r,s,Z,null,m,C)}for(U in m)if(C=m[U],R=u[U],m.hasOwnProperty(U)&&(C!=null||R!=null))switch(U){case"value":Se=C;break;case"defaultValue":Te=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:C!==R&&En(r,s,U,C,m,R)}vf(r,Se,Te);return;case"option":for(var et in u)Se=u[et],u.hasOwnProperty(et)&&Se!=null&&!m.hasOwnProperty(et)&&(et==="selected"?r.selected=!1:En(r,s,et,null,m,Se));for(ae in m)Se=m[ae],Te=u[ae],m.hasOwnProperty(ae)&&Se!==Te&&(Se!=null||Te!=null)&&(ae==="selected"?r.selected=Se&&typeof Se!="function"&&typeof Se!="symbol":En(r,s,ae,Se,m,Te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in u)Se=u[ct],u.hasOwnProperty(ct)&&Se!=null&&!m.hasOwnProperty(ct)&&En(r,s,ct,null,m,Se);for(Ce in m)if(Se=m[Ce],Te=u[Ce],m.hasOwnProperty(Ce)&&Se!==Te&&(Se!=null||Te!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(a(137,s));break;default:En(r,s,Ce,Se,m,Te)}return;default:if(Tn(s)){for(var An in u)Se=u[An],u.hasOwnProperty(An)&&Se!==void 0&&!m.hasOwnProperty(An)&&Jp(r,s,An,void 0,m,Se);for(Le in m)Se=m[Le],Te=u[Le],!m.hasOwnProperty(Le)||Se===Te||Se===void 0&&Te===void 0||Jp(r,s,Le,Se,m,Te);return}}for(var ve in u)Se=u[ve],u.hasOwnProperty(ve)&&Se!=null&&!m.hasOwnProperty(ve)&&En(r,s,ve,null,m,Se);for(Pe in m)Se=m[Pe],Te=u[Pe],!m.hasOwnProperty(Pe)||Se===Te||Se==null&&Te==null||En(r,s,Pe,Se,m,Te)}function Eh(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G0(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var C=u[m],R=C.transferSize,U=C.initiatorType,Z=C.duration;if(R&&Z&&Eh(U)){for(U=0,Z=C.responseEnd,m+=1;m<u.length;m++){var ae=u[m],Ce=ae.startTime;if(Ce>Z)break;var Le=ae.transferSize,Pe=ae.initiatorType;Le&&Eh(Pe)&&(ae=ae.responseEnd,U+=Le*(ae<Z?1:(Z-Ce)/(ae-Ce)))}if(--m,s+=8*(R+U)/(C.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var eg=null,tg=null;function Du(r){return r.nodeType===9?r:r.ownerDocument}function Qy(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ky(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function ng(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ys=null;function V0(){var r=window.event;return r&&r.type==="popstate"?r===Ys?!1:(Ys=r,!0):(Ys=null,!1)}var ig=typeof setTimeout=="function"?setTimeout:void 0,Jl=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,ag=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(r){return rg.resolve(null).then(r).catch(W0)}:ig;function W0(r){setTimeout(function(){throw r})}function $s(r){return r==="head"}function Jy(r,s){var u=s,m=0;do{var C=u.nextSibling;if(r.removeChild(u),C&&C.nodeType===8)if(u=C.data,u==="/$"||u==="/&"){if(m===0){r.removeChild(C),$r(s);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Mu(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,Mu(u);for(var R=u.firstChild;R;){var U=R.nextSibling,Z=R.nodeName;R[st]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&R.rel.toLowerCase()==="stylesheet"||u.removeChild(R),R=U}}else u==="body"&&Mu(r.ownerDocument.body);u=C}while(u);$r(s)}function ev(r,s){var u=r;r=0;do{var m=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=m}while(u)}function sg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":sg(u),he(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function Y0(r,s,u,m){for(;r.nodeType===1;){var C=u;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[st])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(R=r.getAttribute("rel"),R==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(R!==C.rel||r.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||r.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||r.getAttribute("title")!==(C.title==null?null:C.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(R=r.getAttribute("src"),(R!==(C.src==null?null:C.src)||r.getAttribute("type")!==(C.type==null?null:C.type)||r.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&R&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var R=C.name==null?null:""+C.name;if(C.type==="hidden"&&r.getAttribute("name")===R)return r}else return r;if(r=Cr(r.nextSibling),r===null)break}return null}function $0(r,s,u){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Cr(r.nextSibling),r===null))return null;return r}function tv(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Cr(r.nextSibling),r===null))return null;return r}function og(r){return r.data==="$?"||r.data==="$~"}function lg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function nv(r,s){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||u.readyState!=="loading")s();else{var m=function(){s(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Cr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Tu=null;function cg(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(s===0)return Cr(r.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}r=r.nextSibling}return null}function ug(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return r;s--}else u!=="/$"&&u!=="/&"||s++}r=r.previousSibling}return null}function iv(r,s,u){switch(s=Du(u),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Mu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);he(r)}var lr=new Map,rv=new Set;function Ah(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var da=Ee.d;Ee.d={f:q0,r:X0,D:Z0,C:Q0,L:K0,m:J0,X:av,S:ex,M:tx};function q0(){var r=da.f(),s=uh();return r||s}function X0(r){var s=it(r);s!==null&&s.tag===5&&s.type==="form"?sy(s):da.r(r)}var Vo=typeof document>"u"?null:document;function dg(r,s,u){var m=Vo;if(m&&typeof s=="string"&&s){var C=Lr(s);C='link[rel="'+r+'"][href="'+C+'"]',typeof u=="string"&&(C+='[crossorigin="'+u+'"]'),rv.has(C)||(rv.add(C),r={rel:r,crossOrigin:u,href:s},m.querySelector(C)===null&&(s=m.createElement("link"),Li(s,"link",r),at(s),m.head.appendChild(s)))}}function Z0(r){da.D(r),dg("dns-prefetch",r,null)}function Q0(r,s){da.C(r,s),dg("preconnect",r,s)}function K0(r,s,u){da.L(r,s,u);var m=Vo;if(m&&r&&s){var C='link[rel="preload"][as="'+Lr(s)+'"]';s==="image"&&u&&u.imageSrcSet?(C+='[imagesrcset="'+Lr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(C+='[imagesizes="'+Lr(u.imageSizes)+'"]')):C+='[href="'+Lr(r)+'"]';var R=C;switch(s){case"style":R=ec(r);break;case"script":R=Yr(r)}lr.has(R)||(r=O({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:r,as:s},u),lr.set(R,r),m.querySelector(C)!==null||s==="style"&&m.querySelector(_u(R))||s==="script"&&m.querySelector(tc(R))||(s=m.createElement("link"),Li(s,"link",r),at(s),m.head.appendChild(s)))}}function J0(r,s){da.m(r,s);var u=Vo;if(u&&r){var m=s&&typeof s.as=="string"?s.as:"script",C='link[rel="modulepreload"][as="'+Lr(m)+'"][href="'+Lr(r)+'"]',R=C;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=Yr(r)}if(!lr.has(R)&&(r=O({rel:"modulepreload",href:r},s),lr.set(R,r),u.querySelector(C)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(tc(R)))return}m=u.createElement("link"),Li(m,"link",r),at(m),u.head.appendChild(m)}}}function ex(r,s,u){da.S(r,s,u);var m=Vo;if(m&&r){var C=On(m).hoistableStyles,R=ec(r);s=s||"default";var U=C.get(R);if(!U){var Z={loading:0,preload:null};if(U=m.querySelector(_u(R)))Z.loading=5;else{r=O({rel:"stylesheet",href:r,"data-precedence":s},u),(u=lr.get(R))&&nc(r,u);var ae=U=m.createElement("link");at(ae),Li(ae,"link",r),ae._p=new Promise(function(Ce,Le){ae.onload=Ce,ae.onerror=Le}),ae.addEventListener("load",function(){Z.loading|=1}),ae.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Ch(U,s,m)}U={type:"stylesheet",instance:U,count:1,state:Z},C.set(R,U)}}}function av(r,s){da.X(r,s);var u=Vo;if(u&&r){var m=On(u).hoistableScripts,C=Yr(r),R=m.get(C);R||(R=u.querySelector(tc(C)),R||(r=O({src:r,async:!0},s),(s=lr.get(C))&&Dh(r,s),R=u.createElement("script"),at(R),Li(R,"link",r),u.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},m.set(C,R))}}function tx(r,s){da.M(r,s);var u=Vo;if(u&&r){var m=On(u).hoistableScripts,C=Yr(r),R=m.get(C);R||(R=u.querySelector(tc(C)),R||(r=O({src:r,async:!0,type:"module"},s),(s=lr.get(C))&&Dh(r,s),R=u.createElement("script"),at(R),Li(R,"link",r),u.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},m.set(C,R))}}function sv(r,s,u,m){var C=(C=Ke.current)?Ah(C):null;if(!C)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=ec(u.href),u=On(C).hoistableStyles,m=u.get(s),m||(m={type:"style",instance:null,count:0,state:null},u.set(s,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=ec(u.href);var R=On(C).hoistableStyles,U=R.get(r);if(U||(C=C.ownerDocument||C,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(r,U),(R=C.querySelector(_u(r)))&&!R._p&&(U.instance=R,U.state.loading=5),lr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},lr.set(r,u),R||ov(C,r,u,U.state))),s&&m===null)throw Error(a(528,""));return U}if(s&&m!==null)throw Error(a(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Yr(u),u=On(C).hoistableScripts,m=u.get(s),m||(m={type:"script",instance:null,count:0,state:null},u.set(s,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function ec(r){return'href="'+Lr(r)+'"'}function _u(r){return'link[rel="stylesheet"]['+r+"]"}function Ru(r){return O({},r,{"data-precedence":r.precedence,precedence:null})}function ov(r,s,u,m){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?m.loading=1:(s=r.createElement("link"),m.preload=s,s.addEventListener("load",function(){return m.loading|=1}),s.addEventListener("error",function(){return m.loading|=2}),Li(s,"link",u),at(s),r.head.appendChild(s))}function Yr(r){return'[src="'+Lr(r)+'"]'}function tc(r){return"script[async]"+r}function lv(r,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var m=r.querySelector('style[data-href~="'+Lr(u.href)+'"]');if(m)return s.instance=m,at(m),m;var C=O({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),at(m),Li(m,"style",C),Ch(m,u.precedence,r),s.instance=m;case"stylesheet":C=ec(u.href);var R=r.querySelector(_u(C));if(R)return s.state.loading|=4,s.instance=R,at(R),R;m=Ru(u),(C=lr.get(C))&&nc(m,C),R=(r.ownerDocument||r).createElement("link"),at(R);var U=R;return U._p=new Promise(function(Z,ae){U.onload=Z,U.onerror=ae}),Li(R,"link",m),s.state.loading|=4,Ch(R,u.precedence,r),s.instance=R;case"script":return R=Yr(u.src),(C=r.querySelector(tc(R)))?(s.instance=C,at(C),C):(m=u,(C=lr.get(R))&&(m=O({},u),Dh(m,C)),r=r.ownerDocument||r,C=r.createElement("script"),at(C),Li(C,"link",m),r.head.appendChild(C),s.instance=C);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(m=s.instance,s.state.loading|=4,Ch(m,u.precedence,r));return s.instance}function Ch(r,s,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=m.length?m[m.length-1]:null,R=C,U=0;U<m.length;U++){var Z=m[U];if(Z.dataset.precedence===s)R=Z;else if(R!==C)break}R?R.parentNode.insertBefore(r,R.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(r,s.firstChild))}function nc(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Dh(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Th=null;function cv(r,s,u){if(Th===null){var m=new Map,C=Th=new Map;C.set(u,m)}else C=Th,m=C.get(u),m||(m=new Map,C.set(u,m));if(m.has(r))return m;for(m.set(r,null),u=u.getElementsByTagName(r),C=0;C<u.length;C++){var R=u[C];if(!(R[st]||R[li]||r==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var U=R.getAttribute(s)||"";U=r+U;var Z=m.get(U);Z?Z.push(R):m.set(U,[R])}}return m}function qs(r,s,u){r=r.ownerDocument||r,r.head.insertBefore(u,s==="title"?r.querySelector("head > title"):null)}function Mh(r,s,u){if(u===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function hg(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function nx(r,s,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var C=ec(m.href),R=s.querySelector(_u(C));if(R){s=R._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Ou.bind(r),s.then(r,r)),u.state.loading|=4,u.instance=R,at(R);return}R=s.ownerDocument||s,m=Ru(m),(C=lr.get(C))&&nc(m,C),R=R.createElement("link"),at(R);var U=R;U._p=new Promise(function(Z,ae){U.onload=Z,U.onerror=ae}),Li(R,"link",m),u.instance=R}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=Ou.bind(r),s.addEventListener("load",u),s.addEventListener("error",u))}}var fg=0;function ku(r,s){return r.stylesheets&&r.count===0&&_h(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var m=setTimeout(function(){if(r.stylesheets&&_h(r,r.stylesheets),r.unsuspend){var R=r.unsuspend;r.unsuspend=null,R()}},6e4+s);0<r.imgBytes&&fg===0&&(fg=62500*G0());var C=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&_h(r,r.stylesheets),r.unsuspend)){var R=r.unsuspend;r.unsuspend=null,R()}},(r.imgBytes>fg?50:800)+s);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(m),clearTimeout(C)}}:null}function Ou(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_h(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Xs=null;function _h(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Xs=new Map,s.forEach(ix,r),Xs=null,Ou.call(r))}function ix(r,s){if(!(s.state.loading&4)){var u=Xs.get(r);if(u)var m=u.get(null);else{u=new Map,Xs.set(r,u);for(var C=r.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<C.length;R++){var U=C[R];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(u.set(U.dataset.precedence,U),m=U)}m&&u.set(null,m)}C=s.instance,U=C.getAttribute("data-precedence"),R=u.get(U)||m,R===m&&u.set(null,C),u.set(U,C),this.count++,m=Ou.bind(this),C.addEventListener("load",m),C.addEventListener("error",m),R?R.parentNode.insertBefore(C,R.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(C,r.firstChild)),s.state.loading|=4}}var ha={$$typeof:$,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function pg(r,s,u,m,C,R,U,Z,ae){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=on(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=on(0),this.hiddenUpdates=on(null),this.identifierPrefix=m,this.onUncaughtError=C,this.onCaughtError=R,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function uv(r,s,u,m,C,R,U,Z,ae,Ce,Le,Pe){return r=new pg(r,s,u,U,ae,Ce,Le,Pe,Z),s=1,R===!0&&(s|=24),R=mr(3,null,null,s),r.current=R,R.stateNode=r,s=qf(),s.refCount++,r.pooledCache=s,s.refCount++,R.memoizedState={element:m,isDehydrated:u,cache:s},Vc(R),r}function gg(r){return r?(r=Sl,r):Sl}function Ti(r,s,u,m,C,R){C=gg(C),m.context===null?m.context=C:m.pendingContext=C,m=br(s),m.payload={element:u},R=R===void 0?null:R,R!==null&&(m.callback=R),u=Ls(r,m,s),u!==null&&(Qi(u,r,s),_o(u,r,s))}function mg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function ic(r,s){mg(r,s),(r=r.alternate)&&mg(r,s)}function Wo(r){if(r.tag===13||r.tag===31){var s=gr(r,67108864);s!==null&&Qi(s,r,67108864),ic(r,67108864)}}function dv(r){if(r.tag===13||r.tag===31){var s=Hi();s=ii(s);var u=gr(r,s);u!==null&&Qi(u,r,s),ic(r,s)}}var os=!0;function rx(r,s,u,m){var C=oe.T;oe.T=null;var R=Ee.p;try{Ee.p=2,Nu(r,s,u,m)}finally{Ee.p=R,oe.T=C}}function ax(r,s,u,m){var C=oe.T;oe.T=null;var R=Ee.p;try{Ee.p=8,Nu(r,s,u,m)}finally{Ee.p=R,oe.T=C}}function Nu(r,s,u,m){if(os){var C=Rh(m);if(C===null)Eu(r,s,m,Dr,u),hv(r,m);else if(yg(C,r,s,u,m))m.stopPropagation();else if(hv(r,m),s&4&&-1<Js.indexOf(r)){for(;C!==null;){var R=it(C);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var U=mt(R.pendingLanes);if(U!==0){var Z=R;for(Z.pendingLanes|=2,Z.entangledLanes|=2;U;){var ae=1<<31-kn(U);Z.entanglements[1]|=ae,U&=~ae}ja(R),(un&6)===0&&(lh=nt()+500,wu(0))}}break;case 31:case 13:Z=gr(R,2),Z!==null&&Qi(Z,R,2),uh(),ic(R,2)}if(R=Rh(m),R===null&&Eu(r,s,m,Dr,u),R===C)break;C=R}C!==null&&m.stopPropagation()}else Eu(r,s,m,null,u)}}function Rh(r){return r=Sf(r),Zs(r)}var Dr=null;function Zs(r){if(Dr=null,r=ze(r),r!==null){var s=d(r);if(s===null)r=null;else{var u=s.tag;if(u===13){if(r=p(s),r!==null)return r;r=null}else if(u===31){if(r=y(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Dr=r,null}function cr(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ot()){case Dn:return 2;case Qt:return 8;case fn:case ti:return 32;case wi:return 268435456;default:return 32}default:return 32}}var rc=!1,ls=null,fa=null,pa=null,ga=new Map,Qs=new Map,Ks=[],Js="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hv(r,s){switch(r){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":ga.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(s.pointerId)}}function cs(r,s,u,m,C,R){return r===null||r.nativeEvent!==R?(r={blockedOn:s,domEventName:u,eventSystemFlags:m,nativeEvent:R,targetContainers:[C]},s!==null&&(s=it(s),s!==null&&Wo(s)),r):(r.eventSystemFlags|=m,s=r.targetContainers,C!==null&&s.indexOf(C)===-1&&s.push(C),r)}function yg(r,s,u,m,C){switch(s){case"focusin":return ls=cs(ls,r,s,u,m,C),!0;case"dragenter":return fa=cs(fa,r,s,u,m,C),!0;case"mouseover":return pa=cs(pa,r,s,u,m,C),!0;case"pointerover":var R=C.pointerId;return ga.set(R,cs(ga.get(R)||null,r,s,u,m,C)),!0;case"gotpointercapture":return R=C.pointerId,Qs.set(R,cs(Qs.get(R)||null,r,s,u,m,C)),!0}return!1}function fv(r){var s=ze(r.target);if(s!==null){var u=d(s);if(u!==null){if(s=u.tag,s===13){if(s=p(u),s!==null){r.blockedOn=s,fr(r.priority,function(){dv(u)});return}}else if(s===31){if(s=y(u),s!==null){r.blockedOn=s,fr(r.priority,function(){dv(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function kh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=Rh(r.nativeEvent);if(u===null){u=r.nativeEvent;var m=new u.constructor(u.type,u);wf=m,u.target.dispatchEvent(m),wf=null}else return s=it(u),s!==null&&Wo(s),r.blockedOn=u,!1;s.shift()}return!0}function pv(r,s,u){kh(r)&&u.delete(s)}function sx(){rc=!1,ls!==null&&kh(ls)&&(ls=null),fa!==null&&kh(fa)&&(fa=null),pa!==null&&kh(pa)&&(pa=null),ga.forEach(pv),Qs.forEach(pv)}function Lu(r,s){r.blockedOn===s&&(r.blockedOn=null,rc||(rc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sx)))}var Iu=null;function gv(r){Iu!==r&&(Iu=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Iu===r&&(Iu=null);for(var s=0;s<r.length;s+=3){var u=r[s],m=r[s+1],C=r[s+2];if(typeof m!="function"){if(Zs(m||u)===null)continue;break}var R=it(u);R!==null&&(r.splice(s,3),s-=3,nu(R,{pending:!0,data:C,method:u.method,action:m},m,C))}}))}function $r(r){function s(ae){return Lu(ae,r)}ls!==null&&Lu(ls,r),fa!==null&&Lu(fa,r),pa!==null&&Lu(pa,r),ga.forEach(s),Qs.forEach(s);for(var u=0;u<Ks.length;u++){var m=Ks[u];m.blockedOn===r&&(m.blockedOn=null)}for(;0<Ks.length&&(u=Ks[0],u.blockedOn===null);)fv(u),u.blockedOn===null&&Ks.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var C=u[m],R=u[m+1],U=C[jn]||null;if(typeof R=="function")U||gv(u);else if(U){var Z=null;if(R&&R.hasAttribute("formAction")){if(C=R,U=R[jn]||null)Z=U.formAction;else if(Zs(C)!==null)continue}else Z=U.action;typeof Z=="function"?u[m+1]=Z:(u.splice(m,3),m-=3),gv(u)}}}function mv(){function r(R){R.canIntercept&&R.info==="react-transition"&&R.intercept({handler:function(){return new Promise(function(U){return C=U})},focusReset:"manual",scroll:"manual"})}function s(){C!==null&&(C(),C=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var R=navigation.currentEntry;R&&R.url!=null&&navigation.navigate(R.url,{state:R.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,C=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),C!==null&&(C(),C=null)}}}function Oh(r){this._internalRoot=r}za.prototype.render=Oh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var u=s.current,m=Hi();Ti(u,m,r,s,null,null)},za.prototype.unmount=Oh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ti(r.current,2,null,r,null,null),uh(),s[ki]=null}};function za(r){this._internalRoot=r}za.prototype.unstable_scheduleHydration=function(r){if(r){var s=tn();r={blockedOn:null,target:r,priority:s};for(var u=0;u<Ks.length&&s!==0&&s<Ks[u].priority;u++);Ks.splice(u,0,r),u===0&&fv(r)}};var yv=t.version;if(yv!=="19.2.4")throw Error(a(527,yv,"19.2.4"));Ee.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=T(s),r=r!==null?_(r):null,r=r===null?null:r.stateNode,r};var vv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{ni=Nh.inject(vv),Hn=Nh}catch{}}return xg.createRoot=function(r,s){if(!l(r))throw Error(a(299));var u=!1,m="",C=uy,R=Yd,U=dy;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(C=s.onUncaughtError),s.onCaughtError!==void 0&&(R=s.onCaughtError),s.onRecoverableError!==void 0&&(U=s.onRecoverableError)),s=uv(r,1,!1,null,null,u,m,null,C,R,U,mv),r[ki]=s.current,Kp(r),new Oh(s)},xg.hydrateRoot=function(r,s,u){if(!l(r))throw Error(a(299));var m=!1,C="",R=uy,U=Yd,Z=dy,ae=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(C=u.identifierPrefix),u.onUncaughtError!==void 0&&(R=u.onUncaughtError),u.onCaughtError!==void 0&&(U=u.onCaughtError),u.onRecoverableError!==void 0&&(Z=u.onRecoverableError),u.formState!==void 0&&(ae=u.formState)),s=uv(r,1,!0,s,u??null,m,C,ae,R,U,Z,mv),s.context=gg(null),u=s.current,m=Hi(),m=ii(m),C=br(m),C.callback=null,Ls(u,C,m),u=m,s.current.lanes=u,Pn(s,u),ja(s),r[ki]=s.current,Kp(r),new za(s)},xg.version="19.2.4",xg}var QE;function JR(){if(QE)return vx.exports;QE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vx.exports=KR(),vx.exports}var ek=JR();const tk=Jg(ek),nk="modulepreload",ik=function(e){return"/expenses/"+e},KE={},va=function(t,n,a){let l=Promise.resolve();if(n&&n.length>0){let S=function(T){return Promise.all(T.map(_=>Promise.resolve(_).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),y=p?.nonce||p?.getAttribute("nonce");l=S(n.map(T=>{if(T=ik(T),T in KE)return;KE[T]=!0;const _=T.endsWith(".css"),O=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${O}`))return;const L=document.createElement("link");if(L.rel=_?"stylesheet":nk,_||(L.as="script"),L.crossOrigin="",L.href=T,y&&L.setAttribute("nonce",y),document.head.appendChild(L),_)return new Promise((P,H)=>{L.addEventListener("load",P),L.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${T}`)))})}))}function d(p){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=p,window.dispatchEvent(y),!y.defaultPrevented)throw p}return l.then(p=>{for(const y of p||[])y.status==="rejected"&&d(y.reason);return t().catch(d)})},d1=G.createContext(void 0),rk={en:{"common.loading":"Loading...","common.save":"Save","common.cancel":"Cancel","common.clearFilters":"Clear Filters","common.delete":"Delete","common.edit":"Edit","common.add":"Add","common.close":"Close","transactionForm.addTransaction":"Add Transaction","transactionForm.editTransaction":"Edit Transaction","transaction.deleteTransaction":"Delete Transaction","common.yes":"Yes","common.no":"No","common.confirm":"Confirm","common.back":"Back","common.next":"Next","common.tryAgain":"Try again","common.income":"Income","common.previous":"Previous","common.search":"Search","common.filter":"Filter","common.clear":"Clear","common.actions":"Actions","common.status":"Status","common.date":"Date","common.amount":"Amount","common.description":"Description","common.category":"Category","common.total":"Total","common.average":"Average","common.profit":"Profit","common.active":"Active","common.completed":"Completed","common.pending":"Pending","common.loadMore":"Load More","common.remaining":"remaining","common.showing":"Showing","common.transaction":"transaction","common.transactions":"transactions","months.january":"January","months.february":"February","months.march":"March","months.april":"April","months.may":"May","months.june":"June","months.july":"July","months.august":"August","months.september":"September","months.october":"October","months.november":"November","months.december":"December","nav.home":"Home","nav.expenses":"Expenses","nav.income":"Income","nav.charts":"Charts","nav.loans":"Loans","nav.profile":"Profile","offline.message":"No internet connection","syncStatus.syncing":"Syncing...","syncStatus.synced":"Synced","syncStatus.pending":"pending","home.title":"Expenses","home.noData":"No transaction records found.","home.noDataDesc":"Start tracking your expenses by adding your first transaction.","home.noTransactionsFound":"No transactions found","home.tryDifferentFilters":"Try adjusting your search or filters to find what you're looking for.","home.addFirstTransaction":"Add your first transaction to get started!","home.monthlyStats":"Monthly Statistics","home.dailyAverage":"Daily Average","home.monthlyAverage":"Monthly Average","home.last60Days":"Last 60 Days Average","home.last60DaysDesc":"Average spending for the last 60 days:","home.perDay":"/ day","home.allTimeSpendings":"All Time Spendings","home.hoverToSeeDetails":"Hover to see details","home.mostExpensiveItem":"The most expensive item","home.dailyAveragePerCategory":"Daily Average Per Category","home.monthlyAveragePerCategory":"Monthly Average Per Category","home.averageSpendingLast60Days":"Average spending for the last 60 days","home.day":"day","home.month":"month","income.title":"Income Management","income.subtitle":"Track and manage your income sources","income.addIncome":"Add New Income","income.deleteIncome":"Delete Income","income.totalIncome":"Total Income","income.averageIncome":"Average Income","income.monthlyIncome":"Monthly Income","income.yearlyIncome":"Yearly Income","income.noIncome":"No income records found","income.noIncomeDesc":"No income available. Add your first income to get started!","income.addFirstIncome":"Add Your First Income","income.incomeRecord":"income record","income.incomeRecords":"Income Records","income.manageAndTrackIncome":"Manage and track your income sources","income.totalIncomePerYear":"Total Income Per Year","income.year":"Year","income.spent":"Spent","income.savings":"Savings","income.manageIncome":"Manage and track your income","income.source":"Source","income.amount":"Amount","income.date":"Date","income.notes":"Notes","profile.title":"Profile","profile.subtitle":"Manage your account settings","profile.personalInfo":"Personal Information","profile.language":"Language","profile.currency":"Currency","profile.theme":"Theme","profile.darkMode":"Dark Mode","profile.lightMode":"Light Mode","profile.autoMode":"Auto Mode","profile.saveChanges":"Save Changes","profile.changesSaved":"Changes saved successfully!","profile.english":"English","profile.romanian":"Romanian","profile.budgetSettings":"Budget Settings","profile.weeklyBudget":"Weekly Budget","profile.enterWeeklyBudget":"Enter weekly budget","profile.monthlyBudget":"Monthly Budget","profile.enterMonthlyBudget":"Enter monthly budget","profile.chartsSettings":"Charts Settings","profile.useChartsBackgroundColor":"Use Charts Background Color","profile.chartsVisibility":"Charts Visibility","profile.chartsVisible":"Visible","profile.chartsHidden":"Hidden","profile.chartsDragHint":"Drag to reorder or move between sections.","profile.chartsDropHere":"Drop charts here","profile.chartsAllVisible":"All charts visible","profile.chartsMoveToHidden":"Move to Hidden","profile.chartsMoveToVisible":"Move to Visible","profile.account":"Account","profile.signOut":"Sign Out","profile.quickAddSuggestion":"Quick Add Suggestion","profile.quickAddSuggestionDesc":"Show a suggestion to add a transaction when entering the app (with pre-filled amount, category and description)","profile.quickAddSuggestionEnabled":"Show suggestion on app open","profile.quickAddAmount":"Default amount","profile.quickAddCategory":"Default category","profile.quickAddDescription":"Default description","profile.quickAddDaysOfWeek":"Days of week","profile.quickAddDaysHint":"If none selected, suggestion shows every day","profile.quickAddDaySun":"Sun","profile.quickAddDayMon":"Mon","profile.quickAddDayTue":"Tue","profile.quickAddDayWed":"Wed","profile.quickAddDayThu":"Thu","profile.quickAddDayFri":"Fri","profile.quickAddDaySat":"Sat","profile.quickAddTimeSlots":"Time slots","profile.quickAddTimeSlotsHint":"If empty, suggestion shows at any time","profile.quickAddTimeSlotStart":"From","profile.quickAddTimeSlotEnd":"To","profile.quickAddAddSlot":"Add time slot","profile.quickAddRemoveSlot":"Remove","theme.default":"Default","theme.navy":"Navy","theme.teal":"Teal","theme.emerald":"Emerald","theme.slate":"Slate","theme.indigo":"Indigo","login.pleaseLogin":"Please login using Google in order to access app functionality.","login.errors":"We have some errors","login.signingIn":"Signing in...","login.signInWithGoogle":"Sign in with Google","login.subtitle":"Sign in with Google to access expenses, income and loans.","charts.title":"Analytics & Charts","charts.subtitle":"Visualize your financial data","charts.last30DaysSpendings":"Last 30 days spendings","charts.yearsInReview":"Years in review","charts.monthlyComparisonAcrossYears":"Monthly Comparison Across Years","charts.monthlySavingsAcrossYears":"Monthly Savings Across Years","charts.savings":"Savings","charts.savingsHistory":"Savings History","charts.dailyAverageTrend":"Daily Average Trend","charts.monthlyAverageTrend":"Monthly Average Trend","charts.monthlyComparison":"Monthly Comparison","charts.monthlySavings":"Monthly Savings","charts.yearAverage":"Year Average Trend","charts.incomeTrend":"Income Trend","charts.totalSpentPerYear":"Total spent per year","charts.totalSpent":"Total Spent","charts.totalDays":"Total Days","charts.days":"days","charts.totalMonths":"Total Months","charts.months":"months","charts.totalItems":"Total Items","charts.items":"items","charts.monthly":"Monthly","charts.monthlyAverage":"Monthly Average","charts.dailyExpenses":"Daily expenses","charts.dailyIncomes":"Daily incomes","charts.dailyAverage":"Daily average","charts.dailyAverageTrends":"Daily average trends","charts.monthlyAverageTrends":"Monthly Average Trends","charts.monthlyTotals":"Monthly Totals","form.required":"This field is required","form.invalidAmount":"Please enter a valid amount","form.invalidDate":"Please enter a valid date","form.invalidEmail":"Please enter a valid email address","form.passwordMismatch":"Passwords do not match","form.minLength":"Must be at least {min} characters","form.amountPlaceholder":"0.00","form.selectCategory":"Select a category...","form.maxLength":"Must be no more than {max} characters","category.food":"Food","category.transport":"Transport","category.entertainment":"Entertainment","category.shopping":"Shopping","category.health":"Health","category.education":"Education","category.bills":"Bills","category.other":"Other","category.clothing":"Clothing","category.gifts":"Gifts","category.household":"Household Items/Supplies","category.housing":"Housing","category.personal":"Personal","category.family":"Family","category.travel":"Travel","category.investment":"Investment","category.utilities":"Utilities","suggestions.clothing.haine":"clothes","suggestions.clothing.incaltaminte":"shoes","suggestions.clothing.pantaloni":"pants","suggestions.clothing.tricouri":"t-shirts","suggestions.clothing.nelea":"Nelea","suggestions.clothing.leo":"Leo","suggestions.clothing.sergiu":"Sergiu","suggestions.entertainment.happyHour":"happy hour","suggestions.entertainment.benzinarie":"gas station","suggestions.entertainment.ceaiCafea":"tea/coffee","suggestions.entertainment.restaurant":"restaurant","suggestions.entertainment.ingetata":"ice cream","suggestions.entertainment.parc":"park","suggestions.food.market":"market","suggestions.food.apa":"water","suggestions.food.lunch":"lunch","suggestions.food.inghetata":"ice cream","suggestions.food.strausGlovo":"straus/glovo food","suggestions.gifts.flori":"flowers","suggestions.gifts.ziDeNastere":"birthday","suggestions.gifts.nelea":"Nelea","suggestions.gifts.sergiu":"Sergiu","suggestions.household.igiena":"hygiene/cleaning","suggestions.household.scutece":"diapers","suggestions.household.leo":"Leo","suggestions.housing.house":"house","suggestions.housing.rataJakala":"jakala/ffw rate","suggestions.housing.rataIpoteca":"mortgage rate","suggestions.housing.rataCredConsum":"consumer credit rate","suggestions.housing.apartmentRent":"apartment rent","suggestions.health.farmacie":"pharmacy","suggestions.health.stomatolog":"dentist","suggestions.health.pediatru":"pediatrician","suggestions.health.nelea":"Nelea","suggestions.health.sergiu":"Sergiu","suggestions.health.leo":"Leo","suggestions.health.sport":"sport","suggestions.health.asigurare":"insurance","suggestions.personal.haircut":"haircut","suggestions.personal.nails":"nails","suggestions.personal.nelea":"Nelea","suggestions.personal.sergiu":"Sergiu","suggestions.personal.beauty":"beauty","suggestions.transport.benzina":"gasoline","suggestions.transport.motorina":"diesel","suggestions.transport.carService":"car service","suggestions.transport.lichidParbriz":"windshield fluid","suggestions.transport.carWash":"car wash","suggestions.transport.taxi":"taxi","suggestions.transport.parcare":"parking","suggestions.transport.troleibus":"trolleybus","suggestions.utilities.gaz":"gas","suggestions.utilities.lumina":"electricity","suggestions.utilities.orange":"orange","suggestions.utilities.bloc":"building","suggestions.family.gradinita":"kindergarten","suggestions.family.jucarii":"toys","suggestions.family.terenJoaca":"playground","suggestions.family.nelea":"Nelea","suggestions.family.leo":"Leo","suggestions.family.sergiu":"Sergiu","suggestions.alcohol.vin":"wine","suggestions.alcohol.bere":"beer","suggestions.alcohol.whiskey":"whiskey","suggestions.alcohol.cognac":"cognac","suggestions.alcohol.gin":"gin","suggestions.alcohol.cocktails":"cocktails","suggestions.travel.romania":"Romania","notification.success":"Success","notification.error":"Error","notification.warning":"Warning","notification.info":"Information","notification.savedOffline":"Saved offline - will sync when online","notification.transactionAdded":"Transaction added successfully!","notification.transactionUpdated":"Transaction updated successfully!","notification.transactionDeleted":"Transaction deleted successfully!","notification.incomeAdded":"Income added successfully!","notification.incomeUpdated":"Income updated successfully!","notification.incomeDeleted":"Income deleted successfully!","notification.loanAdded":"Loan added successfully!","notification.loanUpdated":"Loan updated successfully!","notification.loanDeleted":"Loan deleted successfully!","notification.paymentAdded":"Payment added successfully!","notification.paymentUpdated":"Payment updated successfully!","notification.paymentDeleted":"Payment deleted successfully!","notification.profileUpdated":"Profile updated successfully!","loan.addLoan":"Add Loan","loan.editLoan":"Edit Loan","loan.deleteLoan":"Delete Loan","loan.addPayment":"Add Payment","loan.principal":"Principal","loan.paid":"Paid","loan.remaining":"Remaining","loan.paymentProgress":"Payment Progress","loan.paymentHistory":"Payment History","loan.amortizationSchedule":"Amortization Schedule","loan.loanCostBreakdown":"Loan Cost Breakdown","loan.interests":"Interests","loan.installments":"Installments","loan.startDate":"Start date","loan.endDate":"End date","loan.noAmortizationData":"No amortization schedule data available.","loan.debugInfo":"Debug info","loan.monthsPassed":"Months Passed","loan.daysRemaining":"Days Remaining","loan.notStarted":"Not started","loan.currentInterest":"Interest Paid","loan.interestSavings":"Interest Saved","loan.principalPaid":"Principal Paid","loan.remainingPrincipal":"Remaining Principal","loans.title":"Loans","loans.addLoan":"Add New Loan","loans.active":"Active","loans.pending":"Pending","loans.noLoans":"No loans found","loans.noLoansDesc":"No loans available. Add your first loan to get started!","loans.noLoansWithStatus":"No loans with status","loans.showAllLoans":"Show All Loans","loans.allStatuses":"All Statuses","loans.loanRecords":"Loan Records","loans.manageLoans":"Manage and track your loans","loans.loanTitle":"Title","loans.principal":"Principal","loans.status":"Status","loans.deleteLoan":"Delete Loan","loans.loan":"loan","loans.loans":"loans","amortization.total":"Total","amortization.date":"Date","amortization.rate":"Rate","amortization.days":"Days","amortization.installment":"Installment","amortization.reduction":"Reduction","amortization.interest":"Interest","amortization.principal":"Principal","amortization.fee":"Fee","modal.deleteTitle":"Delete Confirmation","modal.deleteMessage":"Are you sure you want to delete this item? This action cannot be undone.","modal.deleteTransaction":"Are you sure you want to delete this transaction?","modal.deleteIncome":"Are you sure you want to delete this income?","modal.deleteLoan":"Are you sure you want to delete this loan? This action cannot be undone and will also delete all associated payments.","modal.deleteLoanTitle":"Are you sure you want to delete this loan?","modal.deleteLoanMessage":"This action cannot be undone and will also delete all associated payments.","modal.deletePayment":"Are you sure you want to delete this payment?","error.network":"Network error. Please check your connection.","error.unauthorized":"Unauthorized. Please log in again.","error.server":"Server error. Please try again later.","error.unknown":"An unknown error occurred.","error.boundary.title":"Something went wrong","error.boundary.message":"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists.","error.boundary.details":"Error Details (Development Only)","error.boundary.tryAgain":"Try Again","error.boundary.reload":"Reload Page","error.validation":"Please check your input and try again.","transactionForm.title":"Add Transaction","transactionForm.editTitle":"Edit Transaction","transactionForm.amount":"Amount","transactionForm.category":"Category","transactionForm.description":"Description","transactionForm.date":"Date","transactionForm.submit":"Submit","transactionForm.cancel":"Cancel","loanForm.title":"Loan Form","loanForm.addLoan":"Add Loan","loanForm.editLoan":"Edit Loan","loanForm.loanTitle":"Loan Title","loanForm.enterLoanTitle":"Enter loan title","loanForm.principalAmount":"Principal Amount","loanForm.interestRate":"Interest Rate (%)","loanForm.startDate":"Start Date","loanForm.endDate":"End Date","loanForm.initialFee":"Initial Fee (Optional)","loanForm.firstPaymentDate":"First Payment Date","loanForm.paymentDayOfMonth":"Payment Day of Month","loanForm.loanStatus":"Loan Status","loanForm.updateLoan":"Update Loan","loanForm.endDateMustBeAfterStartDate":"End date must be after start date","loanForm.firstPaymentDateMustBeBetweenStartAndEnd":"First payment date must be between start and end date","payment.simulated":"Simulated","payment.editPayment":"Edit Payment","payment.addPayment":"Add Payment","payment.deletePayment":"Delete Payment","payment.noPaymentsYet":"No Payments Yet","payment.noPaymentsDesc":"Start by adding your first payment to track your loan progress.","payment.showingPayments":"Showing","payment.of":"of","payment.payments":"payments","payment.title":"Title","payment.installment":"Installment","payment.addNewPayment":"Add New Payment","paymentForm.addPayment":"Add Payment","paymentForm.editPayment":"Edit Payment","paymentForm.paymentTitle":"Payment Title","paymentForm.enterPaymentTitle":"Enter payment title","paymentForm.paymentDate":"Payment Date","paymentForm.newInterestRate":"New Interest Rate (%)","paymentForm.installmentPayment":"Installment Payment","paymentForm.newRecurringAmount":"New Recurring Amount","paymentForm.individualFee":"Individual Fee","paymentForm.simulatedPayment":"Simulated payment (debug loan)","paymentForm.updatePayment":"Update Payment","incomeForm.addIncome":"Add Income","incomeForm.editIncome":"Edit Income","incomeForm.amount":"Amount","incomeForm.enterAmount":"Enter amount...","incomeForm.date":"Date","incomeForm.description":"Description","incomeForm.enterDescription":"Enter description...","incomeForm.updateIncome":"Update Income","incomeForm.tags":"Income Tags","income.incomeIntelligence":"Income Intelligence","income.incomeBySource":"Income by Source","income.incomeEvolutionBySource":"Income Evolution by Source","income.noIncomeDataAvailable":"No income data available. Add income entries with tags like #salary, #freelance, #bonus, #interest, or #gift.","income.tags.salary":"Salary","income.tags.bonus":"Bonuses","income.tags.freelance":"Freelance","income.tags.overtime":"Overtime","income.tags.interest":"Interest","income.tags.gift":"Gifts","income.tags.cashback":"Cashback","income.tags.sale":"Sales","income.tags.family":"From Family","income.tags.wedding":"Wedding Gift","income.tags.godparent":"Godparent Gift","income.tags.untagged":"Untagged","filters.search":"Search transactions...","filters.searchInMonth":"Search in month...","filters.searchInMonthCategory":"Search in month/category...","filters.searchInCategory":"Search in category...","filters.clearAll":"Clear all filters","filters.selectMonth":"Select month","filters.category":"All Categories","filters.categories":"Categories","filters.months":"Months","filters.tags":"Tags","filters.all":"All","filters.dateRange":"Date Range","filters.dateFrom":"From","filters.dateTo":"To","filters.clear":"Clear Filters","calendar.title":"Calendar View","calendar.previous":"Previous","calendar.next":"Next","calendar.today":"Today","calendar.noEvents":"No events for this day","calendar.addEvent":"Add Event","suggestions.title":"Suggestions","suggestions.noSuggestions":"No suggestions available","suggestions.selectCategory":"Select a category to see suggestions","receipt.scanTitle":"Scan Receipt","receipt.takePhoto":"Take Photo","receipt.uploadImage":"Upload Image","receipt.hint":"Take a photo or upload an image of your receipt","receipt.extractedData":"Extracted Data","receipt.amount":"Amount","receipt.date":"Date","receipt.merchant":"Merchant","receipt.description":"Description","receipt.useData":"Use This Data","receipt.scanAnother":"Scan Another","receipt.scanReceipt":"Scan Receipt"},ro:{"common.loading":"Se ncarc...","common.save":"Salveaz","common.cancel":"Anuleaz","common.clearFilters":"terge Filtrele","common.delete":"terge","common.edit":"Editeaz","common.add":"Adaug","common.close":"nchide","transactionForm.addTransaction":"Adaug Tranzacie","transactionForm.editTransaction":"Editeaz Tranzacie","transaction.deleteTransaction":"terge Tranzacia","common.yes":"Da","common.no":"Nu","common.confirm":"Confirm","common.back":"napoi","common.next":"Urmtorul","common.tryAgain":"ncearc din nou","common.income":"Venit","common.previous":"Anteriorul","common.search":"Caut","common.filter":"Filtreaz","common.clear":"Cur","common.actions":"Aciuni","common.status":"Status","common.date":"Data","common.amount":"Suma","common.description":"Descriere","common.category":"Categorie","common.total":"Total","common.average":"Medie","common.profit":"Profit","common.active":"Activ","common.completed":"Completat","common.pending":"n ateptare","common.loadMore":"ncarc Mai Multe","common.remaining":"rmase","common.showing":"Se afieaz","common.transaction":"tranzacie","common.transactions":"tranzacii","months.january":"Ianuarie","months.february":"Februarie","months.march":"Martie","months.april":"Aprilie","months.may":"Mai","months.june":"Iunie","months.july":"Iulie","months.august":"August","months.september":"Septembrie","months.october":"Octombrie","months.november":"Noiembrie","months.december":"Decembrie","nav.home":"Acas","nav.expenses":"Cheltuieli","nav.income":"Venituri","nav.charts":"Grafice","nav.loans":"mprumuturi","nav.profile":"Profil","offline.message":"Nu ai conexiune la internet","syncStatus.syncing":"Se sincronizeaz...","syncStatus.synced":"Sincronizat","syncStatus.pending":"n ateptare","home.title":"Cheltuieli","home.noData":"Nu s-au gsit nregistrri de tranzacii.","home.noDataDesc":"ncepe s i urmreti cheltuielile adugnd prima ta tranzacie.","home.noTransactionsFound":"Nu s-au gsit tranzacii","home.tryDifferentFilters":"ncearc s ajustezi cutarea sau filtrele pentru a gsi ce caui.","home.addFirstTransaction":"Adaug prima ta tranzacie pentru a ncepe!","home.monthlyStats":"Statistici Lunare","home.dailyAverage":"Media Zilnic","home.monthlyAverage":"Media Lunar","home.last60Days":"Media Ultimelor 60 de Zile","home.last60DaysDesc":"Cheltuielile medii pentru ultimele 60 de zile:","home.perDay":"/ zi","home.allTimeSpendings":"Cheltuieli Totale","home.hoverToSeeDetails":"Trece cu mouse-ul pentru detalii","home.mostExpensiveItem":"Cel mai scump articol","home.dailyAveragePerCategory":"Media Zilnic pe Categorie","home.monthlyAveragePerCategory":"Media Lunar pe Categorie","home.averageSpendingLast60Days":"Cheltuielile medii pentru ultimele 60 de zile","home.day":"zi","home.month":"lun","income.title":"Gestionarea Veniturilor","income.subtitle":"Urmrete i gestioneaz sursele tale de venit","income.addIncome":"Adaug Venit Nou","income.deleteIncome":"terge Venitul","income.totalIncome":"Venit Total","income.averageIncome":"Venit Mediu","income.monthlyIncome":"Venit Lunar","income.yearlyIncome":"Venit Anual","income.noIncome":"Nu s-au gsit nregistrri de venit","income.noIncomeDesc":"Nu sunt venituri disponibile. Adaug primul tu venit pentru a ncepe!","income.incomeRecord":"nregistrare de venit","income.incomeRecords":"nregistrri de Venituri","income.manageAndTrackIncome":"Gestioneaz i urmrete sursele tale de venit","income.totalIncomePerYear":"Total Venituri pe An","income.year":"An","income.spent":"Cheltuit","income.savings":"Economii","income.addFirstIncome":"Adaug Primul Tu Venit","income.manageIncome":"Gestioneaz i urmrete veniturile tale","income.source":"Surs","income.amount":"Suma","income.date":"Data","income.notes":"Note","profile.title":"Profil","profile.subtitle":"Gestioneaz setrile contului tu","profile.personalInfo":"Informaii Personale","profile.language":"Limb","profile.currency":"Moned","profile.theme":"Tem","profile.darkMode":"Mod ntunecat","profile.lightMode":"Mod Luminos","profile.autoMode":"Mod Automat","profile.saveChanges":"Salveaz Modificrile","profile.changesSaved":"Modificrile au fost salvate cu succes!","profile.english":"Englez","profile.romanian":"Romn","profile.budgetSettings":"Setri Buget","profile.weeklyBudget":"Buget Sptmnal","profile.enterWeeklyBudget":"Introdu bugetul sptmnal","profile.monthlyBudget":"Buget Lunar","profile.enterMonthlyBudget":"Introdu bugetul lunar","profile.chartsSettings":"Setri Grafice","profile.useChartsBackgroundColor":"Folosete Culoarea de Fundal pentru Grafice","profile.chartsVisibility":"Vizibilitatea Graficelor","profile.chartsVisible":"Vizibile","profile.chartsHidden":"Ascunse","profile.chartsDragHint":"Trage pentru a reordona sau muta ntre seciuni.","profile.chartsDropHere":"Trage graficele aici","profile.chartsAllVisible":"Toate graficele sunt vizibile","profile.chartsMoveToHidden":"Mut la Ascunse","profile.chartsMoveToVisible":"Mut la Vizibile","profile.account":"Cont","profile.signOut":"Deconectare","profile.quickAddSuggestion":"Sugestie adugare rapid","profile.quickAddSuggestionDesc":"Afieaz o sugestie de adugare tranzacie la intrarea n aplicaie (cu sum, categorie i descriere precompletate)","profile.quickAddSuggestionEnabled":"Arat sugestia la deschiderea aplicaiei","profile.quickAddAmount":"Suma implicit","profile.quickAddCategory":"Categoria implicit","profile.quickAddDescription":"Descrierea implicit","profile.quickAddDaysOfWeek":"Zile din sptmn","profile.quickAddDaysHint":"Dac nu e selectat niciuna, sugestia apare n fiecare zi","profile.quickAddDaySun":"Dum","profile.quickAddDayMon":"Lun","profile.quickAddDayTue":"Mar","profile.quickAddDayWed":"Mie","profile.quickAddDayThu":"Joi","profile.quickAddDayFri":"Vin","profile.quickAddDaySat":"Sm","profile.quickAddTimeSlots":"Intervale orare","profile.quickAddTimeSlotsHint":"Dac e gol, sugestia apare la orice or","profile.quickAddTimeSlotStart":"De la","profile.quickAddTimeSlotEnd":"Pn la","profile.quickAddAddSlot":"Adaug interval","profile.quickAddRemoveSlot":"Elimin","theme.default":"Implicit","theme.navy":"Marini","theme.teal":"Turcoaz","theme.emerald":"Smarald","theme.slate":"Ardezie","theme.indigo":"Indigo","login.pleaseLogin":"Te rog s te conectezi folosind Google pentru a accesa funcionalitatea aplicaiei.","login.errors":"Avem cteva erori","login.signingIn":"Se conecteaz...","login.signInWithGoogle":"Conectare cu Google","login.subtitle":"Conecteaz-te cu Google pentru a accesa cheltuielile, veniturile i mprumuturile.","charts.title":"Analize i Grafice","charts.subtitle":"Vizualizeaz datele tale financiare","charts.last30DaysSpendings":"Cheltuielile ultimelor 30 de zile","charts.yearsInReview":"Anii n revist","charts.monthlyComparisonAcrossYears":"Comparaia Lunar pe Ani","charts.monthlySavingsAcrossYears":"Economiile Lunare pe Ani","charts.savings":"Economii","charts.savingsHistory":"Istoricul Economiilor","charts.monthlySavings":"Economiile Lunare","charts.yearAverage":"Tendina Mediei Anuale","charts.incomeTrend":"Tendina Veniturilor","charts.totalSpentPerYear":"Total cheltuit pe an","charts.totalSpent":"Total Cheltuit","charts.totalDays":"Total Zile","charts.days":"zile","charts.totalMonths":"Total Luni","charts.months":"luni","charts.totalItems":"Total Articole","charts.items":"articole","charts.monthly":"Lunar","charts.monthlyAverage":"Media Lunar","charts.dailyExpenses":"Cheltuieli zilnice","charts.dailyIncomes":"Venituri zilnice","charts.dailyAverage":"Media zilnic","charts.dailyAverageTrends":"Tendinele mediei zilnice","charts.monthlyAverageTrends":"Tendinele Mediei Lunare","charts.dailyAverageTrend":"Tendina Mediei Zilnice","charts.monthlyAverageTrend":"Tendina Mediei Lunare","charts.monthlyComparison":"Comparaia Lunar","charts.monthlyTotals":"Totaluri Lunare","form.required":"Acest cmp este obligatoriu","form.invalidAmount":"Te rog s introduci o sum valid","form.invalidDate":"Te rog s introduci o dat valid","form.invalidEmail":"Te rog s introduci o adres de email valid","form.passwordMismatch":"Parolele nu se potrivesc","form.minLength":"Trebuie s aib cel puin {min} caractere","form.amountPlaceholder":"0,00","form.selectCategory":"Selecteaz o categorie...","form.maxLength":"Nu poate avea mai mult de {max} caractere","category.food":"Mncare","category.transport":"Transport","category.entertainment":"Divertisment","category.shopping":"Cumprturi","category.health":"Sntate","category.education":"Educaie","category.bills":"Facturi","category.other":"Altele","category.clothing":"mbrcminte","category.gifts":"Cadouri","category.household":"Articole Casnice/Provizii","category.housing":"Locuin","category.personal":"Personal","category.family":"Familie","category.travel":"Cltorii","category.investment":"Investiii","category.utilities":"Utiliti","suggestions.clothing.haine":"haine","suggestions.clothing.incaltaminte":"nclminte","suggestions.clothing.pantaloni":"pantaloni","suggestions.clothing.tricouri":"tricouri","suggestions.clothing.nelea":"Nelea","suggestions.clothing.leo":"Leo","suggestions.clothing.sergiu":"Sergiu","suggestions.entertainment.happyHour":"happy hour","suggestions.entertainment.benzinarie":"benzinrie","suggestions.entertainment.ceaiCafea":"ceai/cafea","suggestions.entertainment.restaurant":"restaurant","suggestions.entertainment.ingetata":"ngheat","suggestions.entertainment.parc":"parc","suggestions.food.market":"market","suggestions.food.apa":"ap","suggestions.food.lunch":"lunch","suggestions.food.inghetata":"ngheat","suggestions.food.strausGlovo":"straus/glovo food","suggestions.gifts.flori":"flori","suggestions.gifts.ziDeNastere":"zi de natere","suggestions.gifts.nelea":"Nelea","suggestions.gifts.sergiu":"Sergiu","suggestions.household.igiena":"igien/curenie","suggestions.household.scutece":"scutec","suggestions.household.leo":"Leo","suggestions.housing.house":"house","suggestions.housing.rataJakala":"rat la jakala/ffw","suggestions.housing.rataIpoteca":"rat la ipotec","suggestions.housing.rataCredConsum":"rat la cred de consum","suggestions.housing.apartmentRent":"apartment rent","suggestions.health.farmacie":"farmacie","suggestions.health.stomatolog":"stomatolog","suggestions.health.pediatru":"pediatru","suggestions.health.nelea":"Nelea","suggestions.health.sergiu":"Sergiu","suggestions.health.leo":"Leo","suggestions.health.sport":"sport","suggestions.health.asigurare":"asigurare","suggestions.personal.haircut":"haircut","suggestions.personal.nails":"nails","suggestions.personal.nelea":"Nelea","suggestions.personal.sergiu":"Sergiu","suggestions.personal.beauty":"beauty","suggestions.transport.benzina":"benzin","suggestions.transport.motorina":"motorin","suggestions.transport.carService":"car service","suggestions.transport.lichidParbriz":"lichid parbriz","suggestions.transport.carWash":"car wash","suggestions.transport.taxi":"taxi","suggestions.transport.parcare":"parcare","suggestions.transport.troleibus":"troleibus","suggestions.utilities.gaz":"gaz","suggestions.utilities.lumina":"lumin","suggestions.utilities.orange":"orange","suggestions.utilities.bloc":"bloc","suggestions.family.gradinita":"grdini","suggestions.family.jucarii":"jucrii","suggestions.family.terenJoaca":"teren de joac","suggestions.family.nelea":"Nelea","suggestions.family.leo":"Leo","suggestions.family.sergiu":"Sergiu","suggestions.alcohol.vin":"vin","suggestions.alcohol.bere":"bere","suggestions.alcohol.whiskey":"whiskey","suggestions.alcohol.cognac":"cognac","suggestions.alcohol.gin":"gin","suggestions.alcohol.cocktails":"cocktails","suggestions.travel.romania":"Romnia","notification.success":"Succes","notification.error":"Eroare","notification.warning":"Avertisment","notification.info":"Informaie","notification.transactionAdded":"Tranzacia a fost adugat cu succes!","notification.transactionUpdated":"Tranzacia a fost actualizat cu succes!","notification.transactionDeleted":"Tranzacia a fost tears cu succes!","notification.incomeAdded":"Venitul a fost adugat cu succes!","notification.incomeUpdated":"Venitul a fost actualizat cu succes!","notification.incomeDeleted":"Venitul a fost ters cu succes!","notification.savedOffline":"Salvat offline - se va sincroniza cnd vei fi online","notification.loanAdded":"mprumutul a fost adugat cu succes!","notification.loanUpdated":"mprumutul a fost actualizat cu succes!","notification.loanDeleted":"mprumutul a fost ters cu succes!","notification.paymentAdded":"Plata a fost adugat cu succes!","notification.paymentUpdated":"Plata a fost actualizat cu succes!","notification.paymentDeleted":"Plata a fost tears cu succes!","notification.profileUpdated":"Profilul a fost actualizat cu succes!","loan.addLoan":"Adaug mprumut","loan.editLoan":"Editeaz mprumutul","loan.deleteLoan":"terge mprumutul","loan.addPayment":"Adaug Plata","loan.principal":"Principal","loan.paid":"Pltit","loan.remaining":"Rmas","loan.paymentProgress":"Progresul Plii","loan.paymentHistory":"Istoricul Plilor","loan.amortizationSchedule":"Programul de Amortizare","loan.loanCostBreakdown":"Detalierea Costului mprumutului","loan.interests":"Dobnzi","loan.installments":"Rate","loan.startDate":"Data de nceput","loan.endDate":"Data de sfrit","loan.noAmortizationData":"Nu sunt disponibile date pentru programul de amortizare.","loan.debugInfo":"Informaii de debug","loan.monthsPassed":"Luni Trecute","loan.daysRemaining":"Zile Rmase","loan.notStarted":"Nu a nceput","loan.currentInterest":"Dobnd Achitat","loan.interestSavings":"Dobnd Economisit","loan.principalPaid":"Principal Achitat","loan.remainingPrincipal":"Principal Rmas","loans.title":"mprumuturi","loans.addLoan":"Adaug mprumut Nou","loans.active":"Activ","loans.pending":"n Ateptare","loans.noLoans":"Nu s-au gsit mprumuturi","loans.noLoansDesc":"Nu sunt mprumuturi disponibile. Adaug primul tu mprumut pentru a ncepe!","loans.noLoansWithStatus":"Nu s-au gsit mprumuturi cu statusul","loans.showAllLoans":"Arat Toate mprumuturile","loans.allStatuses":"Toate Statusurile","loans.loanRecords":"nregistrri de mprumut","loans.manageLoans":"Gestioneaz i urmrete mprumuturile tale","loans.loanTitle":"Titlu","loans.principal":"Principal","loans.status":"Status","loans.deleteLoan":"terge mprumutul","loans.loan":"mprumut","loans.loans":"mprumuturi","amortization.total":"Total","amortization.date":"Data","amortization.rate":"Dobanda anual","amortization.days":"Zile","amortization.installment":"Plata lunar","amortization.reduction":"Credit de plat","amortization.interest":"Dobanda de plat","amortization.principal":"Sold Credit","amortization.fee":"Comision","modal.deleteTitle":"Confirmare tergere","modal.deleteMessage":"Eti sigur c vrei s tergi acest element? Aceast aciune nu poate fi anulat.","modal.deleteTransaction":"Eti sigur c vrei s tergi aceast tranzacie?","modal.deleteIncome":"Eti sigur c vrei s tergi acest venit?","modal.deleteLoan":"Eti sigur c vrei s tergi acest mprumut? Aceast aciune nu poate fi anulat i va terge i toate plile asociate.","modal.deleteLoanTitle":"Eti sigur c vrei s tergi acest mprumut?","modal.deleteLoanMessage":"Aceast aciune nu poate fi anulat i va terge i toate plile asociate.","modal.deletePayment":"Eti sigur c vrei s tergi aceast plat?","error.network":"Eroare de reea. Te rog s verifici conexiunea.","error.unauthorized":"Neautorizat. Te rog s te conectezi din nou.","error.server":"Eroare de server. Te rog s ncerci din nou mai trziu.","error.unknown":"A aprut o eroare necunoscut.","error.boundary.title":"Ceva nu a mers bine","error.boundary.message":"Am ntmpinat o eroare neateptat. Te rugm s rencarci pagina sau s contactezi suportul dac problema persist.","error.boundary.details":"Detalii Eroare (Doar n Development)","error.boundary.tryAgain":"ncearc din nou","error.boundary.reload":"Rencarc Pagina","error.validation":"Te rog s verifici datele introduse i s ncerci din nou.","transactionForm.title":"Adaug Tranzacie","transactionForm.editTitle":"Editeaz Tranzacia","transactionForm.amount":"Suma","transactionForm.category":"Categorie","transactionForm.description":"Descriere","transactionForm.date":"Data","transactionForm.submit":"Trimite","transactionForm.cancel":"Anuleaz","loanForm.title":"Formular mprumut","loanForm.addLoan":"Adaug mprumut","loanForm.editLoan":"Editeaz mprumutul","loanForm.loanTitle":"Titlul mprumutului","loanForm.enterLoanTitle":"Introdu titlul mprumutului","loanForm.principalAmount":"Suma Principal","loanForm.interestRate":"Rata de Dobnd (%)","loanForm.startDate":"Data de nceput","loanForm.endDate":"Data de Sfrit","loanForm.initialFee":"Taxa Iniial (Opional)","loanForm.firstPaymentDate":"Data Primei Pli","loanForm.paymentDayOfMonth":"Ziua Plii din Lun","loanForm.loanStatus":"Statusul mprumutului","loanForm.updateLoan":"Actualizeaz mprumutul","loanForm.endDateMustBeAfterStartDate":"Data de sfrit trebuie s fie dup data de nceput","loanForm.firstPaymentDateMustBeBetweenStartAndEnd":"Data primei pli trebuie s fie ntre data de nceput i data de sfrit","payment.simulated":"Simulat","payment.editPayment":"Editeaz Plata","payment.addPayment":"Adaug Plata","payment.deletePayment":"terge Plata","payment.noPaymentsYet":"nc Nu Sunt Pli","payment.noPaymentsDesc":"ncepe prin adugarea primei tale pli pentru a urmri progresul mprumutului.","payment.showingPayments":"Se afieaz","payment.of":"din","payment.payments":"pli","payment.title":"Titlu","payment.installment":"Rata","payment.addNewPayment":"Adaug Plat Nou","paymentForm.addPayment":"Adaug Plata","paymentForm.editPayment":"Editeaz Plata","paymentForm.paymentTitle":"Titlul Plii","paymentForm.enterPaymentTitle":"Introdu titlul plii","paymentForm.paymentDate":"Data Plii","paymentForm.newInterestRate":"Noua Rat de Dobnd (%)","paymentForm.installmentPayment":"Plata Ratei","paymentForm.newRecurringAmount":"Noua Sum Recurent","paymentForm.individualFee":"Taxa Individual","paymentForm.simulatedPayment":"Plat simulat (debug mprumut)","paymentForm.updatePayment":"Actualizeaz Plata","incomeForm.addIncome":"Adaug Venit","incomeForm.editIncome":"Editeaz Venitul","incomeForm.amount":"Suma","incomeForm.enterAmount":"Introdu suma...","incomeForm.date":"Data","incomeForm.description":"Descriere","incomeForm.enterDescription":"Introdu descrierea...","incomeForm.updateIncome":"Actualizeaz Venitul","incomeForm.tags":"Etichete Venit","income.incomeIntelligence":"Inteligena Veniturilor","income.incomeBySource":"Venituri pe Surs","income.incomeEvolutionBySource":"Evoluia Veniturilor pe Surs","income.noIncomeDataAvailable":"Nu sunt date de venit disponibile. Adaug intrri de venit cu etichete precum #salary, #freelance, #bonus, #interest sau #gift.","income.tags.salary":"Salariu","income.tags.bonus":"Bonusuri","income.tags.freelance":"Freelance","income.tags.overtime":"Ore Suplimentare","income.tags.interest":"Dobnd","income.tags.gift":"Cadouri","income.tags.cashback":"Cashback","income.tags.sale":"Vnzri","income.tags.family":"De la Familie","income.tags.wedding":"Cadou de Nunt","income.tags.godparent":"Cadou de Na","income.tags.untagged":"Fr Etichet","filters.search":"Caut tranzacii...","filters.searchInMonth":"Caut n lun...","filters.searchInMonthCategory":"Caut n lun/categorie...","filters.searchInCategory":"Caut n categorie...","filters.clearAll":"Cur toate filtrele","filters.selectMonth":"Selecteaz luna","filters.category":"Toate Categoriile","filters.categories":"Categorii","filters.tags":"Etichete","filters.all":"Toate","filters.months":"Luni","filters.dateRange":"Interval de Date","filters.dateFrom":"De la","filters.dateTo":"Pn la","filters.clear":"Cur Filtrele","calendar.title":"Vizualizare Calendar","calendar.previous":"Anterior","calendar.next":"Urmtor","calendar.today":"Astzi","calendar.noEvents":"Nu sunt evenimente pentru aceast zi","calendar.addEvent":"Adaug Eveniment","suggestions.title":"Sugestii","suggestions.noSuggestions":"Nu sunt sugestii disponibile","suggestions.selectCategory":"Selecteaz o categorie pentru a vedea sugestiile","receipt.scanTitle":"Scaneaz Chitana","receipt.takePhoto":"F o Fotografie","receipt.uploadImage":"ncarc Imagine","receipt.hint":"F o fotografie sau ncarc o imagine a chitanei tale","receipt.extractedData":"Date Extrase","receipt.amount":"Suma","receipt.date":"Data","receipt.merchant":"Comerciant","receipt.description":"Descriere","receipt.useData":"Folosete Aceste Date","receipt.scanAnother":"Scaneaz Alt Chitan","receipt.scanReceipt":"Scaneaz Chitana"}},bn=()=>{const e=G.useContext(d1);if(e===void 0)throw new Error("useLocalization must be used within a LocalizationProvider");return e},ak=({children:e})=>{const[t,n]=G.useState(()=>{const p=localStorage.getItem("language");return p&&["en","ro"].includes(p)?p:"en"}),a=p=>{n(p),localStorage.setItem("language",p)},l=p=>rk[t][p]||p;G.useEffect(()=>{document.documentElement.lang=t},[t]);const d={language:t,setLanguage:a,t:l};return D.jsx(d1.Provider,{value:d,children:e})},Rb=()=>{const{t:e}=bn();return[{value:"2",label:e("category.entertainment")},{value:"3",label:e("category.food")},{value:"4",label:e("category.gifts")},{value:"5",label:e("category.household")},{value:"6",label:e("category.housing")},{value:"7",label:e("category.health")},{value:"9",label:e("category.transport")},{value:"10",label:e("category.utilities")},{value:"1",label:e("category.clothing")},{value:"12",label:e("category.family")},{value:"8",label:e("category.personal")},{value:"11",label:e("category.travel")},{value:"13",label:e("category.investment")}]},h1=[{value:"",label:"Category"},{value:"2",label:"Entertainment"},{value:"3",label:"Food"},{value:"4",label:"Gifts"},{value:"5",label:"Household Items/Supplies"},{value:"6",label:"Housing"},{value:"7",label:"Medical / Healthcare"},{value:"9",label:"Transportation"},{value:"10",label:"Utilities"},{value:"1",label:"Clothing"},{value:"12",label:"Family"},{value:"8",label:"Personal"},{value:"11",label:"Travel"},{value:"13",label:"Investment"}],sk=()=>{const{t:e}=bn();return[e("months.january"),e("months.february"),e("months.march"),e("months.april"),e("months.may"),e("months.june"),e("months.july"),e("months.august"),e("months.september"),e("months.october"),e("months.november"),e("months.december")]},f1=["January","February","March","April","May","June","July","August","September","October","November","December"],ok={AED:"United Arab Emirates Dirham",AFN:"Afghan Afghani",ALL:"Albanian Lek",AMD:"Armenian Dram",ANG:"Netherlands Antillean Guilder",AOA:"Angolan Kwanza",ARS:"Argentine Peso",AUD:"Australian Dollar",AWG:"Aruban Florin",AZN:"Azerbaijani Manat",BAM:"Bosnia-Herzegovina Convertible Mark",BBD:"Barbadian Dollar",BDT:"Bangladeshi Taka",BGN:"Bulgarian Lev",BHD:"Bahraini Dinar",BIF:"Burundian Franc",BMD:"Bermudan Dollar",BND:"Brunei Dollar",BOB:"Bolivian Boliviano",BRL:"Brazilian Real",BSD:"Bahamian Dollar",BTC:"Bitcoin",BTN:"Bhutanese Ngultrum",BWP:"Botswanan Pula",BYN:"Belarusian Ruble",BZD:"Belize Dollar",CAD:"Canadian Dollar",CDF:"Congolese Franc",CHF:"Swiss Franc",CLF:"Chilean Unit of Account (UF)",CLP:"Chilean Peso",CNH:"Chinese Yuan (Offshore)",CNY:"Chinese Yuan",COP:"Colombian Peso",CRC:"Costa Rican Coln",CUC:"Cuban Convertible Peso",CUP:"Cuban Peso",CVE:"Cape Verdean Escudo",CZK:"Czech Republic Koruna",DJF:"Djiboutian Franc",DKK:"Danish Krone",DOP:"Dominican Peso",DZD:"Algerian Dinar",EGP:"Egyptian Pound",ERN:"Eritrean Nakfa",ETB:"Ethiopian Birr",EUR:"Euro",FJD:"Fijian Dollar",FKP:"Falkland Islands Pound",GBP:"British Pound Sterling",GEL:"Georgian Lari",GGP:"Guernsey Pound",GHS:"Ghanaian Cedi",GIP:"Gibraltar Pound",GMD:"Gambian Dalasi",GNF:"Guinean Franc",GTQ:"Guatemalan Quetzal",GYD:"Guyanaese Dollar",HKD:"Hong Kong Dollar",HNL:"Honduran Lempira",HRK:"Croatian Kuna",HTG:"Haitian Gourde",HUF:"Hungarian Forint",IDR:"Indonesian Rupiah",ILS:"Israeli New Sheqel",IMP:"Manx pound",INR:"Indian Rupee",IQD:"Iraqi Dinar",IRR:"Iranian Rial",ISK:"Icelandic Krna",JEP:"Jersey Pound",JMD:"Jamaican Dollar",JOD:"Jordanian Dinar",JPY:"Japanese Yen",KES:"Kenyan Shilling",KGS:"Kyrgystani Som",KHR:"Cambodian Riel",KMF:"Comorian Franc",KPW:"North Korean Won",KRW:"South Korean Won",KWD:"Kuwaiti Dinar",KYD:"Cayman Islands Dollar",KZT:"Kazakhstani Tenge",LAK:"Laotian Kip",LBP:"Lebanese Pound",LKR:"Sri Lankan Rupee",LRD:"Liberian Dollar",LSL:"Lesotho Loti",LYD:"Libyan Dinar",MAD:"Moroccan Dirham",MDL:"Moldovan Leu",MGA:"Malagasy Ariary",MKD:"Macedonian Denar",MMK:"Myanma Kyat",MNT:"Mongolian Tugrik",MOP:"Macanese Pataca",MRU:"Mauritanian Ouguiya",MUR:"Mauritian Rupee",MVR:"Maldivian Rufiyaa",MWK:"Malawian Kwacha",MXN:"Mexican Peso",MYR:"Malaysian Ringgit",MZN:"Mozambican Metical",NAD:"Namibian Dollar",NGN:"Nigerian Naira",NIO:"Nicaraguan Crdoba",NOK:"Norwegian Krone",NPR:"Nepalese Rupee",NZD:"New Zealand Dollar",OMR:"Omani Rial",PAB:"Panamanian Balboa",PEN:"Peruvian Nuevo Sol",PGK:"Papua New Guinean Kina",PHP:"Philippine Peso",PKR:"Pakistani Rupee",PLN:"Polish Zloty",PYG:"Paraguayan Guarani",QAR:"Qatari Rial",RON:"Romanian Leu",RSD:"Serbian Dinar",RUB:"Russian Ruble",RWF:"Rwandan Franc",SAR:"Saudi Riyal",SBD:"Solomon Islands Dollar",SCR:"Seychellois Rupee",SDG:"Sudanese Pound",SEK:"Swedish Krona",SGD:"Singapore Dollar",SHP:"Saint Helena Pound",SLL:"Sierra Leonean Leone",SOS:"Somali Shilling",SRD:"Surinamese Dollar",SSP:"South Sudanese Pound",STD:"So Tom and Prncipe Dobra (pre-2018)",STN:"So Tom and Prncipe Dobra",SVC:"Salvadoran Coln",SYP:"Syrian Pound",SZL:"Swazi Lilangeni",THB:"Thai Baht",TJS:"Tajikistani Somoni",TMT:"Turkmenistani Manat",TND:"Tunisian Dinar",TOP:"Tongan Pa'anga",TRY:"Turkish Lira",TTD:"Trinidad and Tobago Dollar",TWD:"New Taiwan Dollar",TZS:"Tanzanian Shilling",UAH:"Ukrainian Hryvnia",UGX:"Ugandan Shilling",USD:"United States Dollar",UYU:"Uruguayan Peso",UZS:"Uzbekistan Som",VEF:"Venezuelan Bolvar Fuerte (Old)",VES:"Venezuelan Bolvar Soberano",VND:"Vietnamese Dong",VUV:"Vanuatu Vatu",WST:"Samoan Tala",XAF:"CFA Franc BEAC",XAG:"Silver Ounce",XAU:"Gold Ounce",XCD:"East Caribbean Dollar",XDR:"Special Drawing Rights",XOF:"CFA Franc BCEAO",XPD:"Palladium Ounce",XPF:"CFP Franc",XPT:"Platinum Ounce",YER:"Yemeni Rial",ZAR:"South African Rand",ZMW:"Zambian Kwacha",ZWL:"Zimbabwean Dollar"},rb=()=>({"":[],1:["haine","incaltaminte","pantaloni","tricouri","Nelea","Leo","Sergiu"],2:["happy hour","benzinarie","ceai/cafea","restaurant","ingetata","parc"],3:["market","apa","lunch","inghetata","straus/glovo food"],4:["flori","Nelea","Sergiu","zi de nastere"],5:["igiena/curatinie","scutece","Leo"],6:["house","rata la jakala/ffw","rata la ipoteca","rata la cred de consum","apartment rent"],7:["farmacie","stomatolog","pediatru","Nelea","Sergiu","Leo","sport","asigurare"],8:["haircut","nails","Nelea","Sergiu","beauty"],9:["benzina","motorina","car service","lichid parbriz","car wash","taxi","parcare","troleibus"],10:["gaz","lumina","orange","bloc"],11:["Romania"],12:["Nelea","Leo","Sergiu","gradinita","jucarii","teren de joaca"],13:[],14:["vin","bere","whiskey","cognac","gin","cocktails"]}),Cn={SUCCESS:"success",ERROR:"error"},Zo=["salary","bonus","freelance","overtime","interest","gift","cashback","sale","family","wedding","godparent"],wx=["MonthlyTotals","YearAverageTrend","MonthlyComparisonTrend","AllTimeSpendings","MonthlyAverage","MonthlySavingsTrend","MonthlyAverageTrend","DailyAverage","DailyAverageTrend","LastTwoMonthsAverage","SavingsHistory"],wv=localStorage.getItem("forceLogs")==="true",xt={log:(...e)=>{wv&&console.log(...e)},warn:(...e)=>{wv&&console.warn(...e)},error:(...e)=>{console.error(...e)},info:(...e)=>{wv&&console.info(...e)},debug:(...e)=>{wv&&console.debug(...e)}},Sv={maxAttempts:3,initialDelay:1e3,maxDelay:3e4,backoffMultiplier:2},lk=(e,t,n,a)=>{const l=t*Math.pow(a,e-1);return Math.min(l,n)},ck=e=>new Promise(t=>setTimeout(t,e)),uk=e=>{if(e instanceof TypeError&&e.message.includes("fetch"))return!0;if(e&&typeof e=="object"&&"status"in e){const t=e.status;return t>=500||t===429}return e instanceof Error?e.name==="TimeoutError"||e.message.includes("timeout"):!0};async function hS(e,t={}){const{maxAttempts:n=Sv.maxAttempts,initialDelay:a=Sv.initialDelay,maxDelay:l=Sv.maxDelay,backoffMultiplier:d=Sv.backoffMultiplier,retryable:p=uk,onRetry:y}=t;let S,T=0;for(let _=1;_<=n;_++){T=_;try{return{success:!0,data:await e(),attempts:T}}catch(O){if(S=O,!p(O))return{success:!1,error:O,attempts:T};if(_<n){const L=lk(_,a,l,d);y&&y(_,O),await ck(L)}}}return{success:!1,error:S,attempts:T}}const fS={quick:{maxAttempts:2,initialDelay:500,maxDelay:2e3,backoffMultiplier:2},standard:{maxAttempts:3,initialDelay:1e3,maxDelay:1e4,backoffMultiplier:2},aggressive:{maxAttempts:5,initialDelay:1e3,maxDelay:3e4,backoffMultiplier:2},sync:{maxAttempts:3,initialDelay:2e3,maxDelay:3e4,backoffMultiplier:2}},Qn="https://dev-expenses-api.pantheonsite.io",dk=(e,t,n,a)=>{if(!e.ok)return fetch(`${Qn}/jwt/token`,t).then(p=>{p.status===403&&(a&&n?sb(a,n):xt.error("Dispatch functions not available for logout"))}),e.statusText;const l=e.headers.get("content-type"),d=e.headers.get("content-length");return!l||!l.includes("application/json")||d==="0"?null:e},Xo=(e,t="GET")=>({method:t,headers:new Headers({Accept:"application/json","Content-Type":"application/json","JWT-Authorization":"Bearer "+e})}),Sx=(e,t,n,a,l,d="GET",p)=>{const y=Xo(t,d);pS(e,y,n,a,l)},hk=(e,t=!1,n,a=!1)=>{const l=[],d=["January","February","March","April","May","June","July","August","September","October","November","December"],p=n||d;for(const y in e){const S={name:y,data:[]};for(let T=0;T<p.length;T++){const _=p[T],O=d[T],L=e[y][`${O} ${y}`],P=L!=null;if(t&&typeof t=="object"){const H=t[y]?.[`${O} ${y}`]??0,B=(L??0)-(typeof H=="number"?H:0);S.data.push([_,B])}else a&&!P?S.data.push([_,null]):S.data.push([_,L??0])}S.data.length>0&&l.push(S)}return l},pS=(e,t,n,a,l,d)=>{if(!n||!a){xt.error("Dispatch functions not available for fetch request");return}hS(async()=>{const p=await fetch(e,t);return dk(p,t,n,a)},{...fS.standard,onRetry:(p,y)=>{xt.warn(`Retrying fetch request (attempt ${p}):`,y)}}).then(p=>{if(!p.success){xt.error("Fetch request failed after retries:",p.error),l(null);return}const y=p.data;return typeof y=="string"?l(y):y===null?l(null):y instanceof Response?y.text().then(S=>{if(!S||S.trim()==="")return l(null);try{const T=JSON.parse(S);return l(T)}catch(T){return xt.warn("Failed to parse JSON response:",T),l(null)}}):l(y)}).catch(p=>{xt.error("Fetch request error:",p),l(null)})},gS=async(e,t,n,a,l)=>{if(a&&Fa())try{const{deleteExpenseLocally:d,getExpensesFromDB:p,getPaymentsFromDB:y,isOnline:S}=await va(async()=>{const{deleteExpenseLocally:P,getExpensesFromDB:H,getPaymentsFromDB:B,isOnline:F}=await Promise.resolve().then(()=>Ko);return{deleteExpenseLocally:P,getExpensesFromDB:H,getPaymentsFromDB:B,isOnline:F}},void 0),{deleteOffline:T,deletePaymentOffline:_,updateUILocally:O,updateLoansUILocally:L}=await va(async()=>{const{deleteOffline:P,deletePaymentOffline:H,updateUILocally:B,updateLoansUILocally:F}=await Promise.resolve().then(()=>BD);return{deleteOffline:P,deletePaymentOffline:H,updateUILocally:B,updateLoansUILocally:F}},void 0);if(l)if((await y()||[]).find(F=>F.loanId===l)?.data?.find(F=>F.id===e)){const F=`${Qn}/node/${e}?_format=json`;if(await _(l,e,F),await L(a),n({ok:!0}),S()){const W=Xo(t,"DELETE");fetch(F,W).then(async Y=>{if(Y.ok){const{getPendingSyncOperations:$,removeSyncOperation:K}=await va(async()=>{const{getPendingSyncOperations:X,removeSyncOperation:ie}=await Promise.resolve().then(()=>Ko);return{getPendingSyncOperations:X,removeSyncOperation:ie}},void 0),ue=(await $()).find(X=>X.url===F&&X.status==="pending"&&X.entityType==="payment");ue&&ue.id&&await K(ue.id)}}).catch(Y=>{console.error("Delete payment sync failed:",Y)})}}else{const F=Xo(t,"DELETE");fetch(`${Qn}/node/${e}?_format=json`,F).then(W=>{n(W)})}else{const H=(await p()||[]).find(B=>B.id===e);if(H){const B=H.type==="transaction"?"expense":"income",F=`${Qn}/node/${e}?_format=json`;if(await T(e,B,F),await O(a),n({ok:!0}),S()){const W=Xo(t,"DELETE");fetch(F,W).then(async Y=>{if(Y.ok){const{getPendingSyncOperations:$,removeSyncOperation:K}=await va(async()=>{const{getPendingSyncOperations:X,removeSyncOperation:ie}=await Promise.resolve().then(()=>Ko);return{getPendingSyncOperations:X,removeSyncOperation:ie}},void 0),ue=(await $()).find(X=>X.url===F&&X.status==="pending");ue&&ue.id&&await K(ue.id)}}).catch(Y=>{console.error("Delete sync failed:",Y)})}}else{const B=Xo(t,"DELETE");fetch(`${Qn}/node/${e}?_format=json`,B).then(F=>{n(F)})}}}catch(d){console.error("Error in offline delete:",d);const p=Xo(t,"DELETE");fetch(`${Qn}/node/${e}?_format=json`,p).then(y=>{n(y)})}else{const d=Xo(t,"DELETE");fetch(`${Qn}/node/${e}?_format=json`,d).then(p=>{n(p)})}},fk=async(e,t,n,a,l)=>{if(!n||!a){console.error("Dispatch functions not available for delete loan");return}if(Fa())try{const{deleteLoanLocally:d,getLoansFromDB:p,isOnline:y}=await va(async()=>{const{deleteLoanLocally:L,getLoansFromDB:P,isOnline:H}=await Promise.resolve().then(()=>Ko);return{deleteLoanLocally:L,getLoansFromDB:P,isOnline:H}},void 0),{deleteLoanOffline:S,updateLoansUILocally:T}=await va(async()=>{const{deleteLoanOffline:L,updateLoansUILocally:P}=await Promise.resolve().then(()=>BD);return{deleteLoanOffline:L,updateLoansUILocally:P}},void 0);if((await p()||[]).find(L=>L.id===e)){const L=`${Qn}/node/${e}?_format=json`;if(await S(e,L),await T(n),l(),y()){const P=Xo(t,"DELETE");fetch(L,P).then(async H=>{if(H.ok){const{getPendingSyncOperations:B,removeSyncOperation:F}=await va(async()=>{const{getPendingSyncOperations:$,removeSyncOperation:K}=await Promise.resolve().then(()=>Ko);return{getPendingSyncOperations:$,removeSyncOperation:K}},void 0),Y=(await B()).find($=>$.url===L&&$.status==="pending"&&$.entityType==="loan");Y&&Y.id&&await F(Y.id)}}).catch(H=>{console.error("Delete loan sync failed:",H)})}}else Sx(`${Qn}/node/${e}?_format=json`,t,n,a,l,"DELETE")}catch(d){console.error("Error in offline delete loan:",d),Sx(`${Qn}/node/${e}?_format=json`,t,n,a,l,"DELETE")}else Sx(`${Qn}/node/${e}?_format=json`,t,n,a,l,"DELETE")};function JE(e,t){if(typeof Worker>"u"){console.warn("Web Workers not available, processing synchronously"),t(hc(e));return}try{const n=new Worker(new URL("/expenses/assets/dataProcessor.worker-BGrHZhdr.js",import.meta.url),{type:"module"});n.postMessage({data:e,getCategory:g1}),n.onmessage=a=>{t(a.data),n.terminate()},n.onerror=a=>{console.error("Worker error:",a),t(hc(e)),n.terminate()}}catch(n){console.error("Failed to create worker:",n),t(hc(e))}}function hc(e){const t=[...e].sort((P,H)=>{const B=new Date(P.dt).getTime(),W=new Date(H.dt).getTime()-B;if(W!==0)return W;const Y=P.cr||new Date(P.dt).getTime();return(H.cr||new Date(H.dt).getTime())-Y}),n={},a={},l={},d=[],p={},y={},S={},T={},_={};let O=0;const L=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.forEach(P=>{const H=new Date(P.dt),B=H.getFullYear(),F=`${L[H.getMonth()]} ${B}`;a[B]||(a[B]={}),a[B][F]||(a[B][F]=0),n[F]||(n[F]=[]),p[F]||(p[F]=0),y[F]||(y[F]=0),T[B]||(T[B]={}),T[B][F]||(T[B][F]=0),S[B]||(S[B]=0),l[B]||(l[B]=0);const{cat:W,sum:Y,type:$}=P;$==="incomes"?(S[B]=(S[B]||0)+parseFloat(Y),T[B][F]+=parseFloat(Y),d.push(P),y[F]=parseFloat((y[F]+parseFloat(Y)).toFixed(2))):$==="transaction"&&(n[F].push(P),p[F]=parseFloat((p[F]+parseFloat(Y)).toFixed(2)),W&&!_[W]&&(_[W]={name:g1[W]||"",y:0}),W&&_[W]&&(_[W].y=parseFloat((_[W].y+parseFloat(Y)).toFixed(2))),O+=parseFloat(Y),a[B][F]+=parseFloat(Y),l[B]=(l[B]||0)+parseFloat(Y))}),Object.keys(n).forEach(P=>{n[P].sort((H,B)=>{const F=new Date(H.dt).getTime(),Y=new Date(B.dt).getTime()-F;if(Y!==0)return Y;const $=H.cr||new Date(H.dt).getTime();return(B.cr||new Date(B.dt).getTime())-$})}),d.sort((P,H)=>{const B=new Date(P.dt).getTime(),W=new Date(H.dt).getTime()-B;if(W!==0)return W;const Y=P.cr||new Date(P.dt).getTime();return(H.cr||new Date(H.dt).getTime())-Y}),{groupedData:n,totalsPerYearAndMonth:a,totalPerYear:l,incomeData:d,monthsTotals:p,totals:p,incomeTotals:y,totalIncomePerYear:S,totalIncomePerYearAndMonth:T,categoryTotals:_,totalSpent:O,raw:t}}const p1=e=>e.map(t=>(!t.cr&&t.fdt&&(t.cr=new Date(t.fdt).getTime()),t)).sort((t,n)=>{const a=new Date(t.fdt||0).getTime(),d=new Date(n.fdt||0).getTime()-a;if(d!==0)return d;const p=t.cr||new Date(t.fdt||0).getTime();return(n.cr||new Date(n.fdt||0).getTime())-p}),mS=e=>e.map(t=>(!t.cr&&t.sdt&&(t.cr=new Date(t.sdt).getTime()),t)).sort((t,n)=>{const a=t.cr||(t.sdt?new Date(t.sdt).getTime():0);return(n.cr||(n.sdt?new Date(n.sdt).getTime():0))-a}),Tt=e=>{const n=(localStorage.getItem("language")||"en")==="ro"?"ro-RO":"en-US";if(typeof e=="number")return e.toLocaleString(n,{minimumFractionDigits:0,maximumFractionDigits:2});if(typeof e=="string"){const a=parseFloat(e);if(!isNaN(a))return a.toLocaleString(n,{minimumFractionDigits:0,maximumFractionDigits:2})}return"-"},g1=h1.reduce((e,t)=>(e[t.value]=t.label,e),{}),pk=e=>{const t=parseInt(String((new Date().getTime()-new Date(e).getTime())/864e5+1));return t?parseFloat(String(t/30.42)):0},gk=(e,t)=>{const n=new Date(e+"T12:00:00"),a=new Date(t+"T12:00:00");if(isNaN(n.getTime())||isNaN(a.getTime()))return 1;const l=(a.getFullYear()-n.getFullYear())*12+(a.getMonth()-n.getMonth())+1;return Math.max(1,l)},G4=(e,t)=>{const n=new Date(e+"T12:00:00"),a=new Date(t+"T12:00:00");if(isNaN(n.getTime())||isNaN(a.getTime()))return 0;const l=a.getTime()-n.getTime(),d=Math.floor(l/(1e3*60*60*24))+1;return Math.max(1,d)},ao=e=>typeof e=="number"?e:e?.includes(".")?parseFloat(e):parseInt(e,10),qh=e=>{const[t,n,a]=e.split("-");return`${a}.${n}.${t}`},V4=e=>{const n=(localStorage.getItem("language")||"en")==="ro"?"ro-RO":"en-US";return new Date(e.getFullYear(),e.getMonth(),1).toLocaleString(n,{month:"long",year:"numeric"})},Ev=e=>{if(!e||typeof e!="string")return null;const t=Date.parse(e);if(!isNaN(t))return new Date(t);const n=e.trim().split(" ");if(n.length<2)return null;const a=parseInt(n[n.length-1],10);if(isNaN(a)||a<1900||a>2100)return null;const l=localStorage.getItem("language")||"en",d=["January","February","March","April","May","June","July","August","September","October","November","December"],p=["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],y=l==="ro"?p:d,S=n.slice(0,-1).join(" "),T=y.findIndex(_=>_.toLowerCase()===S.toLowerCase());if(T===-1){const O=(l==="ro"?d:p).findIndex(L=>L.toLowerCase()===S.toLowerCase());return O!==-1?new Date(a,O,1):null}return new Date(a,T,1)},kb=(e=localStorage.getItem("language")||"en")=>e==="ro"?"ro-RO":"en-US",mk=(e,t=null)=>{const n=new Date(e),l=(t?new Date(t):new Date).getTime()-n.getTime();return Math.floor(l/(1e3*60*60*24))},ww=e=>e==="completed"?"completed":e==="in_progress"?"active":"pending",Ob=(e,t)=>{if(!e.dsc)return!1;const n=e.dsc.toLowerCase(),a=`#${t.toLowerCase()}`;return n.includes(a)},m1=e=>{if(!e)return[];const t=/#([\w-]+)/g,n=e.match(t);return n?n.map(a=>a.substring(1)):[]},Sw=(e,t)=>!e||!t?!1:new RegExp(`#${t}\\b`,"gi").test(e),yk=(e,t)=>{if(!t)return e;const n=e.trim(),a=`#${t}`;return n?Sw(n,t)?n:`${n} ${a}`:a},vk=(e,t)=>{if(!e||!t)return e;const n=new RegExp(`#${t}\\b`,"gi");return e.replace(n,"").replace(/\s+/g," ").trim()},bk={1:"clothing",2:"entertainment",3:"food",4:"gifts",5:"household",6:"housing",7:"health",8:"personal",9:"transport",10:"utilities",11:"travel",12:"family",13:"investment",14:"alcohol"},xk={entertainment:{"happy hour":"happyHour","ceai/cafea":"ceaiCafea",ingetata:"ingetata"},food:{"straus/glovo food":"strausGlovo",inghetata:"inghetata"},gifts:{"zi de nastere":"ziDeNastere"},household:{"igiena/curatinie":"igiena"},housing:{"rata la jakala/ffw":"rataJakala","rata la ipoteca":"rataIpoteca","rata la cred de consum":"rataCredConsum","apartment rent":"apartmentRent"},transport:{"car service":"carService","lichid parbriz":"lichidParbriz","car wash":"carWash"},family:{gradinita:"gradinita",jucarii:"jucarii","teren de joaca":"terenJoaca"}},wk=(e,t)=>{const n=xk[t];return n&&n[e.toLowerCase()]?n[e.toLowerCase()]:e.toLowerCase().split(/[\s\/]+/).map((a,l)=>l===0?a:a.charAt(0).toUpperCase()+a.slice(1)).join("").replace(/[^a-z0-9]/g,"")},ab=(e,t)=>{const n=bk[String(t)];if(!n)return e;const a=wk(e,n);return`suggestions.${n}.${a}`},Sk="expensesDB",Ek=3,Qr="expenses",Kr="loans",Jr="payments",ea="syncQueue";function Kn(){return new Promise((e,t)=>{const n=indexedDB.open(Sk,Ek);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=a=>{const l=a.target.result;l.objectStoreNames.contains(Qr)||l.createObjectStore(Qr,{keyPath:"id"}),l.objectStoreNames.contains(Kr)||l.createObjectStore(Kr,{keyPath:"id"}),l.objectStoreNames.contains(Jr)||l.createObjectStore(Jr,{keyPath:"loanId"}),l.objectStoreNames.contains(ea)||l.createObjectStore(ea,{keyPath:"id",autoIncrement:!0}).createIndex("status","status",{unique:!1})}})}async function y1(e){try{const t=await Kn(),n=t.transaction(Qr,"readwrite"),a=n.objectStore(Qr);await new Promise((d,p)=>{const y=a.clear();y.onsuccess=()=>d(),y.onerror=()=>p(y.error)});const l=e.map(d=>new Promise((p,y)=>{const S=a.put(d);S.onsuccess=()=>p(),S.onerror=()=>y(S.error)}));await Promise.all(l),n.oncomplete=()=>t.close()}catch(t){xt.error("Error saving expenses to IndexedDB:",t)}}function Ak(e){return e.sort((t,n)=>{const a=new Date(t.dt).getTime(),d=new Date(n.dt).getTime()-a;if(d!==0)return d;const p=t.cr||new Date(t.dt).getTime();return(n.cr||new Date(n.dt).getTime())-p})}async function qu(){try{const e=await Kn(),t=e.transaction(Qr,"readonly"),n=t.objectStore(Qr);return new Promise((a,l)=>{const d=n.getAll();d.onsuccess=()=>{const p=d.result;t.oncomplete=()=>e.close();const y=p.length>0?Ak(p):null;a(y)},d.onerror=()=>{t.oncomplete=()=>e.close(),l(d.error)}})}catch(e){return xt.error("Error reading expenses from IndexedDB:",e),null}}const Ck=mS;async function Ew(e){try{const t=await Kn(),n=t.transaction(Kr,"readwrite"),a=n.objectStore(Kr);await new Promise((d,p)=>{const y=a.clear();y.onsuccess=()=>d(),y.onerror=()=>p(y.error)});const l=e.map(d=>new Promise((p,y)=>{const S=a.put(d);S.onsuccess=()=>p(),S.onerror=()=>y(S.error)}));await Promise.all(l),n.oncomplete=()=>t.close()}catch(t){xt.error("Error saving loans to IndexedDB:",t)}}async function Xh(){try{const e=await Kn(),t=e.transaction(Kr,"readonly"),n=t.objectStore(Kr);return new Promise((a,l)=>{const d=n.getAll();d.onsuccess=()=>{const p=d.result;t.oncomplete=()=>e.close();const y=p.length>0?Ck(p):null;a(y)},d.onerror=()=>{t.oncomplete=()=>e.close(),l(d.error)}})}catch(e){return xt.error("Error reading loans from IndexedDB:",e),null}}async function Aw(e){try{const t=await Kn(),n=t.transaction(Jr,"readwrite"),a=n.objectStore(Jr);await new Promise((d,p)=>{const y=a.clear();y.onsuccess=()=>d(),y.onerror=()=>p(y.error)});const l=e.map(d=>new Promise((p,y)=>{const S=a.put(d);S.onsuccess=()=>p(),S.onerror=()=>y(S.error)}));await Promise.all(l),n.oncomplete=()=>t.close()}catch(t){xt.error("Error saving payments to IndexedDB:",t)}}function Dk(e){return e.map(t=>(t.data&&Array.isArray(t.data)&&(t.data=p1(t.data)),t))}async function Yu(){try{const e=await Kn(),t=e.transaction(Jr,"readonly"),n=t.objectStore(Jr);return new Promise((a,l)=>{const d=n.getAll();d.onsuccess=()=>{const p=d.result;t.oncomplete=()=>e.close();const y=p.length>0?Dk(p):null;a(y)},d.onerror=()=>{t.oncomplete=()=>e.close(),l(d.error)}})}catch(e){return xt.error("Error reading payments from IndexedDB:",e),null}}async function v1(){try{const e=await Kn(),t=e.transaction(Qr,"readwrite"),n=t.objectStore(Qr);await new Promise((y,S)=>{const T=n.clear();T.onsuccess=()=>y(),T.onerror=()=>S(T.error),t.oncomplete=()=>{}});const a=e.transaction(Kr,"readwrite"),l=a.objectStore(Kr);await new Promise((y,S)=>{const T=l.clear();T.onsuccess=()=>y(),T.onerror=()=>S(T.error),a.oncomplete=()=>{}});const d=e.transaction(Jr,"readwrite"),p=d.objectStore(Jr);await new Promise((y,S)=>{const T=p.clear();T.onsuccess=()=>y(),T.onerror=()=>S(T.error),d.oncomplete=()=>e.close()})}catch(e){xt.error("Error clearing IndexedDB:",e)}}function Fa(){return typeof indexedDB<"u"}function Xu(){return navigator.onLine}async function b1(e,t=!1){try{const n=await Kn(),a=n.transaction(Qr,"readwrite"),l=a.objectStore(Qr);return t&&!e.cr&&(e.cr=Date.now()),new Promise((d,p)=>{const y=l.put(e);y.onsuccess=()=>{a.oncomplete=()=>n.close(),d()},y.onerror=()=>{a.oncomplete=()=>n.close(),p(y.error)}})}catch(n){throw xt.error("Error saving expense locally:",n),n}}async function x1(e){try{const t=await Kn(),n=t.transaction(Qr,"readwrite"),a=n.objectStore(Qr);return new Promise((l,d)=>{const p=a.delete(e);p.onsuccess=()=>{n.oncomplete=()=>t.close(),l()},p.onerror=()=>{n.oncomplete=()=>t.close(),d(p.error)}})}catch(t){throw xt.error("Error deleting expense locally:",t),t}}async function w1(e,t=!1){try{const n=await Kn(),a=n.transaction(Kr,"readwrite"),l=a.objectStore(Kr);return t&&!e.cr&&(e.cr=Date.now()),new Promise((d,p)=>{const y=l.put(e);y.onsuccess=()=>{a.oncomplete=()=>n.close(),d()},y.onerror=()=>{a.oncomplete=()=>n.close(),p(y.error)}})}catch(n){throw xt.error("Error saving loan locally:",n),n}}async function S1(e){try{const t=await Kn(),n=t.transaction(Kr,"readwrite"),a=n.objectStore(Kr);return new Promise((l,d)=>{const p=a.delete(e);p.onsuccess=()=>{n.oncomplete=()=>t.close(),l()},p.onerror=()=>{n.oncomplete=()=>t.close(),d(p.error)}})}catch(t){throw xt.error("Error deleting loan locally:",t),t}}async function E1(e,t,n=!1){try{const a=await Kn(),l=a.transaction(Jr,"readwrite"),d=l.objectStore(Jr);let y=(await new Promise(T=>{const _=d.get(e);_.onsuccess=()=>T(_.result),_.onerror=()=>T(null)}))?.data||[];if(n)t.id||(t.id=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),t.cr||(t.cr=Date.now()),y.push(t);else{const T=y.findIndex(_=>_.id===t.id);T>=0?y[T]=t:y.push(t)}const S={loanId:e,data:y};return new Promise((T,_)=>{const O=d.put(S);O.onsuccess=()=>{l.oncomplete=()=>a.close(),T()},O.onerror=()=>{l.oncomplete=()=>a.close(),_(O.error)}})}catch(a){throw xt.error("Error saving payment locally:",a),a}}async function A1(e,t){try{const n=await Kn(),a=n.transaction(Jr,"readwrite"),l=a.objectStore(Jr),d=await new Promise(p=>{const y=l.get(e);y.onsuccess=()=>p(y.result),y.onerror=()=>p(null)});if(d&&d.data)return d.data=d.data.filter(p=>p.id!==t),new Promise((p,y)=>{const S=l.put(d);S.onsuccess=()=>{a.oncomplete=()=>n.close(),p()},S.onerror=()=>{a.oncomplete=()=>n.close(),y(S.error)}})}catch(n){throw xt.error("Error deleting payment locally:",n),n}}async function nd(e){try{const t=await Kn(),n=t.transaction(ea,"readwrite"),a=n.objectStore(ea),l={...e,status:"pending",retries:0};return new Promise((d,p)=>{const y=a.add(l);y.onsuccess=()=>{n.oncomplete=()=>t.close(),window.dispatchEvent(new CustomEvent("sync-queue-changed")),d()},y.onerror=()=>{n.oncomplete=()=>t.close(),p(y.error)}})}catch(t){throw xt.error("Error adding to sync queue:",t),t}}async function tf(){try{const e=await Kn(),t=e.transaction(ea,"readonly"),a=t.objectStore(ea).index("status");return new Promise((l,d)=>{const p=a.getAll("pending");p.onsuccess=()=>{t.oncomplete=()=>e.close(),l(p.result||[])},p.onerror=()=>{t.oncomplete=()=>e.close(),d(p.error)}})}catch(e){return xt.error("Error getting pending sync operations:",e),[]}}async function Hu(e){try{const t=await Kn(),n=t.transaction(ea,"readwrite"),a=n.objectStore(ea);return new Promise((l,d)=>{const p=a.delete(e);p.onsuccess=()=>{n.oncomplete=()=>t.close(),window.dispatchEvent(new CustomEvent("sync-queue-changed")),l()},p.onerror=()=>{n.oncomplete=()=>t.close(),d(p.error)}})}catch(t){throw xt.error("Error removing sync operation:",t),t}}async function C1(e,t,n){try{const a=await Kn(),l=a.transaction(ea,"readwrite"),d=l.objectStore(ea);return new Promise((p,y)=>{const S=d.get(e);S.onsuccess=()=>{const T=S.result;if(T){T.status=t,n!==void 0&&(T.retries=n);const _=d.put(T);_.onsuccess=()=>{l.oncomplete=()=>a.close(),window.dispatchEvent(new CustomEvent("sync-queue-changed")),p()},_.onerror=()=>{l.oncomplete=()=>a.close(),y(_.error)}}else l.oncomplete=()=>a.close(),p()},S.onerror=()=>{l.oncomplete=()=>a.close(),y(S.error)}})}catch(a){throw xt.error("Error updating sync operation status:",a),a}}async function Cw(e,t,n){try{const a=await Kn(),l=a.transaction(ea,"readwrite"),d=l.objectStore(ea),p=d.index("status");return new Promise((y,S)=>{const T=p.getAll("pending");T.onsuccess=()=>{const _=T.result||[];let O=!1;_.forEach(L=>{L.localId===e&&L.entityType===n&&L.type!=="create"&&(L.localId=t,(L.type==="update"||L.type==="delete")&&(L.url=`${Qn}/node/${t}?_format=json`),d.put(L),O=!0)}),l.oncomplete=()=>{a.close(),y()},l.onerror=()=>{a.close(),S(l.error)},O||y()},T.onerror=()=>{l.oncomplete=()=>a.close(),S(T.error)}})}catch(a){throw xt.error("Error updating sync operations with new ID:",a),a}}async function D1(){try{const e=await Kn(),t=e.transaction([ea,Qr,Kr,Jr],"readwrite"),n=t.objectStore(ea),a=t.objectStore(Qr),l=t.objectStore(Kr),d=t.objectStore(Jr),p=n.index("status");return new Promise((y,S)=>{const T=p.getAll("pending");T.onsuccess=()=>{const _=T.result||[];let O=0;const L=[],P=async(H,B)=>{if(!H.localId){L.push(H.id);return}if(H.type==="create"||H.type==="delete")return;let F=!1;H.entityType==="expense"||H.entityType==="income"?F=!!await new Promise(Y=>{const $=a.get(H.localId);$.onsuccess=()=>Y($.result),$.onerror=()=>Y(null)}):H.entityType==="loan"?F=!!await new Promise(Y=>{const $=l.get(H.localId);$.onsuccess=()=>Y($.result),$.onerror=()=>Y(null)}):H.entityType==="payment"&&(F=(await new Promise(Y=>{const $=d.getAll();$.onsuccess=()=>Y($.result||[]),$.onerror=()=>Y([])})).some(Y=>Y.data?.some($=>$.id===H.localId))),F||L.push(H.id)};if(_.length===0){t.oncomplete=()=>{e.close(),y(0)};return}Promise.all(_.map((H,B)=>P(H,B))).then(()=>{L.length>0&&L.forEach(H=>{n.delete(H),O++}),t.oncomplete=()=>{e.close(),y(O)},t.onerror=()=>{e.close(),S(t.error)}}).catch(H=>{t.oncomplete=()=>{e.close(),y(0)}})},T.onerror=()=>{t.oncomplete=()=>e.close(),S(T.error)}})}catch(e){return xt.error("Error cleaning up invalid sync operations:",e),0}}const Ko=Object.freeze(Object.defineProperty({__proto__:null,addToSyncQueue:nd,cleanupInvalidSyncOperations:D1,clearExpensesDB:v1,deleteExpenseLocally:x1,deleteLoanLocally:S1,deletePaymentLocally:A1,getExpensesFromDB:qu,getLoansFromDB:Xh,getPaymentsFromDB:Yu,getPendingSyncOperations:tf,isIndexedDBAvailable:Fa,isOnline:Xu,openDB:Kn,removeSyncOperation:Hu,saveExpenseLocally:b1,saveExpensesToDB:y1,saveLoanLocally:w1,saveLoansToDB:Ew,savePaymentLocally:E1,savePaymentsToDB:Aw,updateSyncOperationStatus:C1,updateSyncOperationsWithNewId:Cw},Symbol.toStringTag,{value:"Module"})),T1=[{id:"default",labelKey:"theme.default",bg:"oklch(0.145 0.005 264)",accent:"#5b8def",accentHover:"oklch(0.52 0.18 264)"},{id:"navy",labelKey:"theme.navy",bg:"oklch(0.11 0.02 264)",accent:"#2563eb",accentHover:"oklch(0.5 0.2 264)"},{id:"teal",labelKey:"theme.teal",bg:"oklch(0.12 0.02 180)",accent:"#0d9488",accentHover:"oklch(0.52 0.12 180)"},{id:"emerald",labelKey:"theme.emerald",bg:"oklch(0.12 0.02 165)",accent:"#10b981",accentHover:"oklch(0.55 0.16 165)"},{id:"slate",labelKey:"theme.slate",bg:"oklch(0.14 0.008 260)",accent:"#64748b",accentHover:"oklch(0.55 0.04 260)"},{id:"indigo",labelKey:"theme.indigo",bg:"oklch(0.13 0.025 275)",accent:"#4f46e5",accentHover:"oklch(0.52 0.22 275)"}],Hg="default";function Tk(e){return e==="blue-pink-gradient"?Hg:T1.some(n=>n.id===e)?e:Hg}const M1="theme",_1="useChartsBackgroundColor",R1="quickAddSuggestion";function Mk(){try{const e=localStorage.getItem(M1),t=e?JSON.parse(e):Hg;return Tk(t)}catch{return Hg}}function _k(){try{const e=localStorage.getItem(_1);return e?JSON.parse(e):!1}catch{return!1}}const eA={enabled:!1,amount:"",category:"",description:"",daysOfWeek:[],timeSlots:[]};function Rk(e){if(!e||typeof e!="object")return null;const t=e,n=typeof t.start=="string"?t.start:"",a=typeof t.end=="string"?t.end:"";return!n||!a?null:{start:n,end:a}}function kk(){try{const e=localStorage.getItem(R1);if(!e)return eA;const t=JSON.parse(e),n=Array.isArray(t.daysOfWeek)?t.daysOfWeek.filter(d=>typeof d=="number"&&d>=0&&d<=6):[],l=(Array.isArray(t.timeSlots)?t.timeSlots:[]).map(Rk).filter(d=>d!==null);return{enabled:!!t.enabled,amount:typeof t.amount=="string"?t.amount:"",category:typeof t.category=="string"?t.category:"",description:typeof t.description=="string"?t.description:"",daysOfWeek:n,timeSlots:l}}catch{return eA}}const Ok={currency:"MDL",theme:Mk(),useChartsBackgroundColor:_k(),quickAddSuggestion:kk()},co=new dS(Ok);function em(){return xc(co,e=>e.currency)}function Nk(){return xc(co,e=>e.theme)}function Lk(){return xc(co,e=>e.useChartsBackgroundColor)}function k1(){return xc(co,e=>e.quickAddSuggestion)}function Ik(e){co.setState(t=>({...t,currency:e}))}function Pk(e){localStorage.setItem(M1,JSON.stringify(e)),co.setState(t=>({...t,theme:e}))}function jk(e){localStorage.setItem(_1,JSON.stringify(e)),co.setState(t=>({...t,useChartsBackgroundColor:e}))}function Bh(e){localStorage.setItem(R1,JSON.stringify(e)),co.setState(t=>({...t,quickAddSuggestion:e}))}function yS(e){co.setState(t=>({...t,...e}))}const zk=async(e,t)=>{const n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};try{e({type:"REQUEST_LOGIN"});const l=await(await fetch(`${Qn}/user/login/google?_format=json`,n)).json();if(l.current_user){e({type:"LOGIN_SUCCESS",payload:l}),localStorage.setItem("currentUser",JSON.stringify(l));const d=l.current_user?.currency;return d&&yS({currency:d}),l}e({type:"LOGIN_ERROR",error:l.errors[0]})}catch(a){e({type:"LOGIN_ERROR",error:a})}},sb=async(e,t)=>{await e({type:"LOGOUT"}),await t({type:"REMOVE_DATA"}),localStorage.removeItem("currentUser"),localStorage.removeItem("token"),await v1()},Bk="currentUser";function O1(){try{const e=localStorage.getItem(Bk);return e?JSON.parse(e):null}catch{return null}}function N1(){return O1()?.jwt_token??""}const Ex=O1(),Fk=N1(),Hk=localStorage.getItem("theme")?JSON.parse(localStorage.getItem("theme")):"",Uk=localStorage.getItem("useChartsBackgroundColor")?JSON.parse(localStorage.getItem("useChartsBackgroundColor")):"",Gk={userDetails:Ex||"",token:Fk||"",loading:!1,errorMessage:null,userIsLoggedIn:!!Ex,currency:Ex?.current_user?.currency||"MDL",theme:Hk||"blue-pink-gradient",useChartsBackgroundColor:Uk},L1={groupedData:null,totals:null,filtered:null,raw:[],incomeData:null,incomeTotals:null,categoryTotals:[],loading:!0,totalSpent:0,changedItems:{},category:"",textFilter:"",selectedTag:"",dateRange:null},Vk={loans:null,loading:!0,payments:[]},Wk=(e,t)=>{switch(t.type){case"REQUEST_LOGIN":return{...e,loading:!0};case"LOGIN_SUCCESS":return{...e,userDetails:t.payload,token:t.payload.jwt_token,loading:!1,userIsLoggedIn:!0,currency:t.payload.current_user.currency||"MDL"};case"UPDATE_USER":return{...e,...t.payload};case"LOGOUT":return{...e,user:"",token:"",userIsLoggedIn:!1};case"LOGIN_ERROR":return{...e,loading:!1,errorMessage:t.error};default:throw new Error(`Unhandled action type: ${t.type}`)}},Yk=e=>{const t=new Date(e),n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");return`${n}-${a}-${l}`},tA=(e,t,n,a,l)=>{const d=l?.start&&l?.end;if(!(t!==""||n!==""||a!==""||d)||!e)return null;let p=e?.filter(S=>S.type==="transaction")||[];if(t&&(p=p.filter(S=>S.cat===t)),n){const S=n.toLowerCase();p=p.filter(T=>T.dsc&&T.dsc.toLowerCase().includes(S))}if(a){const S=(T,_)=>!T.dsc||!_?!1:new RegExp(`#${_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"i").test(T.dsc);p=p.filter(T=>S(T,a))}if(d){const S=l.start,T=l.end;p=p.filter(_=>{if(!_.dt)return!1;const O=Yk(_.dt);return O>=S&&O<=T})}return{filtered:p.reduce((S,T)=>{const _=new Date(T.dt),O=_.getFullYear(),L=`${f1[_.getMonth()]} ${O}`;S.groupedData[L]=S.groupedData[L]||[],S.groupedData[L].push(T),S.totals[L]=(S.totals[L]||0)+parseFloat(T.sum),S.totalSpent=S.totalSpent+parseFloat(T.sum),S.totalsPerYearAndMonth[O]=S.totalsPerYearAndMonth[O]||{},S.totalsPerYearAndMonth[O][L]=(S.totalsPerYearAndMonth[O][L]||0)+parseFloat(T.sum),S.totalPerYear[O]=(S.totalPerYear[O]||0)+parseFloat(T.sum);const P=T.cat;return P!==void 0&&(S.categoryTotals[P]||(S.categoryTotals[P]={name:"",y:0}),S.categoryTotals[P].name=h1[P]?.label||"",S.categoryTotals[P].y+=parseFloat(T.sum)||0),S},{groupedData:{},totals:{},totalsPerYearAndMonth:{},totalPerYear:{},totalSpent:0,categoryTotals:{}}),filtered_raw:p}},$k=(e,t)=>{switch(t.type){case"SET_DATA":const n=qk(e.raw,t.raw),a={...e,...t,changedItems:{...e.changedItems,...n}};if(e.category||e.textFilter||e.selectedTag||e.dateRange?.start&&e.dateRange?.end){const p=tA(t.raw||a.raw||[],e.category||"",e.textFilter||"",e.selectedTag||"",e.dateRange??null);if(p)return{...a,...p,category:e.category,textFilter:e.textFilter,selectedTag:e.selectedTag,dateRange:e.dateRange??null}}return a;case"CLEAR_CHANGED_ITEM":const l={...e.changedItems};return delete l[t.id],{...e,changedItems:l};case"FILTER_DATA":const d=tA(e.raw||[],t.category||"",t.textFilter||"",t.selectedTag||"",t.dateRange??null);return d?{...e,...d,category:t.category,textFilter:t.textFilter,selectedTag:t.selectedTag,dateRange:t.dateRange??null}:{...e,filtered:null,category:"",textFilter:"",selectedTag:"",dateRange:null,filtered_raw:null};case"REMOVE_DATA":return L1;default:throw new Error(`Unhandled action type: ${t.type}`)}},qk=(e,t)=>{const n={};if(!e||!Array.isArray(e)||e.length===0||!t||!Array.isArray(t))return n;const a=new Map(e.map(d=>[d.id,d])),l=new Map(t.map(d=>[d.id,d]));return t.forEach(d=>{const p=a.get(d.id);p?(d.dt!==p.dt||d.sum!==p.sum||d.type!==p.type||d.cat!==p.cat||d.dsc!==p.dsc||d.cr!==p.cr)&&(n[d.id]={type:"updated",data:d}):n[d.id]={type:"new",data:d}}),e.forEach(d=>{l.has(d.id)||(n[d.id]={type:"removed",data:d})}),n},Xk=(e,t)=>t.type==="SET_DATA"?{...e,loans:t.loans??e.loans,payments:t.payments??e.payments,loading:t.loading??e.loading}:e;function Zk(e={}){const{nonce:t,locale:n,onScriptLoadSuccess:a,onScriptLoadError:l}=e,[d,p]=G.useState(!1),y=G.useRef(a);y.current=a;const S=G.useRef(l);return S.current=l,G.useEffect(()=>{const T=document.createElement("script");return T.src="https://accounts.google.com/gsi/client",n&&(T.src+=`?hl=${n}`),T.async=!0,T.defer=!0,T.nonce=t,T.onload=()=>{var _;p(!0),(_=y.current)===null||_===void 0||_.call(y)},T.onerror=()=>{var _;p(!1),(_=S.current)===null||_===void 0||_.call(S)},document.body.appendChild(T),()=>{document.body.removeChild(T)}},[t]),d}const I1=G.createContext(null);function Qk({clientId:e,nonce:t,locale:n,onScriptLoadSuccess:a,onScriptLoadError:l,children:d}){const p=Zk({nonce:t,onScriptLoadSuccess:a,onScriptLoadError:l,locale:n}),y=G.useMemo(()=>({locale:n,clientId:e,scriptLoadedSuccessfully:p}),[e,p]);return Ge.createElement(I1.Provider,{value:y},d)}function Kk(){const e=G.useContext(I1);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function Jk(){var e,t,n;(n=(t=(e=window?.google)===null||e===void 0?void 0:e.accounts)===null||t===void 0?void 0:t.id)===null||n===void 0||n.disableAutoSelect()}function eO({flow:e="implicit",scope:t="",onSuccess:n,onError:a,onNonOAuthError:l,overrideScope:d,state:p,...y}){const{clientId:S,scriptLoadedSuccessfully:T}=Kk(),_=G.useRef(),O=G.useRef(n);O.current=n;const L=G.useRef(a);L.current=a;const P=G.useRef(l);P.current=l,G.useEffect(()=>{var F,W;if(!T)return;const Y=e==="implicit"?"initTokenClient":"initCodeClient",$=(W=(F=window?.google)===null||F===void 0?void 0:F.accounts)===null||W===void 0?void 0:W.oauth2[Y]({client_id:S,scope:d?t:`openid profile email ${t}`,callback:K=>{var re,ue;if(K.error)return(re=L.current)===null||re===void 0?void 0:re.call(L,K);(ue=O.current)===null||ue===void 0||ue.call(O,K)},error_callback:K=>{var re;(re=P.current)===null||re===void 0||re.call(P,K)},state:p,...y});_.current=$},[S,T,e,t,p]);const H=G.useCallback(F=>{var W;return(W=_.current)===null||W===void 0?void 0:W.requestAccessToken(F)},[]),B=G.useCallback(()=>{var F;return(F=_.current)===null||F===void 0?void 0:F.requestCode()},[]);return e==="implicit"?H:B}async function tO(e,t){if(!Xu())return{success:0,failed:0};const n=await D1();n>0&&xt.log(`Cleaned up ${n} invalid sync operations`);let a=await tf();if(a.length===0)return{success:0,failed:0};let l=0,d=0;for(let p=0;p<a.length;p++){const y=a[p];if(y.retries&&y.retries>=3){await Hu(y.id),d++;continue}try{let S=y.url,T=!1;if(y.localId)if(y.entityType==="expense"||y.entityType==="income"){const Y=await Kn(),$=Y.transaction("expenses","readonly"),K=$.objectStore("expenses");let re=await new Promise(ue=>{const X=K.get(y.localId);X.onsuccess=()=>ue(X.result),X.onerror=()=>ue(null)});if(!re&&y.type==="update"&&S&&!S.includes("temp_")&&S.includes("/node/")){const ue=S.match(/\/node\/([^?]+)/);if(ue&&ue[1]&&!ue[1].startsWith("temp_")){const X=ue[1];re=await new Promise(ie=>{const pe=K.get(X);pe.onsuccess=()=>ie(pe.result),pe.onerror=()=>ie(null)}),re&&(y.localId=X,T=!0)}}$.oncomplete=()=>Y.close(),re&&(T=!0,re.id&&!re.id.startsWith("temp_")&&(S=`${Qn}/node/${re.id}?_format=json`,y.localId=re.id))}else if(y.entityType==="loan"){const Y=await Kn(),$=Y.transaction("loans","readonly"),K=$.objectStore("loans");let re=await new Promise(ue=>{const X=K.get(y.localId);X.onsuccess=()=>ue(X.result),X.onerror=()=>ue(null)});if(!re&&y.type==="update"&&S&&!S.includes("temp_")&&S.includes("/node/")){const ue=S.match(/\/node\/([^?]+)/);if(ue&&ue[1]&&!ue[1].startsWith("temp_")){const X=ue[1];re=await new Promise(ie=>{const pe=K.get(X);pe.onsuccess=()=>ie(pe.result),pe.onerror=()=>ie(null)}),re&&(y.localId=X,T=!0)}}$.oncomplete=()=>Y.close(),re&&(T=!0,re.id&&!re.id.startsWith("temp_")&&(S=`${Qn}/node/${re.id}?_format=json`,y.localId=re.id))}else y.entityType==="payment"&&(T=!!(await Yu()||[]).find(K=>K.loanId&&K.data?.some(re=>re.id===y.localId)));if(y.type==="update"&&!T&&y.localId){xt.warn(`Skipping sync operation ${y.id}: item ${y.localId} not found in local DB`),await Hu(y.id),l++;continue}if(y.type==="create")(S.includes("/node/temp_")||S.includes(`/node/${y.localId}`))&&(S=`${Qn}/node?_format=json`);else if(y.type==="update")if(S.includes("/node/temp_")||y.localId&&y.localId.startsWith("temp_")){if(!T){xt.warn(`Skipping sync operation ${y.id}: URL contains temp ID and item not found`),await Hu(y.id),l++;continue}y.localId&&!y.localId.startsWith("temp_")&&(S=`${Qn}/node/${y.localId}?_format=json`)}else y.localId&&!S.includes(y.localId)&&(S=`${Qn}/node/${y.localId}?_format=json`);else if(y.type==="delete"){if(S.includes("/node/temp_")||y.localId&&y.localId.startsWith("temp_")){xt.warn(`Skipping delete operation ${y.id}: has temp ID and item not found in local DB`),await Hu(y.id),l++;continue}y.localId&&!S.includes(y.localId)&&(S=`${Qn}/node/${y.localId}?_format=json`)}const _=Xo(e,y.method),O=y.data?JSON.stringify(y.data):void 0,L=await hS(async()=>{const Y=await fetch(S,{..._,body:O});if(!Y.ok&&!(y.type==="delete"&&Y.status===404))throw new Error(`HTTP error! status: ${Y.status}`);return Y},{...fS.sync,onRetry:(Y,$)=>{xt.warn(`Retrying sync operation ${y.id} (attempt ${Y}):`,$)}});if(!L.success)throw L.error||new Error("Sync operation failed after retries");const P=L.data;if(y.type==="delete"&&P.status===404){xt.log(`Delete operation ${y.id}: item not found (404), treating as success`),await Hu(y.id),l++;continue}const H=P.headers.get("content-type"),B=H&&H.includes("application/json"),F=await P.text();let W=null;if(B&&F.trim())try{W=JSON.parse(F)}catch(Y){if(y.type==="delete")xt.warn(`Non-JSON response for delete operation ${y.id}, treating as success`),W=null;else throw new Error(`Invalid JSON response: ${Y}`)}else y.type==="delete"&&(P.status===204||!F.trim())?W=null:F.trim()||(W=null);if(y.type==="create"&&y.localId&&W&&W.nid){const Y=W.nid[0]?.value?.toString()||W.nid.toString();try{if(y.entityType==="expense"||y.entityType==="income"){const $=await Kn(),K=$.transaction("expenses","readwrite"),re=K.objectStore("expenses"),ue=await new Promise(X=>{const ie=re.get(y.localId);ie.onsuccess=()=>X(ie.result),ie.onerror=()=>X(null)});if(ue&&(await new Promise(X=>{const ie=re.delete(y.localId);ie.onsuccess=()=>X(),ie.onerror=()=>X()}),ue.id=Y,await new Promise(X=>{const ie=re.put(ue);ie.onsuccess=()=>X(),ie.onerror=()=>X()})),K.oncomplete=()=>$.close(),await Cw(y.localId,Y,y.entityType),a=await tf(),t){const X=await qu()||[],ie=hc(X);t({type:"SET_DATA",raw:X,...ie,totals:ie.monthsTotals,loading:!1})}}else if(y.entityType==="loan"){const $=await Kn(),K=$.transaction("loans","readwrite"),re=K.objectStore("loans"),ue=await new Promise(X=>{const ie=re.get(y.localId);ie.onsuccess=()=>X(ie.result),ie.onerror=()=>X(null)});if(ue&&(await new Promise(X=>{const ie=re.delete(y.localId);ie.onsuccess=()=>X(),ie.onerror=()=>X()}),ue.id=Y,await new Promise(X=>{const ie=re.put(ue);ie.onsuccess=()=>X(),ie.onerror=()=>X()})),K.oncomplete=()=>$.close(),await Cw(y.localId,Y,y.entityType),t){const X=await Xh()||[],ie=await Yu()||[];t({type:"SET_DATA",loans:X.length>0?X:null,payments:ie,loading:!1})}}else if(y.entityType==="payment"&&t){const $=await Xh()||[],K=await Yu()||[];t({type:"SET_DATA",loans:$.length>0?$:null,payments:K,loading:!1})}}catch($){xt.error("Error updating local ID after sync:",$)}}if(y.type==="update"&&(y.entityType==="expense"||y.entityType==="income")&&t){const Y=await qu()||[],$=hc(Y);t({type:"SET_DATA",raw:Y,...$,totals:$.monthsTotals,loading:!1})}if(y.type==="delete"&&(y.entityType==="expense"||y.entityType==="income")&&t){const Y=await qu()||[],$=hc(Y);t({type:"SET_DATA",raw:Y,...$,totals:$.monthsTotals,loading:!1})}if((y.entityType==="loan"||y.entityType==="payment")&&t){const Y=await Xh()||[],$=await Yu()||[];t({type:"SET_DATA",loans:Y.length>0?Y:null,payments:$,loading:!1})}await Hu(y.id),l++}catch(S){xt.error(`Sync failed for operation ${y.id}:`,S),await C1(y.id,"pending",(y.retries||0)+1),d++}}return{success:l,failed:d}}function nO(e,t,n,a,l){let d=!1;const p=async()=>{if(Xu()&&!d&&(await tf()).length>0){d=!0,window.dispatchEvent(new CustomEvent("sync-start"));const S=await tO(e,t);d=!1,window.dispatchEvent(new CustomEvent("sync-end",{detail:S})),xt.log(`Sync complete: ${S.success} succeeded, ${S.failed} failed`)}};return window.addEventListener("online",p),p(),()=>{window.removeEventListener("online",p)}}const vS=new dS(L1);function P1(e){vS.setState(t=>$k(t,e))}function xs(){return{data:xc(vS),dataDispatch:P1}}function W4(){return xc(vS,e=>e.filtered??e)}const j1=Ge.createContext(null),z1=Ge.createContext(null),nl=()=>{const e=Ge.useContext(j1);if(e==null)throw new Error("useAuthState must be used within AuthProvider");return e},cf=()=>{const e=Ge.useContext(z1);if(e==null)throw new Error("useAuthDispatch must be used within AuthProvider");return e};function iO(){const{token:e,userIsLoggedIn:t,currency:n}=nl();return G.useEffect(()=>!e||!t?void 0:(n&&yS({currency:n}),va(async()=>{const{cleanupInvalidSyncOperations:l}=await Promise.resolve().then(()=>Ko);return{cleanupInvalidSyncOperations:l}},void 0).then(({cleanupInvalidSyncOperations:l})=>{l().then(d=>{d>0&&xt.log(`Cleaned up ${d} invalid sync operations on mount`)})}),nO(e,P1)),[e,t,n]),null}const rO=({children:e})=>{const[t,n]=G.useReducer(Wk,Gk);return D.jsx(Qk,{clientId:"14695610160-ui3d8l2qa7tdjfi4s1t46hfl609qcmie.apps.googleusercontent.com",children:D.jsx(j1.Provider,{value:t,children:D.jsxs(z1.Provider,{value:n,children:[D.jsx(iO,{}),e]})})})};var B1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nA=Ge.createContext&&Ge.createContext(B1),aO=["attr","size","title"];function sO(e,t){if(e==null)return{};var n=oO(e,t),a,l;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function oO(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ob.apply(this,arguments)}function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,a)}return n}function lb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(a){lO(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lO(e,t,n){return t=cO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cO(e){var t=uO(e,"string");return typeof t=="symbol"?t:t+""}function uO(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F1(e){return e&&e.map((t,n)=>Ge.createElement(t.tag,lb({key:n},t.attr),F1(t.child)))}function Ct(e){return t=>Ge.createElement(dO,ob({attr:lb({},e.attr)},t),F1(e.child))}function dO(e){var t=n=>{var{attr:a,size:l,title:d}=e,p=sO(e,aO),y=l||n.size||"1em",S;return n.className&&(S=n.className),e.className&&(S=(S?S+" ":"")+e.className),Ge.createElement("svg",ob({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,p,{className:S,style:lb(lb({color:e.color||n.color},n.style),e.style),height:y,width:y,xmlns:"http://www.w3.org/2000/svg"}),d&&Ge.createElement("title",null,d),e.children)};return nA!==void 0?Ge.createElement(nA.Consumer,null,n=>t(n)):t(B1)}function H1(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function U1(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Nb(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(e)}function Lb(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(e)}function bS(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function hO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function fc(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function Ib(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function fO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function cb(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function pO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function gO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function rA(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Dw(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function xS(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function Jo(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function mO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"},child:[]}]})(e)}function ys(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function yO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function vO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function bO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function xO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function wO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function SO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(e)}function EO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function AO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}function CO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Pb(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"5 9 2 12 5 15"},child:[]},{tag:"polyline",attr:{points:"9 5 12 2 15 5"},child:[]},{tag:"polyline",attr:{points:"15 19 12 22 9 19"},child:[]},{tag:"polyline",attr:{points:"19 9 22 12 19 15"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"22"},child:[]}]})(e)}function DO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(e)}function ps(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function G1(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function TO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function MO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"21",x2:"4",y2:"14"},child:[]},{tag:"line",attr:{x1:"4",y1:"10",x2:"4",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"20",y1:"21",x2:"20",y2:"16"},child:[]},{tag:"line",attr:{x1:"20",y1:"12",x2:"20",y2:"3"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"7",y2:"14"},child:[]},{tag:"line",attr:{x1:"9",y1:"8",x2:"15",y2:"8"},child:[]},{tag:"line",attr:{x1:"17",y1:"16",x2:"23",y2:"16"},child:[]}]})(e)}function wS(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function nf(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function V1(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(e)}function W1(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function _O(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 7 4 4 20 4 20 7"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"15",y2:"20"},child:[]},{tag:"line",attr:{x1:"12",y1:"4",x2:"12",y2:"20"},child:[]}]})(e)}function Y1(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function aA(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]},{tag:"path",attr:{d:"M16.72 11.06A10.94 10.94 0 0 1 19 12.55"},child:[]},{tag:"path",attr:{d:"M5 12.55a10.94 10.94 0 0 1 5.17-2.39"},child:[]},{tag:"path",attr:{d:"M10.71 5.05A16 16 0 0 1 22.58 9"},child:[]},{tag:"path",attr:{d:"M1.42 9a15.91 15.91 0 0 1 4.7-2.88"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function RO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12.55a11 11 0 0 1 14.08 0"},child:[]},{tag:"path",attr:{d:"M1.42 9a16 16 0 0 1 21.16 0"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function $1(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function tm(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function kO(e){return Ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const q1=({message:e,type:t,onClose:n,options:a,duration:l,persistent:d})=>{const[p,y]=G.useState(!1),[S,T]=G.useState(!1),[_,O]=G.useState(100),[L,P]=G.useState(!1),H=G.useRef(null),B=G.useRef(null),F=G.useRef(Date.now()),W=G.useRef(0),$=d!==void 0?d:t==="error",K=l||($?0:4e3);G.useEffect(()=>{const Ve=setTimeout(()=>y(!0),50);return()=>clearTimeout(Ve)},[]),G.useEffect(()=>{if($||K===0)return;const Ve=()=>{if(L)return;const tt=Date.now()-F.current-W.current,Qe=Math.max(0,100-tt/K*100);O(Qe),Qe<=0&&re()};return B.current=setInterval(Ve,50),()=>{B.current&&clearInterval(B.current)}},[K,d,L]);const re=()=>{S||(T(!0),B.current&&clearInterval(B.current),setTimeout(()=>{n?.()},300))},ue=()=>{L||(W.current+=Date.now()-F.current),F.current=Date.now(),P(!L)},X=()=>{a?.onClick&&a.onClick()},[ie,pe]=G.useState(null),[be,le]=G.useState(null),[ye,De]=G.useState(0),Fe=50,$e=Ve=>{le(null),pe(Ve.targetTouches[0].clientX)},oe=Ve=>{if(ie===null)return;const tt=Ve.targetTouches[0].clientX,Qe=ie-tt;De(Qe)},Ee=()=>{if(!ie||!be)return;const Ve=ie-be,tt=Ve>Fe,Qe=Ve<-Fe;(tt||Qe)&&re(),pe(null),le(null),De(0)},Ie=()=>{switch(t){case"success":return D.jsx(Ib,{});case"error":return D.jsx($1,{});case"warning":return D.jsx(U1,{});default:return D.jsx(xO,{})}},Ye=()=>{switch(t){case"success":return"Success";case"error":return"Error";case"warning":return"Warning";default:return"Info"}},je=a?.actions&&a.actions.length>0,Re=a?.onClick||je,ge={success:"border-l-4 border-l-[var(--color-app-accent)] [&_.notification-icon-box]:bg-[var(--color-app-accent)]/15 [&_.notification-icon-box]:text-[var(--color-app-accent)] [&_.notification-title-box]:text-[var(--color-app-accent)] [&_.notification-progress-bar]:bg-[var(--color-app-accent)]",error:"border-l-4 border-l-[var(--color-error)] [&_.notification-icon-box]:bg-[var(--color-error)]/15 [&_.notification-icon-box]:text-[var(--color-error)] [&_.notification-title-box]:text-[var(--color-error)] [&_.notification-progress-bar]:bg-[var(--color-error)]",warning:"border-l-4 border-l-[var(--color-warning)] [&_.notification-icon-box]:bg-[var(--color-warning)]/15 [&_.notification-icon-box]:text-[var(--color-warning)] [&_.notification-title-box]:text-[var(--color-warning)] [&_.notification-progress-bar]:bg-[var(--color-warning)]",info:"border-l-4 border-l-[var(--color-app-accent)] [&_.notification-icon-box]:bg-[var(--color-app-accent)]/15 [&_.notification-icon-box]:text-[var(--color-app-accent)] [&_.notification-title-box]:text-[var(--color-app-accent)] [&_.notification-progress-bar]:bg-[var(--color-app-accent)]"},Ae="w-full bg-[var(--color-app-bg)] backdrop-blur-[20px] border border-[var(--color-border-subtle)] rounded-2xl shadow-[0_10px_40px_rgba(0,0,0,0.5)] overflow-hidden relative cursor-default transition-all duration-[0.4s] ease-[cubic-bezier(0.16,1,0.3,1)]",Be=p?"translate-x-0 opacity-100":"translate-x-[calc(100%+24px)] opacity-0",Xe=S?"translate-x-[calc(100%+24px)] opacity-0 pointer-events-none":"",Ke=Re?"cursor-pointer hover:translate-x-0 hover:scale-[1.02] hover:shadow-[0_12px_48px_rgba(0,0,0,0.15)] active:scale-[0.98]":"",Ze=L?"[&_.notification-progress-bar]:[animation-play-state:paused]":"";return D.jsxs("div",{ref:H,className:`${Ae} ${ge[t]||ge.info} ${Be} ${Xe} ${Ke} ${Ze}`,onMouseEnter:ue,onMouseLeave:ue,onClick:X,onTouchStart:$e,onTouchMove:oe,onTouchEnd:Ee,style:{transform:ye!==0?`translateX(${-ye}px)`:void 0,opacity:ye!==0?1-Math.abs(ye)/200:void 0},children:[D.jsxs("div",{className:"flex items-start gap-3.5 p-4 pt-5 relative md:p-4 md:pt-5",children:[D.jsx("div",{className:"notification-icon-box shrink-0 w-9 h-9 md:w-10 md:h-10 flex items-center justify-center rounded-xl [&_svg]:w-5 [&_svg]:h-5 [&_svg]:[stroke-width:2.5]",children:Ie()}),D.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-1",children:[D.jsx("div",{className:"notification-title-box text-xs font-semibold uppercase tracking-wider leading-tight",children:Ye()}),D.jsx("div",{className:"text-[0.9375rem] font-normal leading-normal text-[var(--color-text-primary)] break-words",children:e}),je&&D.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:a.actions.map((Ve,tt)=>D.jsx("button",{className:`px-3.5 py-1.5 rounded-lg text-[0.8125rem] font-medium border cursor-pointer transition-all ${Ve.style==="primary"?"bg-[var(--color-surface-hover)] text-[var(--color-text-primary)] hover:bg-[var(--color-surface-hover)]":"bg-transparent text-[var(--color-text-secondary)] border-[var(--color-border-subtle)] hover:bg-[var(--color-surface)] hover:text-[var(--color-text-primary)]"}`,onClick:Qe=>{Qe.stopPropagation(),Ve.action(),(!Ve.style||Ve.style==="primary")&&re()},children:Ve.label},tt))})]}),D.jsx("button",{className:"shrink-0 w-8 h-8 md:w-[32px] md:h-[32px] bg-[var(--color-surface)] border border-[var(--color-border-subtle)] rounded-lg text-[var(--color-text-muted)] flex items-center justify-center p-0 transition-all hover:bg-[var(--color-surface-hover)] hover:text-[var(--color-text-secondary)] [&_svg]:w-4 [&_svg]:h-4",onClick:Ve=>{Ve.stopPropagation(),re()},"aria-label":"Close notification",children:D.jsx(tm,{})})]}),!$&&K>0&&D.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[3px] bg-[var(--color-surface)] overflow-hidden",children:D.jsx("div",{className:"notification-progress-bar h-full transition-[width] duration-100 linear rounded-b-2xl",style:{width:`${_}%`}})})]})},SS=G.createContext({showNotification:()=>{},removeNotification:()=>{},clearAllNotifications:()=>{}}),wc=()=>G.useContext(SS).showNotification,OO=()=>G.useContext(SS),NO=({children:e})=>{const[t,n]=G.useState([]),a=G.useRef(new Map),l=G.useCallback(y=>{const S=a.current.get(y);S&&(clearTimeout(S),a.current.delete(y)),n(T=>T.filter(_=>_.id!==y))},[]),d=G.useCallback(()=>{a.current.forEach(y=>clearTimeout(y)),a.current.clear(),n([])},[]),p=G.useCallback((y,S,T)=>{const _=Math.random().toString(36).substr(2,9),O={id:_,message:y,type:S,timestamp:Date.now(),options:T};if(n(B=>T?.groupId?[...B.filter(W=>W.options?.groupId!==T.groupId),O]:S===Cn.ERROR||S==="error"?[...B.filter(Y=>!(Y.type==="error"&&Y.message===y)),O]:[...B,O]),T?.sound)try{const B=new Audio("/notification-sound.mp3");B.volume=.3,B.play().catch(()=>{})}catch{}const L=S===Cn.ERROR||S==="error",P=L&&y.includes("Session expired");if(!(T?.persistent!==void 0?T.persistent:L&&!P)&&T?.duration!==0){let B=T?.duration;if(!B)if(P)B=1e4;else switch(S){case"success":B=3e3;break;case"warning":B=5e3;break;default:B=4e3}const F=setTimeout(()=>{l(_)},B);a.current.set(_,F)}},[l]);return G.useEffect(()=>()=>{a.current.forEach(y=>clearTimeout(y)),a.current.clear()},[]),D.jsxs(SS.Provider,{value:{showNotification:p,removeNotification:l,clearAllNotifications:d},children:[e,D.jsx("div",{className:"fixed inset-0 pt-[calc(0.75rem+env(safe-area-inset-top,0))] pr-[calc(0.75rem+env(safe-area-inset-right,0))] pl-[calc(0.75rem+env(safe-area-inset-left,0))] pointer-events-none z-[9999] flex flex-col gap-2 md:pt-[calc(1rem+env(safe-area-inset-top,0))] md:pr-[calc(1.25rem+env(safe-area-inset-right,0))] md:pl-[env(safe-area-inset-left,0)] md:items-end",children:t.map((y,S)=>D.jsx("div",{className:"pointer-events-auto w-full max-w-full md:max-w-[420px]",style:{zIndex:S},children:D.jsx(q1,{message:y.message,type:y.type,options:y.options,onClose:()=>l(y.id),duration:y.options?.duration,persistent:y.options?.persistent})},y.id))})]})},LO=G.createContext(Hg),IO=({children:e})=>{const t=xc(co,n=>n.theme);return G.useEffect(()=>{document.documentElement.setAttribute("data-theme",t)},[t]),D.jsx(LO.Provider,{value:t,children:e})},ES=({title:e,subtitle:t,className:n=""})=>D.jsxs("div",{className:`text-center mb-6 pt-6 ${n}`,children:[D.jsx("h1",{className:"text-3xl font-bold m-0 mb-2 text-white",children:e}),t&&D.jsx("p",{className:"text-[0.95rem] text-white/50 m-0",children:t})]}),id=G.memo(({className:e=""})=>D.jsx("div",{className:`flex justify-center items-center py-12 min-h-[60vh] ${e}`,children:D.jsxs("div",{className:"relative flex items-center justify-center gap-3",children:[D.jsx("span",{className:"inline-block w-[18px] h-[18px] rounded-full bg-[var(--color-app-accent)]",style:{animation:"loader-bounce 1.4s ease-in-out infinite both",animationDelay:"-0.32s"}}),D.jsx("span",{className:"inline-block w-[18px] h-[18px] rounded-full bg-[var(--color-app-accent)]",style:{animation:"loader-bounce 1.4s ease-in-out infinite both",animationDelay:"-0.16s"}}),D.jsx("span",{className:"inline-block w-[18px] h-[18px] rounded-full bg-[var(--color-app-accent)]",style:{animation:"loader-bounce 1.4s ease-in-out infinite both"}})]})}));id.displayName="LoadingSpinner";const PO="rounded-xl py-5 px-4 min-h-[120px] flex flex-col items-center justify-center gap-2 text-center shadow-sm bg-gradient-to-b from-white/[0.08] to-white/[0.04] border border-white/10 hover:from-white/[0.1] hover:to-white/[0.06] hover:border-white/15 hover:shadow-md hover:-translate-y-0.5 transition-all sm:min-h-[105px] sm:py-4 sm:px-3",jO="border border-[var(--color-app-accent)]/35 bg-gradient-to-b from-[var(--color-app-accent)]/12 to-[var(--color-app-accent)]/6 shadow-md hover:from-[var(--color-app-accent)]/16 hover:to-[var(--color-app-accent)]/8 hover:border-[var(--color-app-accent)]/45 hover:shadow-lg",zO="w-11 h-11 rounded-xl flex items-center justify-center shrink-0 bg-[var(--color-app-accent)]/15 text-[var(--color-app-accent)] sm:w-9 sm:h-9 [&_svg]:w-5 [&_svg]:h-5 sm:[&_svg]:w-4 sm:[&_svg]:h-4",el=G.memo(({icon:e,value:t,label:n,accent:a=!1,className:l=""})=>D.jsxs("div",{className:`${PO} ${a?jO:""} ${l}`,children:[D.jsx("div",{className:zO,children:e}),D.jsx("div",{className:"text-xl font-bold text-white tabular-nums tracking-tight sm:text-lg",children:t}),D.jsx("div",{className:"text-[0.7rem] font-semibold text-white/50 uppercase tracking-wide",children:n})]}));el.displayName="StatCard";const AS=({children:e,columns:t=3,filtered:n=!1,className:a=""})=>D.jsx("div",{className:`grid gap-4 mb-6 transition-all duration-300 ${n?"grid-cols-1 max-w-[300px] mx-auto":t===2?"grid-cols-2":"grid-cols-3"} sm:gap-3 ${a}`,children:e});function pc(e,t,{checkForDefaultPrevented:n=!0}={}){return function(l){if(e?.(l),n===!1||!l.defaultPrevented)return t?.(l)}}function sA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function X1(...e){return t=>{let n=!1;const a=e.map(l=>{const d=sA(l,t);return!n&&typeof d=="function"&&(n=!0),d});if(n)return()=>{for(let l=0;l<a.length;l++){const d=a[l];typeof d=="function"?d():sA(e[l],null)}}}}function rd(...e){return G.useCallback(X1(...e),e)}function BO(e,t){const n=G.createContext(t),a=d=>{const{children:p,...y}=d,S=G.useMemo(()=>y,Object.values(y));return D.jsx(n.Provider,{value:S,children:p})};a.displayName=e+"Provider";function l(d){const p=G.useContext(n);if(p)return p;if(t!==void 0)return t;throw new Error(`\`${d}\` must be used within \`${e}\``)}return[a,l]}function FO(e,t=[]){let n=[];function a(d,p){const y=G.createContext(p),S=n.length;n=[...n,p];const T=O=>{const{scope:L,children:P,...H}=O,B=L?.[e]?.[S]||y,F=G.useMemo(()=>H,Object.values(H));return D.jsx(B.Provider,{value:F,children:P})};T.displayName=d+"Provider";function _(O,L){const P=L?.[e]?.[S]||y,H=G.useContext(P);if(H)return H;if(p!==void 0)return p;throw new Error(`\`${O}\` must be used within \`${d}\``)}return[T,_]}const l=()=>{const d=n.map(p=>G.createContext(p));return function(y){const S=y?.[e]||d;return G.useMemo(()=>({[`__scope${e}`]:{...y,[e]:S}}),[y,S])}};return l.scopeName=e,[a,HO(l,...t)]}function HO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(d){const p=a.reduce((y,{useScope:S,scopeName:T})=>{const O=S(d)[`__scope${T}`];return{...y,...O}},{});return G.useMemo(()=>({[`__scope${t.scopeName}`]:p}),[p])}};return n.scopeName=t.scopeName,n}var Ug=globalThis?.document?G.useLayoutEffect:()=>{},UO=l1[" useId ".trim().toString()]||(()=>{}),GO=0;function Ax(e){const[t,n]=G.useState(UO());return Ug(()=>{n(a=>a??String(GO++))},[e]),e||(t?`radix-${t}`:"")}var VO=l1[" useInsertionEffect ".trim().toString()]||Ug;function WO({prop:e,defaultProp:t,onChange:n=()=>{},caller:a}){const[l,d,p]=YO({defaultProp:t,onChange:n}),y=e!==void 0,S=y?e:l;{const _=G.useRef(e!==void 0);G.useEffect(()=>{const O=_.current;O!==y&&console.warn(`${a} is changing from ${O?"controlled":"uncontrolled"} to ${y?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=y},[y,a])}const T=G.useCallback(_=>{if(y){const O=$O(_)?_(e):_;O!==e&&p.current?.(O)}else d(_)},[y,e,d,p]);return[S,T]}function YO({defaultProp:e,onChange:t}){const[n,a]=G.useState(e),l=G.useRef(n),d=G.useRef(t);return VO(()=>{d.current=t},[t]),G.useEffect(()=>{l.current!==n&&(d.current?.(n),l.current=n)},[n,l]),[n,a,d]}function $O(e){return typeof e=="function"}function Z1(e){const t=qO(e),n=G.forwardRef((a,l)=>{const{children:d,...p}=a,y=G.Children.toArray(d),S=y.find(ZO);if(S){const T=S.props.children,_=y.map(O=>O===S?G.Children.count(T)>1?G.Children.only(null):G.isValidElement(T)?T.props.children:null:O);return D.jsx(t,{...p,ref:l,children:G.isValidElement(T)?G.cloneElement(T,void 0,_):null})}return D.jsx(t,{...p,ref:l,children:d})});return n.displayName=`${e}.Slot`,n}function qO(e){const t=G.forwardRef((n,a)=>{const{children:l,...d}=n;if(G.isValidElement(l)){const p=KO(l),y=QO(d,l.props);return l.type!==G.Fragment&&(y.ref=a?X1(a,p):p),G.cloneElement(l,y)}return G.Children.count(l)>1?G.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var XO=Symbol("radix.slottable");function ZO(e){return G.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===XO}function QO(e,t){const n={...t};for(const a in t){const l=e[a],d=t[a];/^on[A-Z]/.test(a)?l&&d?n[a]=(...y)=>{const S=d(...y);return l(...y),S}:l&&(n[a]=l):a==="style"?n[a]={...l,...d}:a==="className"&&(n[a]=[l,d].filter(Boolean).join(" "))}return{...e,...n}}function KO(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var JO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],il=JO.reduce((e,t)=>{const n=Z1(`Primitive.${t}`),a=G.forwardRef((l,d)=>{const{asChild:p,...y}=l,S=p?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),D.jsx(S,{...y,ref:d})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function e2(e,t){e&&ro.flushSync(()=>e.dispatchEvent(t))}function Gg(e){const t=G.useRef(e);return G.useEffect(()=>{t.current=e}),G.useMemo(()=>(...n)=>t.current?.(...n),[])}function t2(e,t=globalThis?.document){const n=Gg(e);G.useEffect(()=>{const a=l=>{l.key==="Escape"&&n(l)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var n2="DismissableLayer",Tw="dismissableLayer.update",i2="dismissableLayer.pointerDownOutside",r2="dismissableLayer.focusOutside",oA,Q1=G.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),K1=G.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:p,onDismiss:y,...S}=e,T=G.useContext(Q1),[_,O]=G.useState(null),L=_?.ownerDocument??globalThis?.document,[,P]=G.useState({}),H=rd(t,X=>O(X)),B=Array.from(T.layers),[F]=[...T.layersWithOutsidePointerEventsDisabled].slice(-1),W=B.indexOf(F),Y=_?B.indexOf(_):-1,$=T.layersWithOutsidePointerEventsDisabled.size>0,K=Y>=W,re=o2(X=>{const ie=X.target,pe=[...T.branches].some(be=>be.contains(ie));!K||pe||(l?.(X),p?.(X),X.defaultPrevented||y?.())},L),ue=l2(X=>{const ie=X.target;[...T.branches].some(be=>be.contains(ie))||(d?.(X),p?.(X),X.defaultPrevented||y?.())},L);return t2(X=>{Y===T.layers.size-1&&(a?.(X),!X.defaultPrevented&&y&&(X.preventDefault(),y()))},L),G.useEffect(()=>{if(_)return n&&(T.layersWithOutsidePointerEventsDisabled.size===0&&(oA=L.body.style.pointerEvents,L.body.style.pointerEvents="none"),T.layersWithOutsidePointerEventsDisabled.add(_)),T.layers.add(_),lA(),()=>{n&&T.layersWithOutsidePointerEventsDisabled.size===1&&(L.body.style.pointerEvents=oA)}},[_,L,n,T]),G.useEffect(()=>()=>{_&&(T.layers.delete(_),T.layersWithOutsidePointerEventsDisabled.delete(_),lA())},[_,T]),G.useEffect(()=>{const X=()=>P({});return document.addEventListener(Tw,X),()=>document.removeEventListener(Tw,X)},[]),D.jsx(il.div,{...S,ref:H,style:{pointerEvents:$?K?"auto":"none":void 0,...e.style},onFocusCapture:pc(e.onFocusCapture,ue.onFocusCapture),onBlurCapture:pc(e.onBlurCapture,ue.onBlurCapture),onPointerDownCapture:pc(e.onPointerDownCapture,re.onPointerDownCapture)})});K1.displayName=n2;var a2="DismissableLayerBranch",s2=G.forwardRef((e,t)=>{const n=G.useContext(Q1),a=G.useRef(null),l=rd(t,a);return G.useEffect(()=>{const d=a.current;if(d)return n.branches.add(d),()=>{n.branches.delete(d)}},[n.branches]),D.jsx(il.div,{...e,ref:l})});s2.displayName=a2;function o2(e,t=globalThis?.document){const n=Gg(e),a=G.useRef(!1),l=G.useRef(()=>{});return G.useEffect(()=>{const d=y=>{if(y.target&&!a.current){let S=function(){J1(i2,n,T,{discrete:!0})};const T={originalEvent:y};y.pointerType==="touch"?(t.removeEventListener("click",l.current),l.current=S,t.addEventListener("click",l.current,{once:!0})):S()}else t.removeEventListener("click",l.current);a.current=!1},p=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(p),t.removeEventListener("pointerdown",d),t.removeEventListener("click",l.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function l2(e,t=globalThis?.document){const n=Gg(e),a=G.useRef(!1);return G.useEffect(()=>{const l=d=>{d.target&&!a.current&&J1(r2,n,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",l),()=>t.removeEventListener("focusin",l)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function lA(){const e=new CustomEvent(Tw);document.dispatchEvent(e)}function J1(e,t,n,{discrete:a}){const l=n.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&l.addEventListener(e,t,{once:!0}),a?e2(l,d):l.dispatchEvent(d)}var Cx="focusScope.autoFocusOnMount",Dx="focusScope.autoFocusOnUnmount",cA={bubbles:!1,cancelable:!0},c2="FocusScope",eD=G.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:l,onUnmountAutoFocus:d,...p}=e,[y,S]=G.useState(null),T=Gg(l),_=Gg(d),O=G.useRef(null),L=rd(t,B=>S(B)),P=G.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;G.useEffect(()=>{if(a){let B=function($){if(P.paused||!y)return;const K=$.target;y.contains(K)?O.current=K:sc(O.current,{select:!0})},F=function($){if(P.paused||!y)return;const K=$.relatedTarget;K!==null&&(y.contains(K)||sc(O.current,{select:!0}))},W=function($){if(document.activeElement===document.body)for(const re of $)re.removedNodes.length>0&&sc(y)};document.addEventListener("focusin",B),document.addEventListener("focusout",F);const Y=new MutationObserver(W);return y&&Y.observe(y,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",B),document.removeEventListener("focusout",F),Y.disconnect()}}},[a,y,P.paused]),G.useEffect(()=>{if(y){dA.add(P);const B=document.activeElement;if(!y.contains(B)){const W=new CustomEvent(Cx,cA);y.addEventListener(Cx,T),y.dispatchEvent(W),W.defaultPrevented||(u2(g2(tD(y)),{select:!0}),document.activeElement===B&&sc(y))}return()=>{y.removeEventListener(Cx,T),setTimeout(()=>{const W=new CustomEvent(Dx,cA);y.addEventListener(Dx,_),y.dispatchEvent(W),W.defaultPrevented||sc(B??document.body,{select:!0}),y.removeEventListener(Dx,_),dA.remove(P)},0)}}},[y,T,_,P]);const H=G.useCallback(B=>{if(!n&&!a||P.paused)return;const F=B.key==="Tab"&&!B.altKey&&!B.ctrlKey&&!B.metaKey,W=document.activeElement;if(F&&W){const Y=B.currentTarget,[$,K]=d2(Y);$&&K?!B.shiftKey&&W===K?(B.preventDefault(),n&&sc($,{select:!0})):B.shiftKey&&W===$&&(B.preventDefault(),n&&sc(K,{select:!0})):W===Y&&B.preventDefault()}},[n,a,P.paused]);return D.jsx(il.div,{tabIndex:-1,...p,ref:L,onKeyDown:H})});eD.displayName=c2;function u2(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(sc(a,{select:t}),document.activeElement!==n)return}function d2(e){const t=tD(e),n=uA(t,e),a=uA(t.reverse(),e);return[n,a]}function tD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const l=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||l?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function uA(e,t){for(const n of e)if(!h2(n,{upTo:t}))return n}function h2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function f2(e){return e instanceof HTMLInputElement&&"select"in e}function sc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&f2(e)&&t&&e.select()}}var dA=p2();function p2(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=hA(e,t),e.unshift(t)},remove(t){e=hA(e,t),e[0]?.resume()}}}function hA(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function g2(e){return e.filter(t=>t.tagName!=="A")}var m2="Portal",nD=G.forwardRef((e,t)=>{const{container:n,...a}=e,[l,d]=G.useState(!1);Ug(()=>d(!0),[]);const p=n||l&&globalThis?.document?.body;return p?UR.createPortal(D.jsx(il.div,{...a,ref:t}),p):null});nD.displayName=m2;function y2(e,t){return G.useReducer((n,a)=>t[n][a]??n,e)}var jb=e=>{const{present:t,children:n}=e,a=v2(t),l=typeof n=="function"?n({present:a.isPresent}):G.Children.only(n),d=rd(a.ref,b2(l));return typeof n=="function"||a.isPresent?G.cloneElement(l,{ref:d}):null};jb.displayName="Presence";function v2(e){const[t,n]=G.useState(),a=G.useRef(null),l=G.useRef(e),d=G.useRef("none"),p=e?"mounted":"unmounted",[y,S]=y2(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return G.useEffect(()=>{const T=Av(a.current);d.current=y==="mounted"?T:"none"},[y]),Ug(()=>{const T=a.current,_=l.current;if(_!==e){const L=d.current,P=Av(T);e?S("MOUNT"):P==="none"||T?.display==="none"?S("UNMOUNT"):S(_&&L!==P?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,S]),Ug(()=>{if(t){let T;const _=t.ownerDocument.defaultView??window,O=P=>{const B=Av(a.current).includes(CSS.escape(P.animationName));if(P.target===t&&B&&(S("ANIMATION_END"),!l.current)){const F=t.style.animationFillMode;t.style.animationFillMode="forwards",T=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=F)})}},L=P=>{P.target===t&&(d.current=Av(a.current))};return t.addEventListener("animationstart",L),t.addEventListener("animationcancel",O),t.addEventListener("animationend",O),()=>{_.clearTimeout(T),t.removeEventListener("animationstart",L),t.removeEventListener("animationcancel",O),t.removeEventListener("animationend",O)}}else S("ANIMATION_END")},[t,S]),{isPresent:["mounted","unmountSuspended"].includes(y),ref:G.useCallback(T=>{a.current=T?getComputedStyle(T):null,n(T)},[])}}function Av(e){return e?.animationName||"none"}function b2(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Tx=0;function x2(){G.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??fA()),document.body.insertAdjacentElement("beforeend",e[1]??fA()),Tx++,()=>{Tx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Tx--}},[])}function fA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var io=function(){return io=Object.assign||function(t){for(var n,a=1,l=arguments.length;a<l;a++){n=arguments[a];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},io.apply(this,arguments)};function iD(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n}function w2(e,t,n){if(n||arguments.length===2)for(var a=0,l=t.length,d;a<l;a++)(d||!(a in t))&&(d||(d=Array.prototype.slice.call(t,0,a)),d[a]=t[a]);return e.concat(d||Array.prototype.slice.call(t))}var Yv="right-scroll-bar-position",$v="width-before-scroll-bar",S2="with-scroll-bars-hidden",E2="--removed-body-scroll-bar-size";function Mx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function A2(e,t){var n=G.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(a){var l=n.value;l!==a&&(n.value=a,n.callback(a,l))}}}})[0];return n.callback=t,n.facade}var C2=typeof window<"u"?G.useLayoutEffect:G.useEffect,pA=new WeakMap;function D2(e,t){var n=A2(null,function(a){return e.forEach(function(l){return Mx(l,a)})});return C2(function(){var a=pA.get(n);if(a){var l=new Set(a),d=new Set(e),p=n.current;l.forEach(function(y){d.has(y)||Mx(y,null)}),d.forEach(function(y){l.has(y)||Mx(y,p)})}pA.set(n,e)},[e]),n}function T2(e){return e}function M2(e,t){t===void 0&&(t=T2);var n=[],a=!1,l={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(d){var p=t(d,a);return n.push(p),function(){n=n.filter(function(y){return y!==p})}},assignSyncMedium:function(d){for(a=!0;n.length;){var p=n;n=[],p.forEach(d)}n={push:function(y){return d(y)},filter:function(){return n}}},assignMedium:function(d){a=!0;var p=[];if(n.length){var y=n;n=[],y.forEach(d),p=n}var S=function(){var _=p;p=[],_.forEach(d)},T=function(){return Promise.resolve().then(S)};T(),n={push:function(_){p.push(_),T()},filter:function(_){return p=p.filter(_),n}}}};return l}function _2(e){e===void 0&&(e={});var t=M2(null);return t.options=io({async:!0,ssr:!1},e),t}var rD=function(e){var t=e.sideCar,n=iD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return G.createElement(a,io({},n))};rD.isSideCarExport=!0;function R2(e,t){return e.useMedium(t),rD}var aD=_2(),_x=function(){},zb=G.forwardRef(function(e,t){var n=G.useRef(null),a=G.useState({onScrollCapture:_x,onWheelCapture:_x,onTouchMoveCapture:_x}),l=a[0],d=a[1],p=e.forwardProps,y=e.children,S=e.className,T=e.removeScrollBar,_=e.enabled,O=e.shards,L=e.sideCar,P=e.noRelative,H=e.noIsolation,B=e.inert,F=e.allowPinchZoom,W=e.as,Y=W===void 0?"div":W,$=e.gapMode,K=iD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),re=L,ue=D2([n,t]),X=io(io({},K),l);return G.createElement(G.Fragment,null,_&&G.createElement(re,{sideCar:aD,removeScrollBar:T,shards:O,noRelative:P,noIsolation:H,inert:B,setCallbacks:d,allowPinchZoom:!!F,lockRef:n,gapMode:$}),p?G.cloneElement(G.Children.only(y),io(io({},X),{ref:ue})):G.createElement(Y,io({},X,{className:S,ref:ue}),y))});zb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zb.classNames={fullWidth:$v,zeroRight:Yv};var k2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function O2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=k2();return t&&e.setAttribute("nonce",t),e}function N2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function L2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var I2=function(){var e=0,t=null;return{add:function(n){e==0&&(t=O2())&&(N2(t,n),L2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},P2=function(){var e=I2();return function(t,n){G.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},sD=function(){var e=P2(),t=function(n){var a=n.styles,l=n.dynamic;return e(a,l),null};return t},j2={left:0,top:0,right:0,gap:0},Rx=function(e){return parseInt(e||"",10)||0},z2=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],l=t[e==="padding"?"paddingRight":"marginRight"];return[Rx(n),Rx(a),Rx(l)]},B2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return j2;var t=z2(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},F2=sD(),Zh="data-scroll-locked",H2=function(e,t,n,a){var l=e.left,d=e.top,p=e.right,y=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(S2,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(y,"px ").concat(a,`;
  }
  body[`).concat(Zh,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(p,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(y,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(y,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yv,` {
    right: `).concat(y,"px ").concat(a,`;
  }
  
  .`).concat($v,` {
    margin-right: `).concat(y,"px ").concat(a,`;
  }
  
  .`).concat(Yv," .").concat(Yv,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat($v," .").concat($v,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Zh,`] {
    `).concat(E2,": ").concat(y,`px;
  }
`)},gA=function(){var e=parseInt(document.body.getAttribute(Zh)||"0",10);return isFinite(e)?e:0},U2=function(){G.useEffect(function(){return document.body.setAttribute(Zh,(gA()+1).toString()),function(){var e=gA()-1;e<=0?document.body.removeAttribute(Zh):document.body.setAttribute(Zh,e.toString())}},[])},G2=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,l=a===void 0?"margin":a;U2();var d=G.useMemo(function(){return B2(l)},[l]);return G.createElement(F2,{styles:H2(d,!t,l,n?"":"!important")})},Mw=!1;if(typeof window<"u")try{var Cv=Object.defineProperty({},"passive",{get:function(){return Mw=!0,!0}});window.addEventListener("test",Cv,Cv),window.removeEventListener("test",Cv,Cv)}catch{Mw=!1}var Fh=Mw?{passive:!1}:!1,V2=function(e){return e.tagName==="TEXTAREA"},oD=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!V2(e)&&n[t]==="visible")},W2=function(e){return oD(e,"overflowY")},Y2=function(e){return oD(e,"overflowX")},mA=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var l=lD(e,a);if(l){var d=cD(e,a),p=d[1],y=d[2];if(p>y)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},$2=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},q2=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},lD=function(e,t){return e==="v"?W2(t):Y2(t)},cD=function(e,t){return e==="v"?$2(t):q2(t)},X2=function(e,t){return e==="h"&&t==="rtl"?-1:1},Z2=function(e,t,n,a,l){var d=X2(e,window.getComputedStyle(t).direction),p=d*a,y=n.target,S=t.contains(y),T=!1,_=p>0,O=0,L=0;do{if(!y)break;var P=cD(e,y),H=P[0],B=P[1],F=P[2],W=B-F-d*H;(H||W)&&lD(e,y)&&(O+=W,L+=H);var Y=y.parentNode;y=Y&&Y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Y.host:Y}while(!S&&y!==document.body||S&&(t.contains(y)||t===y));return(_&&Math.abs(O)<1||!_&&Math.abs(L)<1)&&(T=!0),T},Dv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yA=function(e){return[e.deltaX,e.deltaY]},vA=function(e){return e&&"current"in e?e.current:e},Q2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},K2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},J2=0,Hh=[];function eN(e){var t=G.useRef([]),n=G.useRef([0,0]),a=G.useRef(),l=G.useState(J2++)[0],d=G.useState(sD)[0],p=G.useRef(e);G.useEffect(function(){p.current=e},[e]),G.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var B=w2([e.lockRef.current],(e.shards||[]).map(vA),!0).filter(Boolean);return B.forEach(function(F){return F.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),B.forEach(function(F){return F.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var y=G.useCallback(function(B,F){if("touches"in B&&B.touches.length===2||B.type==="wheel"&&B.ctrlKey)return!p.current.allowPinchZoom;var W=Dv(B),Y=n.current,$="deltaX"in B?B.deltaX:Y[0]-W[0],K="deltaY"in B?B.deltaY:Y[1]-W[1],re,ue=B.target,X=Math.abs($)>Math.abs(K)?"h":"v";if("touches"in B&&X==="h"&&ue.type==="range")return!1;var ie=window.getSelection(),pe=ie&&ie.anchorNode,be=pe?pe===ue||pe.contains(ue):!1;if(be)return!1;var le=mA(X,ue);if(!le)return!0;if(le?re=X:(re=X==="v"?"h":"v",le=mA(X,ue)),!le)return!1;if(!a.current&&"changedTouches"in B&&($||K)&&(a.current=re),!re)return!0;var ye=a.current||re;return Z2(ye,F,B,ye==="h"?$:K)},[]),S=G.useCallback(function(B){var F=B;if(!(!Hh.length||Hh[Hh.length-1]!==d)){var W="deltaY"in F?yA(F):Dv(F),Y=t.current.filter(function(re){return re.name===F.type&&(re.target===F.target||F.target===re.shadowParent)&&Q2(re.delta,W)})[0];if(Y&&Y.should){F.cancelable&&F.preventDefault();return}if(!Y){var $=(p.current.shards||[]).map(vA).filter(Boolean).filter(function(re){return re.contains(F.target)}),K=$.length>0?y(F,$[0]):!p.current.noIsolation;K&&F.cancelable&&F.preventDefault()}}},[]),T=G.useCallback(function(B,F,W,Y){var $={name:B,delta:F,target:W,should:Y,shadowParent:tN(W)};t.current.push($),setTimeout(function(){t.current=t.current.filter(function(K){return K!==$})},1)},[]),_=G.useCallback(function(B){n.current=Dv(B),a.current=void 0},[]),O=G.useCallback(function(B){T(B.type,yA(B),B.target,y(B,e.lockRef.current))},[]),L=G.useCallback(function(B){T(B.type,Dv(B),B.target,y(B,e.lockRef.current))},[]);G.useEffect(function(){return Hh.push(d),e.setCallbacks({onScrollCapture:O,onWheelCapture:O,onTouchMoveCapture:L}),document.addEventListener("wheel",S,Fh),document.addEventListener("touchmove",S,Fh),document.addEventListener("touchstart",_,Fh),function(){Hh=Hh.filter(function(B){return B!==d}),document.removeEventListener("wheel",S,Fh),document.removeEventListener("touchmove",S,Fh),document.removeEventListener("touchstart",_,Fh)}},[]);var P=e.removeScrollBar,H=e.inert;return G.createElement(G.Fragment,null,H?G.createElement(d,{styles:K2(l)}):null,P?G.createElement(G2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function tN(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nN=R2(aD,eN);var uD=G.forwardRef(function(e,t){return G.createElement(zb,io({},e,{ref:t,sideCar:nN}))});uD.classNames=zb.classNames;var iN=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Uh=new WeakMap,Tv=new WeakMap,Mv={},kx=0,dD=function(e){return e&&(e.host||dD(e.parentNode))},rN=function(e,t){return t.map(function(n){if(e.contains(n))return n;var a=dD(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},aN=function(e,t,n,a){var l=rN(t,Array.isArray(e)?e:[e]);Mv[n]||(Mv[n]=new WeakMap);var d=Mv[n],p=[],y=new Set,S=new Set(l),T=function(O){!O||y.has(O)||(y.add(O),T(O.parentNode))};l.forEach(T);var _=function(O){!O||S.has(O)||Array.prototype.forEach.call(O.children,function(L){if(y.has(L))_(L);else try{var P=L.getAttribute(a),H=P!==null&&P!=="false",B=(Uh.get(L)||0)+1,F=(d.get(L)||0)+1;Uh.set(L,B),d.set(L,F),p.push(L),B===1&&H&&Tv.set(L,!0),F===1&&L.setAttribute(n,"true"),H||L.setAttribute(a,"true")}catch(W){console.error("aria-hidden: cannot operate on ",L,W)}})};return _(t),y.clear(),kx++,function(){p.forEach(function(O){var L=Uh.get(O)-1,P=d.get(O)-1;Uh.set(O,L),d.set(O,P),L||(Tv.has(O)||O.removeAttribute(a),Tv.delete(O)),P||O.removeAttribute(n)}),kx--,kx||(Uh=new WeakMap,Uh=new WeakMap,Tv=new WeakMap,Mv={})}},sN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),l=iN(e);return l?(a.push.apply(a,Array.from(l.querySelectorAll("[aria-live], script"))),aN(a,l,n,"aria-hidden")):function(){return null}},Bb="Dialog",[hD]=FO(Bb),[oN,ws]=hD(Bb),fD=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:l,onOpenChange:d,modal:p=!0}=e,y=G.useRef(null),S=G.useRef(null),[T,_]=WO({prop:a,defaultProp:l??!1,onChange:d,caller:Bb});return D.jsx(oN,{scope:t,triggerRef:y,contentRef:S,contentId:Ax(),titleId:Ax(),descriptionId:Ax(),open:T,onOpenChange:_,onOpenToggle:G.useCallback(()=>_(O=>!O),[_]),modal:p,children:n})};fD.displayName=Bb;var pD="DialogTrigger",lN=G.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,l=ws(pD,n),d=rd(t,l.triggerRef);return D.jsx(il.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":TS(l.open),...a,ref:d,onClick:pc(e.onClick,l.onOpenToggle)})});lN.displayName=pD;var CS="DialogPortal",[cN,gD]=hD(CS,{forceMount:void 0}),mD=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:l}=e,d=ws(CS,t);return D.jsx(cN,{scope:t,forceMount:n,children:G.Children.map(a,p=>D.jsx(jb,{present:n||d.open,children:D.jsx(nD,{asChild:!0,container:l,children:p})}))})};mD.displayName=CS;var ub="DialogOverlay",yD=G.forwardRef((e,t)=>{const n=gD(ub,e.__scopeDialog),{forceMount:a=n.forceMount,...l}=e,d=ws(ub,e.__scopeDialog);return d.modal?D.jsx(jb,{present:a||d.open,children:D.jsx(dN,{...l,ref:t})}):null});yD.displayName=ub;var uN=Z1("DialogOverlay.RemoveScroll"),dN=G.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,l=ws(ub,n);return D.jsx(uD,{as:uN,allowPinchZoom:!0,shards:[l.contentRef],children:D.jsx(il.div,{"data-state":TS(l.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Ku="DialogContent",vD=G.forwardRef((e,t)=>{const n=gD(Ku,e.__scopeDialog),{forceMount:a=n.forceMount,...l}=e,d=ws(Ku,e.__scopeDialog);return D.jsx(jb,{present:a||d.open,children:d.modal?D.jsx(hN,{...l,ref:t}):D.jsx(fN,{...l,ref:t})})});vD.displayName=Ku;var hN=G.forwardRef((e,t)=>{const n=ws(Ku,e.__scopeDialog),a=G.useRef(null),l=rd(t,n.contentRef,a);return G.useEffect(()=>{const d=a.current;if(d)return sN(d)},[]),D.jsx(bD,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pc(e.onCloseAutoFocus,d=>{d.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:pc(e.onPointerDownOutside,d=>{const p=d.detail.originalEvent,y=p.button===0&&p.ctrlKey===!0;(p.button===2||y)&&d.preventDefault()}),onFocusOutside:pc(e.onFocusOutside,d=>d.preventDefault())})}),fN=G.forwardRef((e,t)=>{const n=ws(Ku,e.__scopeDialog),a=G.useRef(!1),l=G.useRef(!1);return D.jsx(bD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{e.onCloseAutoFocus?.(d),d.defaultPrevented||(a.current||n.triggerRef.current?.focus(),d.preventDefault()),a.current=!1,l.current=!1},onInteractOutside:d=>{e.onInteractOutside?.(d),d.defaultPrevented||(a.current=!0,d.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const p=d.target;n.triggerRef.current?.contains(p)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&l.current&&d.preventDefault()}})}),bD=G.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:d,...p}=e,y=ws(Ku,n),S=G.useRef(null),T=rd(t,S);return x2(),D.jsxs(D.Fragment,{children:[D.jsx(eD,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:l,onUnmountAutoFocus:d,children:D.jsx(K1,{role:"dialog",id:y.contentId,"aria-describedby":y.descriptionId,"aria-labelledby":y.titleId,"data-state":TS(y.open),...p,ref:T,onDismiss:()=>y.onOpenChange(!1)})}),D.jsxs(D.Fragment,{children:[D.jsx(gN,{titleId:y.titleId}),D.jsx(yN,{contentRef:S,descriptionId:y.descriptionId})]})]})}),DS="DialogTitle",xD=G.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,l=ws(DS,n);return D.jsx(il.h2,{id:l.titleId,...a,ref:t})});xD.displayName=DS;var wD="DialogDescription",SD=G.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,l=ws(wD,n);return D.jsx(il.p,{id:l.descriptionId,...a,ref:t})});SD.displayName=wD;var ED="DialogClose",pN=G.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,l=ws(ED,n);return D.jsx(il.button,{type:"button",...a,ref:t,onClick:pc(e.onClick,()=>l.onOpenChange(!1))})});pN.displayName=ED;function TS(e){return e?"open":"closed"}var AD="DialogTitleWarning",[Y4,CD]=BO(AD,{contentName:Ku,titleName:DS,docsSlug:"dialog"}),gN=({titleId:e})=>{const t=CD(AD),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return G.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},mN="DialogDescriptionWarning",yN=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CD(mN).contentName}}.`;return G.useEffect(()=>{const l=e.current?.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},vN=fD,bN=mD,xN=yD,wN=vD,SN=xD,EN=SD;function AN(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const DD=Ge.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),nm=()=>{const e=Ge.useContext(DD);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};AN(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function CN(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function DN(){return MS(/^Mac/)}function TN(){return MS(/^iPhone/)}function bA(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function MN(){return MS(/^iPad/)||DN()&&navigator.maxTouchPoints>1}function TD(){return TN()||MN()}function MS(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const _N=24,RN=typeof window<"u"?G.useLayoutEffect:G.useEffect;function xA(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Ox=typeof document<"u"&&window.visualViewport;function wA(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function MD(e){for(wA(e)&&(e=e.parentElement);e&&!wA(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const kN=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let _v=0,Nx;function ON(e={}){let{isDisabled:t}=e;RN(()=>{if(!t)return _v++,_v===1&&TD()&&(Nx=NN()),()=>{_v--,_v===0&&Nx?.()}},[t])}function NN(){let e,t=0,n=O=>{e=MD(O.target),!(e===document.documentElement&&e===document.body)&&(t=O.changedTouches[0].pageY)},a=O=>{if(!e||e===document.documentElement||e===document.body){O.preventDefault();return}let L=O.changedTouches[0].pageY,P=e.scrollTop,H=e.scrollHeight-e.clientHeight;H!==0&&((P<=0&&L>t||P>=H&&L<t)&&O.preventDefault(),t=L)},l=O=>{let L=O.target;_w(L)&&L!==document.activeElement&&(O.preventDefault(),L.style.transform="translateY(-2000px)",L.focus(),requestAnimationFrame(()=>{L.style.transform=""}))},d=O=>{let L=O.target;_w(L)&&(L.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{L.style.transform="",Ox&&(Ox.height<window.innerHeight?requestAnimationFrame(()=>{SA(L)}):Ox.addEventListener("resize",()=>SA(L),{once:!0}))}))},p=()=>{window.scrollTo(0,0)},y=window.pageXOffset,S=window.pageYOffset,T=xA(LN(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let _=xA(wg(document,"touchstart",n,{passive:!1,capture:!0}),wg(document,"touchmove",a,{passive:!1,capture:!0}),wg(document,"touchend",l,{passive:!1,capture:!0}),wg(document,"focus",d,!0),wg(window,"scroll",p));return()=>{T(),_(),window.scrollTo(y,S)}}function LN(e,t,n){let a=e.style[t];return e.style[t]=n,()=>{e.style[t]=a}}function wg(e,t,n,a){return e.addEventListener(t,n,a),()=>{e.removeEventListener(t,n,a)}}function SA(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=MD(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let a=n.getBoundingClientRect().top,l=e.getBoundingClientRect().top,d=e.getBoundingClientRect().bottom;const p=n.getBoundingClientRect().bottom+_N;d>p&&(n.scrollTop+=l-a)}e=n.parentElement}}function _w(e){return e instanceof HTMLInputElement&&!kN.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function IN(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function PN(...e){return t=>e.forEach(n=>IN(n,t))}function _D(...e){return G.useCallback(PN(...e),e)}const RD=new WeakMap;function Ii(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let a={};Object.entries(t).forEach(([l,d])=>{if(l.startsWith("--")){e.style.setProperty(l,d);return}a[l]=e.style[l],e.style[l]=d}),!n&&RD.set(e,a)}function jN(e,t){if(!e||!(e instanceof HTMLElement))return;let n=RD.get(e);n&&(e.style[t]=n[t])}const Mi=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Rv(e,t){if(!e)return null;const n=window.getComputedStyle(e),a=n.transform||n.webkitTransform||n.mozTransform;let l=a.match(/^matrix3d\((.+)\)$/);return l?parseFloat(l[1].split(", ")[Mi(t)?13:12]):(l=a.match(/^matrix\((.+)\)$/),l?parseFloat(l[1].split(", ")[Mi(t)?5:4]):null)}function zN(e){return 8*(Math.log(e+1)-2)}function Lx(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function BN(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const si={DURATION:.5,EASE:[.32,.72,0,1]},kD=.4,FN=.25,HN=100,OD=8,Bu=16,Rw=26,Ix="vaul-dragging";function ND(e){const t=Ge.useRef(e);return Ge.useEffect(()=>{t.current=e}),Ge.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function UN({defaultProp:e,onChange:t}){const n=Ge.useState(e),[a]=n,l=Ge.useRef(a),d=ND(t);return Ge.useEffect(()=>{l.current!==a&&(d(a),l.current=a)},[a,l,d]),n}function LD({prop:e,defaultProp:t,onChange:n=()=>{}}){const[a,l]=UN({defaultProp:t,onChange:n}),d=e!==void 0,p=d?e:a,y=ND(n),S=Ge.useCallback(T=>{if(d){const O=typeof T=="function"?T(e):T;O!==e&&y(O)}else l(T)},[d,e,l,y]);return[p,S]}function GN({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:a,overlayRef:l,fadeFromIndex:d,onSnapPointChange:p,direction:y="bottom",container:S,snapToSequentialPoint:T}){const[_,O]=LD({prop:e,defaultProp:n?.[0],onChange:t}),[L,P]=Ge.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);Ge.useEffect(()=>{function X(){P({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]);const H=Ge.useMemo(()=>_===n?.[n.length-1]||null,[n,_]),B=Ge.useMemo(()=>{var X;return(X=n?.findIndex(ie=>ie===_))!=null?X:null},[n,_]),F=n&&n.length>0&&(d||d===0)&&!Number.isNaN(d)&&n[d]===_||!n,W=Ge.useMemo(()=>{const X=S?{width:S.getBoundingClientRect().width,height:S.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var ie;return(ie=n?.map(pe=>{const be=typeof pe=="string";let le=0;if(be&&(le=parseInt(pe,10)),Mi(y)){const De=be?le:L?pe*X.height:0;return L?y==="bottom"?X.height-De:-X.height+De:De}const ye=be?le:L?pe*X.width:0;return L?y==="right"?X.width-ye:-X.width+ye:ye}))!=null?ie:[]},[n,L,S]),Y=Ge.useMemo(()=>B!==null?W?.[B]:null,[W,B]),$=Ge.useCallback(X=>{var ie;const pe=(ie=W?.findIndex(be=>be===X))!=null?ie:null;p(pe),Ii(a.current,{transition:`transform ${si.DURATION}s cubic-bezier(${si.EASE.join(",")})`,transform:Mi(y)?`translate3d(0, ${X}px, 0)`:`translate3d(${X}px, 0, 0)`}),W&&pe!==W.length-1&&d!==void 0&&pe!==d&&pe<d?Ii(l.current,{transition:`opacity ${si.DURATION}s cubic-bezier(${si.EASE.join(",")})`,opacity:"0"}):Ii(l.current,{transition:`opacity ${si.DURATION}s cubic-bezier(${si.EASE.join(",")})`,opacity:"1"}),O(n?.[Math.max(pe,0)])},[a.current,n,W,d,l,O]);Ge.useEffect(()=>{if(_||e){var X;const ie=(X=n?.findIndex(pe=>pe===e||pe===_))!=null?X:-1;W&&ie!==-1&&typeof W[ie]=="number"&&$(W[ie])}},[_,e,n,W,$]);function K({draggedDistance:X,closeDrawer:ie,velocity:pe,dismissible:be}){if(d===void 0)return;const le=y==="bottom"||y==="right"?(Y??0)-X:(Y??0)+X,ye=B===d-1,De=B===0,Fe=X>0;if(ye&&Ii(l.current,{transition:`opacity ${si.DURATION}s cubic-bezier(${si.EASE.join(",")})`}),!T&&pe>2&&!Fe){be?ie():$(W[0]);return}if(!T&&pe>2&&Fe&&W&&n){$(W[n.length-1]);return}const $e=W?.reduce((Ee,Ie)=>typeof Ee!="number"||typeof Ie!="number"?Ee:Math.abs(Ie-le)<Math.abs(Ee-le)?Ie:Ee),oe=Mi(y)?window.innerHeight:window.innerWidth;if(pe>kD&&Math.abs(X)<oe*.4){const Ee=Fe?1:-1;if(Ee>0&&H&&n){$(W[n.length-1]);return}if(De&&Ee<0&&be&&ie(),B===null)return;$(W[B+Ee]);return}$($e)}function re({draggedDistance:X}){if(Y===null)return;const ie=y==="bottom"||y==="right"?Y-X:Y+X;(y==="bottom"||y==="right")&&ie<W[W.length-1]||(y==="top"||y==="left")&&ie>W[W.length-1]||Ii(a.current,{transform:Mi(y)?`translate3d(0, ${ie}px, 0)`:`translate3d(${ie}px, 0, 0)`})}function ue(X,ie){if(!n||typeof B!="number"||!W||d===void 0)return null;const pe=B===d-1;if(B>=d&&ie)return 0;if(pe&&!ie)return 1;if(!F&&!pe)return null;const le=pe?B+1:B-1,ye=pe?W[le]-W[le-1]:W[le+1]-W[le],De=X/Math.abs(ye);return pe?1-De:De}return{isLastSnapPoint:H,activeSnapPoint:_,shouldFade:F,getPercentageDragged:ue,setActiveSnapPoint:O,activeSnapPointIndex:B,onRelease:K,onDrag:re,snapPointsOffset:W}}const VN=()=>()=>{};function WN(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:a,noBodyStyles:l}=nm(),d=Ge.useRef(null),p=G.useMemo(()=>document.body.style.backgroundColor,[]);function y(){return(window.innerWidth-Rw)/window.innerWidth}Ge.useEffect(()=>{if(t&&n){d.current&&clearTimeout(d.current);const S=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!S)return;BN(a&&!l?Lx(document.body,{background:"black"}):VN,Lx(S,{transformOrigin:Mi(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${si.DURATION}s`,transitionTimingFunction:`cubic-bezier(${si.EASE.join(",")})`}));const T=Lx(S,{borderRadius:`${OD}px`,overflow:"hidden",...Mi(e)?{transform:`scale(${y()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${y()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{T(),d.current=window.setTimeout(()=>{p?document.body.style.background=p:document.body.style.removeProperty("background")},si.DURATION*1e3)}}},[t,n,p])}let Sg=null;function YN({isOpen:e,modal:t,nested:n,hasBeenOpened:a,preventScrollRestoration:l,noBodyStyles:d}){const[p,y]=Ge.useState(()=>typeof window<"u"?window.location.href:""),S=Ge.useRef(0),T=Ge.useCallback(()=>{if(bA()&&Sg===null&&e&&!d){Sg={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:O,innerHeight:L}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-S.current}px`,left:`${-O}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const P=L-window.innerHeight;P&&S.current>=L&&(document.body.style.top=`${-(S.current+P)}px`)}),300)}},[e]),_=Ge.useCallback(()=>{if(bA()&&Sg!==null&&!d){const O=-parseInt(document.body.style.top,10),L=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Sg),window.requestAnimationFrame(()=>{if(l&&p!==window.location.href){y(window.location.href);return}window.scrollTo(L,O)}),Sg=null}},[p]);return Ge.useEffect(()=>{function O(){S.current=window.scrollY}return O(),window.addEventListener("scroll",O),()=>{window.removeEventListener("scroll",O)}},[]),Ge.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||_()}},[t,_]),Ge.useEffect(()=>{n||!a||(e?(!window.matchMedia("(display-mode: standalone)").matches&&T(),t||window.setTimeout(()=>{_()},500)):_())},[e,a,p,t,n,T,_]),{restorePositionSetting:_}}function $N({open:e,onOpenChange:t,children:n,onDrag:a,onRelease:l,snapPoints:d,shouldScaleBackground:p=!1,setBackgroundColorOnScale:y=!0,closeThreshold:S=FN,scrollLockTimeout:T=HN,dismissible:_=!0,handleOnly:O=!1,fadeFromIndex:L=d&&d.length-1,activeSnapPoint:P,setActiveSnapPoint:H,fixed:B,modal:F=!0,onClose:W,nested:Y,noBodyStyles:$=!1,direction:K="bottom",defaultOpen:re=!1,disablePreventScroll:ue=!0,snapToSequentialPoint:X=!1,preventScrollRestoration:ie=!1,repositionInputs:pe=!0,onAnimationEnd:be,container:le,autoFocus:ye=!1}){var De,Fe;const[$e=!1,oe]=LD({defaultProp:re,prop:e,onChange:gt=>{t?.(gt),!gt&&!Y&&Qt(),setTimeout(()=>{be?.(gt)},si.DURATION*1e3),gt&&!F&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),gt||(document.body.style.pointerEvents="auto")}}),[Ee,Ie]=Ge.useState(!1),[Ye,je]=Ge.useState(!1),[Re,ge]=Ge.useState(!1),Ae=Ge.useRef(null),Be=Ge.useRef(null),Xe=Ge.useRef(null),Ke=Ge.useRef(null),Ze=Ge.useRef(null),Ve=Ge.useRef(!1),tt=Ge.useRef(null),Qe=Ge.useRef(0),_t=Ge.useRef(!1),ce=Ge.useRef(!re),hn=Ge.useRef(0),Je=Ge.useRef(null),kt=Ge.useRef(((De=Je.current)==null?void 0:De.getBoundingClientRect().height)||0),Pt=Ge.useRef(((Fe=Je.current)==null?void 0:Fe.getBoundingClientRect().width)||0),mi=Ge.useRef(0),Bn=Ge.useCallback(gt=>{d&&gt===wn.length-1&&(Be.current=new Date)},[]),{activeSnapPoint:Fn,activeSnapPointIndex:nn,setActiveSnapPoint:xn,onRelease:jt,snapPointsOffset:wn,onDrag:nt,shouldFade:Ot,getPercentageDragged:Dn}=GN({snapPoints:d,activeSnapPointProp:P,setActiveSnapPointProp:H,drawerRef:Je,fadeFromIndex:L,overlayRef:Ae,onSnapPointChange:Bn,direction:K,container:le,snapToSequentialPoint:X});ON({isDisabled:!$e||Ye||!F||Re||!Ee||!pe||!ue});const{restorePositionSetting:Qt}=YN({isOpen:$e,modal:F,nested:Y??!1,hasBeenOpened:Ee,preventScrollRestoration:ie,noBodyStyles:$});function fn(){return(window.innerWidth-Rw)/window.innerWidth}function ti(gt){var Rt,Lt;!_&&!d||Je.current&&!Je.current.contains(gt.target)||(kt.current=((Rt=Je.current)==null?void 0:Rt.getBoundingClientRect().height)||0,Pt.current=((Lt=Je.current)==null?void 0:Lt.getBoundingClientRect().width)||0,je(!0),Xe.current=new Date,TD()&&window.addEventListener("touchend",()=>Ve.current=!1,{once:!0}),gt.target.setPointerCapture(gt.pointerId),Qe.current=Mi(K)?gt.pageY:gt.pageX)}function wi(gt,Rt){var Lt;let dt=gt;const mt=(Lt=window.getSelection())==null?void 0:Lt.toString(),zt=Je.current?Rv(Je.current,K):null,Vt=new Date;if(dt.tagName==="SELECT"||dt.hasAttribute("data-vaul-no-drag")||dt.closest("[data-vaul-no-drag]"))return!1;if(K==="right"||K==="left")return!0;if(Be.current&&Vt.getTime()-Be.current.getTime()<500)return!1;if(zt!==null&&(K==="bottom"?zt>0:zt<0))return!0;if(mt&&mt.length>0)return!1;if(Ze.current&&Vt.getTime()-Ze.current.getTime()<T&&zt===0||Rt)return Ze.current=Vt,!1;for(;dt;){if(dt.scrollHeight>dt.clientHeight){if(dt.scrollTop!==0)return Ze.current=new Date,!1;if(dt.getAttribute("role")==="dialog")return!0}dt=dt.parentNode}return!0}function Yn(gt){if(Je.current&&Ye){const Rt=K==="bottom"||K==="right"?1:-1,Lt=(Qe.current-(Mi(K)?gt.pageY:gt.pageX))*Rt,dt=Lt>0,mt=d&&!_&&!dt;if(mt&&nn===0)return;const zt=Math.abs(Lt),Vt=document.querySelector("[data-vaul-drawer-wrapper]"),Mt=K==="bottom"||K==="top"?kt.current:Pt.current;let Kt=zt/Mt;const on=Dn(zt,dt);if(on!==null&&(Kt=on),mt&&Kt>=1||!Ve.current&&!wi(gt.target,dt))return;if(Je.current.classList.add(Ix),Ve.current=!0,Ii(Je.current,{transition:"none"}),Ii(Ae.current,{transition:"none"}),d&&nt({draggedDistance:Lt}),dt&&!d){const Wt=zN(Lt),yi=Math.min(Wt*-1,0)*Rt;Ii(Je.current,{transform:Mi(K)?`translate3d(0, ${yi}px, 0)`:`translate3d(${yi}px, 0, 0)`});return}const Pn=1-Kt;if((Ot||L&&nn===L-1)&&(a?.(gt,Kt),Ii(Ae.current,{opacity:`${Pn}`,transition:"none"},!0)),Vt&&Ae.current&&p){const Wt=Math.min(fn()+Kt*(1-fn()),1),yi=8-Kt*8,vi=Math.max(0,14-Kt*14);Ii(Vt,{borderRadius:`${yi}px`,transform:Mi(K)?`scale(${Wt}) translate3d(0, ${vi}px, 0)`:`scale(${Wt}) translate3d(${vi}px, 0, 0)`,transition:"none"},!0)}if(!d){const Wt=zt*Rt;Ii(Je.current,{transform:Mi(K)?`translate3d(0, ${Wt}px, 0)`:`translate3d(${Wt}px, 0, 0)`})}}}Ge.useEffect(()=>{window.requestAnimationFrame(()=>{ce.current=!0})},[]),Ge.useEffect(()=>{var gt;function Rt(){if(!Je.current||!pe)return;const Lt=document.activeElement;if(_w(Lt)||_t.current){var dt;const mt=((dt=window.visualViewport)==null?void 0:dt.height)||0,zt=window.innerHeight;let Vt=zt-mt;const Mt=Je.current.getBoundingClientRect().height||0,Kt=Mt>zt*.8;mi.current||(mi.current=Mt);const on=Je.current.getBoundingClientRect().top;if(Math.abs(hn.current-Vt)>60&&(_t.current=!_t.current),d&&d.length>0&&wn&&nn){const Pn=wn[nn]||0;Vt+=Pn}if(hn.current=Vt,Mt>mt||_t.current){const Pn=Je.current.getBoundingClientRect().height;let Wt=Pn;Pn>mt&&(Wt=mt-(Kt?on:Rw)),B?Je.current.style.height=`${Pn-Math.max(Vt,0)}px`:Je.current.style.height=`${Math.max(Wt,mt-on)}px`}else CN()||(Je.current.style.height=`${mi.current}px`);d&&d.length>0&&!_t.current?Je.current.style.bottom="0px":Je.current.style.bottom=`${Math.max(Vt,0)}px`}}return(gt=window.visualViewport)==null||gt.addEventListener("resize",Rt),()=>{var Lt;return(Lt=window.visualViewport)==null?void 0:Lt.removeEventListener("resize",Rt)}},[nn,d,wn]);function Si(gt){Hn(),W?.(),gt||oe(!1),setTimeout(()=>{d&&xn(d[0])},si.DURATION*1e3)}function ni(){if(!Je.current)return;const gt=document.querySelector("[data-vaul-drawer-wrapper]"),Rt=Rv(Je.current,K);Ii(Je.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${si.DURATION}s cubic-bezier(${si.EASE.join(",")})`}),Ii(Ae.current,{transition:`opacity ${si.DURATION}s cubic-bezier(${si.EASE.join(",")})`,opacity:"1"}),p&&Rt&&Rt>0&&$e&&Ii(gt,{borderRadius:`${OD}px`,overflow:"hidden",...Mi(K)?{transform:`scale(${fn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${fn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${si.DURATION}s`,transitionTimingFunction:`cubic-bezier(${si.EASE.join(",")})`},!0)}function Hn(){!Ye||!Je.current||(Je.current.classList.remove(Ix),Ve.current=!1,je(!1),Ke.current=new Date)}function Rn(gt){if(!Ye||!Je.current)return;Je.current.classList.remove(Ix),Ve.current=!1,je(!1),Ke.current=new Date;const Rt=Rv(Je.current,K);if(!gt||!wi(gt.target,!1)||!Rt||Number.isNaN(Rt)||Xe.current===null)return;const Lt=Ke.current.getTime()-Xe.current.getTime(),dt=Qe.current-(Mi(K)?gt.pageY:gt.pageX),mt=Math.abs(dt)/Lt;if(mt>.05&&(ge(!0),setTimeout(()=>{ge(!1)},200)),d){jt({draggedDistance:dt*(K==="bottom"||K==="right"?1:-1),closeDrawer:Si,velocity:mt,dismissible:_}),l?.(gt,!0);return}if(K==="bottom"||K==="right"?dt>0:dt<0){ni(),l?.(gt,!0);return}if(mt>kD){Si(),l?.(gt,!1);return}var zt;const Vt=Math.min((zt=Je.current.getBoundingClientRect().height)!=null?zt:0,window.innerHeight);var Mt;const Kt=Math.min((Mt=Je.current.getBoundingClientRect().width)!=null?Mt:0,window.innerWidth),on=K==="left"||K==="right";if(Math.abs(Rt)>=(on?Kt:Vt)*S){Si(),l?.(gt,!1);return}l?.(gt,!0),ni()}Ge.useEffect(()=>($e&&(Ii(document.documentElement,{scrollBehavior:"auto"}),Be.current=new Date),()=>{jN(document.documentElement,"scrollBehavior")}),[$e]);function kn(gt){const Rt=gt?(window.innerWidth-Bu)/window.innerWidth:1,Lt=gt?-Bu:0;tt.current&&window.clearTimeout(tt.current),Ii(Je.current,{transition:`transform ${si.DURATION}s cubic-bezier(${si.EASE.join(",")})`,transform:Mi(K)?`scale(${Rt}) translate3d(0, ${Lt}px, 0)`:`scale(${Rt}) translate3d(${Lt}px, 0, 0)`}),!gt&&Je.current&&(tt.current=setTimeout(()=>{const dt=Rv(Je.current,K);Ii(Je.current,{transition:"none",transform:Mi(K)?`translate3d(0, ${dt}px, 0)`:`translate3d(${dt}px, 0, 0)`})},500))}function We(gt,Rt){if(Rt<0)return;const Lt=(window.innerWidth-Bu)/window.innerWidth,dt=Lt+Rt*(1-Lt),mt=-Bu+Rt*Bu;Ii(Je.current,{transform:Mi(K)?`scale(${dt}) translate3d(0, ${mt}px, 0)`:`scale(${dt}) translate3d(${mt}px, 0, 0)`,transition:"none"})}function wa(gt,Rt){const Lt=Mi(K)?window.innerHeight:window.innerWidth,dt=Rt?(Lt-Bu)/Lt:1,mt=Rt?-Bu:0;Rt&&Ii(Je.current,{transition:`transform ${si.DURATION}s cubic-bezier(${si.EASE.join(",")})`,transform:Mi(K)?`scale(${dt}) translate3d(0, ${mt}px, 0)`:`scale(${dt}) translate3d(${mt}px, 0, 0)`})}return Ge.useEffect(()=>{F||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[F]),Ge.createElement(vN,{defaultOpen:re,onOpenChange:gt=>{!_&&!gt||(gt?Ie(!0):Si(!0),oe(gt))},open:$e},Ge.createElement(DD.Provider,{value:{activeSnapPoint:Fn,snapPoints:d,setActiveSnapPoint:xn,drawerRef:Je,overlayRef:Ae,onOpenChange:t,onPress:ti,onRelease:Rn,onDrag:Yn,dismissible:_,shouldAnimate:ce,handleOnly:O,isOpen:$e,isDragging:Ye,shouldFade:Ot,closeDrawer:Si,onNestedDrag:We,onNestedOpenChange:kn,onNestedRelease:wa,keyboardIsOpen:_t,modal:F,snapPointsOffset:wn,activeSnapPointIndex:nn,direction:K,shouldScaleBackground:p,setBackgroundColorOnScale:y,noBodyStyles:$,container:le,autoFocus:ye}},n))}const ID=Ge.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:a,onRelease:l,shouldFade:d,isOpen:p,modal:y,shouldAnimate:S}=nm(),T=_D(t,n),_=a&&a.length>0;if(!y)return null;const O=Ge.useCallback(L=>l(L),[l]);return Ge.createElement(xN,{onMouseUp:O,ref:T,"data-vaul-overlay":"","data-vaul-snap-points":p&&_?"true":"false","data-vaul-snap-points-overlay":p&&d?"true":"false","data-vaul-animate":S?.current?"true":"false",...e})});ID.displayName="Drawer.Overlay";const PD=Ge.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...a},l){const{drawerRef:d,onPress:p,onRelease:y,onDrag:S,keyboardIsOpen:T,snapPointsOffset:_,activeSnapPointIndex:O,modal:L,isOpen:P,direction:H,snapPoints:B,container:F,handleOnly:W,shouldAnimate:Y,autoFocus:$}=nm(),[K,re]=Ge.useState(!1),ue=_D(l,d),X=Ge.useRef(null),ie=Ge.useRef(null),pe=Ge.useRef(!1),be=B&&B.length>0;WN();const le=(De,Fe,$e=0)=>{if(pe.current)return!0;const oe=Math.abs(De.y),Ee=Math.abs(De.x),Ie=Ee>oe,Ye=["bottom","right"].includes(Fe)?1:-1;if(Fe==="left"||Fe==="right"){if(!(De.x*Ye<0)&&Ee>=0&&Ee<=$e)return Ie}else if(!(De.y*Ye<0)&&oe>=0&&oe<=$e)return!Ie;return pe.current=!0,!0};Ge.useEffect(()=>{be&&window.requestAnimationFrame(()=>{re(!0)})},[]);function ye(De){X.current=null,pe.current=!1,y(De)}return Ge.createElement(wN,{"data-vaul-drawer-direction":H,"data-vaul-drawer":"","data-vaul-delayed-snap-points":K?"true":"false","data-vaul-snap-points":P&&be?"true":"false","data-vaul-custom-container":F?"true":"false","data-vaul-animate":Y?.current?"true":"false",...a,ref:ue,style:_&&_.length>0?{"--snap-point-height":`${_[O??0]}px`,...t}:t,onPointerDown:De=>{W||(a.onPointerDown==null||a.onPointerDown.call(a,De),X.current={x:De.pageX,y:De.pageY},p(De))},onOpenAutoFocus:De=>{n?.(De),$||De.preventDefault()},onPointerDownOutside:De=>{if(e?.(De),!L||De.defaultPrevented){De.preventDefault();return}T.current&&(T.current=!1)},onFocusOutside:De=>{if(!L){De.preventDefault();return}},onPointerMove:De=>{if(ie.current=De,W||(a.onPointerMove==null||a.onPointerMove.call(a,De),!X.current))return;const Fe=De.pageY-X.current.y,$e=De.pageX-X.current.x,oe=De.pointerType==="touch"?10:2;le({x:$e,y:Fe},H,oe)?S(De):(Math.abs($e)>oe||Math.abs(Fe)>oe)&&(X.current=null)},onPointerUp:De=>{a.onPointerUp==null||a.onPointerUp.call(a,De),X.current=null,pe.current=!1,y(De)},onPointerOut:De=>{a.onPointerOut==null||a.onPointerOut.call(a,De),ye(ie.current)},onContextMenu:De=>{a.onContextMenu==null||a.onContextMenu.call(a,De),ie.current&&ye(ie.current)}})});PD.displayName="Drawer.Content";const qN=250,XN=120,jD=Ge.forwardRef(function({preventCycle:e=!1,children:t,...n},a){const{closeDrawer:l,isDragging:d,snapPoints:p,activeSnapPoint:y,setActiveSnapPoint:S,dismissible:T,handleOnly:_,isOpen:O,onPress:L,onDrag:P}=nm(),H=Ge.useRef(null),B=Ge.useRef(!1);function F(){if(B.current){$();return}window.setTimeout(()=>{W()},XN)}function W(){if(d||e||B.current){$();return}if($(),!p||p.length===0){T||l();return}if(y===p[p.length-1]&&T){l();return}const re=p.findIndex(X=>X===y);if(re===-1)return;const ue=p[re+1];S(ue)}function Y(){H.current=window.setTimeout(()=>{B.current=!0},qN)}function $(){H.current&&window.clearTimeout(H.current),B.current=!1}return Ge.createElement("div",{onClick:F,onPointerCancel:$,onPointerDown:K=>{_&&L(K),Y()},onPointerMove:K=>{_&&P(K)},ref:a,"data-vaul-drawer-visible":O?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},Ge.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});jD.displayName="Drawer.Handle";function ZN(e){const t=nm(),{container:n=t.container,...a}=e;return Ge.createElement(bN,{container:n,...a})}const ya={Root:$N,Content:PD,Overlay:ID,Portal:ZN,Handle:jD,Title:SN,Description:EN},Fb=({open:e,onClose:t,onConfirm:n,title:a,message:l,isSubmitting:d=!1})=>{const{t:p}=bn();return D.jsx(ya.Root,{open:e,onOpenChange:y=>!y&&t(),children:D.jsxs(ya.Portal,{children:[D.jsx(ya.Overlay,{className:"fixed inset-0 bg-black/70 backdrop-blur-[4px] z-[9999]"}),D.jsxs(ya.Content,{className:"fixed left-0 right-0 bottom-0 z-[10000] bg-[var(--color-app-bg)] rounded-t-2xl shadow-[0_-8px_32px_rgba(0,0,0,0.5)] p-2 pt-2 pb-[calc(1rem+env(safe-area-inset-bottom,0))] max-h-[min(85svh,520px)] overflow-auto outline-none","aria-label":a,children:[D.jsx("div",{className:"flex justify-center pt-1.5 pb-2",children:D.jsx(ya.Handle,{className:"w-12 h-1.5 rounded-full bg-[var(--color-app-accent)]/50"})}),D.jsxs("div",{className:"flex items-center justify-between gap-3 px-2 pt-2 pb-1",children:[D.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[D.jsx("div",{className:"w-9 h-9 rounded-xl bg-[var(--color-app-accent)]/15 flex items-center justify-center shrink-0 [&_svg]:text-[var(--color-app-accent)]",children:D.jsx(nf,{className:"text-lg"})}),D.jsx(ya.Title,{className:"m-0 text-app-primary text-[1.05rem] font-semibold text-left truncate",children:a})]}),D.jsx("button",{type:"button",className:"border-none bg-transparent text-white/70 p-1.5 rounded-full inline-flex items-center justify-center cursor-pointer hover:bg-[var(--color-app-accent)]/10 hover:text-[var(--color-app-accent)] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",onClick:t,"aria-label":p("common.close")||"Close",disabled:d,children:D.jsx(tm,{})})]}),D.jsx(ya.Description,{className:"my-1.5 mx-0 mb-4 px-1 text-app-secondary text-[0.95rem] leading-snug text-left",children:l||p("modal.deleteMessage")||p("modal.deleteTransaction")}),D.jsxs("div",{className:"grid grid-cols-2 gap-3 p-1 max-[520px]:grid-cols-1",children:[D.jsx("button",{type:"button",className:"w-full border-none rounded-xl py-3.5 px-4 min-h-12 text-[0.95rem] font-semibold cursor-pointer inline-flex items-center justify-center gap-2 transition-all duration-150 select-none [-webkit-tap-highlight-color:transparent] bg-app-surface border border-app-subtle text-app-primary hover:border-[var(--color-app-accent)]/30 hover:bg-[var(--color-app-accent)]/5 active:not(:disabled):translate-y-px disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none",onClick:t,disabled:d,children:p("common.cancel")}),D.jsx("button",{type:"button",className:"w-full border-none rounded-xl py-3.5 px-4 min-h-12 text-[0.95rem] font-semibold cursor-pointer inline-flex items-center justify-center gap-2 transition-all duration-150 select-none [-webkit-tap-highlight-color:transparent] bg-gradient-to-br from-red-500 to-red-600 text-white shadow-[0_4px_14px_rgba(239,68,68,0.35)] ring-1 ring-[var(--color-app-accent)]/25 hover:shadow-[0_6px_20px_rgba(239,68,68,0.4)] hover:ring-2 hover:ring-[var(--color-app-accent)]/40 active:not(:disabled):translate-y-px disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none",onClick:n,disabled:d,children:d?D.jsxs("div",{className:"inline-flex gap-1","aria-label":"Loading",children:[D.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white animate-[loader-bounce_1.4s_ease-in-out_infinite_both]",style:{animationDelay:"-0.32s"}}),D.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white animate-[loader-bounce_1.4s_ease-in-out_infinite_both]",style:{animationDelay:"-0.16s"}}),D.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white animate-[loader-bounce_1.4s_ease-in-out_infinite_both]"})]}):D.jsxs(D.Fragment,{children:[D.jsx(nf,{}),p("common.delete")]})})]})]})]})})},rf=G.memo(({icon:e,title:t,description:n,action:a})=>D.jsxs("div",{className:"text-center py-12 px-8 bg-transparent border-none",children:[D.jsx("div",{className:"flex justify-center mb-4 [&_svg]:w-12 [&_svg]:h-12 [&_svg]:text-[rgba(91,141,239,0.6)]",children:e}),D.jsx("h3",{className:"text-xl font-semibold text-white/90 m-0 mb-2",children:t}),D.jsx("p",{className:"text-[0.95rem] text-white/60 m-0 mb-6 leading-normal",children:n}),a&&D.jsx("button",{onClick:a.onClick,className:"inline-flex items-center justify-center gap-2 py-3 px-6 bg-[rgba(91,141,239,0.1)] border border-[rgba(91,141,239,0.3)] rounded-lg text-[#5b8def] text-[0.95rem] font-semibold cursor-pointer transition-all duration-300 hover:bg-[rgba(91,141,239,0.2)] hover:border-[#5b8def] hover:-translate-y-0.5",children:a.label})]}));rf.displayName="NoData";const _i=({id:e,name:t,type:n="text",label:a,value:l,onChange:d,required:p=!1,placeholder:y,min:S,max:T,step:_,isValid:O,ariaLabel:L,disabled:P=!1,className:H="",autoComplete:B,inputRef:F})=>{const{t:W}=bn(),Y=e||t,$=l??"";return D.jsxs("div",{className:`form-group ${p?"required":""} ${H}`,children:[D.jsx("label",{htmlFor:Y,children:a}),D.jsx("div",{className:"input-wrapper",children:D.jsx("input",{id:Y,ref:F,type:n,name:t,value:$,onChange:d,required:p,placeholder:y,min:S,max:T,step:_,disabled:P,"aria-label":L||a,autoComplete:B,className:`form-input ${O?"valid":""}`})})]})};class zD extends G.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){xt.error("ErrorBoundary caught an error:",t,n),this.props.onError&&this.props.onError(t,n),this.setState({error:t,errorInfo:n})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:D.jsx(QN,{error:this.state.error,onReset:this.handleReset}):this.props.children}}const QN=({error:e,onReset:t})=>{const n=a=>({"error.boundary.title":"Something went wrong","error.boundary.message":"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists.","error.boundary.details":"Error Details (Development Only)","error.boundary.tryAgain":"Try Again","error.boundary.reload":"Reload Page"})[a]||a;return D.jsx("div",{className:"flex items-center justify-center min-h-[60vh] p-8 bg-[var(--background-color,#f5f5f5)]",children:D.jsxs("div",{className:"max-w-[600px] w-full bg-white rounded-xl p-8 shadow-md text-center",children:[D.jsx("div",{className:"text-6xl mb-4",children:""}),D.jsx("h2",{className:"text-2xl font-semibold text-[var(--text-color,#333)] mb-4",children:n("error.boundary.title")}),D.jsx("p",{className:"text-[var(--text-secondary,#666)] mb-6 leading-relaxed",children:n("error.boundary.message")}),e&&!1,D.jsxs("div",{className:"flex gap-4 justify-center mt-8",children:[D.jsx("button",{onClick:t,className:"px-6 py-3 rounded-lg text-base font-medium cursor-pointer transition-all bg-[var(--primary-color,#667eea)] text-white hover:bg-[var(--primary-hover,#5568d3)] hover:-translate-y-px hover:shadow-lg",children:n("error.boundary.tryAgain")}),D.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-lg text-base font-medium cursor-pointer transition-all bg-[var(--secondary-color,#e2e8f0)] text-[var(--text-color,#333)] hover:bg-[var(--secondary-hover,#cbd5e0)] hover:-translate-y-px",children:n("error.boundary.reload")})]})]})})},KN=()=>{const{t:e}=bn(),[t,n]=G.useState("closed");return D.jsx("div",{className:`fixed left-0 right-0 bottom-0 z-[9999] isolate touch-none backdrop-blur-[12px] bg-[var(--color-app-bg)] border-t border-white/[0.08] shadow-[0_-4px_24px_rgba(0,0,0,0.3)] py-2 pb-[calc(0.5rem+env(safe-area-inset-bottom,0))] h-[calc(64px+env(safe-area-inset-bottom,0))] w-full max-w-[100vw] [-webkit-backface-visibility:hidden] [backface-visibility:hidden] ${t}`,children:D.jsxs("ul",{className:"m-0 list-none p-0 h-full flex items-center justify-around gap-2",children:[D.jsx("li",{className:"h-full flex-1 flex items-center justify-center",children:D.jsx(Vh,{to:"/expenses",title:e("nav.home"),activeOptions:{exact:!0},activeProps:{className:"active"},className:"text-app-muted text-[28px] h-full w-full flex items-center justify-center transition-all duration-200 hover:text-app-secondary hover:[&_svg]:scale-110 [&.active]:!text-[var(--color-app-accent)] [&.active_svg]:[stroke-width:2.5] [&.active_svg]:[filter:drop-shadow(0_2px_8px_var(--color-app-accent-shadow))]",children:D.jsx(bO,{})})}),D.jsx("li",{className:"h-full flex-1 flex items-center justify-center",children:D.jsx(Vh,{to:"/expenses/charts",title:e("nav.charts"),activeProps:{className:"active"},className:"text-app-muted text-[28px] h-full w-full flex items-center justify-center transition-all duration-200 hover:text-app-secondary hover:[&_svg]:scale-110 [&.active]:!text-[var(--color-app-accent)] [&.active_svg]:[stroke-width:2.5] [&.active_svg]:[filter:drop-shadow(0_2px_8px_var(--color-app-accent-shadow))]",children:D.jsx(bS,{})})}),D.jsx("li",{className:"h-full flex-1 flex items-center justify-center",children:D.jsx(Vh,{to:"/expenses/income",title:e("nav.income"),activeProps:{className:"active"},className:"text-app-muted text-[28px] h-full w-full flex items-center justify-center transition-all duration-200 hover:text-app-secondary hover:[&_svg]:scale-110 [&.active]:!text-[var(--color-app-accent)] [&.active_svg]:[stroke-width:2.5] [&.active_svg]:[filter:drop-shadow(0_2px_8px_var(--color-app-accent-shadow))]",children:D.jsx(Jo,{})})}),D.jsx("li",{className:"h-full flex-1 flex items-center justify-center",children:D.jsx(Vh,{to:"/expenses/loans",title:e("nav.loans"),activeProps:{className:"active"},className:"text-app-muted text-[28px] h-full w-full flex items-center justify-center transition-all duration-200 hover:text-app-secondary hover:[&_svg]:scale-110 [&.active]:!text-[var(--color-app-accent)] [&.active_svg]:[stroke-width:2.5] [&.active_svg]:[filter:drop-shadow(0_2px_8px_var(--color-app-accent-shadow))]",children:D.jsx(xS,{})})}),D.jsx("li",{className:"h-full flex-1 flex items-center justify-center",children:D.jsx(Vh,{to:"/expenses/user",title:e("nav.profile"),activeProps:{className:"active"},className:"text-app-muted text-[28px] h-full w-full flex items-center justify-center transition-all duration-200 hover:text-app-secondary hover:[&_svg]:scale-110 [&.active]:!text-[var(--color-app-accent)] [&.active_svg]:[stroke-width:2.5] [&.active_svg]:[filter:drop-shadow(0_2px_8px_var(--color-app-accent-shadow))]",children:D.jsx(Y1,{})})})]})})},JN=()=>{const[e,t]=G.useState(navigator.onLine),[n,a]=G.useState(0),[l,d]=G.useState(!1),{t:p}=bn();if(G.useEffect(()=>{const L=async()=>{const Y=await tf();a(Y.length)},P=()=>{t(!0),L()},H=()=>{t(!1),d(!1),L()},B=()=>{d(!0)},F=async Y=>{d(!1),await new Promise($=>setTimeout($,200)),await L()};L(),window.addEventListener("online",P),window.addEventListener("offline",H),window.addEventListener("sync-start",B),window.addEventListener("sync-end",F);const W=setInterval(L,2e3);return()=>{window.removeEventListener("online",P),window.removeEventListener("offline",H),window.removeEventListener("sync-start",B),window.removeEventListener("sync-end",F),clearInterval(W)}},[]),e&&n===0&&!l)return null;const y=!e,S=e&&l,T=e&&!l&&n>0,_="flex items-center gap-2.5 py-1.5 px-4 rounded-xl text-xs font-medium transition-all duration-300 fixed top-5 right-5 z-[1030] backdrop-blur-[10px] shadow-md animate-[slideIn_0.3s_ease-out]",O=y?"bg-red-500/15 border border-red-500/30 text-red-300":S?"bg-blue-500/15 border border-blue-500/30 text-blue-300":T?"bg-amber-400/15 border border-amber-400/30 text-amber-300":"bg-green-500/15 border border-green-500/30 text-green-300 animate-[slideIn_0.3s_ease-out,slideOut_0.3s_ease-in_2.7s_forwards]";return D.jsx("div",{className:`${_} ${O}`,children:y?D.jsxs(D.Fragment,{children:[D.jsx(aA,{className:"shrink-0 w-4 h-4 [stroke-width:2.5]"}),D.jsx("span",{className:"whitespace-nowrap leading-snug",children:p("offline.message")})]}):S?D.jsxs(D.Fragment,{children:[D.jsx(SO,{className:"shrink-0 w-4 h-4 [stroke-width:2.5] animate-spin"}),D.jsx("span",{className:"whitespace-nowrap leading-snug",children:p("syncStatus.syncing")||"Syncing..."})]}):T?D.jsxs(D.Fragment,{children:[D.jsx(aA,{className:"shrink-0 w-4 h-4 [stroke-width:2.5]"}),D.jsxs("span",{className:"whitespace-nowrap leading-snug",children:[n," ",p("syncStatus.pending")]})]}):D.jsxs(D.Fragment,{children:[D.jsx(RO,{className:"shrink-0 w-4 h-4 [stroke-width:2.5]"}),D.jsx("span",{className:"whitespace-nowrap leading-snug",children:p("syncStatus.synced")||"Synced"})]})})};async function kw(e,t,n,a,l,d){return n==="add"&&!e.id&&(e.id=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),await b1(e,n==="add"),await nd({type:n==="add"?"create":"update",entityType:a,url:l,method:d,data:t,localId:e.id}),e.id}async function eL(e,t,n){await x1(e),await nd({type:"delete",entityType:t,url:n,method:"DELETE",localId:e})}async function Ow(e,t,n,a,l){return n==="add"&&!e.id&&(e.id=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),await w1(e,n==="add"),await nd({type:n==="add"?"create":"update",entityType:"loan",url:a,method:l,data:t,localId:e.id}),e.id}async function tL(e,t){await S1(e),await nd({type:"delete",entityType:"loan",url:t,method:"DELETE",localId:e})}async function Nw(e,t,n,a,l,d){return a==="add"&&!t.id&&(t.id=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),await E1(e,t,a==="add"),await nd({type:a==="add"?"create":"update",entityType:"payment",url:l,method:d,data:n,localId:t.id}),t.id}async function nL(e,t,n){await A1(e,t),await nd({type:"delete",entityType:"payment",url:n,method:"DELETE",localId:t})}async function qv(e){const t=await qu()||[],n=hc(t);e({type:"SET_DATA",raw:n.raw||t,...n,totals:n.monthsTotals,loading:!1})}async function Uu(e){const t=await Xh()||[],n=await Yu()||[],a=t.length>0?mS(t):null;e({type:"SET_DATA",loans:a,payments:n,loading:!1})}const BD=Object.freeze(Object.defineProperty({__proto__:null,deleteLoanOffline:tL,deleteOffline:eL,deletePaymentOffline:nL,saveLoanOffline:Ow,saveOffline:kw,savePaymentOffline:Nw,updateLoansUILocally:Uu,updateUILocally:qv},Symbol.toStringTag,{value:"Module"}));const{entries:FD,setPrototypeOf:EA,isFrozen:iL,getPrototypeOf:rL,getOwnPropertyDescriptor:aL}=Object;let{freeze:Rr,seal:Ha,create:Lw}=Object,{apply:Iw,construct:Pw}=typeof Reflect<"u"&&Reflect;Rr||(Rr=function(t){return t});Ha||(Ha=function(t){return t});Iw||(Iw=function(t,n){for(var a=arguments.length,l=new Array(a>2?a-2:0),d=2;d<a;d++)l[d-2]=arguments[d];return t.apply(n,l)});Pw||(Pw=function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),l=1;l<n;l++)a[l-1]=arguments[l];return new t(...a)});const kv=kr(Array.prototype.forEach),sL=kr(Array.prototype.lastIndexOf),AA=kr(Array.prototype.pop),Eg=kr(Array.prototype.push),oL=kr(Array.prototype.splice),Xv=kr(String.prototype.toLowerCase),Px=kr(String.prototype.toString),jx=kr(String.prototype.match),Ag=kr(String.prototype.replace),lL=kr(String.prototype.indexOf),cL=kr(String.prototype.trim),fs=kr(Object.prototype.hasOwnProperty),Mr=kr(RegExp.prototype.test),Cg=uL(TypeError);function kr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,a=new Array(n>1?n-1:0),l=1;l<n;l++)a[l-1]=arguments[l];return Iw(e,t,a)}}function uL(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Pw(e,n)}}function Zt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xv;EA&&EA(e,null);let a=t.length;for(;a--;){let l=t[a];if(typeof l=="string"){const d=n(l);d!==l&&(iL(t)||(t[a]=d),l=d)}e[l]=!0}return e}function dL(e){for(let t=0;t<e.length;t++)fs(e,t)||(e[t]=null);return e}function to(e){const t=Lw(null);for(const[n,a]of FD(e))fs(e,n)&&(Array.isArray(a)?t[n]=dL(a):a&&typeof a=="object"&&a.constructor===Object?t[n]=to(a):t[n]=a);return t}function Dg(e,t){for(;e!==null;){const a=aL(e,t);if(a){if(a.get)return kr(a.get);if(typeof a.value=="function")return kr(a.value)}e=rL(e)}function n(){return null}return n}const CA=Rr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zx=Rr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Bx=Rr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),hL=Rr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Fx=Rr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),fL=Rr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),DA=Rr(["#text"]),TA=Rr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Hx=Rr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),MA=Rr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ov=Rr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),pL=Ha(/\{\{[\w\W]*|[\w\W]*\}\}/gm),gL=Ha(/<%[\w\W]*|[\w\W]*%>/gm),mL=Ha(/\$\{[\w\W]*/gm),yL=Ha(/^data-[\-\w.\u00B7-\uFFFF]+$/),vL=Ha(/^aria-[\-\w]+$/),HD=Ha(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),bL=Ha(/^(?:\w+script|data):/i),xL=Ha(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),UD=Ha(/^html$/i),wL=Ha(/^[a-z][.\w]*(-[.\w]+)+$/i);var _A=Object.freeze({__proto__:null,ARIA_ATTR:vL,ATTR_WHITESPACE:xL,CUSTOM_ELEMENT:wL,DATA_ATTR:yL,DOCTYPE_NAME:UD,ERB_EXPR:gL,IS_ALLOWED_URI:HD,IS_SCRIPT_OR_DATA:bL,MUSTACHE_EXPR:pL,TMPLIT_EXPR:mL});const Tg={element:1,text:3,progressingInstruction:7,comment:8,document:9},SL=function(){return typeof window>"u"?null:window},EL=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let a=null;const l="data-tt-policy-suffix";n&&n.hasAttribute(l)&&(a=n.getAttribute(l));const d="dompurify"+(a?"#"+a:"");try{return t.createPolicy(d,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+d+" could not be created."),null}},RA=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function GD(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:SL();const t=st=>GD(st);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Tg.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const a=n,l=a.currentScript,{DocumentFragment:d,HTMLTemplateElement:p,Node:y,Element:S,NodeFilter:T,NamedNodeMap:_=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:O,DOMParser:L,trustedTypes:P}=e,H=S.prototype,B=Dg(H,"cloneNode"),F=Dg(H,"remove"),W=Dg(H,"nextSibling"),Y=Dg(H,"childNodes"),$=Dg(H,"parentNode");if(typeof p=="function"){const st=n.createElement("template");st.content&&st.content.ownerDocument&&(n=st.content.ownerDocument)}let K,re="";const{implementation:ue,createNodeIterator:X,createDocumentFragment:ie,getElementsByTagName:pe}=n,{importNode:be}=a;let le=RA();t.isSupported=typeof FD=="function"&&typeof $=="function"&&ue&&ue.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ye,ERB_EXPR:De,TMPLIT_EXPR:Fe,DATA_ATTR:$e,ARIA_ATTR:oe,IS_SCRIPT_OR_DATA:Ee,ATTR_WHITESPACE:Ie,CUSTOM_ELEMENT:Ye}=_A;let{IS_ALLOWED_URI:je}=_A,Re=null;const ge=Zt({},[...CA,...zx,...Bx,...Fx,...DA]);let Ae=null;const Be=Zt({},[...TA,...Hx,...MA,...Ov]);let Xe=Object.seal(Lw(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ke=null,Ze=null;const Ve=Object.seal(Lw(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let tt=!0,Qe=!0,_t=!1,ce=!0,hn=!1,Je=!0,kt=!1,Pt=!1,mi=!1,Bn=!1,Fn=!1,nn=!1,xn=!0,jt=!1;const wn="user-content-";let nt=!0,Ot=!1,Dn={},Qt=null;const fn=Zt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ti=null;const wi=Zt({},["audio","video","img","source","image","track"]);let Yn=null;const Si=Zt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ni="http://www.w3.org/1998/Math/MathML",Hn="http://www.w3.org/2000/svg",Rn="http://www.w3.org/1999/xhtml";let kn=Rn,We=!1,wa=null;const gt=Zt({},[ni,Hn,Rn],Px);let Rt=Zt({},["mi","mo","mn","ms","mtext"]),Lt=Zt({},["annotation-xml"]);const dt=Zt({},["title","style","font","a","script"]);let mt=null;const zt=["application/xhtml+xml","text/html"],Vt="text/html";let Mt=null,Kt=null;const on=n.createElement("form"),Pn=function(he){return he instanceof RegExp||he instanceof Function},Wt=function(){let he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Kt&&Kt===he)){if((!he||typeof he!="object")&&(he={}),he=to(he),mt=zt.indexOf(he.PARSER_MEDIA_TYPE)===-1?Vt:he.PARSER_MEDIA_TYPE,Mt=mt==="application/xhtml+xml"?Px:Xv,Re=fs(he,"ALLOWED_TAGS")?Zt({},he.ALLOWED_TAGS,Mt):ge,Ae=fs(he,"ALLOWED_ATTR")?Zt({},he.ALLOWED_ATTR,Mt):Be,wa=fs(he,"ALLOWED_NAMESPACES")?Zt({},he.ALLOWED_NAMESPACES,Px):gt,Yn=fs(he,"ADD_URI_SAFE_ATTR")?Zt(to(Si),he.ADD_URI_SAFE_ATTR,Mt):Si,ti=fs(he,"ADD_DATA_URI_TAGS")?Zt(to(wi),he.ADD_DATA_URI_TAGS,Mt):wi,Qt=fs(he,"FORBID_CONTENTS")?Zt({},he.FORBID_CONTENTS,Mt):fn,Ke=fs(he,"FORBID_TAGS")?Zt({},he.FORBID_TAGS,Mt):to({}),Ze=fs(he,"FORBID_ATTR")?Zt({},he.FORBID_ATTR,Mt):to({}),Dn=fs(he,"USE_PROFILES")?he.USE_PROFILES:!1,tt=he.ALLOW_ARIA_ATTR!==!1,Qe=he.ALLOW_DATA_ATTR!==!1,_t=he.ALLOW_UNKNOWN_PROTOCOLS||!1,ce=he.ALLOW_SELF_CLOSE_IN_ATTR!==!1,hn=he.SAFE_FOR_TEMPLATES||!1,Je=he.SAFE_FOR_XML!==!1,kt=he.WHOLE_DOCUMENT||!1,Bn=he.RETURN_DOM||!1,Fn=he.RETURN_DOM_FRAGMENT||!1,nn=he.RETURN_TRUSTED_TYPE||!1,mi=he.FORCE_BODY||!1,xn=he.SANITIZE_DOM!==!1,jt=he.SANITIZE_NAMED_PROPS||!1,nt=he.KEEP_CONTENT!==!1,Ot=he.IN_PLACE||!1,je=he.ALLOWED_URI_REGEXP||HD,kn=he.NAMESPACE||Rn,Rt=he.MATHML_TEXT_INTEGRATION_POINTS||Rt,Lt=he.HTML_INTEGRATION_POINTS||Lt,Xe=he.CUSTOM_ELEMENT_HANDLING||{},he.CUSTOM_ELEMENT_HANDLING&&Pn(he.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Xe.tagNameCheck=he.CUSTOM_ELEMENT_HANDLING.tagNameCheck),he.CUSTOM_ELEMENT_HANDLING&&Pn(he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Xe.attributeNameCheck=he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),he.CUSTOM_ELEMENT_HANDLING&&typeof he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Xe.allowCustomizedBuiltInElements=he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),hn&&(Qe=!1),Fn&&(Bn=!0),Dn&&(Re=Zt({},DA),Ae=[],Dn.html===!0&&(Zt(Re,CA),Zt(Ae,TA)),Dn.svg===!0&&(Zt(Re,zx),Zt(Ae,Hx),Zt(Ae,Ov)),Dn.svgFilters===!0&&(Zt(Re,Bx),Zt(Ae,Hx),Zt(Ae,Ov)),Dn.mathMl===!0&&(Zt(Re,Fx),Zt(Ae,MA),Zt(Ae,Ov))),he.ADD_TAGS&&(typeof he.ADD_TAGS=="function"?Ve.tagCheck=he.ADD_TAGS:(Re===ge&&(Re=to(Re)),Zt(Re,he.ADD_TAGS,Mt))),he.ADD_ATTR&&(typeof he.ADD_ATTR=="function"?Ve.attributeCheck=he.ADD_ATTR:(Ae===Be&&(Ae=to(Ae)),Zt(Ae,he.ADD_ATTR,Mt))),he.ADD_URI_SAFE_ATTR&&Zt(Yn,he.ADD_URI_SAFE_ATTR,Mt),he.FORBID_CONTENTS&&(Qt===fn&&(Qt=to(Qt)),Zt(Qt,he.FORBID_CONTENTS,Mt)),he.ADD_FORBID_CONTENTS&&(Qt===fn&&(Qt=to(Qt)),Zt(Qt,he.ADD_FORBID_CONTENTS,Mt)),nt&&(Re["#text"]=!0),kt&&Zt(Re,["html","head","body"]),Re.table&&(Zt(Re,["tbody"]),delete Ke.tbody),he.TRUSTED_TYPES_POLICY){if(typeof he.TRUSTED_TYPES_POLICY.createHTML!="function")throw Cg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof he.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Cg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');K=he.TRUSTED_TYPES_POLICY,re=K.createHTML("")}else K===void 0&&(K=EL(P,l)),K!==null&&typeof re=="string"&&(re=K.createHTML(""));Rr&&Rr(he),Kt=he}},yi=Zt({},[...zx,...Bx,...hL]),vi=Zt({},[...Fx,...fL]),Ji=function(he){let ze=$(he);(!ze||!ze.tagName)&&(ze={namespaceURI:kn,tagName:"template"});const it=Xv(he.tagName),ln=Xv(ze.tagName);return wa[he.namespaceURI]?he.namespaceURI===Hn?ze.namespaceURI===Rn?it==="svg":ze.namespaceURI===ni?it==="svg"&&(ln==="annotation-xml"||Rt[ln]):!!yi[it]:he.namespaceURI===ni?ze.namespaceURI===Rn?it==="math":ze.namespaceURI===Hn?it==="math"&&Lt[ln]:!!vi[it]:he.namespaceURI===Rn?ze.namespaceURI===Hn&&!Lt[ln]||ze.namespaceURI===ni&&!Rt[ln]?!1:!vi[it]&&(dt[it]||!yi[it]):!!(mt==="application/xhtml+xml"&&wa[he.namespaceURI]):!1},ii=function(he){Eg(t.removed,{element:he});try{$(he).removeChild(he)}catch{F(he)}},Ri=function(he,ze){try{Eg(t.removed,{attribute:ze.getAttributeNode(he),from:ze})}catch{Eg(t.removed,{attribute:null,from:ze})}if(ze.removeAttribute(he),he==="is")if(Bn||Fn)try{ii(ze)}catch{}else try{ze.setAttribute(he,"")}catch{}},tn=function(he){let ze=null,it=null;if(mi)he="<remove></remove>"+he;else{const at=jx(he,/^[\r\n\t ]+/);it=at&&at[0]}mt==="application/xhtml+xml"&&kn===Rn&&(he='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+he+"</body></html>");const ln=K?K.createHTML(he):he;if(kn===Rn)try{ze=new L().parseFromString(ln,mt)}catch{}if(!ze||!ze.documentElement){ze=ue.createDocument(kn,"template",null);try{ze.documentElement.innerHTML=We?re:ln}catch{}}const On=ze.body||ze.documentElement;return he&&it&&On.insertBefore(n.createTextNode(it),On.childNodes[0]||null),kn===Rn?pe.call(ze,kt?"html":"body")[0]:kt?ze.documentElement:On},fr=function(he){return X.call(he.ownerDocument||he,he,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT|T.SHOW_PROCESSING_INSTRUCTION|T.SHOW_CDATA_SECTION,null)},ji=function(he){return he instanceof O&&(typeof he.nodeName!="string"||typeof he.textContent!="string"||typeof he.removeChild!="function"||!(he.attributes instanceof _)||typeof he.removeAttribute!="function"||typeof he.setAttribute!="function"||typeof he.namespaceURI!="string"||typeof he.insertBefore!="function"||typeof he.hasChildNodes!="function")},li=function(he){return typeof y=="function"&&he instanceof y};function jn(st,he,ze){kv(st,it=>{it.call(t,he,ze,Kt)})}const ki=function(he){let ze=null;if(jn(le.beforeSanitizeElements,he,null),ji(he))return ii(he),!0;const it=Mt(he.nodeName);if(jn(le.uponSanitizeElement,he,{tagName:it,allowedTags:Re}),Je&&he.hasChildNodes()&&!li(he.firstElementChild)&&Mr(/<[/\w!]/g,he.innerHTML)&&Mr(/<[/\w!]/g,he.textContent)||he.nodeType===Tg.progressingInstruction||Je&&he.nodeType===Tg.comment&&Mr(/<[/\w]/g,he.data))return ii(he),!0;if(!(Ve.tagCheck instanceof Function&&Ve.tagCheck(it))&&(!Re[it]||Ke[it])){if(!Ke[it]&&Un(it)&&(Xe.tagNameCheck instanceof RegExp&&Mr(Xe.tagNameCheck,it)||Xe.tagNameCheck instanceof Function&&Xe.tagNameCheck(it)))return!1;if(nt&&!Qt[it]){const ln=$(he)||he.parentNode,On=Y(he)||he.childNodes;if(On&&ln){const at=On.length;for(let Ei=at-1;Ei>=0;--Ei){const Or=B(On[Ei],!0);Or.__removalCount=(he.__removalCount||0)+1,ln.insertBefore(Or,W(he))}}}return ii(he),!0}return he instanceof S&&!Ji(he)||(it==="noscript"||it==="noembed"||it==="noframes")&&Mr(/<\/no(script|embed|frames)/i,he.innerHTML)?(ii(he),!0):(hn&&he.nodeType===Tg.text&&(ze=he.textContent,kv([ye,De,Fe],ln=>{ze=Ag(ze,ln," ")}),he.textContent!==ze&&(Eg(t.removed,{element:he.cloneNode()}),he.textContent=ze)),jn(le.afterSanitizeElements,he,null),!1)},Ss=function(he,ze,it){if(xn&&(ze==="id"||ze==="name")&&(it in n||it in on))return!1;if(!(Qe&&!Ze[ze]&&Mr($e,ze))){if(!(tt&&Mr(oe,ze))){if(!(Ve.attributeCheck instanceof Function&&Ve.attributeCheck(ze,he))){if(!Ae[ze]||Ze[ze]){if(!(Un(he)&&(Xe.tagNameCheck instanceof RegExp&&Mr(Xe.tagNameCheck,he)||Xe.tagNameCheck instanceof Function&&Xe.tagNameCheck(he))&&(Xe.attributeNameCheck instanceof RegExp&&Mr(Xe.attributeNameCheck,ze)||Xe.attributeNameCheck instanceof Function&&Xe.attributeNameCheck(ze,he))||ze==="is"&&Xe.allowCustomizedBuiltInElements&&(Xe.tagNameCheck instanceof RegExp&&Mr(Xe.tagNameCheck,it)||Xe.tagNameCheck instanceof Function&&Xe.tagNameCheck(it))))return!1}else if(!Yn[ze]){if(!Mr(je,Ag(it,Ie,""))){if(!((ze==="src"||ze==="xlink:href"||ze==="href")&&he!=="script"&&lL(it,"data:")===0&&ti[he])){if(!(_t&&!Mr(Ee,Ag(it,Ie,"")))){if(it)return!1}}}}}}}return!0},Un=function(he){return he!=="annotation-xml"&&jx(he,Ye)},ud=function(he){jn(le.beforeSanitizeAttributes,he,null);const{attributes:ze}=he;if(!ze||ji(he))return;const it={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ae,forceKeepAttr:void 0};let ln=ze.length;for(;ln--;){const On=ze[ln],{name:at,namespaceURI:Ei,value:Or}=On,zi=Mt(at),Sa=Or;let rn=at==="value"?Sa:cL(Sa);if(it.attrName=zi,it.attrValue=rn,it.keepAttr=!0,it.forceKeepAttr=void 0,jn(le.uponSanitizeAttribute,he,it),rn=it.attrValue,jt&&(zi==="id"||zi==="name")&&(Ri(at,he),rn=wn+rn),Je&&Mr(/((--!?|])>)|<\/(style|title|textarea)/i,rn)){Ri(at,he);continue}if(zi==="attributename"&&jx(rn,"href")){Ri(at,he);continue}if(it.forceKeepAttr)continue;if(!it.keepAttr){Ri(at,he);continue}if(!ce&&Mr(/\/>/i,rn)){Ri(at,he);continue}hn&&kv([ye,De,Fe],Dc=>{rn=Ag(rn,Dc," ")});const Cc=Mt(he.nodeName);if(!Ss(Cc,zi,rn)){Ri(at,he);continue}if(K&&typeof P=="object"&&typeof P.getAttributeType=="function"&&!Ei)switch(P.getAttributeType(Cc,zi)){case"TrustedHTML":{rn=K.createHTML(rn);break}case"TrustedScriptURL":{rn=K.createScriptURL(rn);break}}if(rn!==Sa)try{Ei?he.setAttributeNS(Ei,at,rn):he.setAttribute(at,rn),ji(he)?ii(he):AA(t.removed)}catch{Ri(at,he)}}jn(le.afterSanitizeAttributes,he,null)},Es=function st(he){let ze=null;const it=fr(he);for(jn(le.beforeSanitizeShadowDOM,he,null);ze=it.nextNode();)jn(le.uponSanitizeShadowNode,ze,null),ki(ze),ud(ze),ze.content instanceof d&&st(ze.content);jn(le.afterSanitizeShadowDOM,he,null)};return t.sanitize=function(st){let he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ze=null,it=null,ln=null,On=null;if(We=!st,We&&(st="<!-->"),typeof st!="string"&&!li(st))if(typeof st.toString=="function"){if(st=st.toString(),typeof st!="string")throw Cg("dirty is not a string, aborting")}else throw Cg("toString is not a function");if(!t.isSupported)return st;if(Pt||Wt(he),t.removed=[],typeof st=="string"&&(Ot=!1),Ot){if(st.nodeName){const Or=Mt(st.nodeName);if(!Re[Or]||Ke[Or])throw Cg("root node is forbidden and cannot be sanitized in-place")}}else if(st instanceof y)ze=tn("<!---->"),it=ze.ownerDocument.importNode(st,!0),it.nodeType===Tg.element&&it.nodeName==="BODY"||it.nodeName==="HTML"?ze=it:ze.appendChild(it);else{if(!Bn&&!hn&&!kt&&st.indexOf("<")===-1)return K&&nn?K.createHTML(st):st;if(ze=tn(st),!ze)return Bn?null:nn?re:""}ze&&mi&&ii(ze.firstChild);const at=fr(Ot?st:ze);for(;ln=at.nextNode();)ki(ln),ud(ln),ln.content instanceof d&&Es(ln.content);if(Ot)return st;if(Bn){if(Fn)for(On=ie.call(ze.ownerDocument);ze.firstChild;)On.appendChild(ze.firstChild);else On=ze;return(Ae.shadowroot||Ae.shadowrootmode)&&(On=be.call(a,On,!0)),On}let Ei=kt?ze.outerHTML:ze.innerHTML;return kt&&Re["!doctype"]&&ze.ownerDocument&&ze.ownerDocument.doctype&&ze.ownerDocument.doctype.name&&Mr(UD,ze.ownerDocument.doctype.name)&&(Ei="<!DOCTYPE "+ze.ownerDocument.doctype.name+`>
`+Ei),hn&&kv([ye,De,Fe],Or=>{Ei=Ag(Ei,Or," ")}),K&&nn?K.createHTML(Ei):Ei},t.setConfig=function(){let st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Wt(st),Pt=!0},t.clearConfig=function(){Kt=null,Pt=!1},t.isValidAttribute=function(st,he,ze){Kt||Wt({});const it=Mt(st),ln=Mt(he);return Ss(it,ln,ze)},t.addHook=function(st,he){typeof he=="function"&&Eg(le[st],he)},t.removeHook=function(st,he){if(he!==void 0){const ze=sL(le[st],he);return ze===-1?void 0:oL(le[st],ze,1)[0]}return AA(le[st])},t.removeHooks=function(st){le[st]=[]},t.removeAllHooks=function(){le=RA()},t}var VD=GD();const db=e=>!e||typeof e!="string"?"":VD.sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[],KEEP_CONTENT:!0}),AL=e=>{if(!e||typeof e!="string")return"";const t=VD.sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]});try{const n=new URL(t);return n.protocol==="http:"||n.protocol==="https:"?t:""}catch{return t}},CL=e=>{if(e==null)return"";if(typeof e=="number")return e.toString();if(typeof e!="string")return"";const t=e.replace(/[^\d.-]/g,"");if(t===""||t==="-"||t===".")return t;const n=parseFloat(t);return isNaN(n)?"":t},DL=e=>{if(!e||typeof e!="string")return"";const t=e.replace(/[^\d/-]/g,"");if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const a=new Date(t);if(!isNaN(a.getTime()))return t}return t},TL=(e,t="text")=>{if(e==null)return"";switch(t){case"number":return CL(e);case"date":return DL(String(e));case"email":const n=db(String(e));return n&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n),n;case"url":return AL(String(e));default:return db(String(e))}},ML=e=>!e||typeof e!="string"?"":db(e),Hb=({formType:e,initialState:t,values:n,nodeType:a,onSuccess:l,dataDispatch:d,buildNodeData:p,additionalParams:y,successMessageKeys:S,useFetchRequest:T=!0})=>{const _=cf(),{token:O}=nl(),L=wc(),{t:P}=bn(),H=e==="add"||e==="quick-add",B=H&&n&&typeof n=="object"&&!n.nid?{...t,...n}:t,[F,W]=G.useState(H?B:n),[Y,$]=G.useState(!1);return{formState:F,setFormState:W,isSubmitting:Y,handleChange:ue=>{let X;if(ue.target.type==="checkbox")X=ue.target.checked;else{const ie=ue.target.type;X=TL(ue.target.value,ie)}W({...F,[ue.target.name]:X})},handleSubmit:async ue=>{ue.preventDefault(),$(!0);try{const X={type:a,...p(F,y)},ie=H?"POST":"PATCH",pe=H?`${Qn}/node?_format=json`:`${Qn}/node/${n.nid}?_format=json`,be=a==="transaction"||a==="incomes"?a==="transaction"?"expense":"income":null;if(a==="loan"&&d&&Fa()){const le=S?H?S.add:S.edit:H?"notification.added":"notification.updated";if(Xu()){const ye={method:ie,headers:new Headers({Accept:"application/json","Content-Type":"application/json","JWT-Authorization":"Bearer "+O}),body:JSON.stringify(X)};try{const De=await fetch(pe,ye);if(!De.ok)throw new Error(`HTTP error! status: ${De.status}`);const Fe=await De.json();if(Fe.nid){const $e=Fe.nid[0]?.value?.toString()||Fe.nid.toString(),{saveLoanLocally:oe}=await va(async()=>{const{saveLoanLocally:Ie}=await Promise.resolve().then(()=>Ko);return{saveLoanLocally:Ie}},void 0),Ee={id:$e,title:X.title?.[0]||"",fp:X.field_principal?.[0]||"",sdt:X.field_start_date?.[0]||"",edt:X.field_end_date?.[0]||"",fr:X.field_rate?.[0]||"",fif:X.field_initial_fee?.[0]||"",pdt:X.field_rec_first_payment_date?.[0]||"",frpd:X.field_recurring_payment_day?.[0]||"",fls:X.field_loan_status?.[0]||"draft",cr:H?Date.now():void 0};await oe(Ee,H),await Uu(d),L(P(le),Cn.SUCCESS),$(!1),W(t),l()}else throw new Error("No ID returned from server")}catch(De){xt.error("Online request failed, falling back to offline:",De);const Fe={id:H?void 0:n.nid,title:X.title?.[0]||"",fp:X.field_principal?.[0]||"",sdt:X.field_start_date?.[0]||"",edt:X.field_end_date?.[0]||"",fr:X.field_rate?.[0]||"",fif:X.field_initial_fee?.[0]||"",pdt:X.field_rec_first_payment_date?.[0]||"",frpd:X.field_recurring_payment_day?.[0]||"",fls:X.field_loan_status?.[0]||"draft",cr:H?Date.now():void 0};await Ow(Fe,X,e,pe,ie),await Uu(d),L(P("notification.savedOffline")||"Saved offline",Cn.SUCCESS),$(!1),W(t),l()}}else{const ye={id:H?void 0:n.nid,title:X.title?.[0]||"",fp:X.field_principal?.[0]||"",sdt:X.field_start_date?.[0]||"",edt:X.field_end_date?.[0]||"",fr:X.field_rate?.[0]||"",fif:X.field_initial_fee?.[0]||"",pdt:X.field_rec_first_payment_date?.[0]||"",frpd:X.field_recurring_payment_day?.[0]||"",fls:X.field_loan_status?.[0]||"draft",cr:H?Date.now():void 0};await Ow(ye,X,e,pe,ie),await Uu(d),L(P("notification.savedOffline")||"Saved offline",Cn.SUCCESS),$(!1),W(t),l()}}else if(a==="payment"&&d&&Fa()){const le=X.field_loan_reference?.[0]||y?.loanId||n.field_loan_reference;if(!le)throw new Error("Loan ID is required for payment");const ye=S?H?S.add:S.edit:H?"notification.added":"notification.updated";if(Xu()){const De={method:ie,headers:new Headers({Accept:"application/json","Content-Type":"application/json","JWT-Authorization":"Bearer "+O}),body:JSON.stringify(X)};try{const Fe=await fetch(pe,De);if(!Fe.ok)throw new Error(`HTTP error! status: ${Fe.status}`);const $e=await Fe.json();if($e.nid){const oe=$e.nid[0]?.value?.toString()||$e.nid.toString(),{savePaymentLocally:Ee}=await va(async()=>{const{savePaymentLocally:Ye}=await Promise.resolve().then(()=>Ko);return{savePaymentLocally:Ye}},void 0),Ie={id:oe,title:X.title?.[0]||"",fdt:X.field_date?.[0]||"",fr:X.field_rate?.[0]||"",fpi:X.field_pay_installment?.[0]||"",fpsf:X.field_pay_single_fee?.[0]||"",fnra:X.field_new_recurring_amount?.[0]||"",fisp:X.field_is_simulated_payment?.[0]||0,cr:H?Date.now():void 0};await Ee(le,Ie,H),await Uu(d),L(P(ye),Cn.SUCCESS),$(!1),W(t),l()}else throw new Error("No ID returned from server")}catch(Fe){xt.error("Online request failed, falling back to offline:",Fe);const $e={id:H?void 0:n.nid,title:X.title?.[0]||"",fdt:X.field_date?.[0]||"",fr:X.field_rate?.[0]||"",fpi:X.field_pay_installment?.[0]||"",fpsf:X.field_pay_single_fee?.[0]||"",fnra:X.field_new_recurring_amount?.[0]||"",fisp:X.field_is_simulated_payment?.[0]||0,cr:H?Date.now():void 0};await Nw(le,$e,X,e,pe,ie),await Uu(d),L(P("notification.savedOffline")||"Saved offline",Cn.SUCCESS),$(!1),W(t),l()}}else{const De={id:H?void 0:n.nid,title:X.title?.[0]||"",fdt:X.field_date?.[0]||"",fr:X.field_rate?.[0]||"",fpi:X.field_pay_installment?.[0]||"",fpsf:X.field_pay_single_fee?.[0]||"",fnra:X.field_new_recurring_amount?.[0]||"",fisp:X.field_is_simulated_payment?.[0]||0,cr:H?Date.now():void 0};await Nw(le,De,X,e,pe,ie),await Uu(d),L(P("notification.savedOffline")||"Saved offline",Cn.SUCCESS),$(!1),W(t),l()}}else if(T&&d&&be&&Fa()){const le=S?H?S.add:S.edit:H?"notification.added":"notification.updated";if(Xu()){const ye={method:ie,headers:new Headers({Accept:"application/json","Content-Type":"application/json","JWT-Authorization":"Bearer "+O}),body:JSON.stringify(X)};try{const De=await fetch(pe,ye);if(!De.ok)throw new Error(`HTTP error! status: ${De.status}`);const Fe=await De.json();if(Fe.nid){const $e=Fe.nid[0]?.value?.toString()||Fe.nid.toString(),{saveExpenseLocally:oe}=await va(async()=>{const{saveExpenseLocally:Ie}=await Promise.resolve().then(()=>Ko);return{saveExpenseLocally:Ie}},void 0),Ee={id:$e,dt:X.field_date?.[0]||X.title?.[0]||new Date().toISOString().split("T")[0],sum:X.field_amount?.[0]||"0",type:a==="transaction"?"transaction":"incomes",cat:X.field_category?.[0],dsc:X.field_description?.[0],cr:H?Date.now():void 0};await oe(Ee,H),await qv(d),L(P(le),Cn.SUCCESS),$(!1),W(t),l()}else throw new Error("No ID returned from server")}catch(De){xt.error("Online request failed, falling back to offline:",De);const Fe={id:H?void 0:n.nid,dt:X.field_date?.[0]||X.title?.[0]||new Date().toISOString().split("T")[0],sum:X.field_amount?.[0]||"0",type:a==="transaction"?"transaction":"incomes",cat:X.field_category?.[0],dsc:X.field_description?.[0],cr:H?Date.now():void 0},$e=await kw(Fe,X,e,be,pe,ie);await qv(d),L(P("notification.savedOffline")||"Saved offline",Cn.SUCCESS),$(!1),W(t),l()}}else{const ye={id:H?void 0:n.nid,dt:X.field_date?.[0]||X.title?.[0]||new Date().toISOString().split("T")[0],sum:X.field_amount?.[0]||"0",type:a==="transaction"?"transaction":"incomes",cat:X.field_category?.[0],dsc:X.field_description?.[0],cr:H?Date.now():void 0};await kw(ye,X,e,be,pe,ie),await qv(d),L(P("notification.savedOffline")||"Saved offline",Cn.SUCCESS),$(!1),W(t),l()}}else{const le={method:ie,headers:new Headers({Accept:"application/json","Content-Type":"application/json","JWT-Authorization":"Bearer "+O}),body:JSON.stringify(X)};T&&d?pS(pe,le,d,_,ye=>{if(ye.nid){l();const De=S?H?S.add:S.edit:H?"notification.added":"notification.updated";L(P(De),Cn.SUCCESS),$(!1),W(t)}else L(P("error.unknown"),Cn.ERROR),$(!1)}):fetch(pe,le).then(ye=>{if(!ye.ok)throw new Error(`HTTP error! status: ${ye.status}`);return ye.json()}).then(ye=>{if(ye.nid){l();const De=S?H?S.add:S.edit:H?"notification.added":"notification.updated";L(P(De),Cn.SUCCESS),$(!1),W(t)}else L(P("error.unknown"),Cn.ERROR),$(!1)}).catch(ye=>{xt.error("Operation failed:",ye),L(P("error.unknown"),Cn.ERROR),$(!1)})}}catch(X){xt.error("Form submission error:",X),L(P("error.unknown"),Cn.ERROR),$(!1),l()}}}},Ub=e=>{const t=(l,d,p)=>{const y=e[l];if(!y)return!0;if(y.required&&(d==null||d===""||typeof d=="string"&&d.trim()===""))return!1;if(!y.required&&(d===""||d===null||d===void 0))return!0;if(y.min!==void 0||y.max!==void 0){const S=typeof d=="string"?parseFloat(d):d;if(isNaN(S)||y.min!==void 0&&S<y.min||y.max!==void 0&&S>y.max)return!1}return y.pattern&&typeof d=="string"&&!y.pattern.test(d)?!1:y.custom?y.custom(d,p):!0};return{validateField:t,getFieldValidation:(l,d)=>{const p=d[l];return t(l,p,d)},isFormValid:l=>Object.keys(e).every(d=>{const p=l[d];return t(d,p,l)})}},Zu=e=>e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),WD=({suggestions:e,description:t,formType:n,normalizeTag:a})=>{const l=G.useMemo(()=>a||Zu,[a]),[d,p]=G.useState([]),[y,S]=G.useState(!1),T=G.useRef(""),_=G.useRef(""),O=G.useRef(e),L=e.slice().sort().join("|");T.current!==L&&(O.current=e,T.current=L),G.useEffect(()=>{if(y){S(!1);return}const B=_.current!==t;if(!(!B&&n==="edit"&&_.current))if(B&&(_.current=t),n==="edit"&&t&&O.current.length>0){const W=m1(t).map(Y=>{const $=l(Y),K=O.current.find(re=>l(re)===$);return K?l(K):null}).filter(Y=>Y!==null);p(W)}else(n==="add"||!t)&&(p([]),t||(_.current=t))},[n,t,y]);const P=G.useCallback(B=>{S(!0);const F=l(B),W=Sw(t,F);let Y;return W?(Y=vk(t,F),p($=>$.filter(K=>K!==F))):(Y=yk(t,F),p($=>[...$,F])),Y},[t,l]);return{selectedTags:d,handleTagClick:P,isTagSelected:B=>{const F=l(B);return d.includes(F)||Sw(t,F)}}},YD=({suggestions:e,selectedTags:t,onTagClick:n,isTagSelected:a,getTagLabel:l,normalizeTag:d,translationKey:p})=>{const{t:y}=bn();if(e.length===0)return null;const S="rounded-2xl py-2 px-4 text-white/70 text-sm font-medium cursor-pointer transition-all duration-200 whitespace-nowrap relative overflow-hidden select-none border",T="bg-white/[0.05] border-white/10 hover:bg-white/10 hover:border-white/20 hover:-translate-y-0.5 hover:shadow-md active:translate-y-0",_="bg-gradient-to-br from-[var(--color-app-accent)] to-[var(--color-app-accent-hover)] border-[var(--color-app-accent)] text-white shadow-[0_2px_8px_var(--color-app-accent-shadow)] hover:opacity-90 hover:shadow-[0_4px_12px_var(--color-app-accent-shadow)] hover:-translate-y-0.5";return D.jsxs("div",{className:"form-group",children:[D.jsx("label",{children:p?y(p):"Tags"}),D.jsx("div",{className:"flex flex-wrap gap-2 mt-2 overflow-x-hidden w-full max-w-full sm:gap-2",children:e.map(O=>{const L=d?d(O):O,P=a(L),H=l?l(O):p?y(`${p}.${O}`):O;return D.jsx("button",{type:"button",onClick:()=>n(L),className:`${S} ${P?_:T}`,children:H},O)})})]})},_L=({formType:e,values:t,onSuccess:n,hideSubmitButton:a=!1,onFormReady:l})=>{const{t:d}=bn(),{dataDispatch:p}=xs(),y={field_amount:"",field_date:new Date().toISOString().slice(0,10),field_description:""},S={field_amount:{required:!0,custom:$=>!isNaN(parseFloat($))&&parseFloat($)>0},field_date:{required:!0,custom:$=>new Date($)<=new Date},field_description:{required:!0}},{getFieldValidation:T}=Ub(S),{formState:_,isSubmitting:O,handleChange:L,handleSubmit:P,setFormState:H}=Hb({formType:e,initialState:y,values:t,nodeType:"incomes",onSuccess:n,dataDispatch:p,buildNodeData:$=>({title:[$.field_date],field_amount:[$.field_amount],field_date:[$.field_date],field_description:[$.field_description]}),successMessageKeys:{add:"notification.incomeAdded",edit:"notification.incomeUpdated"}}),{selectedTags:B,handleTagClick:F,isTagSelected:W}=WD({suggestions:Zo,description:_.field_description,formType:e}),Y=$=>{const K=F($);H({..._,field_description:K})};return Ge.useEffect(()=>{l&&l(()=>{const $=document.querySelector(`.income-form-${e}`);$&&$.requestSubmit()},O)},[l,O,e]),D.jsx("div",{className:"income-form-container",children:D.jsxs("form",{id:`income-form-${e}`,className:`income-form income-form-${e}`,onSubmit:P,children:[D.jsx(_i,{name:"field_amount",type:"number",label:d("incomeForm.amount"),value:_.field_amount,onChange:L,required:!0,step:"0.01",min:"0",isValid:T("field_amount",_),ariaLabel:d("incomeForm.amount")}),D.jsx(_i,{name:"field_date",type:"date",label:d("incomeForm.date"),value:_.field_date,onChange:L,required:!0,isValid:T("field_date",_),ariaLabel:d("incomeForm.date")}),D.jsx(_i,{name:"field_description",type:"text",label:d("incomeForm.description"),value:_.field_description,onChange:L,required:!0,isValid:T("field_description",_),ariaLabel:d("incomeForm.description")}),D.jsx(YD,{suggestions:Zo,selectedTags:B,onTagClick:Y,isTagSelected:W,getTagLabel:$=>d(`income.tags.${$}`)||$,translationKey:"incomeForm.tags"}),!a&&D.jsx("div",{className:"form-actions-sticky",children:D.jsx("button",{type:"submit",className:"btn-submit",disabled:O,children:O?D.jsxs("div",{className:"loader",children:[D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"})]}):d(e==="add"?"common.add":"common.save")})})]})})};var RL=qR();const kg=Jg(RL);var Zv={exports:{}},kL=Zv.exports,kA;function OL(){return kA||(kA=1,(function(e,t){(function(n,a){n._Highcharts=a(),e.exports=n._Highcharts})("u"<typeof window?kL:window,()=>(()=>{let n,a,l,d,p,y,S,T,_,O;var L,P,H,B,F,W,Y,$,K,re,ue,X,ie,pe,be,le,ye,De,Fe,$e,oe,Ee,Ie,Ye,je,Re,ge,Ae,Be,Xe,Ke,Ze,Ve,tt,Qe={};Qe.d=(x,i)=>{for(var o in i)Qe.o(i,o)&&!Qe.o(x,o)&&Object.defineProperty(x,o,{enumerable:!0,get:i[o]})},Qe.o=(x,i)=>Object.prototype.hasOwnProperty.call(x,i);var _t={};Qe.d(_t,{default:()=>BR}),(L=ue||(ue={})).SVG_NS="http://www.w3.org/2000/svg",L.product="Highcharts",L.version="12.5.0",L.win="u">typeof window?window:{},L.doc=L.win.document,L.svg=!!L.doc?.createElementNS?.(L.SVG_NS,"svg")?.createSVGRect,L.pageLang=L.doc?.documentElement?.closest("[lang]")?.lang,L.userAgent=L.win.navigator?.userAgent||"",L.isChrome=L.win.chrome,L.isFirefox=L.userAgent.indexOf("Firefox")!==-1,L.isMS=/(edge|msie|trident)/i.test(L.userAgent)&&!L.win.opera,L.isSafari=!L.isChrome&&L.userAgent.indexOf("Safari")!==-1,L.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(L.userAgent),L.isWebKit=L.userAgent.indexOf("AppleWebKit")!==-1,L.deg2rad=2*Math.PI/360,L.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],L.noop=function(){},L.supportsPassiveEvents=(function(){let x=!1;if(!L.isMS){let i=Object.defineProperty({},"passive",{get:function(){x=!0}});L.win.addEventListener&&L.win.removeEventListener&&(L.win.addEventListener("testPassive",L.noop,i),L.win.removeEventListener("testPassive",L.noop,i))}return x})(),L.charts=[],L.composed=[],L.dateFormats={},L.seriesTypes={},L.symbolSizes={},L.chartCount=0;let ce=ue,{charts:hn,doc:Je,win:kt}=ce;function Pt(x,i,o,c){let h=i?"Highcharts error":"Highcharts warning";x===32&&(x=`${h}: Deprecated member`);let f=wn(x),g=f?`${h} #${x}: www.highcharts.com/errors/${x}/`:x.toString();if(c!==void 0){let v="";f&&(g+="?"),ni(c,function(b,E){v+=`
 - ${E}: ${b}`,f&&(g+=encodeURI(E)+"="+encodeURI(b))}),g+=v}Rn(ce,"displayError",{chart:o,code:x,message:g,params:c},function(){if(i)throw Error(g);kt.console&&Pt.messages.indexOf(g)===-1&&console.warn(g)}),Pt.messages.push(g)}function mi(x,i){return parseInt(x,i||10)}function Bn(x){return typeof x=="string"}function Fn(x){let i=Object.prototype.toString.call(x);return i==="[object Array]"||i==="[object Array Iterator]"}function nn(x,i){return!!x&&typeof x=="object"&&(!i||!Fn(x))}function xn(x){return nn(x)&&typeof x.nodeType=="number"}function jt(x){let i=x?.constructor;return!!(nn(x,!0)&&!xn(x)&&i?.name&&i.name!=="Object")}function wn(x){return typeof x=="number"&&!isNaN(x)&&x<1/0&&x>-1/0}function nt(x){return x!=null}function Ot(x,i,o){let c,h=Bn(i)&&!nt(o),f=(g,v)=>{nt(g)?x.setAttribute(v,g):h?(c=x.getAttribute(v))||v!=="class"||(c=x.getAttribute(v+"Name")):x.removeAttribute(v)};return Bn(i)?f(o,i):ni(i,f),c}function Dn(x){return Fn(x)?x:[x]}function Qt(x,i){let o;for(o in x||(x={}),i)x[o]=i[o];return x}function fn(){let x=arguments,i=x.length;for(let o=0;o<i;o++){let c=x[o];if(c!=null)return c}}function ti(x,i){Qt(x.style,i)}function wi(x){return Math.pow(10,Math.floor(Math.log(x)/Math.LN10))}function Yn(x,i){return x>1e14?x:parseFloat(x.toPrecision(i||14))}(Pt||(Pt={})).messages=[],Math.easeInOutSine=function(x){return-.5*(Math.cos(Math.PI*x)-1)};let Si=Array.prototype.find?function(x,i){return x.find(i)}:function(x,i){let o,c=x.length;for(o=0;o<c;o++)if(i(x[o],o))return x[o]};function ni(x,i,o){for(let c in x)Object.hasOwnProperty.call(x,c)&&i.call(o||x[c],x[c],c,x)}function Hn(x,i,o){function c(g,v){let b=x.removeEventListener;b&&b.call(x,g,v,!1)}function h(g){let v,b;x.nodeName&&(i?(v={})[i]=!0:v=g,ni(v,function(E,M){if(g[M])for(b=g[M].length;b--;)c(M,g[M][b].fn)}))}let f=typeof x=="function"&&x.prototype||x;if(Object.hasOwnProperty.call(f,"hcEvents")){let g=f.hcEvents;if(i){let v=g[i]||[];o?(g[i]=v.filter(function(b){return o!==b.fn}),c(i,o)):(h(g),g[i]=[])}else h(g),delete f.hcEvents}}function Rn(x,i,o,c){if(o=o||{},Je?.createEvent&&(x.dispatchEvent||x.fireEvent&&x!==ce)){let h=Je.createEvent("Events");h.initEvent(i,!0,!0),o=Qt(h,o),x.dispatchEvent?x.dispatchEvent(o):x.fireEvent(i,o)}else if(x.hcEvents){o.target||Qt(o,{preventDefault:function(){o.defaultPrevented=!0},target:x,type:i});let h=[],f=x,g=!1;for(;f.hcEvents;)Object.hasOwnProperty.call(f,"hcEvents")&&f.hcEvents[i]&&(h.length&&(g=!0),h.unshift.apply(h,f.hcEvents[i])),f=Object.getPrototypeOf(f);g&&h.sort((v,b)=>v.order-b.order),h.forEach(v=>{v.fn.call(x,o)===!1&&o.preventDefault()})}c&&!o.defaultPrevented&&c.call(x,o)}let kn=(S=Math.random().toString(36).substring(2,9)+"-",T=0,function(){return"highcharts-"+(n?"":S)+T++});kt.jQuery&&(kt.jQuery.fn.highcharts=function(){let x=[].slice.call(arguments);if(this[0])return x[0]?(new ce[Bn(x[0])?x.shift():"Chart"](this[0],x[0],x[1]),this):hn[Ot(this[0],"data-highcharts-chart")]});let We={addEvent:function(x,i,o,c={}){let h=typeof x=="function"&&x.prototype||x;Object.hasOwnProperty.call(h,"hcEvents")||(h.hcEvents={});let f=h.hcEvents;ce.Point&&x instanceof ce.Point&&x.series&&x.series.chart&&(x.series.chart.runTrackerClick=!0);let g=x.addEventListener;g&&g.call(x,i,o,!!ce.supportsPassiveEvents&&{passive:c.passive===void 0?i.indexOf("touch")!==-1:c.passive,capture:!1}),f[i]||(f[i]=[]);let v={fn:o,order:typeof c.order=="number"?c.order:1/0};return f[i].push(v),f[i].sort((b,E)=>b.order-E.order),function(){Hn(x,i,o)}},arrayMax:function(x){let i=x.length,o=x[0];for(;i--;)x[i]>o&&(o=x[i]);return o},arrayMin:function(x){let i=x.length,o=x[0];for(;i--;)x[i]<o&&(o=x[i]);return o},attr:Ot,clamp:function(x,i,o){return x>i?x<o?x:o:i},clearTimeout:function(x){nt(x)&&clearTimeout(x)},correctFloat:Yn,createElement:function(x,i,o,c,h){let f=Je.createElement(x);return i&&Qt(f,i),h&&ti(f,{padding:"0",border:"none",margin:"0"}),o&&ti(f,o),c&&c.appendChild(f),f},crisp:function(x,i=0,o){let c=i%2/2,h=o?-1:1;return(Math.round(x*h-c)+c)*h},css:ti,defined:nt,destroyObjectProperties:function(x,i,o){ni(x,function(c,h){c!==i&&c?.destroy&&c.destroy(),(c?.destroy||!o)&&delete x[h]})},diffObjects:function(x,i,o,c){let h={};return(function f(g,v,b,E){let M=o?v:g;ni(g,function(w,A){if(!E&&c&&c.indexOf(A)>-1&&v[A]){w=Dn(w),b[A]=[];for(let k=0;k<Math.max(w.length,v[A].length);k++)v[A][k]&&(w[k]===void 0?b[A][k]=v[A][k]:(b[A][k]={},f(w[k],v[A][k],b[A][k],E+1)))}else nn(w,!0)&&!w.nodeType?(b[A]=Fn(w)?[]:{},f(w,v[A]||{},b[A],E+1),Object.keys(b[A]).length===0&&(A!=="colorAxis"||E!==0)&&delete b[A]):(g[A]!==v[A]||A in g&&!(A in v))&&A!=="__proto__"&&A!=="constructor"&&(b[A]=M[A])})})(x,i,h,0),h},discardElement:function(x){x?.parentElement?.removeChild(x)},erase:function(x,i){let o=x.length;for(;o--;)if(x[o]===i){x.splice(o,1);break}},error:Pt,extend:Qt,extendClass:function(x,i){let o=function(){};return o.prototype=new x,Qt(o.prototype,i),o},find:Si,fireEvent:Rn,getAlignFactor:(x="")=>({center:.5,right:1,middle:.5,bottom:1})[x]||0,getClosestDistance:function(x,i){let o,c,h,f=!i;return x.forEach(g=>{if(g.length>1)for(h=g.length-1;h>0;h--)(c=g[h]-g[h-1])<0&&!f?(i?.(),i=void 0):c&&(o===void 0||c<o)&&(o=c)}),o},getMagnitude:wi,getNestedProperty:function(x,i){let o=x.split(".");for(;o.length&&nt(i);){let c=o.shift();if(c===void 0||c==="__proto__")return;if(c==="this"){let f;return nn(i)&&(f=i["@this"]),f??i}let h=i[c.replace(/[\\'"]/g,"")];if(!nt(h)||typeof h=="function"||typeof h.nodeType=="number"||h===kt)return;i=h}return i},getStyle:function x(i,o,c){let h;if(o==="width"){let g=Math.min(i.offsetWidth,i.scrollWidth),v=i.getBoundingClientRect?.().width;return v<g&&v>=g-1&&(g=Math.floor(v)),Math.max(0,g-(x(i,"padding-left",!0)||0)-(x(i,"padding-right",!0)||0))}if(o==="height")return Math.max(0,Math.min(i.offsetHeight,i.scrollHeight)-(x(i,"padding-top",!0)||0)-(x(i,"padding-bottom",!0)||0));let f=kt.getComputedStyle(i,void 0);return f&&(h=f.getPropertyValue(o),fn(c,o!=="opacity")&&(h=mi(h))),h},insertItem:function(x,i){let o,c=x.options.index,h=i.length;for(o=x.options.isInternal?h:0;o<h+1;o++)if(!i[o]||wn(c)&&c<fn(i[o].options.index,i[o]._i)||i[o].options.isInternal){i.splice(o,0,x);break}return o},isArray:Fn,isClass:jt,isDOMElement:xn,isFunction:function(x){return typeof x=="function"},isNumber:wn,isObject:nn,isString:Bn,merge:function(x,...i){let o,c=[x,...i],h={},f=function(v,b){return typeof v!="object"&&(v={}),ni(b,function(E,M){M!=="__proto__"&&M!=="constructor"&&(!nn(E,!0)||jt(E)||xn(E)?v[M]=b[M]:v[M]=f(v[M]||{},E))}),v};x===!0&&(h=c[1],c=Array.prototype.slice.call(c,2));let g=c.length;for(o=0;o<g;o++)h=f(h,c[o]);return h},normalizeTickInterval:function(x,i,o,c,h){let f,g=x;o=fn(o,wi(x));let v=x/o;for(!i&&(i=h?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],c===!1&&(o===1?i=i.filter(function(b){return b%1==0}):o<=.1&&(i=[1/o]))),f=0;f<i.length&&(g=i[f],(!h||!(g*o>=x))&&(h||!(v<=(i[f]+(i[f+1]||i[f]))/2)));f++);return Yn(g*o,-Math.round(Math.log(.001)/Math.LN10))},objectEach:ni,offset:function(x){let i=Je.documentElement,o=x.parentElement||x.parentNode?x.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:o.top+(kt.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(kt.pageXOffset||i.scrollLeft)-(i.clientLeft||0),width:o.width,height:o.height}},pad:function(x,i,o){return Array((i||2)+1-String(x).replace("-","").length).join(o||"0")+x},pick:fn,pInt:mi,pushUnique:function(x,i){return 0>x.indexOf(i)&&!!x.push(i)},relativeLength:function(x,i,o){return/%$/.test(x)?i*parseFloat(x)/100+(o||0):parseFloat(x)},removeEvent:Hn,replaceNested:function(x,...i){let o,c;do for(c of(o=x,i))x=x.replace(c[0],c[1]);while(x!==o);return x},splat:Dn,stableSort:function(x,i){let o,c,h=x.length;for(c=0;c<h;c++)x[c].safeI=c;for(x.sort(function(f,g){return(o=i(f,g))===0?f.safeI-g.safeI:o}),c=0;c<h;c++)delete x[c].safeI},syncTimeout:function(x,i,o){return i>0?setTimeout(x,i,o):(x.call(0,o),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(x){return Bn(x)?x.substring(0,1).toUpperCase()+x.substring(1):String(x)},uniqueKey:kn,useSerialIds:function(x){return n=fn(x,n)},wrap:function(x,i,o){let c=x[i];x[i]=function(){let h=arguments,f=this;return o.apply(this,[function(){return c.apply(f,arguments.length?arguments:h)}].concat([].slice.call(arguments)))}}},{pageLang:wa,win:gt}=ce,{defined:Rt,error:Lt,extend:dt,isNumber:mt,isObject:zt,isString:Vt,merge:Mt,objectEach:Kt,pad:on,splat:Pn,timeUnits:Wt,ucfirst:yi}=We,vi=ce.isSafari&&gt.Intl&&!gt.Intl.DateTimeFormat.prototype.formatRange,Ji=class{constructor(x,i){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=gt.Date,this.update(x),this.lang=i}update(x={}){this.dTLCache={},this.options=x=Mt(!0,this.options,x);let{timezoneOffset:i,useUTC:o,locale:c}=x;this.Date=x.Date||gt.Date||Date;let h=x.timezone;Rt(o)&&(h=o?"UTC":void 0),i&&i%60==0&&(h="Etc/GMT"+(i>0?"+":"")+i/60),this.variableTimezone=h!=="UTC"&&h?.indexOf("Etc/GMT")!==0,this.timezone=h,this.lang&&c&&(this.lang.locale=c),["months","shortMonths","weekdays","shortWeekdays"].forEach(f=>{let g=/months/i.test(f),v=/short/.test(f),b={timeZone:"UTC"};b[g?"month":"weekday"]=v?"short":"long",this[f]=(g?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(E=>this.dateFormat(b,(g?31:1)*24*36e5*E))})}toParts(x){let[i,o,c,h,f,g,v]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},x,"es").split(/(?:, | |\/|:)/g);return[h,c-1,o,f,g,v,Math.floor(Number(x)||0)%1e3,"DLMXJVS".indexOf(i)].map(Number)}dateTimeFormat(x,i,o=this.options.locale||wa){let c=JSON.stringify(x)+o;Vt(x)&&(x=this.str2dtf(x));let h=this.dTLCache[c];if(!h){x.timeZone??(x.timeZone=this.timezone);try{h=new Intl.DateTimeFormat(o,x)}catch(f){/Invalid time zone/i.test(f.message)?(Lt(34),x.timeZone="UTC",h=new Intl.DateTimeFormat(o,x)):Lt(f.message,!1)}}return this.dTLCache[c]=h,h?.format(i)||""}str2dtf(x,i={}){let o={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(o).forEach(c=>{x.indexOf(c)!==-1&&dt(i,o[c])}),i}makeTime(x,i,o=1,c=0,h,f,g){let v=this.Date.UTC(x,i,o,c,h||0,f||0,g||0);if(this.timezone!=="UTC"){let b=this.getTimezoneOffset(v);if(v+=b,[2,3,8,9,10,11].indexOf(i)!==-1&&(c<5||c>20)){let E=this.getTimezoneOffset(v);b!==E?v+=E-b:b-36e5!==this.getTimezoneOffset(v-36e5)||vi||(v-=36e5)}}return v}parse(x){if(!Vt(x))return x??void 0;let i=(x=x.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(x),o=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(x);i||o||(x+="Z");let c=Date.parse(x);if(mt(c))return c+(!i||o?this.getTimezoneOffset(c):0)}getTimezoneOffset(x){if(this.timezone!=="UTC"){let[i,o,c,h,f=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},x,"en").split(/(GMT|:)/).map(Number),g=-(60*(c+f/60)*6e4);if(mt(g))return g}return 0}dateFormat(x,i,o){let c=this.lang;if(!Rt(i)||isNaN(i))return c?.invalidDate||"";if(Vt(x=x??"%Y-%m-%d %H:%M:%S")){let h,f=/%\[([a-zA-Z]+)\]/g;for(;h=f.exec(x);)x=x.replace(h[0],this.dateTimeFormat(h[1],i,c?.locale))}if(Vt(x)&&x.indexOf("%")!==-1){let h=this,[f,g,v,b,E,M,w,A]=this.toParts(i),k=c?.weekdays||this.weekdays,N=c?.shortWeekdays||this.shortWeekdays,I=c?.months||this.months,j=c?.shortMonths||this.shortMonths;Kt(dt({a:N?N[A]:k[A].substr(0,3),A:k[A],d:on(v),e:on(v,2," "),w:A,v:c?.weekFrom??"",b:j[g],B:I[g],m:on(g+1),o:g+1,y:f.toString().substr(2,2),Y:f,H:on(b),k:b,I:on(b%12||12),l:b%12||12,M:on(E),p:b<12?"AM":"PM",P:b<12?"am":"pm",S:on(M),L:on(w,3)},ce.dateFormats),function(z,V){if(Vt(x))for(;x.indexOf("%"+V)!==-1;)x=x.replace("%"+V,typeof z=="function"?z.call(h,i):z)})}else if(zt(x)){let h=(this.getTimezoneOffset(i)||0)/36e5,f=this.timezone||"Etc/GMT"+(h>=0?"+":"")+h,{prefix:g="",suffix:v=""}=x;x=g+this.dateTimeFormat(dt({timeZone:f},x),i)+v}return o?yi(x):x}resolveDTLFormat(x){return zt(x,!0)?zt(x,!0)&&x.main===void 0?{main:x}:x:{main:(x=Pn(x))[0],from:x[1],to:x[2]}}getDateFormat(x,i,o,c){let h=this.dateFormat("%m-%d %H:%M:%S.%L",i),f="01-01 00:00:00.000",g={millisecond:15,second:12,minute:9,hour:6,day:3},v="millisecond",b=v;for(v in Wt){if(x&&x===Wt.week&&+this.dateFormat("%w",i)===o&&h.substr(6)===f.substr(6)){v="week";break}if(x&&Wt[v]>x){v=b;break}if(g[v]&&h.substr(g[v])!==f.substr(g[v]))break;v!=="week"&&(b=v)}return this.resolveDTLFormat(c[v]).main}},{defined:ii,extend:Ri,timeUnits:tn}=We,fr=class extends Ji{getTimeTicks(x,i,o,c){let h=this,f=[],g={},{count:v=1,unitRange:b}=x,[E,M,w,A,k,N]=h.toParts(i),I=(i||0)%1e3,j;if(c??(c=1),ii(i)){if(I=b>=tn.second?0:v*Math.floor(I/v),b>=tn.second&&(N=b>=tn.minute?0:v*Math.floor(N/v)),b>=tn.minute&&(k=b>=tn.hour?0:v*Math.floor(k/v)),b>=tn.hour&&(A=b>=tn.day?0:v*Math.floor(A/v)),b>=tn.day&&(w=b>=tn.month?1:Math.max(1,v*Math.floor(w/v))),b>=tn.month&&(M=b>=tn.year?0:v*Math.floor(M/v)),b>=tn.year&&(E-=E%v),b===tn.week){v&&(i=h.makeTime(E,M,w,A,k,N,I));let q=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},i,"es"),Q="DLMXJVS".indexOf(q);w+=-Q+c+(Q<c?-7:0)}i=h.makeTime(E,M,w,A,k,N,I),h.variableTimezone&&ii(o)&&(j=o-i>4*tn.month||h.getTimezoneOffset(i)!==h.getTimezoneOffset(o));let z=i,V=1;for(;z<o;)f.push(z),b===tn.year?z=h.makeTime(E+V*v,0):b===tn.month?z=h.makeTime(E,M+V*v):j&&(b===tn.day||b===tn.week)?z=h.makeTime(E,M,w+V*v*(b===tn.day?1:7)):j&&b===tn.hour&&v>1?z=h.makeTime(E,M,w,A+V*v):z+=b*v,V++;f.push(z),b<=tn.hour&&f.length<1e4&&f.forEach(q=>{q%18e5==0&&h.dateFormat("%H%M%S%L",q)==="000000000"&&(g[q]="day")})}return f.info=Ri(x,{higherRanks:g,totalRange:b*v}),f}},{isTouchDevice:ji}=ce,{fireEvent:li,merge:jn}=We,ki={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:x=>Math.sqrt(1-Math.pow(x-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:ji?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},Ss=new fr(ki.time,ki.lang),Un={defaultOptions:ki,defaultTime:Ss,getOptions:function(){return ki},setOptions:function(x){return li(ce,"setOptions",{options:x}),jn(!0,ki,x),x.time&&Ss.update(ki.time),x.lang&&"locale"in x.lang&&Ss.update({locale:x.lang.locale}),x.lang?.chartTitle&&(ki.title={...ki.title,text:x.lang.chartTitle}),ki}},{win:ud}=ce,{isNumber:Es,isString:st,merge:he,pInt:ze,defined:it}=We,ln=(x,i,o)=>`color-mix(in srgb,${x},${i} ${100*o}%)`,On=x=>st(x)&&!!x&&x!=="none";class at{static parse(i){return i?new at(i):at.None}constructor(i){let o,c,h,f;this.rgba=[NaN,NaN,NaN,NaN],this.input=i;const g=ce.Color;if(g&&g!==at)return new g(i);if(typeof i=="object"&&i.stops!==void 0)this.stops=i.stops.map(v=>new at(v[1]));else if(typeof i=="string")for(this.input=i=at.names[i.toLowerCase()]||i,h=at.parsers.length;h--&&!c;)(o=(f=at.parsers[h]).regex.exec(i))&&(c=f.parse(o));c&&(this.rgba=c)}get(i){let o=this.input,c=this.rgba;if(this.output)return this.output;if(typeof o=="object"&&this.stops!==void 0){let h=he(o);return h.stops=[].slice.call(h.stops),this.stops.forEach((f,g)=>{h.stops[g]=[h.stops[g][0],f.get(i)]}),h}return c&&Es(c[0])?i!=="rgb"&&(i||c[3]!==1)?i==="a"?`${c[3]}`:"rgba("+c.join(",")+")":"rgb("+c[0]+","+c[1]+","+c[2]+")":o}brighten(i){let o=this.rgba;if(this.stops)this.stops.forEach(function(c){c.brighten(i)});else if(Es(i)&&i!==0)if(Es(o[0]))for(let c=0;c<3;c++)o[c]+=ze(255*i),o[c]<0&&(o[c]=0),o[c]>255&&(o[c]=255);else at.useColorMix&&On(this.input)&&(this.output=ln(this.input,i>0?"white":"black",Math.abs(i)));return this}setOpacity(i){return this.rgba[3]=i,this}tweenTo(i,o){let c=this.rgba,h=i.rgba;if(!Es(c[0])||!Es(h[0]))return at.useColorMix&&On(this.input)&&On(i.input)&&o<.99?ln(this.input,i.input,o):i.input||"none";let f=h[3]!==1||c[3]!==1,g=(b,E)=>b+(c[E]-b)*(1-o),v=h.slice(0,3).map(g).map(Math.round);return f&&v.push(g(h[3],3)),(f?"rgba(":"rgb(")+v.join(",")+")"}}at.names={white:"#ffffff",black:"#000000"},at.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(x){return[ze(x[1]),ze(x[2]),ze(x[3]),parseFloat(x[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(x){return[ze(x[1]),ze(x[2]),ze(x[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(x){return[ze(x[1]+x[1],16),ze(x[2]+x[2],16),ze(x[3]+x[3],16),it(x[4])?ze(x[4]+x[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(x){return[ze(x[1],16),ze(x[2],16),ze(x[3],16),it(x[4])?ze(x[4],16)/255:1]}}],at.useColorMix=ud.CSS?.supports("color","color-mix(in srgb,red,blue 9%)"),at.None=new at("");let{parse:Ei}=at,{win:Or}=ce,{isNumber:zi,objectEach:Sa}=We;class rn{constructor(i,o,c){this.pos=NaN,this.options=o,this.elem=i,this.prop=c}dSetter(){let i=this.paths,o=i?.[0],c=i?.[1],h=this.now||0,f=[];if(h!==1&&o&&c)if(o.length===c.length&&h<1)for(let g=0;g<c.length;g++){let v=o[g],b=c[g],E=[];for(let M=0;M<b.length;M++){let w=v[M],A=b[M];zi(w)&&zi(A)&&(b[0]!=="A"||M!==4&&M!==5)?E[M]=w+h*(A-w):E[M]=A}f.push(E)}else f=c;else f=this.toD||[];this.elem.attr("d",f,void 0,!0)}update(){let i=this.elem,o=this.prop,c=this.now,h=this.options.step;this[o+"Setter"]?this[o+"Setter"]():i.attr?i.element&&i.attr(o,c,null,!0):i.style[o]=c+this.unit,h&&h.call(i,c,this)}run(i,o,c){let h=this,f=h.options,g=function(E){return!g.stopped&&h.step(E)},v=Or.requestAnimationFrame||function(E){setTimeout(E,13)},b=function(){for(let E=0;E<rn.timers.length;E++)rn.timers[E]()||rn.timers.splice(E--,1);rn.timers.length&&v(b)};i!==o||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=i,this.end=o,this.unit=c,this.now=this.start,this.pos=0,g.elem=this.elem,g.prop=this.prop,g()&&rn.timers.push(g)===1&&v(b)):(delete f.curAnim[this.prop],f.complete&&Object.keys(f.curAnim).length===0&&f.complete.call(this.elem))}step(i){let o,c,h=+new Date,f=this.options,g=this.elem,v=f.complete,b=f.duration,E=f.curAnim;return g.attr&&!g.element?o=!1:i||h>=b+this.startTime?(this.now=this.end,this.pos=1,this.update(),E[this.prop]=!0,c=!0,Sa(E,function(M){M!==!0&&(c=!1)}),c&&v&&v.call(g),o=!1):(this.pos=f.easing((h-this.startTime)/b),this.now=this.start+(this.end-this.start)*this.pos,this.update(),o=!0),o}initPath(i,o,c){let h=i.startX,f=i.endX,g=c.slice(),v=i.isArea,b=v?2:1,E=o&&c.length>o.length&&c.hasStackedCliffs,M,w,A,k,N=o?.slice();if(!N||E)return[g,g];function I(z,V){for(;z.length<w;){let q=z[0],Q=V[w-z.length];if(Q&&q[0]==="M"&&(Q[0]==="C"?z[0]=["C",q[1],q[2],q[1],q[2],q[1],q[2]]:z[0]=["L",q[1],q[2]]),z.unshift(q),v){let ee=z.pop();z.push(z[z.length-1],ee)}}}function j(z){for(;z.length<w;){let V=z[Math.floor(z.length/b)-1].slice();if(V[0]==="C"&&(V[1]=V[5],V[2]=V[6]),v){let q=z[Math.floor(z.length/b)].slice();z.splice(z.length/2,0,V,q)}else z.push(V)}}if(h&&f&&f.length){for(A=0;A<h.length;A++)if(h[A]===f[0]){M=A;break}else if(h[0]===f[f.length-h.length+A]){M=A,k=!0;break}else if(h[h.length-1]===f[f.length-h.length+A]){M=h.length-A;break}M===void 0&&(N=[])}return N.length&&zi(M)&&(w=g.length+M*b,k?(I(N,g),j(g)):(I(g,N),j(N))),[N,g]}fillSetter(){rn.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,Ei(this.start).tweenTo(Ei(this.end),this.pos),void 0,!0)}}rn.timers=[];let{defined:Cc,getStyle:Dc,isArray:a0,isNumber:dd,isObject:al,merge:Ea,objectEach:Nr,pick:dm}=We;function mf(x){return al(x)?Ea({duration:500,defer:0},x):{duration:500*!!x,defer:0}}function hd(x,i){let o=rn.timers.length;for(;o--;)rn.timers[o].elem!==x||i&&i!==rn.timers[o].prop||(rn.timers[o].stopped=!0)}let Ai={animate:function(x,i,o){let c,h="",f,g,v;al(o)||(v=arguments,o={duration:v[2],easing:v[3],complete:v[4]}),dd(o.duration)||(o.duration=400),o.easing=typeof o.easing=="function"?o.easing:Math[o.easing]||Math.easeInOutSine,o.curAnim=Ea(i),Nr(i,function(b,E){hd(x,E),g=new rn(x,o,E),f=void 0,E==="d"&&a0(i.d)?(g.paths=g.initPath(x,x.pathArray,i.d),g.toD=i.d,c=0,f=1):x.attr?c=x.attr(E):(c=parseFloat(Dc(x,E))||0,E!=="opacity"&&(h="px")),f||(f=b),typeof f=="string"&&f.match("px")&&(f=f.replace(/px/g,"")),g.run(c,f,h)})},animObject:mf,getDeferredAnimation:function(x,i,o){let c=mf(i),h=o?[o]:x.series,f=0,g=0;return h.forEach(v=>{let b=mf(v.options.animation);f=al(i)&&Cc(i.defer)?c.defer:Math.max(f,b.duration+b.defer),g=Math.min(c.duration,b.duration)}),x.renderer.forExport&&(f=0),{defer:Math.max(0,f-g),duration:Math.min(f,g)}},setAnimation:function(x,i){i.renderer.globalAnimation=dm(x,i.options.chart.animation,!0)},stop:hd},{SVG_NS:Tc,win:s0}=ce,{attr:Lr,createElement:yf,css:hm,error:fd,isFunction:sl,isString:vf,objectEach:bf,splat:ol}=We,{trustedTypes:xf}=s0,Mc=xf&&sl(xf.createPolicy)&&xf.createPolicy("highcharts",{createHTML:x=>x}),fm=Mc?Mc.createHTML(""):"";class Tn{static filterUserAttributes(i){return bf(i,(o,c)=>{let h=!0;Tn.allowedAttributes.indexOf(c)===-1&&(h=!1),["background","dynsrc","href","lowsrc","src"].indexOf(c)!==-1&&(h=vf(o)&&Tn.allowedReferences.some(f=>o.indexOf(f)===0)),h||(fd(33,!1,void 0,{"Invalid attribute in config":`${c}`}),delete i[c]),vf(o)&&i[c]&&(i[c]=o.replace(/</g,"&lt;"))}),i}static parseStyle(i){return i.split(";").reduce((o,c)=>{let h=c.split(":").map(g=>g.trim()),f=h.shift();return f&&h.length&&(o[f.replace(/-([a-z])/g,g=>g[1].toUpperCase())]=h.join(":")),o},{})}static setElementHTML(i,o){i.innerHTML=Tn.emptyHTML,o&&new Tn(o).addToDOM(i)}constructor(i){this.nodes=typeof i=="string"?this.parseMarkup(i):i}addToDOM(i){return(function o(c,h){let f;return ol(c).forEach(function(g){let v,b=g.tagName,E=g.textContent?ce.doc.createTextNode(g.textContent):void 0,M=Tn.bypassHTMLFiltering;if(b)if(b==="#text")v=E;else if(Tn.allowedTags.indexOf(b)!==-1||M){let w=b==="svg"?Tc:h.namespaceURI||Tc,A=ce.doc.createElementNS(w,b),k=g.attributes||{};bf(g,function(N,I){I!=="tagName"&&I!=="attributes"&&I!=="children"&&I!=="style"&&I!=="textContent"&&(k[I]=N)}),Lr(A,M?k:Tn.filterUserAttributes(k)),g.style&&hm(A,g.style),E&&A.appendChild(E),o(g.children||[],A),v=A}else fd(33,!1,void 0,{"Invalid tagName in config":b});v&&h.appendChild(v),f=v}),f})(this.nodes,i)}parseMarkup(i){let o,c=[];i=i.trim().replace(/ style=(["'])/g," data-style=$1");try{o=new DOMParser().parseFromString(Mc?Mc.createHTML(i):i,"text/html")}catch{}if(!o){let f=yf("div");f.innerHTML=i,o={body:f}}let h=(f,g)=>{let v=f.nodeName.toLowerCase(),b={tagName:v};v==="#text"&&(b.textContent=f.textContent||"");let E=f.attributes;if(E){let M={};[].forEach.call(E,w=>{w.name==="data-style"?b.style=Tn.parseStyle(w.value):M[w.name]=w.value}),b.attributes=M}if(f.childNodes.length){let M=[];[].forEach.call(f.childNodes,w=>{h(w,M)}),M.length&&(b.children=M)}g.push(b)};return[].forEach.call(o.body.childNodes,f=>h(f,c)),c}}Tn.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Tn.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Tn.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Tn.emptyHTML=fm,Tn.bypassHTMLFiltering=!1;let{defaultOptions:pm,defaultTime:gm}=Un,{pageLang:pd}=ce,{extend:Ua,getNestedProperty:wf,isArray:Sf,isNumber:uo,isObject:ll,isString:mm,pick:Ef,ucfirst:ym}=We,As={add:(x,i)=>x+i,divide:(x,i)=>i!==0?x/i:"",eq:(x,i)=>x==i,each:function(x){let i=arguments[arguments.length-1];return!!Sf(x)&&x.map((o,c)=>cl(i.body,Ua(ll(o)?o:{"@this":o},{"@index":c,"@first":c===0,"@last":c===x.length-1}))).join("")},ge:(x,i)=>x>=i,gt:(x,i)=>x>i,if:x=>!!x,le:(x,i)=>x<=i,lt:(x,i)=>x<i,multiply:(x,i)=>x*i,ne:(x,i)=>x!=i,subtract:(x,i)=>x-i,ucfirst:ym,unless:x=>!x},Aa={};function cl(x="",i,o){let c=RegExp(`\\{([\\p{L}\\d:\\.,;\\-\\/<>\\[\\]%_@+"'= #\\(\\)]+)\\}`,"gu"),h=RegExp(`\\(([\\p{L}\\d:\\.,;\\-\\/<>\\[\\]%_@+"'= ]+)\\)`,"gu"),f=[],g=/f$/,v=/\.(\d)/,b=o?.options?.lang||pm.lang,E=o?.time||gm,M=o?.numberFormatter||ul.bind(o),w=(j="")=>{let z;return j==="true"||j!=="false"&&((z=Number(j)).toString()===j?z:/^["'].+["']$/.test(j)?j.slice(1,-1):wf(j,i))},A,k,N=0,I;for(;(A=c.exec(x))!==null;){let j=A,z=h.exec(A[1]);z&&(A=z,I=!0),k?.isBlock||(k={ctx:i,expression:A[1],find:A[0],isBlock:A[1].charAt(0)==="#",start:A.index,startInner:A.index+A[0].length,length:A[0].length});let V=(k.isBlock?j:A)[1].split(" ")[0].replace("#","");As[V]&&(k.isBlock&&V===k.fn&&N++,k.fn||(k.fn=V));let q=A[1]==="else";if(k.isBlock&&k.fn&&(A[1]===`/${k.fn}`||q))if(N)!q&&N--;else{let Q=k.startInner,ee=x.substr(Q,A.index-Q);k.body===void 0?(k.body=ee,k.startInner=A.index+A[0].length):k.elseBody=ee,k.find+=ee+A[0],q||(f.push(k),k=void 0)}else k.isBlock||f.push(k);if(z&&!k?.isBlock)break}return f.forEach(j=>{let z,V,{body:q,elseBody:Q,expression:ee,fn:te}=j;if(te){let J=[j],ne=[],de=ee.length,me=0,se;for(V=0;V<=de;V++){let we=ee.charAt(V);se||we!=='"'&&we!=="'"?se===we&&(se=""):se=we,se||we!==" "&&V!==de||(ne.push(ee.substr(me,V-me)),me=V+1)}for(V=As[te].length;V--;)J.unshift(w(ne[V+1]));z=As[te].apply(i,J),j.isBlock&&typeof z=="boolean"&&(z=cl(z?q:Q,i,o))}else{let J=/^["'].+["']$/.test(ee)?[ee]:ee.split(":");if(z=w(J.shift()||""),J.length&&typeof z=="number"){let ne=J.join(":");if(g.test(ne)){let de=parseInt((ne.match(v)||["","-1"])[1],10);z!==null&&(z=M(z,de,b.decimalPoint,ne.indexOf(",")>-1?b.thousandsSep:""))}else z=E.dateFormat(ne,z)}h.lastIndex=0,h.test(j.find)&&mm(z)&&(z=`"${z}"`)}x=x.replace(j.find,Ef(z,""))}),I?cl(x,i,o):x}function ul(x,i,o,c){i*=1;let h,f,[g,v]=(x=+x||0).toString().split("e").map(Number),b=this?.options?.lang||pm.lang,E=(x.toString().split(".")[1]||"").split("e")[0].length,M=i,w={};o??(o=b.decimalPoint),c??(c=b.thousandsSep),i===-1?i=Math.min(E,20):uo(i)?i&&v<0&&((f=i+v)>=0?(g=+g.toExponential(f).split("e")[0],i=f):(g=Math.floor(g),x=i<20?+(g*Math.pow(10,v)).toFixed(i):0,v=0)):i=2,v&&(i??(i=2),x=g),uo(i)&&i>=0&&(w.minimumFractionDigits=i,w.maximumFractionDigits=i),c===""&&(w.useGrouping=!1);let A=c||o,k=A?"en":this?.locale||b.locale||pd,N=JSON.stringify(w)+k;return h=(Aa[N]??(Aa[N]=new Intl.NumberFormat(k,w))).format(x),A&&(h=h.replace(/([,\.])/g,"_$1").replace(/_\,/g,c??",").replace("_.",o??".")),(i||+h!=0)&&(!(v<0)||M)||(h="0"),v&&+h!=0&&(h+="e"+(v<0?"":"+")+v),h}let $n={dateFormat:function(x,i,o){return gm.dateFormat(x,i,o)},format:cl,helpers:As,numberFormat:ul};(P=X||(X={})).rendererTypes={},P.getRendererType=function(x=_){return P.rendererTypes[x]||P.rendererTypes[_]},P.registerRendererType=function(x,i,o){P.rendererTypes[x]=i,(!_||o)&&(_=x,ce.Renderer=i)};let Ga=X,{clamp:gd,pick:vm,pushUnique:md,stableSort:dl}=We;(ie||(ie={})).distribute=function x(i,o,c){let h=i,f=h.reducedLen||o,g=(q,Q)=>q.target-Q.target,v=[],b=i.length,E=[],M=v.push,w,A,k,N=!0,I,j,z=0,V;for(w=b;w--;)z+=i[w].size;if(z>f){for(dl(i,(q,Q)=>(Q.rank||0)-(q.rank||0)),k=(V=i[0].rank===i[i.length-1].rank)?b/2:-1,A=V?k:b-1;k&&z>f;)I=i[w=Math.floor(A)],md(E,w)&&(z-=I.size),A+=k,V&&A>=i.length&&(k/=2,A=k);E.sort((q,Q)=>Q-q).forEach(q=>M.apply(v,i.splice(q,1)))}for(dl(i,g),i=i.map(q=>({size:q.size,targets:[q.target],align:vm(q.align,.5)}));N;){for(w=i.length;w--;)I=i[w],j=(Math.min.apply(0,I.targets)+Math.max.apply(0,I.targets))/2,I.pos=gd(j-I.size*I.align,0,o-I.size);for(w=i.length,N=!1;w--;)w>0&&i[w-1].pos+i[w-1].size>i[w].pos&&(i[w-1].size+=i[w].size,i[w-1].targets=i[w-1].targets.concat(i[w].targets),i[w-1].align=.5,i[w-1].pos+i[w-1].size>o&&(i[w-1].pos=o-i[w-1].size),i.splice(w,1),N=!0)}return M.apply(h,v),w=0,i.some(q=>{let Q=0;return(q.targets||[]).some(()=>(h[w].pos=q.pos+Q,c!==void 0&&Math.abs(h[w].pos-h[w].target)>c?(h.slice(0,w+1).forEach(ee=>delete ee.pos),h.reducedLen=(h.reducedLen||o)-.1*o,h.reducedLen>.1*o&&x(h,o,c),!0):(Q+=h[w].size,w++,!1)))}),dl(h,g),h};let hl=ie,{animate:er,animObject:ho,stop:_c}=Ai,{deg2rad:fl,doc:pl,svg:Af,SVG_NS:gl,win:Rc,isFirefox:yd}=ce,{addEvent:bm,attr:Cf,createElement:o0,crisp:vd,css:bd,defined:Ca,erase:l0,extend:kc,fireEvent:Df,getAlignFactor:Tf,isArray:Mf,isFunction:xm,isNumber:c0,isObject:u0,isString:wm,merge:Oc,objectEach:ml,pick:fo,pInt:xd,pushUnique:Sm,replaceNested:d0,syncTimeout:h0,uniqueKey:Em}=We;class bi{_defaultGetter(i){let o=fo(this[i+"Value"],this[i],this.element?this.element.getAttribute(i):null,0);return/^-?[\d\.]+$/.test(o)&&(o=parseFloat(o)),o}_defaultSetter(i,o,c){c.setAttribute(o,i)}add(i){let o,c=this.renderer,h=this.element;return i&&(this.parentGroup=i),this.textStr!==void 0&&this.element.nodeName==="text"&&c.buildText(this),this.added=!0,(!i||i.handleZ||this.zIndex)&&(o=this.zIndexSetter()),o||(i?i.element:c.box).appendChild(h),this.onAdd&&this.onAdd(),this}addClass(i,o){let c=o?"":this.attr("class")||"";return(i=(i||"").split(/ /g).reduce(function(h,f){return c.indexOf(f)===-1&&h.push(f),h},c?[c]:[]).join(" "))!==c&&this.attr("class",i),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(i,o,c,h=!0){let f=this.renderer,g=f.alignedObjects,v=!!i;i?(this.alignOptions=i,this.alignByTranslate=o,this.alignTo=c):(i=this.alignOptions||{},o=this.alignByTranslate,c=this.alignTo);let b=!c||wm(c)?c||"renderer":void 0;b&&(v&&Sm(g,this),c=void 0);let E=fo(c,f[b],f),M=(E.x||0)+(i.x||0)+((E.width||0)-(i.width||0))*Tf(i.align),w=(E.y||0)+(i.y||0)+((E.height||0)-(i.height||0))*Tf(i.verticalAlign),A={};return i.align&&(A["text-align"]=i.align),A[o?"translateX":"x"]=Math.round(M),A[o?"translateY":"y"]=Math.round(w),h&&(this[this.placed?"animate":"attr"](A),this.placed=!0),this.alignAttr=A,this}alignSetter(i){let o={left:"start",center:"middle",right:"end"};o[i]&&(this.alignValue=i,this.element.setAttribute("text-anchor",o[i]))}animate(i,o,c){let h=ho(fo(o,this.renderer.globalAnimation,!0)),f=h.defer;return pl.hidden&&(h.duration=0),h.duration!==0?(c&&(h.complete=c),h0(()=>{this.element&&er(this,i,h)},f)):(this.attr(i,void 0,c||h.complete),ml(i,function(g,v){h.step&&h.step.call(this,g,{prop:v,pos:1,elem:this})},this)),this}applyTextOutline(i){let o=this.element;i.indexOf("contrast")!==-1&&(i=i.replace(/contrast/g,this.renderer.getContrast(o.style.fill)));let c=i.indexOf(" "),h=i.substring(c+1),f=i.substring(0,c);if(f&&f!=="none"&&ce.svg){this.fakeTS=!0,f=f.replace(/(^[\d\.]+)(.*?)$/g,function(M,w,A){return 2*Number(w)+A}),this.removeTextOutline();let g=pl.createElementNS(gl,"tspan");Cf(g,{class:"highcharts-text-outline",fill:h,stroke:h,"stroke-width":f,"stroke-linejoin":"round"});let v=o.querySelector("textPath")||o;[].forEach.call(v.childNodes,M=>{let w=M.cloneNode(!0);w.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(A=>w.removeAttribute(A)),g.appendChild(w)});let b=0;[].forEach.call(v.querySelectorAll("text tspan"),M=>{b+=Number(M.getAttribute("dy"))});let E=pl.createElementNS(gl,"tspan");E.textContent="",Cf(E,{x:Number(o.getAttribute("x")),dy:-b}),g.appendChild(E),v.insertBefore(g,v.firstChild)}}attr(i,o,c,h){let{element:f}=this,g=bi.symbolCustomAttribs,v,b,E=this,M;return typeof i=="string"&&o!==void 0&&(v=i,(i={})[v]=o),typeof i=="string"?E=(this[i+"Getter"]||this._defaultGetter).call(this,i,f):(ml(i,function(w,A){M=!1,h||_c(this,A),this.symbolName&&g.indexOf(A)!==-1&&(b||(this.symbolAttr(i),b=!0),M=!0),this.rotation&&(A==="x"||A==="y")&&(this.doTransform=!0),M||(this[A+"Setter"]||this._defaultSetter).call(this,w,A,f)},this),this.afterSetters()),c&&c.call(this),E}clip(i){if(i&&!i.clipPath){let o=Em()+"-",c=this.renderer.createElement("clipPath").attr({id:o}).add(this.renderer.defs);kc(i,{clipPath:c,id:o,count:0}),i.add(c)}return this.attr("clip-path",i?`url(${this.renderer.url}#${i.id})`:"none")}crisp(i,o){o=Math.round(o||i.strokeWidth||0);let c=i.x||this.x||0,h=i.y||this.y||0,f=(i.width||this.width||0)+c,g=(i.height||this.height||0)+h,v=vd(c,o),b=vd(h,o);return kc(i,{x:v,y:b,width:vd(f,o)-v,height:vd(g,o)-b}),Ca(i.strokeWidth)&&(i.strokeWidth=o),i}complexColor(i,o,c){let h=this.renderer,f,g,v,b,E,M,w,A,k,N,I=[],j;Df(this.renderer,"complexColor",{args:arguments},function(){if(i.radialGradient?g="radialGradient":i.linearGradient&&(g="linearGradient"),g){if(v=i[g],E=h.gradients,M=i.stops,k=c.radialReference,Mf(v)&&(i[g]=v={x1:v[0],y1:v[1],x2:v[2],y2:v[3],gradientUnits:"userSpaceOnUse"}),g==="radialGradient"&&k&&!Ca(v.gradientUnits)&&(b=v,v=Oc(v,h.getRadialAttr(k,b),{gradientUnits:"userSpaceOnUse"})),ml(v,function(z,V){V!=="id"&&I.push(V,z)}),ml(M,function(z){I.push(z)}),E[I=I.join(",")])N=E[I].attr("id");else{v.id=N=Em();let z=E[I]=h.createElement(g).attr(v).add(h.defs);z.radAttr=b,z.stops=[],M.forEach(function(V){V[1].indexOf("rgba")===0?(w=(f=at.parse(V[1])).get("rgb"),A=f.get("a")):(w=V[1],A=1);let q=h.createElement("stop").attr({offset:V[0],"stop-color":w,"stop-opacity":A}).add(z);z.stops.push(q)})}j="url("+h.url+"#"+N+")",c.setAttribute(o,j),c.gradient=I,i.toString=function(){return j}}})}css(i){let o=this.styles,c={},h=this.element,f,g=!o;if(o&&ml(i,function(v,b){o&&o[b]!==v&&(c[b]=v,g=!0)}),g){o&&(i=kc(o,c)),i.width===null||i.width==="auto"?delete this.textWidth:h.nodeName.toLowerCase()==="text"&&i.width&&(f=this.textWidth=xd(i.width)),kc(this.styles,i),f&&!Af&&this.renderer.forExport&&delete i.width;let v=yd&&i.fontSize||null;v&&(c0(v)||/^\d+$/.test(v))&&(i.fontSize+="px");let b=Oc(i);h.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(E=>b&&delete b[E]),b.color&&(b.fill=b.color,delete b.color)),bd(h,b)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),i.textOutline&&this.applyTextOutline(i.textOutline)),this}dashstyleSetter(i){let o,c=this["stroke-width"];if(c==="inherit"&&(c=1),i){let h=(i=i.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(o=h.length;o--;)h[o]=""+xd(h[o])*fo(c,NaN);i=h.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",i)}}destroy(){let i=this,{element:o={},renderer:c,stops:h}=i,f=o.ownerSVGElement,g=o.nodeName==="SPAN"&&i.parentGroup||void 0,v;if(o.onclick=o.onmouseout=o.onmouseover=o.onmousemove=o.point=null,_c(i),i.clipPath&&f){let b=i.clipPath;[].forEach.call(f.querySelectorAll("[clip-path],[CLIP-PATH]"),function(E){E.getAttribute("clip-path").indexOf(b.element.id)>-1&&E.removeAttribute("clip-path")}),i.clipPath=b.destroy()}if(h){for(let b of h)b.destroy();h.length=0}for(i.safeRemoveChild(o);g?.div&&g.div.childNodes.length===0;)v=g.parentGroup,i.safeRemoveChild(g.div),delete g.div,g=v;i.alignOptions&&l0(c.alignedObjects,i),ml(i,(b,E)=>{(i[E]?.parentGroup===i||["connector","foreignObject"].indexOf(E)!==-1)&&i[E]?.destroy?.(),delete i[E]})}dSetter(i,o,c){Mf(i)&&(typeof i[0]=="string"&&(i=this.renderer.pathToSegments(i)),this.pathArray=i,i=i.reduce((h,f,g)=>f?.join?(g?h+" ":"")+f.join(" "):(f||"").toString(),"")),/(NaN| {2}|^$)/.test(i)&&(i="M 0 0"),this[o]!==i&&(c.setAttribute(o,i),this[o]=i)}fillSetter(i,o,c){typeof i=="string"?c.setAttribute(o,i):i&&this.complexColor(i,o,c)}hrefSetter(i,o,c){c.setAttributeNS("http://www.w3.org/1999/xlink",o,i)}getBBox(i,o){let c,h,f,{element:g,renderer:v,styles:b,textStr:E}=this,{cache:M,cacheKeys:w}=v,A=g.namespaceURI===this.SVG_NS,k=fo(o,this.rotation,0),N=v.styledMode?g&&bi.prototype.getStyle.call(g,"font-size"):b.fontSize,I=this.getBBoxCacheKey([v.rootFontSize,this.textWidth,this.alignValue,b.fontWeight,b.lineClamp,b.textOverflow,N,k]);if(I&&!i&&(c=M[I]),!c||c.polygon){if(A||v.forExport){try{f=this.fakeTS&&function(z){let V=g.querySelector(".highcharts-text-outline");V&&bd(V,{display:z})},xm(f)&&f("none"),c=g.getBBox?kc({},g.getBBox()):{width:g.offsetWidth,height:g.offsetHeight,x:0,y:0},xm(f)&&f("")}catch{}(!c||c.width<0)&&(c={x:0,y:0,width:0,height:0})}else c=this.htmlGetBBox();h=c.height,A&&(c.height=h={"11px,17":14,"13px,20":16}[`${N||""},${Math.round(h)}`]||h),k&&(c=this.getRotatedBox(c,k));let j={bBox:c};Df(this,"afterGetBBox",j),c=j.bBox}if(I&&(E===""||c.height>0)){for(;w.length>250;)delete M[w.shift()];M[I]||w.push(I),M[I]=c}return c}getBBoxCacheKey(i){if(Ca(this.textStr)){let o=""+this.textStr;return o.indexOf("<")===-1&&(o=o.replace(/\d/g,"0")),[o,...i].join(",")}}getRotatedBox(i,o){let{x:c,y:h,width:f,height:g}=i,{alignValue:v,translateY:b,rotationOriginX:E=0,rotationOriginY:M=0}=this,w=Tf(v),A=Number(this.element.getAttribute("y")||0)-(b?0:h),k=o*fl,N=(o-90)*fl,I=Math.cos(k),j=Math.sin(k),z=f*I,V=f*j,q=Math.cos(N),Q=Math.sin(N),[[ee,te],[J,ne]]=[E,M].map(rt=>[rt-rt*I,rt*j]),de=c+w*(f-z)+ee+ne+A*q,me=de+z,se=me-g*q,we=se-z,Ne=h+A-w*V-te+J+A*Q,_e=Ne+V,He=_e-g*Q,Ue=He-V,qe=Math.min(de,me,se,we),vt=Math.min(Ne,_e,He,Ue),ut=Math.max(de,me,se,we)-qe,Jt=Math.max(Ne,_e,He,Ue)-vt;return{x:qe,y:vt,width:ut,height:Jt,polygon:[[de,Ne],[me,_e],[se,He],[we,Ue]]}}getStyle(i){return Rc.getComputedStyle(this.element||this,"").getPropertyValue(i)}hasClass(i){return(""+this.attr("class")).split(" ").indexOf(i)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(i,o){this.onEvents={},this.opacity=1,this.SVG_NS=gl,this.element=o==="span"||o==="body"?o0(o):pl.createElementNS(this.SVG_NS,o),this.renderer=i,this.styles={},Df(this,"afterInit")}on(i,o){let{onEvents:c}=this;return c[i]&&c[i](),c[i]=bm(this.element,i,o),this}opacitySetter(i,o,c){let h=Number(Number(i).toFixed(3));this.opacity=h,c.setAttribute(o,h)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(i){return this.attr("class",(""+this.attr("class")).replace(wm(i)?RegExp(`(^| )${i}( |$)`):i," ").replace(/ +/g," ").trim())}removeTextOutline(){let i=this.element.querySelector("tspan.highcharts-text-outline");i&&this.safeRemoveChild(i)}safeRemoveChild(i){let o=i.parentNode;o&&o.removeChild(i)}setRadialReference(i){let o=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=i,o?.radAttr&&o.animate(this.renderer.getRadialAttr(i,o.radAttr)),this}shadow(i){let{renderer:o}=this,c=Oc(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},u0(i)?i:{}),h=o.shadowDefinition(c);return this.attr({filter:i?`url(${o.url}#${h})`:"none"})}show(i=!0){return this.attr({visibility:i?"inherit":"visible"})}"stroke-widthSetter"(i,o,c){this[o]=i,c.setAttribute(o,i)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let i=this.getStyle("stroke-width"),o=0,c;return/px$/.test(i)?o=xd(i):i!==""&&(Cf(c=pl.createElementNS(gl,"rect"),{width:i,"stroke-width":0}),this.element.parentNode.appendChild(c),o=c.getBBox().width,c.parentNode.removeChild(c)),o}symbolAttr(i){let o=this;bi.symbolCustomAttribs.forEach(function(c){o[c]=fo(i[c],o[c])}),o.attr({d:o.renderer.symbols[o.symbolName](o.x,o.y,o.width,o.height,o)})}textSetter(i){i!==this.textStr&&(delete this.textPxLength,this.textStr=i,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(i){let o=this.element,c=o.getElementsByTagName("title")[0]||pl.createElementNS(this.SVG_NS,"title");o.insertBefore?o.insertBefore(c,o.firstChild):o.appendChild(c),c.textContent=d0(fo(i,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let i=this.element;return i.parentNode.appendChild(i),this}translate(i,o){return this.attr({translateX:i,translateY:o})}updateTransform(i="transform"){let{element:o,foreignObject:c,matrix:h,padding:f,rotation:g=0,rotationOriginX:v,rotationOriginY:b,scaleX:E,scaleY:M,text:w,translateX:A=0,translateY:k=0}=this,N=[`translate(${A},${k})`];Ca(h)&&N.push("matrix("+h.join(",")+")"),g&&(N.push("rotate("+g+" "+(v??o.getAttribute("x")??this.x??0)+" "+(b??o.getAttribute("y")??this.y??0)+")"),w?.element.tagName!=="SPAN"||w?.foreignObject||w.attr({rotation:g,rotationOriginX:(v||0)-f,rotationOriginY:(b||0)-f})),(Ca(E)||Ca(M))&&N.push(`scale(${E??1} ${M??1})`),N.length&&!(w||this).textPath&&(c?.element||o).setAttribute(i,N.join(" "))}visibilitySetter(i,o,c){i==="inherit"?c.removeAttribute(o):this[o]!==i&&c.setAttribute(o,i),this[o]=i}xGetter(i){return this.element.nodeName==="circle"&&(i==="x"?i="cx":i==="y"&&(i="cy")),this._defaultGetter(i)}zIndexSetter(i,o){let c=this.renderer,h=this.parentGroup,f=(h||c).element||c.box,g=this.element,v=f===c.box,b,E,M,w=!1,A,k=this.added,N;if(Ca(i)?(g.setAttribute("data-z-index",i),i*=1,this[o]===i&&(k=!1)):Ca(this[o])&&g.removeAttribute("data-z-index"),this[o]=i,k){for((i=this.zIndex)&&h&&(h.handleZ=!0),N=(b=f.childNodes).length-1;N>=0&&!w;N--)A=!Ca(M=(E=b[N]).getAttribute("data-z-index")),E!==g&&(i<0&&A&&!v&&!N?(f.insertBefore(g,b[N]),w=!0):(xd(M)<=i||A&&(!Ca(i)||i>=0))&&(f.insertBefore(g,b[N+1]),w=!0));w||(f.insertBefore(g,b[3*!!v]),w=!0)}return w}}bi.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],bi.prototype.strokeSetter=bi.prototype.fillSetter,bi.prototype.yGetter=bi.prototype.xGetter,bi.prototype.matrixSetter=bi.prototype.rotationOriginXSetter=bi.prototype.rotationOriginYSetter=bi.prototype.rotationSetter=bi.prototype.scaleXSetter=bi.prototype.scaleYSetter=bi.prototype.translateXSetter=bi.prototype.translateYSetter=bi.prototype.verticalAlignSetter=function(x,i){this[i]=x,this.doTransform=!0};let Ir=bi,{defined:Am,extend:f0,getAlignFactor:Cm,isNumber:Nc,merge:_f,pick:Cs,removeEvent:Dm}=We;class Ds extends Ir{constructor(i,o,c,h,f,g,v,b,E,M){let w;super(i,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=o,this.x=c,this.y=h,this.anchorX=g,this.anchorY=v,this.baseline=E,this.className=M,this.addClass(M==="button"?"highcharts-no-tooltip":"highcharts-label"),M&&this.addClass("highcharts-"+M),this.text=i.text(void 0,0,0,b).attr({zIndex:1}),typeof f=="string"&&((w=/^url\((.*?)\)$/.test(f))||this.renderer.symbols[f])&&(this.symbolKey=f),this.bBox=Ds.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=i.styledMode||w,this.deferredAttr={},this.alignFactor=0}alignSetter(i){let o=Cm(i);this.textAlign=i,o!==this.alignFactor&&(this.alignFactor=o,this.bBox&&Nc(this.xSetting)&&this.attr({x:this.xSetting}),this.updateTextPadding())}anchorXSetter(i,o){this.anchorX=i,this.boxAttr(o,Math.round(i)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(i,o){this.anchorY=i,this.boxAttr(o,i-this.ySetting)}boxAttr(i,o){this.box?this.box.attr(i,o):this.deferredAttr[i]=o}css(i){if(i){let o={};i=_f(i),Ds.textProps.forEach(c=>{i[c]!==void 0&&(o[c]=i[c],delete i[c])}),this.text.css(o),"fontSize"in o||"fontWeight"in o||"width"in o?this.updateTextPadding():"textOverflow"in o&&this.updateBoxSize()}return Ir.prototype.css.call(this,i)}destroy(){Dm(this.element,"mouseenter"),Dm(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Ir.prototype.destroy.call(this)}fillSetter(i,o){i&&(this.needsBox=!0),this.fill=i,this.boxAttr(o,i)}getBBox(i,o){(this.textStr&&this.bBox.width===0&&this.bBox.height===0||this.rotation)&&this.updateBoxSize();let{padding:c,height:h=0,translateX:f=0,translateY:g=0,width:v=0}=this,b=Cs(this.paddingLeft,c),E=o??(this.rotation||0),M={width:v,height:h,x:f+this.bBox.x-b,y:g+this.bBox.y-c+this.baselineOffset};return E&&(M=this.getRotatedBox(M,E)),M}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(i){this.heightSetting=i,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Cs(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&Am(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(i,o){Nc(i)?i!==this[o]&&(this[o]=i,this.updateTextPadding()):this[o]=void 0}rSetter(i,o){this.boxAttr(o,i)}strokeSetter(i,o){this.stroke=i,this.boxAttr(o,i)}"stroke-widthSetter"(i,o){i&&(this.needsBox=!0),this["stroke-width"]=i,this.boxAttr(o,i)}"text-alignSetter"(i){this.textAlign=this["text-align"]=i,this.updateTextPadding()}textSetter(i){i!==void 0&&this.text.attr({text:i}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let i,o=this.text,c={},h=this.padding,f=this.bBox=(!Nc(this.widthSetting)||!Nc(this.heightSetting)||this.textAlign)&&Am(o.textStr)?o.getBBox(void 0,0):Ds.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||f.height||0)+2*h;let g=this.renderer.fontMetrics(o);if(this.baselineOffset=h+Math.min((this.text.firstLineMetrics||g).b,f.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-g.h)/2),this.needsBox&&!o.textPath){if(!this.box){let v=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();v.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),v.add(this)}c.x=i=this.getCrispAdjust(),c.y=(this.baseline?-this.baselineOffset:0)+i,c.width=Math.round(this.width),c.height=Math.round(this.height),this.box.attr(f0(c,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let i=this.text,o=i.styles.textAlign||this.textAlign;if(!i.textPath){this.updateBoxSize();let c=this.baseline?0:this.baselineOffset,h=(this.paddingLeft??this.padding)+Cm(o)*(this.widthSetting??this.bBox.width);(h!==i.x||c!==i.y)&&(i.attr({align:o,x:h}),c!==void 0&&i.attr("y",c)),i.x=h,i.y=c}}widthSetter(i){this.widthSetting=Nc(i)?i:void 0,this.doUpdate=!0}getPaddedWidth(){let i=this.padding,o=Cs(this.paddingLeft,i),c=Cs(this.paddingRight,i);return(this.widthSetting||this.bBox.width||0)+o+c}xSetter(i){this.x=i,this.alignFactor&&(i-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(i),this.attr("translateX",this.xSetting)}ySetter(i){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(i),this.attr("translateY",this.ySetting)}}Ds.emptyBBox={width:0,height:0,x:0,y:0},Ds.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Rf,isNumber:Tm,pick:yl}=We;function kf(x,i,o,c,h){let f=[];if(h){let g=h.start||0,v=h.end||0,b=yl(h.r,o),E=yl(h.r,c||o),M=2e-4/(h.borderRadius?1:Math.max(b,1)),w=Math.abs(v-g-2*Math.PI)<M;w&&(g=Math.PI/2,v=2.5*Math.PI-M);let A=h.innerR,k=yl(h.open,w),N=Math.cos(g),I=Math.sin(g),j=Math.cos(v),z=Math.sin(v),V=yl(h.longArc,v-g-Math.PI<M?0:1),q=["A",b,E,0,V,yl(h.clockwise,1),x+b*j,i+E*z];q.params={start:g,end:v,cx:x,cy:i},f.push(["M",x+b*N,i+E*I],q),Rf(A)&&((q=["A",A,A,0,V,Rf(h.clockwise)?1-h.clockwise:0,x+A*N,i+A*I]).params={start:v,end:g,cx:x,cy:i},f.push(k?["M",x+A*j,i+A*z]:["L",x+A*j,i+A*z],q)),k||f.push(["Z"])}return f}function po(x,i,o,c,h){return h?.r?Of(x,i,o,c,h):[["M",x,i],["L",x+o,i],["L",x+o,i+c],["L",x,i+c],["Z"]]}function Of(x,i,o,c,h){let f=h?.r||0;return[["M",x+f,i],["L",x+o-f,i],["A",f,f,0,0,1,x+o,i+f],["L",x+o,i+c-f],["A",f,f,0,0,1,x+o-f,i+c],["L",x+f,i+c],["A",f,f,0,0,1,x,i+c-f],["L",x,i+f],["A",f,f,0,0,1,x+f,i],["Z"]]}let Nf={arc:kf,callout:function(x,i,o,c,h){let f=Math.min(h?.r||0,o,c),g=f+6,v=h?.anchorX,b=h?.anchorY||0,E=Of(x,i,o,c,{r:f});if(!Tm(v)||v<o&&v>0&&b<c&&b>0)return E;if(x+v>o-g)if(b>i+g&&b<i+c-g)E.splice(3,1,["L",x+o,b-6],["L",x+o+6,b],["L",x+o,b+6],["L",x+o,i+c-f]);else if(v<o){let M=b<i+g,w=M?i:i+c;E.splice(M?2:5,0,["L",v,b],["L",x+o-f,w])}else E.splice(3,1,["L",x+o,c/2],["L",v,b],["L",x+o,c/2],["L",x+o,i+c-f]);else if(x+v<g)if(b>i+g&&b<i+c-g)E.splice(7,1,["L",x,b+6],["L",x-6,b],["L",x,b-6],["L",x,i+f]);else if(v>0){let M=b<i+g,w=M?i:i+c;E.splice(M?1:6,0,["L",v,b],["L",x+f,w])}else E.splice(7,1,["L",x,c/2],["L",v,b],["L",x,c/2],["L",x,i+f]);else b>c&&v<o-g?E.splice(5,1,["L",v+6,i+c],["L",v,i+c+6],["L",v-6,i+c],["L",x+f,i+c]):b<0&&v>g&&E.splice(1,1,["L",v-6,i],["L",v,i-6],["L",v+6,i],["L",o-f,i]);return E},circle:function(x,i,o,c){return kf(x+o/2,i+c/2,o/2,c/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(x,i,o,c){return[["M",x+o/2,i],["L",x+o,i+c/2],["L",x+o/2,i+c],["L",x,i+c/2],["Z"]]},rect:po,roundedRect:Of,square:po,triangle:function(x,i,o,c){return[["M",x+o/2,i],["L",x+o,i+c],["L",x,i+c],["Z"]]},"triangle-down":function(x,i,o,c){return[["M",x,i],["L",x+o,i],["L",x+o/2,i+c],["Z"]]}},{doc:Lf,SVG_NS:Mm,win:If}=ce,{attr:go,extend:Lc,fireEvent:p0,isString:wd,objectEach:_m,pick:Rm}=We,Ic=(x,i)=>x.substring(0,i)+"",Pf=class{constructor(x){const i=x.styles;this.renderer=x.renderer,this.svgElement=x,this.width=x.textWidth,this.textLineHeight=i?.lineHeight,this.textOutline=i?.textOutline,this.ellipsis=i?.textOverflow==="ellipsis",this.lineClamp=i?.lineClamp,this.noWrap=i?.whiteSpace==="nowrap"}buildSVG(){let x=this.svgElement,i=x.element,o=x.renderer,c=Rm(x.textStr,"").toString(),h=c.indexOf("<")!==-1,f=i.childNodes,g=!x.added&&o.box,v=[c,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,x.getStyle("font-size"),x.styles.lineClamp,this.width].join(",");if(v!==x.textCache){x.textCache=v,delete x.actualWidth;for(let b=f.length;b--;)i.removeChild(f[b]);if(h||this.ellipsis||this.width||x.textPath||c.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(c))){if(c!==""){g&&g.appendChild(i);let b=new Tn(c);this.modifyTree(b.nodes),b.addToDOM(i),this.modifyDOM(),this.ellipsis&&(i.textContent||"").indexOf("")!==-1&&x.attr("title",this.unescapeEntities(x.textStr||"",["&lt;","&gt;"])),g&&g.removeChild(i)}}else i.appendChild(Lf.createTextNode(this.unescapeEntities(c)));wd(this.textOutline)&&x.applyTextOutline&&x.applyTextOutline(this.textOutline)}}modifyDOM(){let x,i=this.svgElement,o=go(i.element,"x");for(i.firstLineMetrics=void 0;(x=i.element.firstChild)&&/^[\s\u200B]*$/.test(x.textContent||" ");)i.element.removeChild(x);[].forEach.call(i.element.querySelectorAll("tspan.highcharts-br"),(g,v)=>{g.nextSibling&&g.previousSibling&&(v===0&&g.previousSibling.nodeType===1&&(i.firstLineMetrics=i.renderer.fontMetrics(g.previousSibling)),go(g,{dy:this.getLineHeight(g.nextSibling),x:o}))});let c=this.width||0;if(!c)return;let h=(g,v)=>{let b=g.textContent||"",E=b.replace(/([^\^])-/g,"$1- ").split(" "),M=!this.noWrap&&(E.length>1||i.element.childNodes.length>1),w=this.getLineHeight(v),A=Math.max(0,c-.8*w),k=0,N=i.actualWidth;if(M){let I=[],j=[];for(;v.firstChild&&v.firstChild!==g;)j.push(v.firstChild),v.removeChild(v.firstChild);for(;E.length;)if(E.length&&!this.noWrap&&k>0&&(I.push(g.textContent||""),g.textContent=E.join(" ").replace(/- /g,"-")),this.truncate(g,void 0,E,k===0&&N||0,c,A,(z,V)=>E.slice(0,V).join(" ").replace(/- /g,"-")),N=i.actualWidth,k++,this.lineClamp&&k>=this.lineClamp){E.length&&(this.truncate(g,g.textContent||"",void 0,0,c,A,Ic),g.textContent=g.textContent?.replace("","")+"");break}j.forEach(z=>{v.insertBefore(z,g)}),I.forEach(z=>{v.insertBefore(Lf.createTextNode(z),g);let V=Lf.createElementNS(Mm,"tspan");V.textContent="",go(V,{dy:w,x:o}),v.insertBefore(V,g)})}else this.ellipsis&&b&&this.truncate(g,b,void 0,0,c,A,Ic)},f=g=>{[].slice.call(g.childNodes).forEach(v=>{v.nodeType===If.Node.TEXT_NODE?h(v,g):(v.className.baseVal.indexOf("highcharts-br")!==-1&&(i.actualWidth=0),f(v))})};f(i.element)}getLineHeight(x){let i=x.nodeType===If.Node.TEXT_NODE?x.parentElement:x;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(i||this.svgElement.element).h}modifyTree(x){let i=(o,c)=>{let{attributes:h={},children:f,style:g={},tagName:v}=o,b=this.renderer.styledMode;if(v==="b"||v==="strong"?b?h.class="highcharts-strong":g.fontWeight="bold":(v==="i"||v==="em")&&(b?h.class="highcharts-emphasized":g.fontStyle="italic"),g?.color&&(g.fill=g.color),v==="br"){h.class="highcharts-br",o.textContent="";let E=x[c+1];E?.textContent&&(E.textContent=E.textContent.replace(/^ +/gm,""))}else v==="a"&&f&&f.some(E=>E.tagName==="#text")&&(o.children=[{children:f,tagName:"tspan"}]);v!=="#text"&&v!=="a"&&(o.tagName="tspan"),Lc(o,{attributes:h,style:g}),f&&f.filter(E=>E.tagName!=="#text").forEach(i)};x.forEach(i),p0(this.svgElement,"afterModifyTree",{nodes:x})}truncate(x,i,o,c,h,f,g){let v,b,E=this.svgElement,{rotation:M}=E,w=[],A=o&&!c?1:0,k=(i||o||"").length,N=k;o||(h=f);let I=function(j,z){let V=z||j,q=x.parentNode;if(q&&w[V]===void 0&&q.getSubStringLength)try{w[V]=c+q.getSubStringLength(0,o?V+1:V)}catch{}return w[V]};if(E.rotation=0,c+(b=I(x.textContent.length))>h){for(;A<=k;)N=Math.ceil((A+k)/2),o&&(v=g(o,N)),b=I(N,v&&v.length-1),A===k?A=k+1:b>h?k=N-1:A=N;k===0?x.textContent="":i&&k===i.length-1||(x.textContent=v||g(i||o,N)),this.ellipsis&&b>h&&this.truncate(x,x.textContent||"",void 0,0,h,f,Ic)}o&&o.splice(0,N),E.actualWidth=b,E.rotation=M}unescapeEntities(x,i){return _m(this.renderer.escapes,function(o,c){i&&i.indexOf(o)!==-1||(x=x.toString().replace(RegExp(o,"g"),c))}),x}},{defaultOptions:km}=Un,{charts:Om,deg2rad:jf,doc:vl,isFirefox:Nm,isMS:Lm,isWebKit:g0,noop:m0,SVG_NS:pr,symbolSizes:mo,win:Sd}=ce,{addEvent:Pc,attr:jc,createElement:Im,crisp:Ed,css:Ad,defined:Pr,destroyObjectProperties:zf,extend:na,isArray:Bf,isNumber:Ts,isObject:ia,isString:bl,merge:zc,pick:Cd,pInt:yo,replaceNested:Pm,uniqueKey:jm}=We;class xl{constructor(i,o,c,h,f,g,v){let b,E;this.x=0,this.y=0;const M=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),w=M.element;v||M.css(this.getStyle(h||{})),i.appendChild(w),jc(i,"dir","ltr"),i.innerHTML.indexOf("xmlns")===-1&&jc(w,"xmlns",this.SVG_NS),this.box=w,this.boxWrapper=M,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(vl.createTextNode("Created with Highcharts 12.5.0")),this.defs=this.createElement("defs").add(),this.allowHTML=g,this.forExport=f,this.styledMode=v,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=M.getStyle("font-size"),this.setSize(o,c,!1),Nm&&i.getBoundingClientRect&&((b=function(){Ad(i,{left:0,top:0}),E=i.getBoundingClientRect(),Ad(i,{left:Math.ceil(E.left)-E.left+"px",top:Math.ceil(E.top)-E.top+"px"})})(),this.unSubPixelFix=Pc(Sd,"resize",b))}definition(i){return new Tn([i]).addToDOM(this.defs.element)}getReferenceURL(){if((Nm||g0)&&vl.getElementsByTagName("base").length){if(!Pr(a)){let i=jm(),o=new Tn([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:i},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${i})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(vl.body);Ad(o,{position:"fixed",top:0,left:0,zIndex:9e5}),a=vl.elementFromPoint(6,6)?.id==="hitme",vl.body.removeChild(o)}if(a)return Pm(Sd.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(i){return this.style=na({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},i),this.style}setStyle(i){this.boxWrapper.css(this.getStyle(i))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let i=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),zf(this.gradients||{}),this.gradients=null,this.defs=i.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(i){return new this.Element(this,i)}getRadialAttr(i,o){return{cx:i[0]-i[2]/2+(o.cx||0)*i[2],cy:i[1]-i[2]/2+(o.cy||0)*i[2],r:(o.r||0)*i[2]}}shadowDefinition(i){let o=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(i).map(h=>`${h}-${i[h]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),c=zc({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},i);return this.defs.element.querySelector(`#${o}`)||this.definition({tagName:"filter",attributes:{id:o,filterUnits:c.filterUnits},children:this.getShadowFilterContent(c)}),o}getShadowFilterContent(i){return[{tagName:"feDropShadow",attributes:{dx:i.offsetX,dy:i.offsetY,"flood-color":i.color,"flood-opacity":Math.min(5*i.opacity,1),stdDeviation:i.width/2}}]}buildText(i){new Pf(i).buildSVG()}getContrast(i){if(i==="transparent")return"#000000";let o=at.parse(i).rgba,c=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(Ts(o[0])||!at.useColorMix){let h=o.map(g=>{let v=g/255;return v<=.04?v/12.92:Math.pow((v+.055)/1.055,2.4)}),f=.2126*h[0]+.7152*h[1]+.0722*h[2];return 1.05/(f+.05)>(f+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+i+" srgb"+c+c+c+")"}button(i,o,c,h,f={},g,v,b,E,M){let w=this.label(i,o,c,E,void 0,void 0,M,void 0,"button"),A=this.styledMode,k=arguments,N=0;f=zc(km.global.buttonTheme,f),A&&(delete f.fill,delete f.stroke,delete f["stroke-width"]);let I=f.states||{},j=f.style||{};delete f.states,delete f.style;let z=[Tn.filterUserAttributes(f)],V=[j];return A||["hover","select","disabled"].forEach((q,Q)=>{z.push(zc(z[0],Tn.filterUserAttributes(k[Q+5]||I[q]||{}))),V.push(z[Q+1].style),delete z[Q+1].style}),Pc(w.element,Lm?"mouseover":"mouseenter",function(){N!==3&&w.setState(1)}),Pc(w.element,Lm?"mouseout":"mouseleave",function(){N!==3&&w.setState(N)}),w.setState=(q=0)=>{if(q!==1&&(w.state=N=q),w.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][q]),!A){w.attr(z[q]);let Q=V[q];ia(Q)&&w.css(Q)}},w.attr(z[0]),!A&&(w.css(na({cursor:"default"},j)),M&&w.text.css({pointerEvents:"none"})),w.on("touchstart",q=>q.stopPropagation()).on("click",function(q){N!==3&&h?.call(w,q)})}crispLine(i,o){let[c,h]=i;return Pr(c[1])&&c[1]===h[1]&&(c[1]=h[1]=Ed(c[1],o)),Pr(c[2])&&c[2]===h[2]&&(c[2]=h[2]=Ed(c[2],o)),i}path(i){let o=this.styledMode?{}:{fill:"none"};return Bf(i)?o.d=i:ia(i)&&na(o,i),this.createElement("path").attr(o)}circle(i,o,c){let h=ia(i)?i:i===void 0?{}:{x:i,y:o,r:c},f=this.createElement("circle");return f.xSetter=f.ySetter=function(g,v,b){b.setAttribute("c"+v,g)},f.attr(h)}arc(i,o,c,h,f,g){let v;ia(i)?(o=(v=i).y,c=v.r,h=v.innerR,f=v.start,g=v.end,i=v.x):v={innerR:h,start:f,end:g};let b=this.symbol("arc",i,o,c,c,v);return b.r=c,b}rect(i,o,c,h,f,g){let v=ia(i)?i:i===void 0?{}:{x:i,y:o,r:f,width:Math.max(c||0,0),height:Math.max(h||0,0)},b=this.createElement("rect");return this.styledMode||(g!==void 0&&(v["stroke-width"]=g,na(v,b.crisp(v))),v.fill="none"),b.rSetter=function(E,M,w){b.r=E,jc(w,{rx:E,ry:E})},b.rGetter=function(){return b.r||0},b.attr(v)}roundedRect(i){return this.symbol("roundedRect").attr(i)}setSize(i,o,c){this.width=i,this.height=o,this.boxWrapper.animate({width:i,height:o},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Cd(c,!0)?void 0:0}),this.alignElements()}g(i){let o=this.createElement("g");return i?o.attr({class:"highcharts-"+i}):o}image(i,o,c,h,f,g){let v={preserveAspectRatio:"none"};Ts(o)&&(v.x=o),Ts(c)&&(v.y=c),Ts(h)&&(v.width=h),Ts(f)&&(v.height=f);let b=this.createElement("image").attr(v),E=function(M){b.attr({href:i}),g.call(b,M)};if(g){b.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let M=new Sd.Image;Pc(M,"load",E),M.src=i,M.complete&&E({})}else b.attr({href:i});return b}symbol(i,o,c,h,f,g){let v,b,E,M,w=this,A=/^url\((.*?)\)$/,k=A.test(i),N=!k&&(this.symbols[i]?i:"circle"),I=N&&this.symbols[N];if(I)typeof o=="number"&&(b=I.call(this.symbols,o||0,c||0,h||0,f||0,g)),v=this.path(b),w.styledMode||v.attr("fill","none"),na(v,{symbolName:N||void 0,x:o,y:c,width:h,height:f}),g&&na(v,g);else if(k){E=i.match(A)[1];let j=v=this.image(E);j.imgwidth=Cd(g?.width,mo[E]?.width),j.imgheight=Cd(g?.height,mo[E]?.height),M=z=>z.attr({width:z.width,height:z.height}),["width","height"].forEach(z=>{j[`${z}Setter`]=function(V,q){this[q]=V;let{alignByTranslate:Q,element:ee,width:te,height:J,imgwidth:ne,imgheight:de}=this,me=q==="width"?ne:de,se=1;g&&g.backgroundSize==="within"&&te&&J&&ne&&de?(se=Math.min(te/ne,J/de),jc(ee,{width:Math.round(ne*se),height:Math.round(de*se)})):ee&&me&&ee.setAttribute(q,me),!Q&&ne&&de&&this.translate(((te||0)-ne*se)/2,((J||0)-de*se)/2)}}),Pr(o)&&j.attr({x:o,y:c}),j.isImg=!0,j.symbolUrl=i,Pr(j.imgwidth)&&Pr(j.imgheight)?M(j):(j.attr({width:0,height:0}),Im("img",{onload:function(){let z=Om[w.chartIndex];this.width===0&&(Ad(this,{position:"absolute",top:"-999em"}),vl.body.appendChild(this)),mo[E]={width:this.width,height:this.height},j.imgwidth=this.width,j.imgheight=this.height,j.element&&M(j),this.parentNode&&this.parentNode.removeChild(this),w.imgCount--,w.imgCount||!z||z.hasLoaded||z.onload()},src:E}),this.imgCount++)}return v}clipRect(i,o,c,h){return this.rect(i,o,c,h,0)}text(i,o,c,h){let f={};if(h&&(this.allowHTML||!this.forExport))return this.html(i,o,c);f.x=Math.round(o||0),c&&(f.y=Math.round(c)),Pr(i)&&(f.text=i);let g=this.createElement("text").attr(f);return h&&(!this.forExport||this.allowHTML)||(g.xSetter=function(v,b,E){let M=E.getElementsByTagName("tspan"),w=E.getAttribute(b);for(let A=0,k;A<M.length;A++)(k=M[A]).getAttribute(b)===w&&k.setAttribute(b,v);E.setAttribute(b,v)}),g}fontMetrics(i){let o=Ts(i)?i:yo(Ir.prototype.getStyle.call(i,"font-size")||0),c=o<24?o+3:Math.round(1.2*o),h=Math.round(.8*c);return{h:c,b:h,f:o}}rotCorr(i,o,c){let h=i;return o&&c&&(h=Math.max(h*Math.cos(o*jf),4)),{x:-i/3*Math.sin(o*jf),y:h}}pathToSegments(i){let o=[],c=[],h={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let f=0;f<i.length;f++)bl(c[0])&&Ts(i[f])&&c.length===h[c[0].toUpperCase()]&&i.splice(f,0,c[0].replace("M","L").replace("m","l")),typeof i[f]=="string"&&(c.length&&o.push(c.slice(0)),c.length=0),c.push(i[f]);return o.push(c.slice(0)),o}label(i,o,c,h,f,g,v,b,E){return new Ds(this,i,o,c,h,f,g,v,b,E)}alignElements(){this.alignedObjects.forEach(i=>i.align())}}na(xl.prototype,{Element:Ir,SVG_NS:pr,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Nf,draw:m0}),Ga.registerRendererType("svg",xl,!0);let{composed:y0,isFirefox:v0}=ce,{attr:b0,css:Va,createElement:zm,defined:Dd,extend:ra,getAlignFactor:Td,isNumber:Yi,pInt:wl,pushUnique:Ff}=We;function Bc(x,i,o){let c=this.div?.style;Ir.prototype[`${i}Setter`].call(this,x,i,o),c&&(o.style[i]=c[i]=x)}let Md=(x,i)=>{if(!x.div){let o=b0(x.element,"class"),c=x.css,h=zm("div",o?{className:o}:void 0,{position:"absolute",left:`${x.translateX||0}px`,top:`${x.translateY||0}px`,...x.styles,display:x.display,opacity:x.opacity,visibility:x.visibility},x.parentGroup?.div||i);x.classSetter=(f,g,v)=>{v.setAttribute("class",f),h.className=f},x.translateXSetter=x.translateYSetter=(f,g)=>{x[g]=f,h.style[g==="translateX"?"left":"top"]=`${f}px`,x.doTransform=!0},x.scaleXSetter=x.scaleYSetter=(f,g)=>{x[g]=f,x.doTransform=!0},x.opacitySetter=x.visibilitySetter=Bc,x.css=f=>(c.call(x,f),f.cursor&&(h.style.cursor=f.cursor),f.pointerEvents&&(h.style.pointerEvents=f.pointerEvents),x),x.on=function(){return Ir.prototype.on.apply({element:h,onEvents:x.onEvents},arguments),x},x.div=h}return x.div};class Ms extends Ir{static compose(i){Ff(y0,this.compose)&&(i.prototype.html=function(o,c,h){return new Ms(this,"span").attr({text:o,x:Math.round(c),y:Math.round(h)})})}constructor(i,o){super(i,o),Ms.useForeignObject?this.foreignObject=i.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...i.styledMode?{}:{fontFamily:i.style.fontFamily,fontSize:i.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(i,o,c){this.xCorr=-i*c,this.yCorr=-o}css(i){let o,{element:c}=this,h=c.tagName==="SPAN"&&i&&"width"in i,f=h&&i.width;return h&&(delete i.width,this.textWidth=wl(f)||void 0,o=!0),i?.textOverflow==="ellipsis"&&(i.overflow="hidden",i.whiteSpace="nowrap"),i?.lineClamp&&(i.display="-webkit-box",i.WebkitLineClamp=i.lineClamp,i.WebkitBoxOrient="vertical",i.overflow="hidden"),Yi(Number(i?.fontSize))&&(i.fontSize+="px"),ra(this.styles,i),Va(c,i),o&&this.updateTransform(),this}htmlGetBBox(){let{element:i}=this;return{x:i.offsetLeft,y:i.offsetTop,width:i.offsetWidth,height:i.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:i,foreignObject:o,oldTextWidth:c,renderer:h,rotation:f,rotationOriginX:g,rotationOriginY:v,scaleX:b,scaleY:E,styles:{display:M="inline-block",whiteSpace:w},textAlign:A="left",textWidth:k,translateX:N=0,translateY:I=0,x:j=0,y:z=0}=this,V=()=>this.textPxLength?this.textPxLength:(Va(i,{width:"",whiteSpace:w||"nowrap"}),i.offsetWidth);if(o||Va(i,{marginLeft:`${N}px`,marginTop:`${I}px`}),i.tagName==="SPAN"){let q,Q=[f,A,i.innerHTML,k,this.textAlign].join(","),ee=-(this.parentGroup?.padding*1)||0;if(k!==c){let de=V(),me=k||0,se=!h.styledMode&&i.style.textOverflow===""&&i.style.webkitLineClamp;(me>c||de>me||se)&&(/[\-\s\u00AD]/.test(i.textContent||i.innerText)||i.style.textOverflow==="ellipsis")&&(Va(i,{width:(f||b||de>me||se)&&Yi(k)?k+"px":"auto",display:M,whiteSpace:w||"normal"}),this.oldTextWidth=k)}o&&(Va(i,{display:"inline-block",verticalAlign:"top"}),o.attr({width:h.width,height:h.height})),Q!==this.cTT&&(q=h.fontMetrics(i).b,Dd(f)&&!o&&(f!==(this.oldRotation||0)||A!==this.oldAlign)&&Va(i,{transform:`rotate(${f}deg)`,transformOrigin:`${ee}% ${ee}px`}),this.getSpanCorrection(!Dd(f)&&!this.textWidth&&this.textPxLength||i.offsetWidth,q,Td(A)));let{xCorr:te=0,yCorr:J=0}=this,ne={left:`${j+te}px`,top:`${z+J}px`,textAlign:A,transformOrigin:`${(g??j)-te-j-ee}px ${(v??z)-J-z-ee}px`};(b||E)&&(ne.transform=`scale(${b??1},${E??1})`),o?(super.updateTransform(),Yi(j)&&Yi(z)?(o.attr({x:j+te,y:z+J,width:i.offsetWidth+3,height:i.offsetHeight,"transform-origin":i.getAttribute("transform-origin")||"0 0"}),Va(i,{display:M,textAlign:A})):v0&&o.attr({width:0,height:0})):Va(i,ne),this.cTT=Q,this.oldRotation=f,this.oldAlign=A}}add(i){let{foreignObject:o,renderer:c}=this,h=c.box.parentNode,f=[];if(o)o.add(i),super.add(c.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(o));else{let g;if(this.parentGroup=i,i&&!(g=i.div)){let v=i;for(;v;)f.push(v),v=v.parentGroup;for(let b of f.reverse())g=Md(b,h)}(g||h).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(i){i!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Tn.setElementHTML(this.element,i??""),this.textStr=i,this.doTransform=!0)}alignSetter(i){this.alignValue=this.textAlign=i,this.doTransform=!0}xSetter(i,o){this[o]=i,this.doTransform=!0}}let gr=Ms.prototype;gr.visibilitySetter=gr.opacitySetter=Bc,gr.ySetter=gr.rotationSetter=gr.rotationOriginXSetter=gr.rotationOriginYSetter=gr.xSetter,(H=pe||(pe={})).xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},H.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:x}=this.axis.chart;return x(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0};let Bm=pe,{addEvent:_d,isFunction:Sl,objectEach:x0,removeEvent:mr}=We;(be||(be={})).registerEventOptions=function(x,i){x.eventOptions=x.eventOptions||{},x0(i.events,function(o,c){x.eventOptions[c]!==o&&(x.eventOptions[c]&&(mr(x,c,x.eventOptions[c]),delete x.eventOptions[c]),Sl(o)&&(x.eventOptions[c]=o,_d(x,c,o,{order:0})))})};let El=be,{deg2rad:aa}=ce,{clamp:Fm,correctFloat:vo,defined:Wa,destroyObjectProperties:Hf,extend:Uf,fireEvent:bo,getAlignFactor:Hm,isNumber:$i,merge:Al,objectEach:Cl,pick:yr}=We,Da=class{constructor(x,i,o,c,h){this.isNew=!0,this.isNewLabel=!0,this.axis=x,this.pos=i,this.type=o||"",this.parameters=h||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,bo(this,"init"),o||c||this.addLabel()}addLabel(){let x=this,i=x.axis,o=i.options,c=i.chart,h=i.categories,f=i.logarithmic,g=i.names,v=x.pos,b=yr(x.options?.labels,o.labels),E=i.tickPositions,M=v===E[0],w=v===E[E.length-1],A=(!b.step||b.step===1)&&i.tickInterval===1,k=E.info,N=x.label,I,j,z,V=this.parameters.category||(h?yr(h[v],g[v],v):v);f&&$i(V)&&(V=vo(f.lin2log(V))),i.dateTime&&(k?I=(j=c.time.resolveDTLFormat(o.dateTimeLabelFormats[!o.grid?.enabled&&k.higherRanks[v]||k.unitName])).main:$i(V)&&(I=i.dateTime.getXDateFormat(V,o.dateTimeLabelFormats||{}))),x.isFirst=M,x.isLast=w;let q={axis:i,chart:c,dateTimeLabelFormat:I,isFirst:M,isLast:w,pos:v,tick:x,tickPositionInfo:k,value:V};bo(this,"labelFormat",q);let Q=J=>b.formatter?b.formatter.call(J,J):b.format?(J.text=i.defaultLabelFormatter.call(J),$n.format(b.format,J,c)):i.defaultLabelFormatter.call(J),ee=Q.call(q,q),te=j?.list;te?x.shortenLabel=function(){for(z=0;z<te.length;z++)if(Uf(q,{dateTimeLabelFormat:te[z]}),N.attr({text:Q.call(q,q)}),N.getBBox().width<i.getSlotWidth(x)-2*(b.padding||0))return;N.attr({text:""})}:x.shortenLabel=void 0,A&&i._addedPlotLB&&x.moveLabel(ee,b),Wa(N)||x.movedLabel?N&&N.textStr!==ee&&!A&&(!N.textWidth||b.style.width||N.styles.width||N.css({width:null}),N.attr({text:ee}),N.textPxLength=N.getBBox().width):(x.label=N=x.createLabel(ee,b),x.rotation=0)}createLabel(x,i,o){let c=this.axis,{renderer:h,styledMode:f}=c.chart,g=i.style.whiteSpace,v=Wa(x)&&i.enabled?h.text(x,o?.x,o?.y,i.useHTML).add(c.labelGroup):void 0;return v&&(f||v.css(Al(i.style)),v.textPxLength=v.getBBox().width,!f&&g&&v.css({whiteSpace:g})),v}destroy(){Hf(this,this.axis)}getPosition(x,i,o,c){let h=this.axis,f=h.chart,g=c&&f.oldChartHeight||f.chartHeight,v={x:x?vo(h.translate(i+o,void 0,void 0,c)+h.transB):h.left+h.offset+(h.opposite?(c&&f.oldChartWidth||f.chartWidth)-h.right-h.left:0),y:x?g-h.bottom+h.offset-(h.opposite?h.height:0):vo(g-h.translate(i+o,void 0,void 0,c)-h.transB)};return v.y=Fm(v.y,-1e9,1e9),bo(this,"afterGetPosition",{pos:v}),v}getLabelPosition(x,i,o,c,h,f,g,v){let b,E,M=this.axis,w=M.transA,A=M.isLinked&&M.linkedParent?M.linkedParent.reversed:M.reversed,k=M.staggerLines,N=M.tickRotCorr||{x:0,y:0},I=c||M.reserveSpaceDefault?0:-M.labelOffset*(M.labelAlign==="center"?.5:1),j=h.distance,z={};return b=M.side===0?o.rotation?-j:-o.getBBox().height:M.side===2?N.y+j:Math.cos(o.rotation*aa)*(N.y-o.getBBox(!1,0).height/2),Wa(h.y)&&(b=M.side===0&&M.horiz?h.y+b:h.y),x=x+yr(h.x,[0,1,0,-1][M.side]*j)+I+N.x-(f&&c?f*w*(A?-1:1):0),i=i+b-(f&&!c?f*w*(A?1:-1):0),k&&(E=g/(v||1)%k,M.opposite&&(E=k-E-1),i+=E*(M.labelOffset/k)),z.x=x,z.y=Math.round(i),bo(this,"afterGetLabelPosition",{pos:z,tickmarkOffset:f,index:g}),z}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(x,i,o,c,h=!1,f){return f.crispLine([["M",x,i],["L",x+(h?0:-o),i+(h?o:0)]],c)}handleOverflow(x){let i=this.axis,o=i.options.labels,c=x.x,h=i.chart.chartWidth,f=i.chart.spacing,g=yr(i.labelLeft,Math.min(i.pos,f[3])),v=yr(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,h-f[1])),b=this.label,E=this.rotation,M=Hm(i.labelAlign||b.attr("align")),w=b.getBBox().width,A=i.getSlotWidth(this),k=A,N=1,I;E||o.overflow!=="justify"?E<0&&c-M*w<g?I=Math.round(c/Math.cos(E*aa)-g):E>0&&c+M*w>v&&(I=Math.round((h-c)/Math.cos(E*aa))):(c-M*w<g?k=x.x+k*(1-M)-g:c+(1-M)*w>v&&(k=v-x.x+k*M,N=-1),(k=Math.min(A,k))<A&&i.labelAlign==="center"&&(x.x+=N*(A-k-M*(A-Math.min(w,k)))),(w>k||i.autoRotation&&b?.styles?.width)&&(I=k)),I&&b&&(this.shortenLabel?this.shortenLabel():b.css(Uf({},{width:Math.floor(I)+"px",lineClamp:+!i.isRadial})))}moveLabel(x,i){let o=this,c=o.label,h=o.axis,f=!1,g;c&&c.textStr===x?(o.movedLabel=c,f=!0,delete o.label):Cl(h.ticks,function(v){f||v.isNew||v===o||!v.label||v.label.textStr!==x||(o.movedLabel=v.label,f=!0,v.labelPos=o.movedLabel.xy,delete v.label)}),!f&&(o.labelPos||c)&&(g=o.labelPos||c.xy,o.movedLabel=o.createLabel(x,i,g),o.movedLabel&&o.movedLabel.attr({opacity:0}))}render(x,i,o){let c=this.axis,h=c.horiz,f=this.pos,g=yr(this.tickmarkOffset,c.tickmarkOffset),v=this.getPosition(h,f,g,i),b=v.x,E=v.y,M=c.pos,w=M+c.len,A=h?b:E,k=yr(o,this.label?.newOpacity,1);!c.chart.polar&&(vo(A)<M||A>w)&&(o=0),o??(o=1),this.isActive=!0,this.renderGridLine(i,o),this.renderMark(v,o),this.renderLabel(v,i,k,x),this.isNew=!1,bo(this,"afterRender")}renderGridLine(x,i){let o=this.axis,c=o.options,h={},f=this.pos,g=this.type,v=yr(this.tickmarkOffset,o.tickmarkOffset),b=o.chart.renderer,E=this.gridLine,M,w=c.gridLineWidth,A=c.gridLineColor,k=c.gridLineDashStyle;this.type==="minor"&&(w=c.minorGridLineWidth,A=c.minorGridLineColor,k=c.minorGridLineDashStyle),E||(o.chart.styledMode||(h.stroke=A,h["stroke-width"]=w||0,h.dashstyle=k),g||(h.zIndex=1),x&&(i=0),this.gridLine=E=b.path().attr(h).addClass("highcharts-"+(g?g+"-":"")+"grid-line").add(o.gridGroup)),E&&(M=o.getPlotLinePath({value:f+v,lineWidth:E.strokeWidth(),force:"pass",old:x,acrossPanes:!1}))&&E[x||this.isNew?"attr":"animate"]({d:M,opacity:i})}renderMark(x,i){let o=this.axis,c=o.options,h=o.chart.renderer,f=this.type,g=o.tickSize(f?f+"Tick":"tick"),v=x.x,b=x.y,E=yr(c[f!=="minor"?"tickWidth":"minorTickWidth"],!f&&o.isXAxis?1:0),M=c[f!=="minor"?"tickColor":"minorTickColor"],w=this.mark,A=!w;g&&(o.opposite&&(g[0]=-g[0]),!w&&(this.mark=w=h.path().addClass("highcharts-"+(f?f+"-":"")+"tick").add(o.axisGroup),o.chart.styledMode||w.attr({stroke:M,"stroke-width":E})),w[A?"attr":"animate"]({d:this.getMarkPath(v,b,g[0],w.strokeWidth(),o.horiz,h),opacity:i}))}renderLabel(x,i,o,c){let h=this.axis,f=h.horiz,g=h.options,v=this.label,b=g.labels,E=b.step,M=yr(this.tickmarkOffset,h.tickmarkOffset),w=x.x,A=x.y,k=!0;v&&$i(w)&&(v.xy=x=this.getLabelPosition(w,A,v,f,b,M,c,E),(!this.isFirst||this.isLast||g.showFirstLabel)&&(!this.isLast||this.isFirst||g.showLastLabel)?!f||b.step||b.rotation||i||o===0||this.handleOverflow(x):k=!1,E&&c%E&&(k=!1),k&&$i(x.y)?(x.opacity=o,v[this.isNewLabel?"attr":"animate"](x).show(!0),this.isNewLabel=!1):(v.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let x=this.label,i=this.axis;x&&!this.isNew&&(x.animate({opacity:0},void 0,x.destroy),delete this.label),i.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:jr}=Ai,{xAxis:vr,yAxis:_s}=Bm,{defaultOptions:zr}=Un,{registerEventOptions:Ta}=El,{deg2rad:Ya}=ce,{arrayMax:Gf,arrayMin:Vf,clamp:Dl,correctFloat:tr,defined:Dt,destroyObjectProperties:Nn,erase:Yt,error:Ma,extend:qi,fireEvent:Mn,getClosestDistance:$a,insertItem:Um,isArray:Wf,isNumber:lt,isString:Rs,merge:Tl,normalizeTickInterval:Fc,objectEach:Ml,pick:wt,relativeLength:Br,removeEvent:ks,splat:qa,syncTimeout:Yf}=We,Rd=(x,i)=>Fc(i,void 0,void 0,wt(x.options.allowDecimals,i<.5||x.tickAmount!==void 0),!!x.tickAmount);qi(zr,{xAxis:vr,yAxis:Tl(vr,_s)});class nr{constructor(i,o,c){this.init(i,o,c)}init(i,o,c=this.coll){let h=c==="xAxis",f=this.isZAxis||(i.inverted?!h:h);this.chart=i,this.horiz=f,this.isXAxis=h,this.coll=c,Mn(this,"init",{userOptions:o}),this.opposite=wt(o.opposite,this.opposite),this.side=wt(o.side,this.side,f?2*!this.opposite:this.opposite?1:3),this.setOptions(o);let g=this.options,v=g.labels;this.type??(this.type=g.type||"linear"),this.uniqueNames??(this.uniqueNames=g.uniqueNames??!0),Mn(this,"afterSetType"),this.userOptions=o,this.minPixelPadding=0,this.reversed=wt(g.reversed,this.reversed),this.visible=g.visible,this.zoomEnabled=g.zoomEnabled,this.hasNames=this.type==="category"||g.categories===!0,this.categories=Wf(g.categories)&&g.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=Dt(g.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=g.minRange||g.maxZoom,this.range=g.range,this.offset=g.offset||0,this.max=void 0,this.min=void 0;let b=wt(g.crosshair,qa(i.options.tooltip.crosshairs)[+!h]);this.crosshair=b===!0?{}:b,i.axes.indexOf(this)===-1&&(h?i.axes.splice(i.xAxis.length,0,this):i.axes.push(this),Um(this,i[this.coll])),i.orderItems(this.coll),this.series=this.series||[],i.inverted&&!this.isZAxis&&h&&!Dt(this.reversed)&&(this.reversed=!0),this.labelRotation=lt(v.rotation)?v.rotation:void 0,Ta(this,g),Mn(this,"afterInit")}setOptions(i){let o=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Tl(o,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},zr[this.coll],i),Mn(this,"afterSetOptions",{userOptions:i})}defaultLabelFormatter(){let i=this.axis,{numberFormatter:o}=this.chart,c=lt(this.value)?this.value:NaN,h=i.chart.time,f=i.categories,g=this.dateTimeLabelFormat,v=zr.lang,b=v.numericSymbols,E=v.numericSymbolMagnitude||1e3,M=i.logarithmic?Math.abs(c):i.tickInterval,w=b?.length,A,k;if(f)k=`${this.value}`;else if(g)k=h.dateFormat(g,c,!0);else if(w&&b&&M>=1e3)for(;w--&&k===void 0;)M>=(A=Math.pow(E,w+1))&&10*c%A==0&&b[w]!==null&&c!==0&&(k=o(c/A,-1)+b[w]);return k===void 0&&(k=Math.abs(c)>=1e4?o(c,-1):o(c,-1,void 0,"")),k}getSeriesExtremes(){let i,o=this;Mn(this,"getSeriesExtremes",null,function(){o.hasVisibleSeries=!1,o.dataMin=o.dataMax=o.threshold=void 0,o.softThreshold=!o.isXAxis,o.series.forEach(c=>{if(c.reserveSpace()){let h=c.options,f,g=h.threshold,v,b;if(o.hasVisibleSeries=!0,o.positiveValuesOnly&&0>=(g||0)&&(g=void 0),o.isXAxis)(f=c.getColumn("x")).length&&(f=o.logarithmic?f.filter(E=>E>0):f,v=(i=c.getXExtremes(f)).min,b=i.max,lt(v)||v instanceof Date||(f=f.filter(lt),v=(i=c.getXExtremes(f)).min,b=i.max),f.length&&(o.dataMin=Math.min(wt(o.dataMin,v),v),o.dataMax=Math.max(wt(o.dataMax,b),b)));else{let E=c.applyExtremes();lt(E.dataMin)&&(v=E.dataMin,o.dataMin=Math.min(wt(o.dataMin,v),v)),lt(E.dataMax)&&(b=E.dataMax,o.dataMax=Math.max(wt(o.dataMax,b),b)),Dt(g)&&(o.threshold=g),(!h.softThreshold||o.positiveValuesOnly)&&(o.softThreshold=!1)}}})}),Mn(this,"afterGetSeriesExtremes")}translate(i,o,c,h,f,g){let v=this.linkedParent||this,b=h&&v.old?v.old.min:v.min;if(!lt(b))return NaN;let E=v.minPixelPadding,M=(v.isOrdinal||v.brokenAxis?.hasBreaks||v.logarithmic&&f)&&!!v.lin2val,w=1,A=0,k=h&&v.old?v.old.transA:v.transA,N=0;return k||(k=v.transA),c&&(w*=-1,A=v.len),v.reversed&&(w*=-1,A-=w*(v.sector||v.len)),o?(N=(i=i*w+A-E)/k+b,M&&(N=v.lin2val(N))):(M&&(i=v.val2lin(i)),N=w*(i-b)*k+A+w*E+(lt(g)?k*g:0),v.isRadial||(N=tr(N))),N}toPixels(i,o){return this.translate(this.chart?.time.parse(i)??NaN,!1,!this.horiz,void 0,!0)+(o?0:this.pos)}toValue(i,o){return this.translate(i-(o?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(i){let o=this,c=o.chart,h=o.left,f=o.top,g=i.old,v=i.value,b=i.lineWidth,E=g&&c.oldChartHeight||c.chartHeight,M=g&&c.oldChartWidth||c.chartWidth,w=o.transB,A=i.translatedValue,k=i.force,N,I,j,z,V;function q(ee,te,J){return k!=="pass"&&(ee<te||ee>J)&&(k?ee=Dl(ee,te,J):V=!0),ee}let Q={value:v,lineWidth:b,old:g,force:k,acrossPanes:i.acrossPanes,translatedValue:A};return Mn(this,"getPlotLinePath",Q,function(ee){N=j=(A=Dl(A=wt(A,o.translate(v,void 0,void 0,g)),-1e9,1e9))+w,I=z=E-A-w,lt(A)?o.horiz?(I=f,z=E-o.bottom+(o.options.isInternal?0:c.scrollablePixelsY||0),N=j=q(N,h,h+o.width)):(N=h,j=M-o.right+(c.scrollablePixelsX||0),I=z=q(I,f,f+o.height)):(V=!0,k=!1),ee.path=V&&!k?void 0:c.renderer.crispLine([["M",N,I],["L",j,z]],b||1)}),Q.path}getLinearTickPositions(i,o,c){let h,f,g,v=tr(Math.floor(o/i)*i),b=tr(Math.ceil(c/i)*i),E=[];if(tr(v+i)===v&&(g=20),this.single)return[o];for(h=v;h<=b&&(E.push(h),(h=tr(h+i,g))!==f);)f=h;return E}getMinorTickInterval(){let{minorTicks:i,minorTickInterval:o}=this.options;return i===!0?wt(o,"auto"):i!==!1?o:void 0}getMinorTickPositions(){let i=this.options,o=this.tickPositions,c=this.minorTickInterval,h=this.pointRangePadding||0,f=(this.min||0)-h,g=(this.max||0)+h,v=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:g-f,b=[],E;if(v&&v/c<this.len/3){let M=this.logarithmic;if(M)this.paddedTicks.forEach(function(w,A,k){A&&b.push.apply(b,M.getLogTickPositions(c,k[A-1],k[A],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")b=b.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(c),f,g,i.startOfWeek));else for(E=f+(o[0]-f)%c;E<=g&&E!==b[0];E+=c)b.push(E)}return b.length!==0&&this.trimTicks(b),b}adjustForMinRange(){let i=this.options,o=this.logarithmic,c=this.chart.time,{max:h,min:f,minRange:g}=this,v,b,E,M;this.isXAxis&&g===void 0&&!o&&(g=Dt(i.min)||Dt(i.max)||Dt(i.floor)||Dt(i.ceiling)?null:Math.min(5*($a(this.series.map(w=>{let A=w.getColumn("x");return w.xIncrement?A.slice(0,2):A}))||0),this.dataMax-this.dataMin)),lt(h)&&lt(f)&&lt(g)&&h-f<g&&(b=this.dataMax-this.dataMin>=g,v=(g-h+f)/2,E=[f-v,c.parse(i.min)??f-v],b&&(E[2]=o?o.log2lin(this.dataMin):this.dataMin),M=[(f=Gf(E))+g,c.parse(i.max)??f+g],b&&(M[2]=o?o.log2lin(this.dataMax):this.dataMax),(h=Vf(M))-f<g&&(E[0]=h-g,E[1]=c.parse(i.min)??h-g,f=Gf(E))),this.minRange=g,this.min=f,this.max=h}getClosest(){let i,o;if(this.categories)o=1;else{let c=[];this.series.forEach(function(h){let f=h.closestPointRange,g=h.getColumn("x");g.length===1?c.push(g[0]):h.sorted&&Dt(f)&&h.reserveSpace()&&(o=Dt(o)?Math.min(o,f):f)}),c.length&&(c.sort((h,f)=>h-f),i=$a([c]))}return i&&o?Math.min(i,o):i||o}nameToX(i){let o=Wf(this.options.categories),c=o?this.categories:this.names,h=i.options.x,f;return i.series.requireSorting=!1,Dt(h)||(h=this.uniqueNames&&c?o?c.indexOf(i.name):wt(c.keys[i.name],-1):i.series.autoIncrement()),h===-1?!o&&c&&(f=c.length):lt(h)&&(f=h),f!==void 0?(this.names[f]=i.name,this.names.keys[i.name]=f):i.x&&(f=i.x),f}updateNames(){let i=this,o=this.names;o.length>0&&(Object.keys(o.keys).forEach(function(c){delete o.keys[c]}),o.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(c=>{c.xIncrement=null,(!c.points||c.isDirtyData)&&(i.max=Math.max(i.max||0,c.dataTable.rowCount-1),c.processData(),c.generatePoints());let h=c.getColumn("x").slice();c.data.forEach((f,g)=>{let v=h[g];f?.options&&f.name!==void 0&&(v=i.nameToX(f))!==void 0&&v!==f.x&&(h[g]=f.x=v)}),c.dataTable.setColumn("x",h)}))}setAxisTranslation(){let i=this,o=i.max-i.min,c=i.linkedParent,h=!!i.categories,f=i.isXAxis,g=i.axisPointRange||0,v,b=0,E=0,M,w=i.transA;(f||h||g)&&(v=i.getClosest(),c?(b=c.minPointOffset,E=c.pointRangePadding):i.series.forEach(function(A){let k=h?1:f?wt(A.options.pointRange,v,0):i.axisPointRange||0,N=A.options.pointPlacement;if(g=Math.max(g,k),!i.single||h){let I=A.is("xrange")?!f:f;b=Math.max(b,I&&Rs(N)?0:k/2),E=Math.max(E,I&&N==="on"?0:k)}}),M=i.ordinal?.slope&&v?i.ordinal.slope/v:1,i.minPointOffset=b*=M,i.pointRangePadding=E*=M,i.pointRange=Math.min(g,i.single&&h?1:o),f&&(i.closestPointRange=v)),i.translationSlope=i.transA=w=i.staticScale||i.len/(o+E||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=w*b,Mn(this,"afterSetAxisTranslation")}minFromRange(){let{max:i,min:o}=this;return lt(i)&&lt(o)&&i-o||void 0}setTickInterval(i){let{categories:o,chart:c,dataMax:h,dataMin:f,dateTime:g,isXAxis:v,logarithmic:b,options:E,softThreshold:M}=this,w=c.time,A=lt(this.threshold)?this.threshold:void 0,k=this.minRange||0,{ceiling:N,floor:I,linkedTo:j,softMax:z,softMin:V}=E,q=lt(j)&&c[this.coll]?.[j],Q=E.tickPixelInterval,ee=E.maxPadding,te=E.minPadding,J=0,ne,de=lt(E.tickInterval)&&E.tickInterval>=0?E.tickInterval:void 0,me,se,we,Ne;if(g||o||q||this.getTickAmount(),we=wt(this.userMin,w.parse(E.min)),Ne=wt(this.userMax,w.parse(E.max)),q?(this.linkedParent=q,ne=q.getExtremes(),this.min=wt(ne.min,ne.dataMin),this.max=wt(ne.max,ne.dataMax),this.type!==q.type&&Ma(11,!0,c)):(M&&Dt(A)&&lt(h)&&lt(f)&&(f>=A?(me=A,te=0):h<=A&&(se=A,ee=0)),this.min=wt(we,me,f),this.max=wt(Ne,se,h)),lt(this.max)&&lt(this.min)&&(b&&(this.positiveValuesOnly&&!i&&0>=Math.min(this.min,wt(f,this.min))&&Ma(10,!0,c),this.min=tr(b.log2lin(this.min),16),this.max=tr(b.log2lin(this.max),16)),this.range&&lt(f)&&(this.userMin=this.min=we=Math.max(f,this.minFromRange()||0),this.userMax=Ne=this.max,this.range=void 0)),Mn(this,"foundExtremes"),this.adjustForMinRange(),lt(this.min)&&lt(this.max)){if(!lt(this.userMin)&&lt(V)&&V<this.min&&(this.min=we=V),!lt(this.userMax)&&lt(z)&&z>this.max&&(this.max=Ne=z),o||this.axisPointRange||this.stacking?.usePercentage||q||(J=this.max-this.min)&&(!Dt(we)&&te&&(this.min-=J*te),!Dt(Ne)&&ee&&(this.max+=J*ee)),!lt(this.userMin)&&lt(I)&&(this.min=Math.max(this.min,I)),!lt(this.userMax)&&lt(N)&&(this.max=Math.min(this.max,N)),M&&lt(f)&&lt(h)){let He=A||0;!Dt(we)&&this.min<He&&f>=He?this.min=E.minRange?Math.min(He,this.max-k):He:!Dt(Ne)&&this.max>He&&h<=He&&(this.max=E.minRange?Math.max(He,this.min+k):He)}!c.polar&&this.min>this.max&&(Dt(E.min)?this.max=this.min:Dt(E.max)&&(this.min=this.max)),J=this.max-this.min}if(this.min!==this.max&&lt(this.min)&&lt(this.max)?q&&!de&&Q===q.options.tickPixelInterval?this.tickInterval=de=q.tickInterval:this.tickInterval=wt(de,this.tickAmount?J/Math.max(this.tickAmount-1,1):void 0,o?1:J*Q/Math.max(this.len,Q)):this.tickInterval=1,v&&!i){let He=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(Ue){Ue.forceCrop=Ue.forceCropping?.(),Ue.processData(He)}),Mn(this,"postProcessData",{hasExtremesChanged:He})}this.setAxisTranslation(),Mn(this,"initialAxisTranslation"),this.pointRange&&!de&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let _e=wt(E.minTickInterval,g&&!this.series.some(He=>!He.sorted)?this.closestPointRange:0);!de&&_e&&this.tickInterval<_e&&(this.tickInterval=_e),g||b||de||(this.tickInterval=Rd(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let i=this.options,o=i.tickPositions,c=i.tickPositioner,h=this.getMinorTickInterval(),f=!this.isPanning,g=f&&i.startOnTick,v=f&&i.endOnTick,b=[],E;if(this.tickmarkOffset=this.categories&&i.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&Dt(this.min)&&!this.tickAmount&&(this.min%1==0||i.allowDecimals!==!1),o)b=o.slice();else if(lt(this.min)&&lt(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))b=[this.min,this.max],Ma(19,!1,this.chart);else if(this.dateTime)b=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)b=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let M=this.tickInterval,w=M;for(;w<=2*M&&(b=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&b.length>this.tickAmount);)this.tickInterval=Rd(this,w*=1.1)}b.length>this.len&&(b=[b[0],b[b.length-1]])[0]===b[1]&&(b.length=1),c&&(this.tickPositions=b,(E=c.apply(this,[this.min,this.max]))&&(b=E))}this.tickPositions=b,this.minorTickInterval=h==="auto"&&this.tickInterval?this.tickInterval/i.minorTicksPerMajor:h,this.paddedTicks=b.slice(0),this.trimTicks(b,g,v),!this.isLinked&&lt(this.min)&&lt(this.max)&&(this.single&&b.length<2&&!this.categories&&!this.series.some(M=>M.is("heatmap")&&M.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),o||E||this.adjustTickAmount()),Mn(this,"afterSetTickPositions")}trimTicks(i,o,c){let h=i[0],f=i[i.length-1],g=!this.isOrdinal&&this.minPointOffset||0;if(Mn(this,"trimTicks"),!this.isLinked||!this.grid){if(o&&h!==-1/0)this.min=h;else for(;this.min-g>i[0];)i.shift();if(c)this.max=f;else for(;this.max+g<i[i.length-1];)i.pop();i.length===0&&Dt(h)&&!this.options.tickPositions&&i.push((f+h)/2)}}alignToOthers(){let i,o=this,c=o.chart,h=[this],f=o.options,g=c.options.chart,v=this.coll==="yAxis"&&g.alignThresholds,b=[];if(o.thresholdAlignment=void 0,(g.alignTicks!==!1&&f.alignTicks||v)&&f.startOnTick!==!1&&f.endOnTick!==!1&&!o.logarithmic){let E=w=>{let{horiz:A,options:k}=w;return[A?k.left:k.top,k.width,k.height,k.pane].join(",")},M=E(this);c[this.coll].forEach(function(w){let{series:A}=w;A.length&&A.some(k=>k.visible)&&w!==o&&E(w)===M&&(i=!0,h.push(w))})}if(i&&v){h.forEach(M=>{let w=M.getThresholdAlignment(o);lt(w)&&b.push(w)});let E=b.length>1?b.reduce((M,w)=>M+=w,0)/b.length:void 0;h.forEach(M=>{M.thresholdAlignment=E})}return i}getThresholdAlignment(i){if((!lt(this.dataMin)||this!==i&&this.series.some(o=>o.isDirty||o.isDirtyData||o.xAxis?.isDirty))&&this.getSeriesExtremes(),lt(this.threshold)){let o=Dl((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(o=1-o),o}}getTickAmount(){let i=this.options,o=i.tickPixelInterval,c=i.tickAmount;Dt(i.tickInterval)||c||!(this.len<o)||this.isRadial||this.logarithmic||!i.startOnTick||!i.endOnTick||(c=2),!c&&this.alignToOthers()&&(c=Math.ceil(this.len/o)+1),c<4&&(this.finalTickAmt=c,c=5),this.tickAmount=c}adjustTickAmount(){let i=this,{finalTickAmt:o,max:c,min:h,options:f,tickPositions:g,tickAmount:v,thresholdAlignment:b}=i,E=g?.length,M=wt(i.threshold,i.softThreshold?0:null),w,A,k=i.tickInterval,N,I=()=>g.push(tr(g[g.length-1]+k)),j=()=>g.unshift(tr(g[0]-k));if(lt(b)&&(N=b===0?0:b===1?v-1:Math.round(Dl(b*(v-1),1,v-2)),f.reversed&&(N=v-1-N)),i.hasData()&&lt(h)&&lt(c)){let z=()=>{i.transA*=(E-1)/(v-1),i.min=f.startOnTick?g[0]:Math.min(h,g[0]),i.max=f.endOnTick?g[g.length-1]:Math.max(c,g[g.length-1])};if(lt(N)&&lt(i.threshold)){for(;g[N]!==M||g.length!==v||g[0]>h||g[g.length-1]<c;){for(g.length=0,g.push(i.threshold);g.length<v;)g[N]===void 0||g[N]>i.threshold?j():I();if(k>8*i.tickInterval)break;k*=2}z()}else if(E<v){for(;g.length<v;)g.length%2||h===M?I():j();z()}if(Dt(o)){for(A=w=g.length;A--;)(o===3&&A%2==1||o<=2&&A>0&&A<w-1)&&g.splice(A,1);i.finalTickAmt=void 0}}}setScale(){let{coll:i,stacking:o}=this,c=!1,h=!1;this.series.forEach(g=>{c=c||g.isDirtyData||g.isDirty,h=h||g.xAxis?.isDirty||!1}),this.setAxisSize();let f=this.len!==this.old?.len;f||c||h||this.isLinked||this.forceRedraw||this.userMin!==this.old?.userMin||this.userMax!==this.old?.userMax||this.alignToOthers()?(o&&i==="yAxis"&&o.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),o&&i==="xAxis"&&o.buildStacks(),this.isDirty||(this.isDirty=f||this.min!==this.old?.min||this.max!==this.old?.max)):o&&o.cleanStacks(),c&&delete this.allExtremes,Mn(this,"afterSetScale")}setExtremes(i,o,c=!0,h,f){let g=this.chart;this.series.forEach(v=>{delete v.kdTree}),i=g.time.parse(i),o=g.time.parse(o),Mn(this,"setExtremes",f=qi(f,{min:i,max:o}),v=>{this.userMin=v.min,this.userMax=v.max,this.eventArgs=v,c&&g.redraw(h)})}setAxisSize(){let i=this.chart,o=this.options,c=o.offsets||[0,0,0,0],h=this.horiz,f=this.width=Math.round(Br(wt(o.width,i.plotWidth-c[3]+c[1]),i.plotWidth)),g=this.height=Math.round(Br(wt(o.height,i.plotHeight-c[0]+c[2]),i.plotHeight)),v=this.top=Math.round(Br(wt(o.top,i.plotTop+c[0]),i.plotHeight,i.plotTop)),b=this.left=Math.round(Br(wt(o.left,i.plotLeft+c[3]),i.plotWidth,i.plotLeft));this.bottom=i.chartHeight-g-v,this.right=i.chartWidth-f-b,this.len=Math.max(h?f:g,0),this.pos=h?b:v}getExtremes(){let i=this.logarithmic;return{min:i?tr(i.lin2log(this.min)):this.min,max:i?tr(i.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(i){let o=this.logarithmic,c=o?o.lin2log(this.min):this.min,h=o?o.lin2log(this.max):this.max;return i===null||i===-1/0?i=c:i===1/0?i=h:c>i?i=c:h<i&&(i=h),this.translate(i,0,1,0,1)}autoLabelAlign(i){let o=((i-90*this.side)%360+360)%360,c={align:"center"};return Mn(this,"autoLabelAlign",c,function(h){o>15&&o<165?h.align="right":o>195&&o<345&&(h.align="left")}),c.align}tickSize(i){let o=this.options,c=wt(o[i==="tick"?"tickWidth":"minorTickWidth"],i==="tick"&&this.isXAxis&&!this.categories?1:0),h=o[i==="tick"?"tickLength":"minorTickLength"],f;c&&h&&(o[i+"Position"]==="inside"&&(h=-h),f=[h,c]);let g={tickSize:f};return Mn(this,"afterTickSize",g),g.tickSize}labelMetrics(){let i=this.chart.renderer,o=this.ticks,c=o[Object.keys(o)[0]]||{};return this.chart.renderer.fontMetrics(c.label||c.movedLabel||i.box)}unsquish(){let i=this.options.labels,o=i.padding||0,c=this.horiz,h=this.tickInterval,f=this.len/((+!!this.categories+this.max-this.min)/h),g=i.rotation,v=tr(.8*this.labelMetrics().h),b=Math.max(this.max-this.min,0),E=function(N){let I=(N+2*o)/(f||1);return(I=I>1?Math.ceil(I):1)*h>b&&N!==1/0&&f!==1/0&&b&&(I=Math.ceil(b/h)),tr(I*h)},M=h,w,A=Number.MAX_VALUE,k;if(c){if(!i.staggerLines&&(lt(g)?k=[g]:f<i.autoRotationLimit&&(k=i.autoRotation)),k){let N,I;for(let j of k)(j===g||j&&j>=-90&&j<=90)&&(I=(N=E(Math.abs(v/Math.sin(Ya*j))))+Math.abs(j/360))<A&&(A=I,w=j,M=N)}}else M=E(.75*v);return this.autoRotation=k,this.labelRotation=wt(w,lt(g)?g:0),i.step?h:M}getSlotWidth(i){let o=this.chart,c=this.horiz,h=this.options.labels,f=Math.max(this.tickPositions.length-!this.categories,1),g=o.margin[3];if(i&&lt(i.slotWidth))return i.slotWidth;if(c&&h.step<2&&!this.isRadial)return h.rotation?0:(this.staggerLines||1)*this.len/f;if(!c){let v=h.style.width;if(v!==void 0)return parseInt(String(v),10);if(!this.opposite&&g)return g-o.spacing[3]}return .33*o.chartWidth}renderUnsquish(){let i=this.chart,o=i.renderer,c=this.tickPositions,h=this.ticks,f=this.options.labels,g=f.style,v=this.horiz,b=this.getSlotWidth(),E=Math.max(1,Math.round(b-(v?2*(f.padding||0):f.distance||0))),M={},w=this.labelMetrics(),A=g.lineClamp,k,N=A??(Math.floor(this.len/(c.length*w.h))||1),I=0;Rs(f.rotation)||(M.rotation=f.rotation||0),c.forEach(function(j){let z=h[j];z.movedLabel&&z.replaceMovedLabel();let V=z.label?.textPxLength||0;V>I&&(I=V)}),this.maxLabelLength=I,this.autoRotation?I>E&&I>w.h?M.rotation=this.labelRotation:this.labelRotation=0:b&&(k=E),M.rotation&&(k=I>.5*i.chartHeight?.33*i.chartHeight:I,A||(N=1)),this.labelAlign=f.align||this.autoLabelAlign(this.labelRotation||0),this.labelAlign&&(M.align=this.labelAlign),c.forEach(function(j){let z=h[j],V=z?.label,q=g.width,Q={};V&&(V.attr(M),z.shortenLabel?z.shortenLabel():k&&!q&&g.whiteSpace!=="nowrap"&&(k<(V.textPxLength||0)||V.element.tagName==="SPAN")?V.css(qi(Q,{width:`${k}px`,lineClamp:N})):!V.styles.width||Q.width||q||V.css({width:"auto"}),z.rotation=M.rotation)},this),this.tickRotCorr=o.rotCorr(w.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(i){return i.hasData()})||this.options.showEmpty&&Dt(this.min)&&Dt(this.max)}addTitle(i){let o,c=this.chart.renderer,h=this.horiz,f=this.opposite,g=this.options.title,v=this.chart.styledMode;this.axisTitle||((o=g.textAlign)||(o=(h?{low:"left",middle:"center",high:"right"}:{low:f?"right":"left",middle:"center",high:f?"left":"right"})[g.align]),this.axisTitle=c.text(g.text||"",0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:o}).addClass("highcharts-axis-title"),v||this.axisTitle.css(Tl(g.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),v||g.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[i?"show":"hide"](i)}generateTick(i){let o=this.ticks;o[i]?o[i].addLabel():o[i]=new Da(this,i)}createGroups(){let{axisParent:i,chart:o,coll:c,options:h}=this,f=o.renderer,g=(v,b,E)=>f.g(v).attr({zIndex:E}).addClass(`highcharts-${c.toLowerCase()}${b} `+(this.isRadial?`highcharts-radial-axis${b} `:"")+(h.className||"")).add(i);this.axisGroup||(this.gridGroup=g("grid","-grid",h.gridZIndex),this.axisGroup=g("axis","",h.zIndex),this.labelGroup=g("axis-labels","-labels",h.labels.zIndex))}getOffset(){let i=this,{chart:o,horiz:c,options:h,side:f,ticks:g,tickPositions:v,coll:b}=i,E=o.inverted&&!i.isZAxis?[1,0,3,2][f]:f,M=i.hasData(),w=h.title,A=h.labels,k=lt(h.crossing),N=o.axisOffset,I=o.clipOffset,j=[-1,1,1,-1][f],z,V=0,q,Q=0,ee=0,te,J;if(i.showAxis=z=M||h.showEmpty,i.staggerLines=i.horiz&&A.staggerLines||void 0,i.createGroups(),M||i.isLinked?(v.forEach(function(ne){i.generateTick(ne)}),i.renderUnsquish(),i.reserveSpaceDefault=f===0||f===2||{1:"left",3:"right"}[f]===i.labelAlign,wt(A.reserveSpace,!k&&null,i.labelAlign==="center"||null,i.reserveSpaceDefault)&&v.forEach(function(ne){ee=Math.max(g[ne].getLabelSize(),ee)}),i.staggerLines&&(ee*=i.staggerLines),i.labelOffset=ee*(i.opposite?-1:1)):Ml(g,function(ne,de){ne.destroy(),delete g[de]}),w?.text&&w.enabled!==!1&&(i.addTitle(z),z&&!k&&w.reserveSpace!==!1&&(i.titleOffset=V=i.axisTitle.getBBox()[c?"height":"width"],Q=Dt(q=w.offset)?0:wt(w.margin,c?5:10))),i.renderLine(),i.offset=j*wt(h.offset,N[f]?N[f]+(h.margin||0):0),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},J=f===0?-i.labelMetrics().h:f===2?i.tickRotCorr.y:0,te=Math.abs(ee)+Q,ee&&(te-=J,te+=j*(c?wt(A.y,i.tickRotCorr.y+j*A.distance):wt(A.x,j*A.distance))),i.axisTitleMargin=wt(q,te),i.getMaxLabelDimensions&&(i.maxLabelDimensions=i.getMaxLabelDimensions(g,v)),b!=="colorAxis"&&I){let ne=this.tickSize("tick");N[f]=Math.max(N[f],(i.axisTitleMargin||0)+V+j*i.offset,te,v?.length&&ne?ne[0]+j*i.offset:0);let de=!i.axisLine||h.offset?0:i.axisLine.strokeWidth()/2;I[E]=Math.max(I[E],de)}Mn(this,"afterGetOffset")}getLinePath(i){let o=this.chart,c=this.opposite,h=this.offset,f=this.horiz,g=this.left+(c?this.width:0)+h,v=o.chartHeight-this.bottom-(c?this.height:0)+h;return c&&(i*=-1),o.renderer.crispLine([["M",f?this.left:g,f?v:this.top],["L",f?o.chartWidth-this.right:g,f?v:o.chartHeight-this.bottom]],i)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(i){let o=this.horiz,c=this.left,h=this.top,f=this.len,g=this.options.title,v=o?c:h,b=this.opposite,E=this.offset,M=g.x,w=g.y,A=this.chart.renderer.fontMetrics(i),k=i?Math.max(i.getBBox(!1,0).height-A.h-1,0):0,N={low:v+(o?0:f),middle:v+f/2,high:v+(o?f:0)}[g.align],I=(o?h+this.height:c)+(o?1:-1)*(b?-1:1)*(this.axisTitleMargin||0)+[-k,k,A.f,-k][this.side],j={x:o?N+M:I+(b?this.width:0)+E+M,y:o?I+w-(b?this.height:0)+E:N+w};return Mn(this,"afterGetTitlePosition",{titlePosition:j}),j}renderMinorTick(i,o){let c=this.minorTicks;c[i]||(c[i]=new Da(this,i,"minor")),o&&c[i].isNew&&c[i].render(null,!0),c[i].render(null,!1,1)}renderTick(i,o,c){let h=this.isLinked,f=this.ticks;(!h||i>=this.min&&i<=this.max||this.grid?.isColumn)&&(f[i]||(f[i]=new Da(this,i)),c&&f[i].isNew&&f[i].render(o,!0,-1),f[i].render(o))}render(){let i,o,c=this,h=c.chart,f=c.logarithmic,g=h.renderer,v=c.options,b=c.isLinked,E=c.tickPositions,M=c.axisTitle,w=c.ticks,A=c.minorTicks,k=c.alternateBands,N=v.stackLabels,I=v.alternateGridColor,j=v.crossing,z=c.tickmarkOffset,V=c.axisLine,q=c.showAxis,Q=jr(g.globalAnimation);if(c.labelEdge.length=0,c.overlap=!1,[w,A,k].forEach(function(ee){Ml(ee,function(te){te.isActive=!1})}),lt(j)){let ee=this.isXAxis?h.yAxis[0]:h.xAxis[0],te=[1,-1,-1,1][this.side];if(ee){let J=ee.toPixels(j,!0);c.horiz&&(J=ee.len-J),c.offset=te*J}}if(c.hasData()||b){let ee=c.chart.hasRendered&&c.old&&lt(c.old.min);c.minorTickInterval&&!c.categories&&c.getMinorTickPositions().forEach(function(te){c.renderMinorTick(te,ee)}),E.length&&(E.forEach(function(te,J){c.renderTick(te,J,ee)}),z&&(c.min===0||c.single)&&(w[-1]||(w[-1]=new Da(c,-1,null,!0)),w[-1].render(-1))),I&&E.forEach(function(te,J){o=E[J+1]!==void 0?E[J+1]+z:c.max-z,J%2==0&&te<c.max&&o<=c.max+(h.polar?-z:z)&&(k[te]||(k[te]=new ce.PlotLineOrBand(c,{})),i=te+z,k[te].options={from:f?f.lin2log(i):i,to:f?f.lin2log(o):o,color:I,className:"highcharts-alternate-grid"},k[te].render(),k[te].isActive=!0)}),c._addedPlotLB||(c._addedPlotLB=!0,(v.plotLines||[]).concat(v.plotBands||[]).forEach(function(te){c.addPlotBandOrLine(te)}))}[w,A,k].forEach(function(ee){let te=[],J=Q.duration;Ml(ee,function(ne,de){ne.isActive||(ne.render(de,!1,0),ne.isActive=!1,te.push(de))}),Yf(function(){let ne=te.length;for(;ne--;)ee[te[ne]]&&!ee[te[ne]].isActive&&(ee[te[ne]].destroy(),delete ee[te[ne]])},ee!==k&&h.hasRendered&&J?J:0)}),V&&(V[V.isPlaced?"animate":"attr"]({d:this.getLinePath(V.strokeWidth())}),V.isPlaced=!0,V[q?"show":"hide"](q)),M&&q&&(M[M.isNew?"attr":"animate"](c.getTitlePosition(M)),M.isNew=!1),N?.enabled&&c.stacking&&c.stacking.renderStackTotals(),c.old={len:c.len,max:c.max,min:c.min,transA:c.transA,userMax:c.userMax,userMin:c.userMin},c.isDirty=!1,Mn(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(i){i.render()})),this.series.forEach(function(i){i.isDirty=!0})}getKeepProps(){return this.keepProps||nr.keepProps}destroy(i){let o=this,c=o.plotLinesAndBands,h=this.eventOptions;if(Mn(this,"destroy",{keepEvents:i}),i||ks(o),[o.ticks,o.minorTicks,o.alternateBands].forEach(function(f){Nn(f)}),c){let f=c.length;for(;f--;)c[f].destroy()}for(let f in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(g){o[g]&&(o[g]=o[g].destroy())}),o.plotLinesAndBandsGroups)o.plotLinesAndBandsGroups[f]=o.plotLinesAndBandsGroups[f].destroy();Ml(o,function(f,g){o.getKeepProps().indexOf(g)===-1&&delete o[g]}),this.eventOptions=h}drawCrosshair(i,o){let c=this.crosshair,h=c?.snap??!0,f=this.chart,g,v,b,E=this.cross,M;if(Mn(this,"drawCrosshair",{e:i,point:o}),i||(i=this.cross?.e),c&&(Dt(o)||!h)!==!1){if(h?Dt(o)&&(v=wt(this.coll!=="colorAxis"?o.crosshairPos:null,this.isXAxis?o.plotX:this.len-o.plotY)):v=i&&(this.horiz?i.chartX-this.pos:this.len-i.chartY+this.pos),Dt(v)&&(M={value:o&&(this.isXAxis?o.x:wt(o.stackY,o.y)),translatedValue:v},f.polar&&qi(M,{isCrosshair:!0,chartX:i?.chartX,chartY:i?.chartY,point:o}),g=this.getPlotLinePath(M)||null),!Dt(g))return void this.hideCrosshair();b=this.categories&&!this.isRadial,E||(this.cross=E=f.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(b?"category ":"thin ")+(c.className||"")).attr({zIndex:wt(c.zIndex,2)}).add(),!f.styledMode&&(E.attr({stroke:c.color||(b?at.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":wt(c.width,1)}).css({"pointer-events":"none"}),c.dashStyle&&E.attr({dashstyle:c.dashStyle}))),E.show().attr({d:g}),b&&!c.width&&E.attr({"stroke-width":this.transA}),this.cross.e=i}else this.hideCrosshair();Mn(this,"afterDrawCrosshair",{e:i,point:o})}hideCrosshair(){this.cross&&this.cross.hide(),Mn(this,"afterHideCrosshair")}update(i,o){let c=this.chart;i=Tl(this.userOptions,i),this.destroy(!0),this.init(c,i),c.isDirtyBox=!0,wt(o,!0)&&c.redraw()}remove(i){let o=this.chart,c=this.coll,h=this.series,f=h.length;for(;f--;)h[f]&&h[f].remove(!1);Yt(o.axes,this),Yt(o[c]||[],this),o.orderItems(c),this.destroy(),o.isDirtyBox=!0,wt(i,!0)&&o.redraw()}setTitle(i,o){this.update({title:i},o)}setCategories(i,o){this.update({categories:i},o)}}nr.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:kd,getMagnitude:xo,normalizeTickInterval:Oi,timeUnits:wo}=We;(function(x){function i(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function o(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new c(this))}x.compose=function(h){return h.keepProps.includes("dateTime")||(h.keepProps.push("dateTime"),h.prototype.getTimeTicks=i,kd(h,"afterSetType",o)),h};class c{constructor(f){this.axis=f}normalizeTimeTickInterval(f,g){let v=g||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],b=v[v.length-1],E=wo[b[0]],M=b[1],w;for(w=0;w<v.length&&(E=wo[(b=v[w])[0]],M=b[1],!v[w+1]||!(f<=(E*M[M.length-1]+wo[v[w+1][0]])/2));w++);E===wo.year&&f<5*E&&(M=[1,2,5]);let A=Oi(f/E,M,b[0]==="year"?Math.max(xo(f/E),1):1);return{unitRange:E,count:A,unitName:b[0]}}getXDateFormat(f,g){let{axis:v}=this,b=v.chart.time;return v.closestPointRange?b.getDateFormat(v.closestPointRange,f,v.options.startOfWeek,g)||b.resolveDTLFormat(g.year).main:b.resolveDTLFormat(g.day).main}}x.Additions=c})(le||(le={}));let $f=le,{addEvent:Gm,normalizeTickInterval:w0,pick:S0}=We;(function(x){function i(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new c(this))}function o(){let h=this.logarithmic;h&&(this.lin2val=function(f){return h.lin2log(f)},this.val2lin=function(f){return h.log2lin(f)})}x.compose=function(h){return h.keepProps.includes("logarithmic")||(h.keepProps.push("logarithmic"),Gm(h,"afterSetType",i),Gm(h,"afterInit",o)),h};class c{constructor(f){this.axis=f}getLogTickPositions(f,g,v,b){let E=this.axis,M=E.len,w=E.options,A=[];if(b||(this.minorAutoInterval=void 0),f>=.5)f=Math.round(f),A=E.getLinearTickPositions(f,g,v);else if(f>=.08){let k,N,I,j,z,V,q,Q=Math.floor(g);for(k=f>.3?[1,2,4]:f>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],N=Q;N<v+1&&!q;N++)for(I=0,j=k.length;I<j&&!q;I++)(z=this.log2lin(this.lin2log(N)*k[I]))>g&&(!b||V<=v)&&V!==void 0&&A.push(V),V>v&&(q=!0),V=z}else{let k=this.lin2log(g),N=this.lin2log(v),I=b?E.getMinorTickInterval():w.tickInterval,j=w.tickPixelInterval/(b?5:1),z=b?M/E.tickPositions.length:M;f=w0(f=S0(I==="auto"?null:I,this.minorAutoInterval,(N-k)*j/(z||1))),A=E.getLinearTickPositions(f,k,N).map(this.log2lin),b||(this.minorAutoInterval=f/5)}return b||(E.tickInterval=f),A}lin2log(f){return Math.pow(10,f)}log2lin(f){return Math.log(f)/Math.LN10}}x.Additions=c})(ye||(ye={}));let ci=ye,{erase:qf,extend:Hc,isNumber:_l}=We;(function(x){let i;function o(E){return this.addPlotBandOrLine(E,"plotBands")}function c(E,M){let w=this.userOptions,A=new i(this,E);if(this.visible&&(A=A.render()),A){if(this._addedPlotLB||(this._addedPlotLB=!0,(w.plotLines||[]).concat(w.plotBands||[]).forEach(k=>{this.addPlotBandOrLine(k)})),M){let k=w[M]||[];k.push(E),w[M]=k}this.plotLinesAndBands.push(A)}return A}function h(E){return this.addPlotBandOrLine(E,"plotLines")}function f(E,M,w){w=w||this.options;let A=this.getPlotLinePath({value:M,force:!0,acrossPanes:w.acrossPanes}),k=[],N=this.horiz,I=!_l(this.min)||!_l(this.max)||E<this.min&&M<this.min||E>this.max&&M>this.max,j=this.getPlotLinePath({value:E,force:!0,acrossPanes:w.acrossPanes}),z,V=1,q;if(j&&A)for(I&&(q=j.toString()===A.toString(),V=0),z=0;z<j.length;z+=2){let Q=j[z],ee=j[z+1],te=A[z],J=A[z+1];(Q[0]==="M"||Q[0]==="L")&&(ee[0]==="M"||ee[0]==="L")&&(te[0]==="M"||te[0]==="L")&&(J[0]==="M"||J[0]==="L")&&(N&&te[1]===Q[1]?(te[1]+=V,J[1]+=V):N||te[2]!==Q[2]||(te[2]+=V,J[2]+=V),k.push(["M",Q[1],Q[2]],["L",ee[1],ee[2]],["L",J[1],J[2]],["L",te[1],te[2]],["Z"])),k.isFlat=q}return k}function g(E){this.removePlotBandOrLine(E)}function v(E){let M=this.plotLinesAndBands,w=this.options,A=this.userOptions;if(M){let k=M.length;for(;k--;)M[k].id===E&&M[k].destroy();[w.plotLines||[],A.plotLines||[],w.plotBands||[],A.plotBands||[]].forEach(function(N){for(k=N.length;k--;)N[k]?.id===E&&qf(N,N[k])})}}function b(E){this.removePlotBandOrLine(E)}x.compose=function(E,M){let w=M.prototype;return w.addPlotBand||(i=E,Hc(w,{addPlotBand:o,addPlotLine:h,addPlotBandOrLine:c,getPlotBandPath:f,removePlotBand:g,removePlotLine:b,removePlotBandOrLine:v})),M}})(De||(De={}));let Xf=De,{addEvent:Rl,arrayMax:So,arrayMin:Vm,defined:sa,destroyObjectProperties:E0,erase:Wm,fireEvent:Eo,merge:Od,objectEach:Nd,pick:Ym}=We;class Xa{static compose(i,o){return Rl(i,"afterInit",function(){this.labelCollectors.push(()=>{let c=[];for(let h of this.axes)for(let{label:f,options:g}of h.plotLinesAndBands)f&&!g?.label?.allowOverlap&&c.push(f);return c})}),Xf.compose(Xa,o)}constructor(i,o){this.axis=i,this.options=o,this.id=o.id}render(){Eo(this,"render");let{axis:i,options:o}=this,{horiz:c,logarithmic:h}=i,{color:f,events:g,zIndex:v=0}=o,{renderer:b,time:E}=i.chart,M={},w=E.parse(o.to),A=E.parse(o.from),k=E.parse(o.value),N=o.borderWidth,I=o.label,{label:j,svgElem:z}=this,V=[],q,Q=sa(A)&&sa(w),ee=sa(k),te=!z,J={class:"highcharts-plot-"+(Q?"band ":"line ")+(o.className||"")},ne=Q?"bands":"lines";if(!i.chart.styledMode&&(ee?(J.stroke=f||"#999999",J["stroke-width"]=Ym(o.width,1),o.dashStyle&&(J.dashstyle=o.dashStyle)):Q&&(J.fill=f||"#e6e9ff",N&&(J.stroke=o.borderColor,J["stroke-width"]=N))),M.zIndex=v,ne+="-"+v,(q=i.plotLinesAndBandsGroups[ne])||(i.plotLinesAndBandsGroups[ne]=q=b.g("plot-"+ne).attr(M).add()),z||(this.svgElem=z=b.path().attr(J).add(q)),sa(k))V=i.getPlotLinePath({value:h?.log2lin(k)??k,lineWidth:z.strokeWidth(),acrossPanes:o.acrossPanes});else{if(!(sa(A)&&sa(w)))return;V=i.getPlotBandPath(h?.log2lin(A)??A,h?.log2lin(w)??w,o)}return!this.eventsAdded&&g&&(Nd(g,(de,me)=>{z?.on(me,se=>{g[me].apply(this,[se])})}),this.eventsAdded=!0),(te||!z.d)&&V?.length?z.attr({d:V}):z&&(V?(z.show(),z.animate({d:V})):z.d&&(z.hide(),j&&(this.label=j=j.destroy()))),I&&(sa(I.text)||sa(I.formatter))&&V?.length&&i.width>0&&i.height>0&&!V.isFlat?(I=Od({align:c&&Q?"center":void 0,x:c?!Q&&4:10,verticalAlign:!c&&Q?"middle":void 0,y:c?Q?16:10:Q?6:-4,rotation:c&&!Q?90:0,...Q?{inside:!0}:{}},I),this.renderLabel(I,V,Q,v)):j&&j.hide(),this}renderLabel(i,o,c,h){let f=this.axis,g=f.chart.renderer,v=i.inside,b=this.label;b||(this.label=b=g.text(this.getLabelText(i),0,0,i.useHTML).attr({align:i.textAlign||i.align,rotation:i.rotation,class:"highcharts-plot-"+(c?"band":"line")+"-label "+(i.className||""),zIndex:h}),f.chart.styledMode||b.css(Od({color:f.chart.options.title?.style?.color,fontSize:"0.8em",textOverflow:c&&!v?"":"ellipsis"},i.style)),b.add());let E=o.xBounds||[o[0][1],o[1][1],c?o[2][1]:o[0][1]],M=o.yBounds||[o[0][2],o[1][2],c?o[2][2]:o[0][2]],w=Vm(E),A=Vm(M),k=So(E)-w;b.align(i,!1,{x:w,y:A,width:k,height:So(M)-A}),b.alignAttr.y-=g.fontMetrics(b).b,(!b.alignValue||b.alignValue==="left"||sa(v))&&b.css({width:(i.style?.width||(c&&v?k:b.rotation===90?f.height-(b.alignAttr.y-f.top):(i.clip?f.width:f.chart.chartWidth)-(b.alignAttr.x-f.left)))+"px"}),b.show(!0)}getLabelText(i){return sa(i.formatter)?i.formatter.call(this):i.text}destroy(){Wm(this.axis.plotLinesAndBands,this),delete this.axis,E0(this)}}let{animObject:Zf}=Ai,{format:Uc}=$n,{composed:Ld,dateFormats:$m,doc:Qf,isSafari:Ao}=ce,{distribute:Co}=hl,{addEvent:Kf,clamp:Do,css:To,clearTimeout:Os,discardElement:Id,extend:Gc,fireEvent:kl,getAlignFactor:Jf,isArray:Mo,isNumber:qm,isObject:Ns,isString:Vc,merge:ep,pick:br,pushUnique:Ls,splat:_o,syncTimeout:tp}=We;class Wc{constructor(i,o,c){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=i,this.init(i,o),this.pointer=c}bodyFormatter(i){return i.map(o=>{let c=o.series.tooltipOptions,h=o.formatPrefix||"point";return(c[h+"Formatter"]||o.tooltipFormatter).call(o,c[h+"Format"]||"")})}cleanSplit(i){this.chart.series.forEach(function(o){let c=o?.tt;c&&(!c.isActive||i?o.tt=c.destroy():c.isActive=!1)})}defaultFormatter(i){let o,c=this.points||_o(this);return(o=(o=[i.headerFooterFormatter(c[0])]).concat(i.bodyFormatter(c))).push(i.headerFooterFormatter(c[0],!0)),o}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Id(this.container)),Os(this.hideTimer)}getAnchor(i,o){let c,{chart:h,pointer:f}=this,g=h.inverted,v=h.plotTop,b=h.plotLeft;if(i=_o(i),i[0].series?.yAxis&&!i[0].series.yAxis.options.reversedStacks&&(i=i.slice().reverse()),this.followPointer&&o)o.chartX===void 0&&(o=f.normalize(o)),c=[o.chartX-b,o.chartY-v];else if(i[0].tooltipPos)c=i[0].tooltipPos;else{let M=0,w=0;i.forEach(function(A){let k=A.pos(!0);k&&(M+=k[0],w+=k[1])}),M/=i.length,w/=i.length,this.shared&&i.length>1&&o&&(g?M=o.chartX:w=o.chartY),c=[M-b,w-v]}let E={point:i[0],ret:c};return kl(this,"getAnchor",E),E.ret.map(Math.round)}getClassName(i,o,c){let h=this.options,f=i.series,g=f.options;return[h.className,"highcharts-label",c&&"highcharts-tooltip-header",o?"highcharts-tooltip-box":"highcharts-tooltip",!c&&"highcharts-color-"+br(i.colorIndex,f.colorIndex),g?.className].filter(Vc).join(" ")}getLabel({anchorX:i,anchorY:o}={anchorX:0,anchorY:0}){let c=this,h=this.chart.styledMode,f=this.options,g=this.split&&this.allowShared,v=this.container,b=this.chart.renderer;if(this.label){let E=!this.label.hasClass("highcharts-label");(!g&&E||g&&!E)&&this.destroy()}if(!this.label){if(this.outside){let E=this.chart,M=E.options.chart.style,w=Ga.getRendererType();this.container=v=ce.doc.createElement("div"),v.className="highcharts-tooltip-container "+(E.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),To(v,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(M?.zIndex||0)+3)}),this.renderer=b=new w(v,0,0,M,void 0,void 0,b.styledMode)}if(g?this.label=b.g("tooltip"):(this.label=b.label("",i,o,f.shape||"callout",void 0,void 0,f.useHTML,void 0,"tooltip").attr({padding:f.padding,r:f.borderRadius}),h||this.label.attr({fill:f.backgroundColor,"stroke-width":f.borderWidth||0}).css(f.style).css({pointerEvents:f.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),c.outside){let E=this.label;[E.xSetter,E.ySetter].forEach((M,w)=>{E[w?"ySetter":"xSetter"]=A=>{M.call(E,c.distance),E[w?"y":"x"]=A,v&&(v.style[w?"top":"left"]=`${A}px`)}})}this.label.attr({zIndex:8}).shadow(f.shadow??!f.fixed).add()}return v&&!v.parentElement&&ce.doc.body.appendChild(v),this.label}getPlayingField(){let{body:i,documentElement:o}=Qf,{chart:c,distance:h,outside:f}=this;return{width:f?Math.max(i.scrollWidth,o.scrollWidth,i.offsetWidth,o.offsetWidth,o.clientWidth)-2*h-2:c.chartWidth,height:f?Math.max(i.scrollHeight,o.scrollHeight,i.offsetHeight,o.offsetHeight,o.clientHeight):c.chartHeight}}getPosition(i,o,c){let{distance:h,chart:f,outside:g,pointer:v}=this,{inverted:b,plotLeft:E,plotTop:M,polar:w}=f,{plotX:A=0,plotY:k=0}=c,N={},I=b&&c.h||0,{height:j,width:z}=this.getPlayingField(),V=v.getChartPosition(),q=Ne=>{let _e=Ne==="x";return[Ne,_e?z:j,_e?i:o].concat(g?[_e?i*V.scaleX:o*V.scaleY,_e?V.left-h+(A+E)*V.scaleX:V.top-h+(k+M)*V.scaleY,0,_e?z:j]:[_e?i:o,_e?A+E:k+M,_e?E:M,_e?E+f.plotWidth:M+f.plotHeight])},Q=q("y"),ee=q("x"),te,J=!!c.negative;!w&&f.hoverSeries?.yAxis?.reversed&&(J=!J);let ne=!this.followPointer&&br(c.ttBelow,!w&&!b===J),de=function(Ne,_e,He,Ue,qe,vt,ut){let Jt=g?Ne==="y"?h*V.scaleY:h*V.scaleX:h,rt=(He-Ue)/2,ft=Ue<qe-h,Nt=qe+h+Ue<_e,pt=qe-Jt-He+rt,en=qe+Jt-rt;if(ne&&Nt)N[Ne]=en;else if(!ne&&ft)N[Ne]=pt;else if(ft)N[Ne]=Math.min(ut-Ue,pt-I<0?pt:pt-I);else{if(!Nt)return N[Ne]=0,!1;N[Ne]=Math.max(vt,en+I+He>_e?en:en+I)}},me=function(Ne,_e,He,Ue,qe){if(qe<h||qe>_e-h)return!1;qe<He/2?N[Ne]=1:qe>_e-Ue/2?N[Ne]=_e-Ue-2:N[Ne]=qe-He/2},se=function(Ne){[Q,ee]=[ee,Q],te=Ne},we=()=>{de.apply(0,Q)!==!1?me.apply(0,ee)!==!1||te||(se(!0),we()):te?N.x=N.y=0:(se(!0),we())};return(b&&!w||this.len>1)&&se(),we(),N}getFixedPosition(i,o,c){let h=c.series,{chart:f,options:g,split:v}=this,b=g.position,E=b.relativeTo,M=g.shared||h?.yAxis?.isRadial&&(E==="pane"||!E)?"plotBox":E,w=M==="chart"?f.renderer:f[M]||f.getClipBox(h,!0);return{x:w.x+(w.width-i)*Jf(b.align)+b.x,y:w.y+(w.height-o)*Jf(b.verticalAlign)+(!v&&b.y||0)}}hide(i){let o=this;Os(this.hideTimer),i=br(i,this.options.hideDelay),this.isHidden||(this.hideTimer=tp(function(){let c=o.getLabel();o.getLabel().animate({opacity:0},{duration:i&&150,complete:()=>{c.hide(),o.container&&o.container.remove()}}),o.isHidden=!0},i))}init(i,o){this.chart=i,this.options=o,this.crosshairs=[],this.isHidden=!0,this.split=o.split&&!i.inverted&&!i.polar,this.shared=o.shared||this.split,this.outside=br(o.outside,!!(i.scrollablePixelsX||i.scrollablePixelsY))}shouldStickOnContact(i){return!!(!this.followPointer&&this.options.stickOnContact&&(!i||this.pointer.inClass(i.target,"highcharts-tooltip")))}move(i,o,c,h){let{followPointer:f,options:g}=this,v=Zf(!f&&!this.isHidden&&!g.fixed&&g.animation),b=f||(this.len||0)>1,E={x:i,y:o};b?E.anchorX=E.anchorY=NaN:(E.anchorX=c,E.anchorY=h),v.step=()=>this.drawTracker(),this.getLabel().animate(E,v)}refresh(i,o){let{chart:c,options:h,pointer:f,shared:g}=this,v=_o(i),b=v[0],E=h.format,M=h.formatter||this.defaultFormatter,w=c.styledMode,A=this.allowShared;if(!h.enabled||!b.series)return;Os(this.hideTimer),this.allowShared=!(!Mo(i)&&i.series&&i.series.noSharedTooltip),A=A&&!this.allowShared,this.followPointer=!this.split&&b.series.tooltipOptions.followPointer;let k=this.getAnchor(i,o),N=k[0],I=k[1];g&&this.allowShared&&(f.applyInactiveState(v),v.forEach(V=>V.setState("hover")),b.points=v),this.len=v.length;let j=Vc(E)?Uc(E,b,c):M.call(b,this);b.points=void 0;let z=b.series;if(this.distance=br(z.tooltipOptions.distance,16),j===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(j,v);else{let V=N,q=I;if(o&&f.isDirectTouch&&(V=o.chartX-c.plotLeft,q=o.chartY-c.plotTop),!(c.polar||z.options.clip===!1||v.some(Q=>f.isDirectTouch||Q.series.shouldShowTooltip(V,q))))return void this.hide();{let Q=this.getLabel(A&&this.tt||{});(!h.style.width||w)&&Q.css({width:(this.outside?this.getPlayingField():c.spacingBox).width+"px"}),Q.attr({class:this.getClassName(b),text:j&&j.join?j.join(""):j}),this.outside&&Q.attr({x:Do(Q.x||0,0,this.getPlayingField().width-(Q.width||0)-1)}),w||Q.attr({stroke:h.borderColor||b.color||z.color||"#666666"}),this.updatePosition({plotX:N,plotY:I,negative:b.negative,ttBelow:b.ttBelow,series:z,h:k[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}kl(this,"refresh")}renderSplit(i,o){let c=this,{chart:h,chart:{chartWidth:f,chartHeight:g,plotHeight:v,plotLeft:b,plotTop:E,scrollablePixelsY:M=0,scrollablePixelsX:w,styledMode:A},distance:k,options:N,options:{fixed:I,position:j,positioner:z},pointer:V}=c,{scrollLeft:q=0,scrollTop:Q=0}=h.scrollablePlotArea?.scrollingContainer||{},ee=c.outside&&typeof w!="number"?Qf.documentElement.getBoundingClientRect():{left:q,right:q+f},te=c.getLabel(),J=this.renderer||h.renderer,ne=!!h.xAxis[0]?.opposite,{left:de,top:me}=V.getChartPosition(),se=z||I,we=E+Q,Ne=0,_e=v-M,He=function(rt,ft,Nt,pt=[0,0],en=!0){let In,Gt;if(Nt.isHeader)Gt=ne?0:_e,In=Do(pt[0]-rt/2,ee.left,ee.right-rt-(c.outside?de:0));else if(I&&Nt){let zn=c.getFixedPosition(rt,ft,Nt);In=zn.x,Gt=zn.y-we}else Gt=pt[1]-we,In=Do(In=en?pt[0]-rt-k:pt[0]+k,en?In:ee.left,ee.right);return{x:In,y:Gt}};Vc(i)&&(i=[!1,i]);let Ue=i.slice(0,o.length+1).reduce(function(rt,ft,Nt){if(ft!==!1&&ft!==""){let pt=o[Nt-1]||{isHeader:!0,plotX:o[0].plotX,plotY:v,series:{}},en=pt.isHeader,In=en?c:pt.series,Gt=In.tt=(function(ds,Ki,$o){let ma=ds,{isHeader:zu,series:bg}=Ki,hs=bg.tooltipOptions||N;if(!ma){let zh={padding:hs.padding,r:hs.borderRadius};A||(zh.fill=hs.backgroundColor,zh["stroke-width"]=hs.borderWidth??(I&&!zu?0:1)),ma=J.label("",0,0,hs[zu?"headerShape":"shape"]||(I&&!zu?"rect":"callout"),void 0,void 0,hs.useHTML).addClass(c.getClassName(Ki,!0,zu)).attr(zh).add(te)}return ma.isActive=!0,ma.attr({text:$o}),A||ma.css(hs.style).attr({stroke:hs.borderColor||Ki.color||bg.color||"#333333"}),ma})(In.tt,pt,ft.toString()),zn=Gt.getBBox(),Ui=zn.width+Gt.strokeWidth();en&&(Ne=zn.height,_e+=Ne,ne&&(we-=Ne));let{anchorX:Tr,anchorY:jh}=(function(ds){let Ki,$o,{isHeader:ma,plotX:zu=0,plotY:bg=0,series:hs}=ds;if(ma)Ki=Math.max(b+zu,b),$o=E+v/2;else{let{xAxis:zh,yAxis:$E}=hs;Ki=zh.pos+Do(zu,-k,zh.len+k),hs.shouldShowTooltip(0,$E.pos-E+bg,{ignoreX:!0})&&($o=$E.pos+bg)}return{anchorX:Ki=Do(Ki,ee.left-k,ee.right+k),anchorY:$o}})(pt);if(typeof jh=="number"){let ds=zn.height+1,Ki=(z||He).call(c,Ui,ds,pt,[Tr,jh]);rt.push({align:se?0:void 0,anchorX:Tr,anchorY:jh,boxWidth:Ui,point:pt,rank:br(Ki.rank,+!!en),size:ds,target:Ki.y,tt:Gt,x:Ki.x})}else Gt.isActive=!1}return rt},[]);!se&&Ue.some(rt=>{let{outside:ft}=c,Nt=(ft?de:0)+rt.anchorX;return Nt<ee.left&&Nt+rt.boxWidth<ee.right||Nt<de-ee.left+rt.boxWidth&&ee.right-Nt>Nt})&&(Ue=Ue.map(rt=>{let{x:ft,y:Nt}=He.call(this,rt.boxWidth,rt.size,rt.point,[rt.anchorX,rt.anchorY],!1);return Gc(rt,{target:Nt,x:ft})})),c.cleanSplit(),Co(Ue,_e);let qe={left:de,right:de};Ue.forEach(function(rt){let{x:ft,boxWidth:Nt,isHeader:pt}=rt;!pt&&(c.outside&&de+ft<qe.left&&(qe.left=de+ft),!pt&&c.outside&&qe.left+Nt>qe.right&&(qe.right=de+ft))}),Ue.forEach(function(rt){let{x:ft,anchorX:Nt,anchorY:pt,pos:en,point:{isHeader:In}}=rt,Gt={visibility:en===void 0?"hidden":"inherit",x:ft,y:(en||0)+we+(I&&j.y||0),anchorX:Nt,anchorY:pt};if(c.outside&&ft<Nt){let zn=de-qe.left;zn>0&&(In||(Gt.x=ft+zn,Gt.anchorX=Nt+zn),In&&(Gt.x=(qe.right-qe.left)/2,Gt.anchorX=Nt+zn))}rt.tt.attr(Gt)});let{container:vt,outside:ut,renderer:Jt}=c;if(ut&&vt&&Jt){let{width:rt,height:ft,x:Nt,y:pt}=te.getBBox();Jt.setSize(rt+Nt,ft+pt,!1),vt.style.left=qe.left+"px",vt.style.top=me+"px"}Ao&&te.attr({opacity:te.opacity===1?.999:1})}drawTracker(){let i=this;if(!this.shouldStickOnContact()){i.tracker&&(i.tracker=i.tracker.destroy());return}let o=i.chart,c=i.label,h=i.shared?o.hoverPoints:o.hoverPoint;if(!c||!h)return;let f={x:0,y:0,width:0,height:0},g=this.getAnchor(h),v=c.getBBox();g[0]+=o.plotLeft-(c.translateX||0),g[1]+=o.plotTop-(c.translateY||0),f.x=Math.min(0,g[0]),f.y=Math.min(0,g[1]),f.width=g[0]<0?Math.max(Math.abs(g[0]),v.width-g[0]):Math.max(Math.abs(g[0]),v.width),f.height=g[1]<0?Math.max(Math.abs(g[1]),v.height-Math.abs(g[1])):Math.max(Math.abs(g[1]),v.height),i.tracker?i.tracker.attr(f):(i.tracker=c.renderer.rect(f).addClass("highcharts-tracker").add(c),Kf(i.tracker.element,"mouseenter",()=>{Os(i.hideTimer)}),o.styledMode||i.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(i){return i.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(i,o){let c=i.series,h=c.tooltipOptions,f=c.xAxis,g=f?.dateTime,v={isFooter:o,point:i},b=h.xDateFormat||"",E=h[o?"footerFormat":"headerFormat"];return kl(this,"headerFormatter",v,function(M){if(g&&!b&&qm(i.key)&&(b=g.getXDateFormat(i.key,h.dateTimeLabelFormats)),g&&b){if(Ns(b)){let w=b;$m[0]=A=>c.chart.time.dateFormat(w,A),b="%0"}(i.tooltipDateKeys||["key"]).forEach(w=>{E=E.replace(RegExp("point\\."+w+"([ \\)}])"),`(point.${w}:${b})$1`)})}c.chart.styledMode&&(E=this.styledModeFormat(E)),M.text=Uc(E,i,this.chart)}),v.text||""}update(i){this.destroy(),this.init(this.chart,ep(!0,this.options,i))}updatePosition(i){let{chart:o,container:c,distance:h,options:f,pointer:g,renderer:v}=this,{height:b=0,width:E=0}=this.getLabel(),{fixed:M,positioner:w}=f,{left:A,top:k,scaleX:N,scaleY:I}=g.getChartPosition(),j=(w||M&&this.getFixedPosition||this.getPosition).call(this,E,b,i),z=ce.doc,V=(i.plotX||0)+o.plotLeft,q=(i.plotY||0)+o.plotTop,Q;if(v&&c){if(w||M){let{scrollLeft:ee=0,scrollTop:te=0}=o.scrollablePlotArea?.scrollingContainer||{};j.x+=ee+A-h,j.y+=te+k-h}Q=(f.borderWidth||0)+2*h+2,v.setSize(Do(E+Q,0,z.documentElement.clientWidth)-1,b+Q,!1),(N!==1||I!==1)&&(To(c,{transform:`scale(${N}, ${I})`}),V*=N,q*=I),V+=A-j.x,q+=k-j.y}this.move(Math.round(j.x),Math.round(j.y||0),V,q)}}(B=Wc||(Wc={})).compose=function(x){Ls(Ld,"Core.Tooltip")&&Kf(x,"afterInit",function(){let i=this.chart;i.options.tooltip&&(i.tooltip=new B(i,i.options.tooltip,this))})};let Ol=Wc,{animObject:Yc}=Ai,{defaultOptions:Xm}=Un,{format:Zm}=$n,{addEvent:Nl,crisp:Pd,erase:Qm,extend:Ll,fireEvent:$c,getNestedProperty:xr,isArray:Fr,isFunction:Is,isNumber:_a,isObject:qc,merge:Za,pick:ui,syncTimeout:ri,removeEvent:Xc,uniqueKey:Qa}=We;class St{constructor(i,o,c){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=i,this.applyOptions(o,c),this.id??(this.id=Qa()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=i.options.nullInteraction),i.chart.pointCount++,this.category=i.xAxis?.categories?.[this.x]??this.x,this.key=this.name??this.category,$c(this,"afterInit")}animateBeforeDestroy(){let i=this,o={x:i.startXPos,opacity:0},c=i.getGraphicalProps();c.singular.forEach(function(h){i[h]=i[h].animate(h==="dataLabel"?{x:i[h].startXPos,y:i[h].startYPos,opacity:0}:o)}),c.plural.forEach(function(h){i[h].forEach(function(f){f.element&&f.animate(Ll({x:i.startXPos},f.startYPos?{x:f.startXPos,y:f.startYPos}:{}))})})}applyOptions(i,o){let c=this.series,h=c.options.pointValKey||c.pointValKey;return Ll(this,i=St.prototype.optionsToObject.call(this,i)),this.options=this.options?Ll(this.options,i):i,i.group&&delete this.group,i.dataLabels&&delete this.dataLabels,h&&(this.y=St.prototype.getNestedProperty.call(this,h)),this.selected&&(this.state="select"),"name"in this&&o===void 0&&c.xAxis&&c.xAxis.hasNames&&(this.x=c.xAxis.nameToX(this)),this.x===void 0&&c?this.x=o??c.autoIncrement():_a(i.x)&&c.options.relativeXValue?this.x=c.autoIncrement(i.x):typeof this.x=="string"&&(o??(o=c.chart.time.parse(this.x)),_a(o)&&(this.x=o)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let i=this,o=i.series,c=o.chart,h=o.options.dataSorting,f=c.hoverPoints,g=Yc(i.series.chart.renderer.globalAnimation),v=()=>{for(let b in(i.graphic||i.graphics||i.dataLabel||i.dataLabels)&&(Xc(i),i.destroyElements()),i)delete i[b]};i.legendItem&&c.legend.destroyItem(i),f&&(i.setState(),Qm(f,i),f.length||(c.hoverPoints=null)),i===c.hoverPoint&&i.onMouseOut(),h?.enabled?(this.animateBeforeDestroy(),ri(v,g.duration)):v(),c.pointCount--}this.destroyed=!0}destroyElements(i){let o=this,c=o.getGraphicalProps(i);c.singular.forEach(function(h){o[h]=o[h].destroy()}),c.plural.forEach(function(h){o[h].forEach(function(f){f?.element&&f.destroy()}),delete o[h]})}firePointEvent(i,o,c){let h=this,f=this.series.options;h.manageEvent(i),i==="click"&&f.allowPointSelect&&(c=function(g){!h.destroyed&&h.select&&h.select(null,g.ctrlKey||g.metaKey||g.shiftKey)}),$c(h,i,o,c)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone?.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(i){let o,c,h=this,f=[],g={singular:[],plural:[]};for((i=i||{graphic:1,dataLabel:1}).graphic&&f.push("graphic","connector"),i.dataLabel&&f.push("dataLabel","dataLabelPath","dataLabelUpper"),c=f.length;c--;)h[o=f[c]]&&g.singular.push(o);return["graphic","dataLabel"].forEach(function(v){let b=v+"s";i[v]&&h[b]&&g.plural.push(b)}),g}getNestedProperty(i){if(i)return i.indexOf("custom.")===0?xr(i,this.options):this[i]}getZone(){let i=this.series,o=i.zones,c=i.zoneAxis||"y",h,f=0;for(h=o[0];this[c]>=h.value;)h=o[++f];return this.nonZonedColor||(this.nonZonedColor=this.color),h?.color&&!this.options.color?this.color=h.color:this.color=this.nonZonedColor,h}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}isValid(){return(_a(this.x)||this.x instanceof Date)&&_a(this.y)}optionsToObject(i){let o=this.series,c=o.options.keys,h=c||o.pointArrayMap||["y"],f=h.length,g={},v,b=0,E=0;if(_a(i)||i===null)g[h[0]]=i;else if(Fr(i))for(!c&&i.length>f&&((v=typeof i[0])=="string"?o.xAxis?.dateTime?g.x=o.chart.time.parse(i[0]):g.name=i[0]:v==="number"&&(g.x=i[0]),b++);E<f;)c&&i[b]===void 0||(h[E].indexOf(".")>0?St.prototype.setNestedProperty(g,i[b],h[E]):g[h[E]]=i[b]),b++,E++;else typeof i=="object"&&(g=i,i.dataLabels&&(o.hasDataLabels=()=>!0),i.marker&&(o._hasPointMarkers=!0));return g}pos(i,o=this.plotY){if(!this.destroyed){let{plotX:c,series:h}=this,{chart:f,xAxis:g,yAxis:v}=h,b=0,E=0;if(_a(c)&&_a(o))return i&&(b=g?g.pos:f.plotLeft,E=v?v.pos:f.plotTop),f.inverted&&g&&v?[v.len-o+E,g.len-c+b]:[c+b,o+E]}}resolveColor(){let i=this.series,o=i.chart.options.chart,c=i.chart.styledMode,h,f,g=o.colorCount,v;delete this.nonZonedColor,i.options.colorByPoint?(c||(h=(f=i.options.colors||i.chart.options.colors)[i.colorCounter],g=f.length),v=i.colorCounter,i.colorCounter++,i.colorCounter===g&&(i.colorCounter=0)):(c||(h=i.color),v=i.colorIndex),this.colorIndex=ui(this.options.colorIndex,v),this.color=ui(this.options.color,h)}setNestedProperty(i,o,c){return c.split(".").reduce(function(h,f,g,v){let b=v.length-1===g;return h[f]=b?o:qc(h[f],!0)?h[f]:{},h[f]},i),i}shouldDraw(){return!this.isNull}tooltipFormatter(i){let{chart:o,pointArrayMap:c=["y"],tooltipOptions:h}=this.series,{valueDecimals:f="",valuePrefix:g="",valueSuffix:v=""}=h;return o.styledMode&&(i=o.tooltip?.styledModeFormat(i)||i),c.forEach(b=>{b="{point."+b,(g||v)&&(i=i.replace(RegExp(b+"}","g"),g+b+"}"+v)),i=i.replace(RegExp(b+"}","g"),b+":,."+f+"f}")}),Zm(i,this,o)}update(i,o,c,h){let f,g=this,v=g.series,b=g.graphic,E=v.chart,M=v.options;function w(){g.applyOptions(i);let A=b&&g.hasMockGraphic,k=g.y===null?!A:A;b&&k&&(g.graphic=b.destroy(),delete g.hasMockGraphic),qc(i,!0)&&(b?.element&&i&&i.marker&&i.marker.symbol!==void 0&&(g.graphic=b.destroy()),i?.dataLabels&&g.dataLabel&&(g.dataLabel=g.dataLabel.destroy())),f=g.index;let N={};for(let I of v.dataColumnKeys())N[I]=g[I];v.dataTable.setRow(N,f),M.data[f]=qc(M.data[f],!0)||qc(i,!0)?g.options:ui(i,M.data[f]),v.isDirty=v.isDirtyData=!0,!v.fixedBox&&v.hasCartesianSeries&&(E.isDirtyBox=!0),M.legendType==="point"&&(E.isDirtyLegend=!0),o&&E.redraw(c)}o=ui(o,!0),h===!1?w():g.firePointEvent("update",{options:i},w)}remove(i,o){this.series.removePoint(this.series.data.indexOf(this),i,o)}select(i,o){let c=this,h=c.series,f=h.chart;i=ui(i,!c.selected),this.selectedStaging=i,c.firePointEvent(i?"select":"unselect",{accumulate:o},function(){c.selected=c.options.selected=i,h.options.data[h.data.indexOf(c)]=c.options,c.setState(i&&"select"),o||f.getSelectedPoints().forEach(function(g){let v=g.series;g.selected&&g!==c&&(g.selected=g.options.selected=!1,v.options.data[v.data.indexOf(g)]=g.options,g.setState(f.hoverPoints&&v.options.inactiveOtherPoints?"inactive":""),g.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(i){let{inverted:o,pointer:c}=this.series.chart;c&&(i=i?c.normalize(i):c.getChartCoordinatesFromPoint(this,o),c.runPointActions(i,this))}onMouseOut(){let i=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(i.hoverPoints||[]).forEach(function(o){o.setState()}),i.hoverPoints=i.hoverPoint=null}manageEvent(i){let o=Za(this.series.options.point,this.options),c=o.events?.[i];Is(c)&&(!this.hcEvents?.[i]||this.hcEvents?.[i]?.map(h=>h.fn).indexOf(c)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=Nl(this,i,c),this.hcEvents&&(this.hcEvents[i].userEvent=!0)):this.importedUserEvent&&!c&&this.hcEvents?.[i]&&this.hcEvents?.[i].userEvent&&(Xc(this,i),delete this.hcEvents[i],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(i,o){let c=this.series,h=this.state,f=c.options.states[i||"normal"]||{},g=Xm.plotOptions[c.type].marker&&c.options.marker,v=g&&g.enabled===!1,b=g?.states?.[i||"normal"]||{},E=b.enabled===!1,M=this.marker||{},w=c.chart,A=g&&c.markerAttribs,k=c.halo,N,I,j,z=c.stateMarkerGraphic,V;if((i=i||"")===this.state&&!o||this.selected&&i!=="select"||f.enabled===!1||i&&(E||v&&b.enabled===!1)||i&&M.states&&M.states[i]&&M.states[i].enabled===!1)return;if(this.state=i,A&&(N=c.markerAttribs(this,i)),this.graphic&&!this.hasMockGraphic){if(h&&this.graphic.removeClass("highcharts-point-"+h),i&&this.graphic.addClass("highcharts-point-"+i),!w.styledMode){I=c.pointAttribs(this,i),j=ui(w.options.chart.animation,f.animation);let te=I.opacity;c.options.inactiveOtherPoints&&_a(te)&&(this.dataLabels||[]).forEach(function(J){J&&!J.hasClass("highcharts-data-label-hidden")&&(J.animate({opacity:te},j),J.connector&&J.connector.animate({opacity:te},j))}),this.graphic.animate(I,j)}N&&this.graphic.animate(N,ui(w.options.chart.animation,b.animation,g.animation)),z&&z.hide()}else i&&b&&(V=M.symbol||c.symbol,z&&z.currentSymbol!==V&&(z=z.destroy()),N&&(z?z[o?"animate":"attr"]({x:N.x,y:N.y}):V&&(c.stateMarkerGraphic=z=w.renderer.symbol(V,N.x,N.y,N.width,N.height,Za(g,b)).add(c.markerGroup),z.currentSymbol=V)),!w.styledMode&&z&&this.state!=="inactive"&&z.attr(c.pointAttribs(this,i))),z&&(z[i&&this.isInside?"show":"hide"](),z.element.point=this,z.addClass(this.getClassName(),!0));let q=f.halo,Q=this.graphic||z,ee=Q?.visibility||"inherit";q?.size&&Q&&ee!=="hidden"&&!this.isCluster?(k||(c.halo=k=w.renderer.path().add(Q.parentGroup)),k.show()[o?"animate":"attr"]({d:this.haloPath(q.size)}),k.attr({class:"highcharts-halo highcharts-color-"+ui(this.colorIndex,c.colorIndex)+(this.className?" "+this.className:""),visibility:ee,zIndex:-1}),k.point=this,w.styledMode||k.attr(Ll({fill:this.color||c.color,"fill-opacity":q.opacity},Tn.filterUserAttributes(q.attributes||{})))):k?.point?.haloPath&&!k.point.destroyed&&k.animate({d:k.point.haloPath(0)},null,k.hide),$c(this,"afterSetState",{state:i})}haloPath(i){let o=this.pos();return o?this.series.chart.renderer.symbols.circle(Pd(o[0],1)-i,o[1]-i,2*i,2*i):[]}}let $t=St,{parse:di}=at,{charts:Il,composed:Pl,isTouchDevice:Ro}=ce,{addEvent:Xi,attr:Zc,css:Ps,extend:np,find:Gn,fireEvent:Ra,isNumber:jl,isObject:Qc,objectEach:Km,offset:A0,pick:Hr,pushUnique:ip,splat:jd}=We;class an{applyInactiveState(i=[]){let o=[];for(let c of(i.forEach(h=>{let f=h.series;o.push(f),f.linkedParent&&o.push(f.linkedParent),f.linkedSeries&&o.push.apply(o,f.linkedSeries),f.navigatorSeries&&o.push(f.navigatorSeries),f.boosted&&f.markerGroup&&o.push.apply(o,this.chart.series.filter(g=>g.markerGroup===f.markerGroup))}),this.chart.series)){let h=c.options;h.states?.inactive?.enabled!==!1&&(o.indexOf(c)===-1?c.setState("inactive",!0):h.inactiveOtherPoints&&c.setAllPointsToState("inactive"))}}destroy(){let i=this;this.eventsToUnbind.forEach(o=>o()),this.eventsToUnbind=[],!ce.chartCount&&(an.unbindDocumentMouseUp.forEach(o=>o.unbind()),an.unbindDocumentMouseUp.length=0,an.unbindDocumentTouchEnd&&(an.unbindDocumentTouchEnd=an.unbindDocumentTouchEnd())),Km(i,function(o,c){i[c]=void 0})}getSelectionMarkerAttrs(i,o){let c={args:{chartX:i,chartY:o},attrs:{},shapeType:"rect"};return Ra(this,"getSelectionMarkerAttrs",c,h=>{let f,{chart:g,zoomHor:v,zoomVert:b}=this,{mouseDownX:E=0,mouseDownY:M=0}=g,w=h.attrs;w.x=g.plotLeft,w.y=g.plotTop,w.width=v?1:g.plotWidth,w.height=b?1:g.plotHeight,v&&(w.width=Math.max(1,Math.abs(f=i-E)),w.x=(f>0?0:f)+E),b&&(w.height=Math.max(1,Math.abs(f=o-M)),w.y=(f>0?0:f)+M)}),c}drag(i){let{chart:o}=this,{mouseDownX:c=0,mouseDownY:h=0}=o,{panning:f,panKey:g,selectionMarkerFill:v}=o.options.chart,b=o.plotLeft,E=o.plotTop,M=o.plotWidth,w=o.plotHeight,A=Qc(f)?f.enabled:f,k=g&&i[`${g}Key`],N=i.chartX,I=i.chartY,j,z=this.selectionMarker;if((!z||!z.touch)&&(N<b?N=b:N>b+M&&(N=b+M),I<E?I=E:I>E+w&&(I=E+w),this.hasDragged=Math.sqrt(Math.pow(c-N,2)+Math.pow(h-I,2)),this.hasDragged>10)){j=o.isInsidePlot(c-b,h-E,{visiblePlotOnly:!0});let{shapeType:V,attrs:q}=this.getSelectionMarkerAttrs(N,I);this.hasZoom&&j&&!k&&!z&&(this.selectionMarker=z=o.renderer[V](),z.attr({class:"highcharts-selection-marker",zIndex:7}).add(),o.styledMode||z.attr({fill:v||di("#334eff").setOpacity(.25).get()})),z&&z.attr(q),j&&!z&&A&&o.pan(i,f)}}dragStart(i){let o=this.chart;o.mouseIsDown=i.type,o.cancelClick=!1,o.mouseDownX=i.chartX,o.mouseDownY=i.chartY}getSelectionBox(i){let o={args:{marker:i},result:i.getBBox()};return Ra(this,"getSelectionBox",o),o.result}drop(i){let o,{chart:c,selectionMarker:h}=this;for(let f of c.axes)f.isPanning&&(f.isPanning=!1,(f.options.startOnTick||f.options.endOnTick||f.series.some(g=>g.boosted))&&(f.forceRedraw=!0,f.setExtremes(f.userMin,f.userMax,!1),o=!0));if(o&&c.redraw(),h&&i){if(this.hasDragged){let f=this.getSelectionBox(h);c.transform({axes:c.axes.filter(g=>g.zoomEnabled&&(g.coll==="xAxis"&&this.zoomX||g.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:i,xAxis:[],yAxis:[],...f},from:f})}jl(c.index)&&(this.selectionMarker=h.destroy())}c&&jl(c.index)&&(Ps(c.container,{cursor:c._cursor}),c.cancelClick=this.hasDragged>10,c.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(i,o,c){let h;return i.forEach(function(f){var g;let v,b,E,M=!(f.noSharedTooltip&&o)&&0>f.options.findNearestPointBy.indexOf("y"),w=f.searchPoint(c,M);Qc(w,!0)&&w.series&&(!Qc(h,!0)||(v=(g=h).distX-w.distX,b=g.dist-w.dist,E=w.series.group?.zIndex-g.series.group?.zIndex,(v!==0&&o?v:b!==0?b:E!==0?E:g.series.index>w.series.index?-1:1)>0))&&(h=w)}),h}getChartCoordinatesFromPoint(i,o){let{xAxis:c,yAxis:h}=i.series,f=i.shapeArgs;if(c&&h){let g=i.clientX??i.plotX??0,v=i.plotY||0;return i.isNode&&f&&jl(f.x)&&jl(f.y)&&(g=f.x,v=f.y),o?{chartX:h.len+h.pos-v,chartY:c.len+c.pos-g}:{chartX:g+c.pos,chartY:v+h.pos}}if(f?.x&&f.y)return{chartX:f.x,chartY:f.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:i}=this.chart,o=A0(i);this.chartPosition={left:o.left,top:o.top,scaleX:1,scaleY:1};let{offsetHeight:c,offsetWidth:h}=i;return h>2&&c>2&&(this.chartPosition.scaleX=o.width/h,this.chartPosition.scaleY=o.height/c),this.chartPosition}getCoordinates(i){let o={xAxis:[],yAxis:[]};for(let c of this.chart.axes)o[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(i[c.horiz?"chartX":"chartY"])});return o}getHoverData(i,o,c,h,f,g){let v=[],b=function(k){return k.visible&&!(!f&&k.directTouch)&&Hr(k.options.enableMouseTracking,!0)},E=o,M,w={chartX:g?g.chartX:void 0,chartY:g?g.chartY:void 0,shared:f};Ra(this,"beforeGetHoverData",w),M=E&&!E.stickyTracking?[E]:c.filter(k=>k.stickyTracking&&(w.filter||b)(k));let A=h&&i||!g?i:this.findNearestKDPoint(M,f,g);return E=A?.series,A&&(f&&!E.noSharedTooltip?(M=c.filter(function(k){return w.filter?w.filter(k):b(k)&&!k.noSharedTooltip})).forEach(function(k){let N=k.options?.nullInteraction,I=Gn(k.points,function(j){return j.x===A.x&&(!j.isNull||!!N)});Qc(I)&&(k.boosted&&k.boost&&(I=k.boost.getPoint(I)),v.push(I))}):v.push(A)),Ra(this,"afterGetHoverData",w={hoverPoint:A}),{hoverPoint:w.hoverPoint,hoverSeries:E,hoverPoints:v}}getPointFromEvent(i){let o=i.target,c;for(;o&&!c;)c=o.point,o=o.parentNode;return c}onTrackerMouseOut(i){let o=this.chart,c=i.relatedTarget,h=o.hoverSeries;this.isDirectTouch=!1,!h||!c||h.stickyTracking||this.inClass(c,"highcharts-tooltip")||this.inClass(c,"highcharts-series-"+h.index)&&this.inClass(c,"highcharts-tracker")||h.onMouseOut()}inClass(i,o){let c=i,h;for(;c;){if(h=Zc(c,"class")){if(h.indexOf(o)!==-1)return!0;if(h.indexOf("highcharts-container")!==-1)return!1}c=c.parentElement}}constructor(i,o){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=o,this.chart=i,this.runChartClick=!!o.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),Ra(this,"afterInit")}normalize(i,o){let c=i.touches,h=c?c.length?c.item(0):Hr(c.changedTouches,i.changedTouches)[0]:i;o||(o=this.getChartPosition());let f=h.pageX-o.left,g=h.pageY-o.top;return np(i,{chartX:Math.round(f/=o.scaleX),chartY:Math.round(g/=o.scaleY)})}onContainerClick(i){let o=this.chart,c=o.hoverPoint,h=this.normalize(i),f=o.plotLeft,g=o.plotTop;!o.cancelClick&&(c&&this.inClass(h.target,"highcharts-tracker")?(Ra(c.series,"click",np(h,{point:c})),o.hoverPoint&&c.firePointEvent("click",h)):(np(h,this.getCoordinates(h)),o.isInsidePlot(h.chartX-f,h.chartY-g,{visiblePlotOnly:!0})&&Ra(o,"click",h)))}onContainerMouseDown(i){let o=(1&(i.buttons||i.button))==1;i=this.normalize(i),ce.isFirefox&&i.button!==0&&this.onContainerMouseMove(i),(i.button===void 0||o)&&(this.zoomOption(i),o&&i.preventDefault?.(),this.dragStart(i))}onContainerMouseLeave(i){let{pointer:o}=Il[Hr(an.hoverChartIndex,-1)]||{};i=this.normalize(i),this.onContainerMouseMove(i),o&&!this.inClass(i.relatedTarget,"highcharts-tooltip")&&(o.reset(),o.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(i){let o=this.chart,c=o.tooltip,h=this.normalize(i);this.setHoverChartIndex(i),(o.mouseIsDown==="mousedown"||this.touchSelect(h))&&this.drag(h),!o.exporting?.openMenu&&(this.inClass(h.target,"highcharts-tracker")||o.isInsidePlot(h.chartX-o.plotLeft,h.chartY-o.plotTop,{visiblePlotOnly:!0}))&&!c?.shouldStickOnContact(h)&&(this.inClass(h.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(h))}onDocumentTouchEnd(i){this.onDocumentMouseUp(i)}onContainerTouchMove(i){this.touchSelect(i)?this.onContainerMouseMove(i):this.touch(i)}onContainerTouchStart(i){this.touchSelect(i)?this.onContainerMouseDown(i):(this.zoomOption(i),this.touch(i,!0))}onDocumentMouseMove(i){let o=this.chart,c=o.tooltip,h=this.chartPosition,f=this.normalize(i,h);!h||o.isInsidePlot(f.chartX-o.plotLeft,f.chartY-o.plotTop,{visiblePlotOnly:!0})||c?.shouldStickOnContact(f)||f.target!==o.container.ownerDocument&&this.inClass(f.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(i){i?.touches&&this.hasPinchMoved&&i?.preventDefault?.(),Il[Hr(an.hoverChartIndex,-1)]?.pointer?.drop(i)}pinch(i){let o=this,{chart:c,hasZoom:h,lastTouches:f}=o,g=[].map.call(i.touches||[],w=>o.normalize(w)),v=g.length,b=v===1&&(o.inClass(i.target,"highcharts-tracker")&&c.runTrackerClick||o.runChartClick),E=c.tooltip,M=v===1&&Hr(E?.options.followTouchMove,!0);v>1?o.initiated=!0:M&&(o.initiated=!1),h&&o.initiated&&!b&&i.cancelable!==!1&&i.preventDefault(),i.type==="touchstart"?(o.pinchDown=g,o.res=!0,c.mouseDownX=i.chartX):M?this.runPointActions(o.normalize(i)):f&&(Ra(c,"touchpan",{originalEvent:i,touches:g},()=>{let w=A=>{let k=A[0],N=A[1]||k;return{x:k.chartX,y:k.chartY,width:N.chartX-k.chartX,height:N.chartY-k.chartY}};c.transform({axes:c.axes.filter(A=>A.zoomEnabled&&(this.zoomHor&&A.horiz||this.zoomVert&&!A.horiz)),to:w(g),from:w(f),trigger:i.type})}),o.res&&(o.res=!1,this.reset(!1,0))),o.lastTouches=g}reset(i,o){let c=this.chart,h=c.hoverSeries,f=c.hoverPoint,g=c.hoverPoints,v=c.tooltip,b=v?.shared?g:f;i&&b&&jd(b).forEach(function(E){E.series.isCartesian&&E.plotX===void 0&&(i=!1)}),i?v&&b&&jd(b).length&&(v.refresh(b),v.shared&&g?g.forEach(function(E){E.setState(E.state,!0),E.series.isCartesian&&(E.series.xAxis.crosshair&&E.series.xAxis.drawCrosshair(null,E),E.series.yAxis.crosshair&&E.series.yAxis.drawCrosshair(null,E))}):f&&(f.setState(f.state,!0),c.axes.forEach(function(E){E.crosshair&&f.series[E.coll]===E&&E.drawCrosshair(null,f)}))):(f&&f.onMouseOut(),g&&g.forEach(function(E){E.setState()}),h&&h.onMouseOut(),v&&v.hide(o),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),c.axes.forEach(function(E){E.hideCrosshair()}),c.hoverPoints=c.hoverPoint=void 0)}runPointActions(i,o,c){let h=this.chart,f=h.series,g=h.tooltip?.options.enabled?h.tooltip:void 0,v=!!g&&g.shared,b=o||h.hoverPoint,E=b?.series||h.hoverSeries,M=(!i||i.type!=="touchmove")&&(!!o||E?.directTouch&&this.isDirectTouch),w=this.getHoverData(b,E,f,M,v,i);b=w.hoverPoint,E=w.hoverSeries;let A=w.hoverPoints,k=E?.tooltipOptions.followPointer&&!E.tooltipOptions.split,N=v&&E&&!E.noSharedTooltip;if(b&&(c||b!==h.hoverPoint||g?.isHidden)){if((h.hoverPoints||[]).forEach(function(I){A.indexOf(I)===-1&&I.setState()}),h.hoverSeries!==E&&E.onMouseOver(),this.applyInactiveState(A),(A||[]).forEach(function(I){I.setState("hover")}),h.hoverPoint&&h.hoverPoint.firePointEvent("mouseOut"),!b.series)return;h.hoverPoints=A,h.hoverPoint=b,b.firePointEvent("mouseOver",void 0,()=>{g&&b&&g.refresh(N?A:b,i)})}else if(k&&g&&!g.isHidden){let I=g.getAnchor([{}],i);h.isInsidePlot(I[0],I[1],{visiblePlotOnly:!0})&&g.updatePosition({plotX:I[0],plotY:I[1]})}this.unDocMouseMove||(this.unDocMouseMove=Xi(h.container.ownerDocument,"mousemove",I=>Il[an.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(I)),this.eventsToUnbind.push(this.unDocMouseMove)),h.axes.forEach(function(I){let j,z=I.crosshair?.snap??!0;z&&((j=h.hoverPoint)&&j.series[I.coll]===I||(j=Gn(A,V=>V.series?.[I.coll]===I))),j||!z?I.drawCrosshair(i,j):I.hideCrosshair()})}setDOMEvents(){let i=this.chart.container,o=i.ownerDocument,c=f=>f.parentElement||f.getRootNode()?.host?.parentElement;i.onmousedown=this.onContainerMouseDown.bind(this),i.onmousemove=this.onContainerMouseMove.bind(this),i.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Xi(i,"mouseenter",this.onContainerMouseEnter.bind(this)),Xi(i,"mouseleave",this.onContainerMouseLeave.bind(this))),an.unbindDocumentMouseUp.some(f=>f.doc===o)||an.unbindDocumentMouseUp.push({doc:o,unbind:Xi(o,"mouseup",this.onDocumentMouseUp.bind(this))});let h=c(this.chart.renderTo);for(;h&&h.tagName!=="BODY";)this.eventsToUnbind.push(Xi(h,"scroll",()=>{delete this.chartPosition})),h=c(h);this.eventsToUnbind.push(Xi(i,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),Xi(i,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),an.unbindDocumentTouchEnd||(an.unbindDocumentTouchEnd=Xi(o,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),Xi(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!Ro)return;let i=this.pointerCaptureEventsToUnbind,o=this.chart,c=o.container,h=Hr(o.options.tooltip?.followTouchMove,!0)&&o.series.some(f=>f.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&h?(i.push(Xi(c,"pointerdown",f=>{f.target?.hasPointerCapture(f.pointerId)&&f.target?.releasePointerCapture(f.pointerId)}),Xi(c,"pointermove",f=>{o.pointer?.getPointFromEvent(f)?.onMouseOver(f)})),o.styledMode||Ps(c,{"touch-action":"none"}),c.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!h&&(i.forEach(f=>f()),i.length=0,o.styledMode||Ps(c,{"touch-action":Hr(o.options.chart.style?.["touch-action"],"manipulation")}),c.className=c.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(i){let o=this.chart,c=ce.charts[Hr(an.hoverChartIndex,-1)];if(c&&c!==o){let h={relatedTarget:o.container};i&&!i?.relatedTarget&&Object.assign({},i,h),c.pointer?.onContainerMouseLeave(i||h)}c?.mouseIsDown||(an.hoverChartIndex=o.index)}touch(i,o){let c,{chart:h,pinchDown:f=[]}=this;this.setHoverChartIndex(),(i=this.normalize(i)).touches.length===1?h.isInsidePlot(i.chartX-h.plotLeft,i.chartY-h.plotTop,{visiblePlotOnly:!0})&&!h.exporting?.openMenu?(o&&this.runPointActions(i),i.type==="touchmove"&&(this.hasPinchMoved=c=!!f[0]&&Math.pow(f[0].chartX-i.chartX,2)+Math.pow(f[0].chartY-i.chartY,2)>=16),Hr(c,!0)&&this.pinch(i)):o&&this.reset():i.touches.length===2&&this.pinch(i)}touchSelect(i){return!!(this.chart.zooming.singleTouch&&i.touches&&i.touches.length===1)}zoomOption(i){let o=this.chart,c=o.inverted,h=o.zooming.type||"",f,g;/touch/.test(i.type)&&(h=Hr(o.zooming.pinchType,h)),this.zoomX=f=/x/.test(h),this.zoomY=g=/y/.test(h),this.zoomHor=f&&!c||g&&c,this.zoomVert=g&&!c||f&&c,this.hasZoom=f||g}}an.unbindDocumentMouseUp=[],(F=an||(an={})).compose=function(x){ip(Pl,"Core.Pointer")&&Xi(x,"beforeRender",function(){this.pointer=new F(this,this.options)})};let qn=an;(W=Fe||(Fe={})).setLength=function(x,i,o){return Array.isArray(x)?(x.length=i,x):x[o?"subarray":"slice"](0,i)},W.splice=function(x,i,o,c,h=[]){if(Array.isArray(x))return Array.isArray(h)||(h=Array.from(h)),{removed:x.splice(i,o,...h),array:x};let f=Object.getPrototypeOf(x).constructor,g=x[c?"subarray":"slice"](i,i+o),v=new f(x.length-o+h.length);return v.set(x.subarray(0,i),0),v.set(h,i),v.set(x.subarray(i+o),i+h.length),{removed:g,array:v}},W.convertToNumber=function(x,i){switch(typeof x){case"boolean":return+!!x;case"number":return isNaN(x)&&!i?null:x;default:return isNaN(x=parseFloat(`${x??""}`))&&!i?null:x}};let{setLength:zd,splice:zl}=Fe,{fireEvent:Bl,objectEach:ko,uniqueKey:wr}=We,Ka=class{constructor(x={}){this.autoId=!x.id,this.columns={},this.id=x.id||wr(),this.rowCount=0,this.versionTag=wr();let i=0;ko(x.columns||{},(o,c)=>{this.columns[c]=o.slice(),i=Math.max(i,o.length)}),this.applyRowCount(i)}applyRowCount(x){this.rowCount=x,ko(this.columns,(i,o)=>{i.length!==x&&(this.columns[o]=zd(i,x))})}deleteRows(x,i=1){if(i>0&&x<this.rowCount){let o=0;ko(this.columns,(c,h)=>{this.columns[h]=zl(c,x,i).array,o=c.length}),this.rowCount=o}Bl(this,"afterDeleteRows",{rowIndex:x,rowCount:i}),this.versionTag=wr()}getColumn(x,i){return this.columns[x]}getColumns(x,i){return(x||Object.keys(this.columns)).reduce((o,c)=>(o[c]=this.columns[c],o),{})}getRow(x,i){return(i||Object.keys(this.columns)).map(o=>this.columns[o]?.[x])}setColumn(x,i=[],o=0,c){this.setColumns({[x]:i},o,c)}setColumns(x,i,o){let c=this.rowCount;ko(x,(h,f)=>{this.columns[f]=h.slice(),c=h.length}),this.applyRowCount(c),o?.silent||(Bl(this,"afterSetColumns"),this.versionTag=wr())}setRow(x,i=this.rowCount,o,c){let{columns:h}=this,f=o?this.rowCount+1:i+1,g=Object.keys(x);if(c?.addColumns!==!1)for(let v=0,b=g.length;v<b;v++){let E=g[v];h[E]||(h[E]=[])}ko(h,(v,b)=>{v||c?.addColumns===!1||(v=Array(f)),v&&(o?v=zl(v,i,0,!0,[x[b]??null]).array:v[i]=x[b]??null,h[b]=v)}),f>this.rowCount&&this.applyRowCount(f),c?.silent||(Bl(this,"afterSetRows"),this.versionTag=wr())}getModified(){return this.modified||this}},{extend:rp,merge:ap,pick:sp}=We;var Bd=$e||($e={});function op(x,i,o){let c=this.legendItem=this.legendItem||{},{chart:h,options:f}=this,{baseline:g=0,symbolWidth:v,symbolHeight:b}=x,E=this.symbol||"circle",M=b/2,w=h.renderer,A=c.group,k=g-Math.round((x.fontMetrics?.b||b)*(o?.4:.3)),N={},I,j=f.marker,z=0;if(h.styledMode||(N["stroke-width"]=Math.min(f.lineWidth||0,24),f.dashStyle?N.dashstyle=f.dashStyle:f.linecap!=="square"&&(N["stroke-linecap"]="round")),c.line=w.path().addClass("highcharts-graph").attr(N).add(A),o&&(c.area=w.path().addClass("highcharts-area").add(A)),N["stroke-linecap"]&&(z=Math.min(c.line.strokeWidth(),v)/2),v){let V=[["M",z,k],["L",v-z,k]];c.line.attr({d:V}),c.area?.attr({d:[...V,["L",v-z,g],["L",z,g]]})}if(j&&j.enabled!==!1&&v){let V=Math.min(sp(j.radius,M),M);E.indexOf("url")===0&&(j=ap(j,{width:b,height:b}),V=0),c.symbol=I=w.symbol(E,v/2-V,k-V,2*V,2*V,rp({context:"legend"},j)).addClass("highcharts-point").add(A),I.isMarker=!0}}Bd.areaMarker=function(x,i){op.call(this,x,i,!0)},Bd.lineMarker=op,Bd.rectangle=function(x,i){let o=i.legendItem||{},c=x.options,h=x.symbolHeight,f=c.squareSymbol,g=f?h:x.symbolWidth;o.symbol=this.chart.renderer.rect(f?(x.symbolWidth-h)/2:0,x.baseline-h+1,g,h,sp(x.options.symbolRadius,h/2)).addClass("highcharts-point").attr({zIndex:3}).add(o.group)};let lp=$e,{defaultOptions:cp}=Un,{extend:Jm,extendClass:up,merge:ey}=We;var ka=oe||(oe={});function dp(x,i){let o=cp.plotOptions||{},c=i.defaultOptions,h=i.prototype;return h.type=x,h.pointClass||(h.pointClass=$t),!ka.seriesTypes[x]&&(c&&(o[x]=c),ka.seriesTypes[x]=i,!0)}ka.seriesTypes=ce.seriesTypes,ka.registerSeriesType=dp,ka.seriesType=function(x,i,o,c,h){let f=cp.plotOptions||{};if(i=i||"",f[x]=ey(f[i],o),delete ka.seriesTypes[x],dp(x,up(ka.seriesTypes[i]||ce.Series,c)),ka.seriesTypes[x].prototype.type=x,h){class g extends $t{}Jm(g.prototype,h),ka.seriesTypes[x].prototype.pointClass=g}return ka.seriesTypes[x]};let Bt=oe,{animObject:hp,setAnimation:fp}=Ai,{defaultOptions:Kc}=Un,{registerEventOptions:ty}=El,{svg:ny,win:iy}=ce,{seriesTypes:Oo}=Bt,{format:C0}=$n,{arrayMax:Fd,arrayMin:No,clamp:pp,correctFloat:Jc,crisp:Hd,defined:ai,destroyObjectProperties:gp,diffObjects:D0,erase:mp,error:eu,extend:Lo,find:ry,fireEvent:_n,getClosestDistance:yp,getNestedProperty:vp,insertItem:bp,isArray:Ud,isNumber:hi,isString:ay,merge:tu,objectEach:nu,pick:Ln,removeEvent:sy,syncTimeout:Gd}=We;class Ur{constructor(){this.zoneAxis="y"}init(i,o){let c;_n(this,"init",{options:o}),this.dataTable??(this.dataTable=new Ka);let h=i.series;this.eventsToUnbind=[],this.chart=i,this.options=this.setOptions(o);let f=this.options,g=f.visible!==!1;this.linkedSeries=[],this.bindAxes(),Lo(this,{name:f.name,state:"",visible:g,selected:f.selected===!0}),ty(this,f),(f.events?.click||f.point?.events?.click||f.allowPointSelect)&&(i.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(i.hasCartesianSeries=!0),h.length&&(c=h[h.length-1]),this._i=Ln(c?._i,-1)+1,this.opacity=this.options.opacity,i.orderItems("series",bp(this,h)),f.dataSorting?.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(f.data,!1),_n(this,"afterInit")}is(i){return Oo[i]&&this instanceof Oo[i]}bindAxes(){let i,o=this,c=o.options,h=o.chart;_n(this,"bindAxes",null,function(){(o.axisTypes||[]).forEach(function(f){(h[f]||[]).forEach(function(g){i=g.options,(Ln(c[f],0)===g.index||c[f]!==void 0&&c[f]===i.id)&&(bp(o,g.series),o[f]=g,g.isDirty=!0)}),o[f]||o.optionalAxis===f||eu(18,!0,h)})}),_n(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(i,o){let c=i.marker,h=o.marker||{};return c&&(h.enabled&&!c.enabled||h.symbol!==c.symbol||h.height!==c.height||h.width!==c.width)}autoIncrement(i){let o,c=this.options,{pointIntervalUnit:h,relativeXValue:f}=this.options,g=this.chart.time,v=this.xIncrement??g.parse(c.pointStart)??0;if(this.pointInterval=o=Ln(this.pointInterval,c.pointInterval,1),f&&hi(i)&&(o*=i),h){let b=g.toParts(v);h==="day"?b[2]+=o:h==="month"?b[1]+=o:h==="year"&&(b[0]+=o),o=g.makeTime.apply(g,b)-v}return f&&hi(i)?v+o:(this.xIncrement=v+o,v)}setDataSortingOptions(){let i=this.options;Lo(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),ai(i.pointRange)||(i.pointRange=1)}setOptions(i){let o,c=this.chart,h=c.options.plotOptions,f=c.userOptions||{},g=tu(i),v=c.styledMode,b={plotOptions:h,userOptions:g};_n(this,"setOptions",b);let E=b.plotOptions[this.type],M=f.plotOptions||{},w=M.series||{},A=Kc.plotOptions[this.type]||{},k=M[this.type]||{};E.dataLabels=this.mergeArrays(A.dataLabels,E.dataLabels),this.userOptions=b.userOptions;let N=tu(E,h.series,k,g);this.tooltipOptions=tu(Kc.tooltip,Kc.plotOptions.series?.tooltip,A?.tooltip,c.userOptions.tooltip,M.series?.tooltip,k.tooltip,g.tooltip),this.stickyTracking=Ln(g.stickyTracking,k.stickyTracking,w.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||N.stickyTracking),E.marker===null&&delete N.marker,this.zoneAxis=N.zoneAxis||"y";let I=this.zones=(N.zones||[]).map(j=>({...j}));return(N.negativeColor||N.negativeFillColor)&&!N.zones&&(o={value:N[this.zoneAxis+"Threshold"]||N.threshold||0,className:"highcharts-negative"},v||(o.color=N.negativeColor,o.fillColor=N.negativeFillColor),I.push(o)),I.length&&ai(I[I.length-1].value)&&I.push(v?{}:{color:this.color,fillColor:this.fillColor}),_n(this,"afterSetOptions",{options:N}),N}getName(){return this.options.name??C0(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(i,o,c){let h,f,g=this.chart,v=`${i}Index`,b=`${i}Counter`,E=c?.length||g.options.chart.colorCount;!o&&(ai(f=Ln(i==="color"?this.options.colorIndex:void 0,this[v]))?h=f:(g.series.length||(g[b]=0),h=g[b]%E,g[b]+=1),c&&(o=c[h])),h!==void 0&&(this[v]=h),this[i]=o}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||Kc.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let i=this.options.marker;this.getCyclic("symbol",i.symbol,this.chart.options.symbols)}getColumn(i,o){return(o?this.dataTable.getModified():this.dataTable).getColumn(i,!0)||[]}findPointIndex(i,o){let c,h,f,{id:g,x:v}=i,b=this.points,E=this.options.dataSorting,M=this.cropStart||0;if(g){let w=this.chart.get(g);w instanceof $t&&(c=w)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let w=A=>!A.touched&&A.index===i.index;if(E?.matchByName?w=A=>!A.touched&&A.name===i.name:this.options.relativeXValue&&(w=A=>!A.touched&&A.options.x===i.x),!(c=ry(b,w)))return}return c&&(f=c?.index)!==void 0&&(h=!0),f===void 0&&hi(v)&&(f=this.getColumn("x").indexOf(v,o)),f!==-1&&f!==void 0&&this.cropped&&(f=f>=M?f-M:f),!h&&hi(f)&&b[f]?.touched&&(f=void 0),f}updateData(i,o){let{options:c,requireSorting:h}=this,f=c.dataSorting,g=this.points,v=[],b=i.length===g.length,E=this.xIncrement,M,w,A,k,N=!0;if(this.xIncrement=null,i.forEach((j,z)=>{let V,q=ai(j)&&this.pointClass.prototype.optionsToObject.call({series:this},j)||{},{id:Q,x:ee}=q;Q||hi(ee)?((V=this.findPointIndex(q,k))===-1||V===void 0?v.push(j):g[V]&&j!==c.data?.[V]?(g[V].update(j,!1,void 0,!1),g[V].touched=!0,h&&(k=V+1)):g[V]&&(g[V].touched=!0),(!b||z!==V||f?.enabled||this.hasDerivedData)&&(M=!0)):v.push(j)},this),M)for(w=g.length;w--;)(A=g[w])&&!A.touched&&A.remove?.(!1,o);else b&&!f?.enabled?(i.forEach((j,z)=>{j===g[z].y||g[z].destroyed||g[z].update(j,!1,void 0,!1)}),v.length=0):N=!1;if(g.forEach(j=>{j&&(j.touched=!1)}),!N)return!1;v.forEach(j=>{this.addPoint(j,!1,void 0,void 0,!1)},this);let I=this.getColumn("x");return E!==null&&this.xIncrement===null&&I.length&&(this.xIncrement=Fd(I),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(i,o=!0,c,h){let f=this.points,g=f?.length||0,v=this.options,b=this.chart,E=v.dataSorting,M=this.xAxis,w=v.turboThreshold,A=this.dataTable,k=this.dataColumnKeys(),N=this.pointValKey||"y",I=(this.pointArrayMap||[]).length,j=v.keys,z,V,q=0,Q=1,ee;b.options.chart.allowMutatingData||(v.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,ee=tu(!0,i));let te=(i=ee||i||[]).length;if(E?.enabled&&(i=this.sortData(i)),b.options.chart.allowMutatingData&&h!==!1&&te&&g&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(V=this.updateData(i,c)),!V){this.xIncrement=null,this.colorCounter=0;let J=w&&!v.relativeXValue&&te>w;if(J){let ne=this.getFirstValidPoint(i),de=this.getFirstValidPoint(i,te-1,-1),me=se=>!!(Ud(se)&&(j||hi(se[0])));if(hi(ne)&&hi(de)){let se=[],we=[];for(let Ne of i)se.push(this.autoIncrement()),we.push(Ne);A.setColumns({x:se,[N]:we})}else if(me(ne)&&me(de))if(I){let se=+(ne.length===I),we=Array(k.length).fill(0).map(()=>[]);for(let Ne of i){se&&we[0].push(this.autoIncrement());for(let _e=se;_e<=I;_e++)we[_e]?.push(Ne[_e-se])}A.setColumns(k.reduce((Ne,_e,He)=>(Ne[_e]=we[He],Ne),{}))}else{j&&(q=j.indexOf("x"),Q=j.indexOf("y"),q=q>=0?q:0,Q=Q>=0?Q:1),ne.length===1&&(Q=0);let se=[],we=[];if(q===Q)for(let Ne of i)se.push(this.autoIncrement()),we.push(Ne[Q]);else for(let Ne of i)se.push(Ne[q]),we.push(Ne[Q]);A.setColumns({x:se,[N]:we})}else J=!1}if(!J){let ne=k.reduce((de,me)=>(de[me]=[],de),{});for(z=0;z<te;z++){let de=this.pointClass.prototype.applyOptions.apply({series:this},[i[z]]);for(let me of k)ne[me][z]=de[me]}A.setColumns(ne)}for(ay(this.getColumn("y")[0])&&eu(14,!0,b),this.data=[],this.options.data=this.userOptions.data=i,z=g;z--;)f[z]?.destroy();M&&(M.minRange=M.userMinRange),this.isDirty=b.isDirtyBox=!0,this.isDirtyData=!!f,c=!1}v.legendType==="point"&&(this.processData(),this.generatePoints()),o&&b.redraw(c)}sortData(i){let o=this,c=o.options.dataSorting.sortKey||"y",h=function(f,g){return ai(g)&&f.pointClass.prototype.optionsToObject.call({series:f},g)||{}};return i.forEach(function(f,g){i[g]=h(o,f),i[g].index=g},this),i.concat().sort((f,g)=>{let v=vp(c,f),b=vp(c,g);return b<v?-1:+(b>v)}).forEach(function(f,g){f.x=g},this),o.linkedSeries&&o.linkedSeries.forEach(function(f){let g=f.options,v=g.data;!g.dataSorting?.enabled&&v&&(v.forEach(function(b,E){v[E]=h(f,b),i[E]&&(v[E].x=i[E].x,v[E].index=E)}),f.setData(v,!1))}),i}getProcessedData(i){let o=this,{dataTable:c,isCartesian:h,options:f,xAxis:g}=o,v=f.cropThreshold,b=i||o.getExtremesFromAll,E=g?.logarithmic,M=c.rowCount,w,A,k=0,N,I,j,z=o.getColumn("x"),V=c,q=!1;return g&&(I=(N=g.getExtremes()).min,j=N.max,q=!!(g.categories&&!g.names.length),h&&o.sorted&&!b&&(!v||M>v||o.forceCrop)&&(z[M-1]<I||z[0]>j?V=new Ka:o.getColumn(o.pointValKey||"y").length&&(z[0]<I||z[M-1]>j)&&(V=(w=this.cropData(c,I,j)).modified,k=w.start,A=!0))),z=V.getColumn("x")||[],{modified:V,cropped:A,cropStart:k,closestPointRange:yp([E?z.map(E.log2lin):z],()=>o.requireSorting&&!q&&eu(15,!1,o.chart))}}processData(i){let o=this.xAxis,c=this.dataTable;if(this.isCartesian&&!this.isDirty&&!o.isDirty&&!this.yAxis.isDirty&&!i)return!1;let h=this.getProcessedData();c.modified=h.modified,this.cropped=h.cropped,this.cropStart=h.cropStart,this.closestPointRange=this.basePointRange=h.closestPointRange,_n(this,"afterProcessData")}cropData(i,o,c){let h=i.getColumn("x",!0)||[],f=h.length,g={},v,b,E=0,M=f;for(v=0;v<f;v++)if(h[v]>=o){E=Math.max(0,v-1);break}for(b=v;b<f;b++)if(h[b]>c){M=b+1;break}for(let w of this.dataColumnKeys()){let A=i.getColumn(w,!0);A&&(g[w]=A.slice(E,M))}return{modified:new Ka({columns:g}),start:E,end:M}}generatePoints(){let i=this.options,o=this.processedData||i.data,c=this.dataTable.getModified(),h=this.getColumn("x",!0),f=this.pointClass,g=c.rowCount,v=this.cropStart||0,b=this.hasGroupedData,E=i.keys,M=[],w=i.dataGrouping?.groupAll?v:0,A=this.pointArrayMap||["y"],k=this.dataColumnKeys(),N,I,j,z,V=this.data,q;if(!V&&!b){let Q=[];Q.length=o?.length||0,V=this.data=Q}for(E&&b&&(this.options.keys=!1),z=0;z<g;z++)I=v+z,b?((j=new f(this,c.getRow(z,k)||[])).dataGroup=this.groupMap?.[w+z],j.dataGroup?.options&&(j.options=j.dataGroup.options,Lo(j,j.dataGroup.options),delete j.dataLabels,j.key=j.name??j.category)):(j=V[I],q=o?o[I]:c.getRow(z,A),j||q===void 0?j&&(j.category=this.xAxis?.categories?.[j.x]??j.x,j.key=j.name??j.category):V[I]=j=new f(this,q,h[z])),j&&(j.index=b?w+z:I,M[z]=j);if(this.options.keys=E,V&&(g!==(N=V.length)||b))for(z=0;z<N;z++)z!==v||b||(z+=g),V[z]&&(V[z].destroyElements(),V[z].plotX=void 0);this.data=V,this.points=M,_n(this,"afterGeneratePoints")}getXExtremes(i){return{min:No(i),max:Fd(i)}}getExtremes(i,o){let{xAxis:c,yAxis:h}=this,f=o||this.getExtremesFromAll||this.options.getExtremesFromAll,g=f&&this.cropped?this.dataTable:this.dataTable.getModified(),v=g.rowCount,b=i||this.stackedYData,E=b?[b]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(ee=>g.getColumn(ee,!0)||[])||[],M=this.getColumn("x",!0),w=[],A=this.requireSorting&&!this.is("column")?1:0,k=!!h&&h.positiveValuesOnly,N=f||this.cropped||!c,I,j,z,V=0,q=0;for(c&&(V=(I=c.getExtremes()).min,q=I.max),z=0;z<v;z++)if(j=M[z],N||(M[z+A]||j)>=V&&(M[z-A]||j)<=q)for(let ee of E){let te=ee[z];hi(te)&&(te>0||!k)&&w.push(te)}let Q={activeYData:w,dataMin:No(w),dataMax:Fd(w)};return _n(this,"afterGetExtremes",{dataExtremes:Q}),Q}applyExtremes(){let i=this.getExtremes();return this.dataMin=i.dataMin,this.dataMax=i.dataMax,i}getFirstValidPoint(i,o=0,c=1){let h=i.length,f=o;for(;f>=0&&f<h;){if(ai(i[f]))return i[f];f+=c}}translate(){this.generatePoints();let i=this.options,o=i.stacking,c=this.xAxis,h=this.enabledDataSorting,f=this.yAxis,g=this.points,v=g.length,b=this.pointPlacementToXValue(),E=!!b,M=i.threshold,w=i.startFromThreshold?M:0,A=i?.nullInteraction&&f.len,k,N,I,j,z=Number.MAX_VALUE;function V(q){return pp(q,-1e9,1e9)}for(k=0;k<v;k++){let q,Q=g[k],ee=Q.x,te,J,ne=Q.y,de=Q.low,me=o&&f.stacking?.stacks[(this.negStacks&&ne<(w?0:M)?"-":"")+this.stackKey];Q.plotX=hi(N=c.translate(ee,!1,!1,!1,!0,b))?Jc(V(N)):void 0,o&&this.visible&&me&&me[ee]&&(j=this.getStackIndicator(j,ee,this.index),!Q.isNull&&j.key&&(J=(te=me[ee]).points[j.key]),te&&Ud(J)&&(de=J[0],ne=J[1],de===w&&j.key===me[ee].base&&(de=Ln(hi(M)?M:f.min)),f.positiveValuesOnly&&ai(de)&&de<=0&&(de=void 0),Q.total=Q.stackTotal=Ln(te.total),Q.percentage=ai(Q.y)&&te.total?Q.y/te.total*100:void 0,Q.stackY=ne,this.irregularWidths||te.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Q.yBottom=ai(de)?V(f.translate(de,!1,!0,!1,!0)):void 0,this.dataModify&&(ne=this.dataModify.modifyValue(ne,k)),hi(ne)&&Q.plotX!==void 0?q=hi(q=f.translate(ne,!1,!0,!1,!0))?V(q):void 0:!hi(ne)&&A&&(q=A),Q.plotY=q,Q.isInside=this.isPointInside(Q),Q.clientX=E?Jc(c.translate(ee,!1,!1,!1,!0,b)):N,Q.negative=(Q.y||0)<(M||0),Q.isNull||Q.visible===!1||(I!==void 0&&(z=Math.min(z,Math.abs(N-I))),I=N),Q.zone=this.zones.length?Q.getZone():void 0,!Q.graphic&&this.group&&h&&(Q.isNew=!0)}this.closestPointRangePx=z,_n(this,"afterTranslate")}getValidPoints(i,o,c){let h=this.chart;return(i||this.points||[]).filter(function(f){let{plotX:g,plotY:v}=f;return(!!c||!f.isNull&&!!hi(v))&&(!o||!!h.isInsidePlot(g,v,{inverted:h.inverted}))&&f.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:i,group:o,markerGroup:c}=this,h=i.sharedClips,f=i.renderer,g=i.getClipBox(this),v=this.getSharedClipKey(),b=h[v];_n(this,"setClip",{clipBox:g}),b?b.animate(g):h[v]=b=f.clipRect(g),o&&o.clip(this.options.clip===!1?void 0:b),c&&c.clip()}animate(i){let{chart:o,group:c,markerGroup:h}=this,f=o.inverted,g=hp(this.options.animation),v=[this.getSharedClipKey(),g.duration,g.easing,g.defer].join(","),b=o.sharedClips[v],E=o.sharedClips[v+"m"];if(i&&c){let M=o.getClipBox(this);if(b)b.attr("height",M.height);else{M.width=0,f&&(M.x=o.plotHeight),b=o.renderer.clipRect(M),o.sharedClips[v]=b;let w={x:-99,y:-99,width:f?o.plotWidth+199:99,height:f?99:o.plotHeight+199};E=o.renderer.clipRect(w),o.sharedClips[v+"m"]=E}c.clip(b),h?.clip(E)}else if(b&&!b.hasClass("highcharts-animating")){let M=o.getClipBox(this),w=g.step;(h?.element.childNodes.length||o.series.length>1)&&(g.step=function(A,k){w&&w.apply(k,arguments),k.prop==="width"&&E?.element&&E.attr(f?"height":"width",A+99)}),b.addClass("highcharts-animating").animate(M,g)}}afterAnimate(){this.setClip(),nu(this.chart.sharedClips,(i,o,c)=>{i&&!this.chart.container.querySelector(`[clip-path="url(#${i.id})"]`)&&(i.destroy(),delete c[o])}),this.finishedAnimating=!0,_n(this,"afterAnimate")}drawPoints(i=this.points){let o,c,h,f,g,v,b,E=this.chart,M=E.styledMode,{colorAxis:w,options:A}=this,k=A.marker,N=A.nullInteraction,I=this[this.specialGroup||"markerGroup"],j=this.xAxis,z=Ln(k.enabled,!j||!!j.isRadial||null,this.closestPointRangePx>=k.enabledThreshold*k.radius);if(k.enabled!==!1||this._hasPointMarkers)for(o=0;o<i.length;o++){f=(h=(c=i[o]).graphic)?"animate":"attr",g=c.marker||{},v=!!c.marker;let V=c.isNull;if((z&&!ai(g.enabled)||g.enabled)&&(!V||N)&&c.visible!==!1){let q=Ln(g.symbol,this.symbol,"rect");b=this.markerAttribs(c,c.selected&&"select"),this.enabledDataSorting&&(c.startXPos=j.reversed?-(b.width||0):j.width);let Q=c.isInside!==!1;if(!h&&Q&&((b.width||0)>0||c.hasImage)&&(c.graphic=h=E.renderer.symbol(q,b.x,b.y,b.width,b.height,v?g:k).add(I),this.enabledDataSorting&&E.hasRendered&&(h.attr({x:c.startXPos}),f="animate")),h&&f==="animate"&&h[Q?"show":"hide"](Q).animate(b),h){let ee=this.pointAttribs(c,M||!c.selected?void 0:"select");M?w&&h.css({fill:ee.fill}):h[f](ee)}h&&h.addClass(c.getClassName(),!0)}else h&&(c.graphic=h.destroy())}}markerAttribs(i,o){let c=this.options,h=c.marker,f=i.marker||{},g=f.symbol||h.symbol,v={},b,E,M=Ln(f.radius,h?.radius);o&&(b=h.states[o],E=f.states&&f.states[o],M=Ln(E?.radius,b?.radius,M&&M+(b?.radiusPlus||0))),i.hasImage=g&&g.indexOf("url")===0,i.hasImage&&(M=0);let w=i.pos();return hi(M)&&w&&(c.crisp&&(w[0]=Hd(w[0],i.hasImage?0:g==="rect"?h?.lineWidth||0:1)),v.x=w[0]-M,v.y=w[1]-M),M&&(v.width=v.height=2*M),v}pointAttribs(i,o){let c=this.options,h=c.marker,f=i?.options,g=f?.marker||{},v=f?.color,b=i?.color,E=i?.zone?.color,M,w,A=this.color,k,N,I=Ln(g.lineWidth,h.lineWidth),j=i?.isNull&&c.nullInteraction?0:1;return A=v||E||b||A,k=g.fillColor||h.fillColor||A,N=g.lineColor||h.lineColor||A,o=o||"normal",M=h.states[o]||{},I=Ln((w=g.states&&g.states[o]||{}).lineWidth,M.lineWidth,I+Ln(w.lineWidthPlus,M.lineWidthPlus,0)),k=w.fillColor||M.fillColor||k,N=w.lineColor||M.lineColor||N,{stroke:N,"stroke-width":I,fill:k,opacity:j=Ln(w.opacity,M.opacity,j)}}destroy(i){let o,c,h=this,f=h.chart,g=/AppleWebKit\/533/.test(iy.navigator.userAgent),v=h.data||[];for(_n(h,"destroy",{keepEventsForUpdate:i}),this.removeEvents(i),(h.axisTypes||[]).forEach(function(b){c=h[b],c?.series&&(mp(c.series,h),c.isDirty=c.forceRedraw=!0)}),h.legendItem&&h.chart.legend.destroyItem(h),o=v.length;o--;)v[o]?.destroy?.();for(let b of h.zones)gp(b,void 0,!0);We.clearTimeout(h.animationTimeout),nu(h,function(b,E){b instanceof Ir&&!b.survive&&b[g&&E==="group"?"hide":"destroy"]()}),f.hoverSeries===h&&(f.hoverSeries=void 0),mp(f.series,h),f.orderItems("series"),nu(h,function(b,E){i&&E==="hcEvents"||delete h[E]})}applyZones(){let{area:i,chart:o,graph:c,zones:h,points:f,xAxis:g,yAxis:v,zoneAxis:b}=this,{inverted:E,renderer:M}=o,w=this[`${b}Axis`],{isXAxis:A,len:k=0,minPointOffset:N=0}=w||{},I=(c?.strokeWidth()||0)/2+1,j=(z,V=0,q=0)=>{E&&(q=k-q);let{translated:Q=0,lineClip:ee}=z,te=q-Q;ee?.push(["L",V,Math.abs(te)<I?q-I*(te<=0?-1:1):Q])};if(h.length&&(c||i)&&w&&hi(w.min)){let z=w.getExtremes().max+N,V=ee=>{ee.forEach((te,J)=>{(te[0]==="M"||te[0]==="L")&&(ee[J]=[te[0],A?k-te[1]:te[1],A?te[2]:k-te[2]])})};if(h.forEach(ee=>{ee.lineClip=[],ee.translated=pp(w.toPixels(Ln(ee.value,z),!0)||0,0,k)}),c&&!this.showLine&&c.hide(),i&&i.hide(),b==="y"&&f.length<g.len)for(let ee of f){let{plotX:te,plotY:J,zone:ne}=ee,de=ne&&h[h.indexOf(ne)-1];ne&&j(ne,te,J),de&&j(de,te,J)}let q=[],Q=w.toPixels(w.getExtremes().min-N,!0);h.forEach(ee=>{let te=ee.lineClip||[],J=Math.round(ee.translated||0);g.reversed&&te.reverse();let{clip:ne,simpleClip:de}=ee,me=0,se=0,we=g.len,Ne=v.len;A?(me=J,we=Q):(se=J,Ne=Q);let _e=[["M",me,se],["L",we,se],["L",we,Ne],["L",me,Ne],["Z"]],He=[_e[0],...te,_e[1],_e[2],...q,_e[3],_e[4]];q=te.reverse(),Q=J,E&&(V(He),i&&V(_e)),ne?(ne.animate({d:He}),de?.animate({d:_e})):(ne=ee.clip=M.path(He),i&&(de=ee.simpleClip=M.path(_e))),c&&ee.graph?.clip(ne),i&&ee.area?.clip(de)})}else this.visible&&(c&&c.show(),i&&i.show())}plotGroup(i,o,c,h,f){let g=this[i],v=!g,b={visibility:c,zIndex:h||.1};return ai(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(b.opacity=this.opacity),g||(this[i]=g=this.chart.renderer.g().add(f)),g.addClass("highcharts-"+o+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(ai(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(g.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),g.attr(b)[v?"attr":"animate"](this.getPlotBox(o)),g}getPlotBox(i){let o=this.xAxis,c=this.yAxis,h=this.chart,f=h.inverted&&!h.polar&&o&&this.invertible&&i==="series";h.inverted&&(o=c,c=this.xAxis);let g={scale:1,translateX:o?o.left:h.plotLeft,translateY:c?c.top:h.plotTop,name:i};_n(this,"getPlotBox",g);let{scale:v,translateX:b,translateY:E}=g;return{translateX:b,translateY:E,rotation:90*!!f,rotationOriginX:f?v*(o.len-c.len)/2:0,rotationOriginY:f?v*(o.len+c.len)/2:0,scaleX:f?-v:v,scaleY:v}}removeEvents(i){let{eventsToUnbind:o}=this;i||sy(this),o.length&&(o.forEach(c=>{c()}),o.length=0)}render(){let i=this,{chart:o,options:c,hasRendered:h}=i,f=hp(c.animation),g=i.visible?"inherit":"hidden",v=c.zIndex,b=o.seriesGroup,E=i.finishedAnimating?0:f.duration;_n(this,"render"),i.plotGroup("group","series",g,v,b),i.markerGroup=i.plotGroup("markerGroup","markers",g,v,b),c.clip!==!1&&i.setClip(),E&&i.animate?.(!0),i.drawGraph&&(i.drawGraph(),i.applyZones()),i.visible&&i.drawPoints(),i.drawDataLabels?.(),i.redrawPoints?.(),c.enableMouseTracking&&i.drawTracker?.(),E&&i.animate?.(),h||(E&&f.defer&&(E+=f.defer),i.animationTimeout=Gd(()=>{i.afterAnimate()},E||0)),i.isDirty=!1,i.hasRendered=!0,_n(i,"afterRender")}redraw(){let i=this.isDirty||this.isDirtyData;this.translate(),this.render(),i&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(i,o){let{xAxis:c,yAxis:h}=this,f=this.chart.inverted;return this.searchKDTree({clientX:f?c.len-i.chartY+c.pos:i.chartX-c.pos,plotY:f?h.len-i.chartX+h.pos:i.chartY-h.pos},o,i)}buildKDTree(i){this.buildingKdTree=!0;let o=this,c=o.options,h=c.findNearestPointBy.indexOf("y")>-1?2:1;delete o.kdTree,Gd(function(){o.kdTree=(function f(g,v,b){let E,M,w=g?.length;if(w)return E=o.kdAxisArray[v%b],g.sort((A,k)=>(A[E]||0)-(k[E]||0)),{point:g[M=Math.floor(w/2)],left:f(g.slice(0,M),v+1,b),right:f(g.slice(M+1),v+1,b)}})(o.getValidPoints(void 0,!o.directTouch,c?.nullInteraction),h,h),o.buildingKdTree=!1},c.kdNow||i?.type==="touchstart"?0:1)}searchKDTree(i,o,c,h,f){let g=this,[v,b]=this.kdAxisArray,E=o?"distX":"dist",M=(g.options.findNearestPointBy||"").indexOf("y")>-1?2:1,w=!!g.isBubble,A=h||((N,I,j)=>{let z=N[j]||0,V=I[j]||0;return[z===V&&N.index>I.index||z<V?N:I,!1]}),k=f||((N,I)=>N<I);if(this.kdTree||this.buildingKdTree||this.buildKDTree(c),this.kdTree)return(function N(I,j,z,V){let q,Q,ee,te,J,ne,de,me=j.point,se=g.kdAxisArray[z%V],we=me,Ne=!1;q=I[v],Q=me[v],ee=ai(q)&&ai(Q)?q-Q:null,te=I[b],J=me[b],ne=ai(te)&&ai(J)?te-J:0,de=w&&me.marker?.radius||0,me.dist=Math.sqrt((ee&&ee*ee||0)+ne*ne)-de,me.distX=ai(ee)?Math.abs(ee)-de:Number.MAX_VALUE;let _e=(I[se]||0)-(me[se]||0)+(w&&me.marker?.radius||0),He=_e<0?"left":"right",Ue=_e<0?"right":"left";return j[He]&&([we,Ne]=A(me,N(I,j[He],z+1,V),E)),j[Ue]&&k(Math.sqrt(_e*_e),we[E],Ne)&&(we=A(we,N(I,j[Ue],z+1,V),E)[0]),we})(i,this.kdTree,M,M)}pointPlacementToXValue(){let{options:i,xAxis:o}=this,c=i.pointPlacement;return c==="between"&&(c=o.reversed?-.5:.5),hi(c)?c*(i.pointRange||o.pointRange):0}isPointInside(i){let{chart:o,xAxis:c,yAxis:h}=this,{plotX:f=-1,plotY:g=-1}=i;return g>=0&&g<=(h?h.len:o.plotHeight)&&f>=0&&f<=(c?c.len:o.plotWidth)}drawTracker(){let i=this,o=i.options,c=o.trackByArea,h=[].concat((c?i.areaPath:i.graphPath)||[]),f=i.chart,g=f.pointer,v=f.renderer,b=f.options.tooltip?.snap||0,E=()=>{o.enableMouseTracking&&f.hoverSeries!==i&&i.onMouseOver()},M="rgba(192,192,192,"+(ny?1e-4:.002)+")",w=i.tracker;w?w.attr({d:h}):i.graph&&(i.tracker=w=v.path(h).attr({visibility:i.visible?"inherit":"hidden",zIndex:2}).addClass(c?"highcharts-tracker-area":"highcharts-tracker-line").add(i.group),f.styledMode||w.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:M,fill:c?M:"none","stroke-width":i.graph.strokeWidth()+(c?0:2*b)}),[i.tracker,i.markerGroup,...i.dataLabelsGroups||[]].forEach(A=>{A&&(A.addClass("highcharts-tracker").on("mouseover",E).on("mouseout",k=>{g?.onTrackerMouseOut(k)}),o.cursor&&!f.styledMode&&A.css({cursor:o.cursor}),A.on("touchstart",E))})),_n(this,"afterDrawTracker")}addPoint(i,o,c,h,f){let g,v,b=this.options,{chart:E,data:M,dataTable:w,xAxis:A}=this,k=A?.hasNames&&A.names,N=b.data,I=this.getColumn("x");o=Ln(o,!0);let j={series:this};this.pointClass.prototype.applyOptions.apply(j,[i]);let z=j.x;if(v=I.length,this.requireSorting&&z<I[v-1])for(g=!0;v&&I[v-1]>z;)v--;w.setRow(j,v,!0,{addColumns:!1}),k&&j.name&&(k[z]=j.name),N?.splice(v,0,i),(g||this.processedData)&&(this.data.splice(v,0,null),this.processData()),b.legendType==="point"&&this.generatePoints(),c&&(M[0]&&M[0].remove?M[0].remove(!1):([M,N].filter(ai).forEach(V=>{V.shift()}),w.deleteRows(0))),f!==!1&&_n(this,"addPoint",{point:j}),this.isDirty=!0,this.isDirtyData=!0,o&&E.redraw(h)}removePoint(i,o,c){let h=this,{chart:f,data:g,points:v,dataTable:b}=h,E=g[i],M=function(){[v?.length===g.length?v:void 0,g,h.options.data].filter(ai).forEach(w=>{w.splice(i,1)}),b.deleteRows(i),E?.destroy(),h.isDirty=!0,h.isDirtyData=!0,o&&f.redraw()};fp(c,f),o=Ln(o,!0),E?E.firePointEvent("remove",null,M):M()}remove(i,o,c,h){let f=this,g=f.chart;function v(){f.destroy(h),g.isDirtyLegend=g.isDirtyBox=!0,g.linkSeries(h),Ln(i,!0)&&g.redraw(o)}c!==!1?_n(f,"remove",null,v):v()}update(i,o){_n(this,"update",{options:i=D0(i,this.userOptions)});let c=this,h=c.chart,f=c.userOptions,g=c.initialType||c.type,v=h.options.plotOptions,b=Oo[g].prototype,E=c.finishedAnimating&&{animation:!1},M={},w,A,k=Ur.keepProps.slice(),N=i.type||f.type||h.options.chart.type,I=!(this.hasDerivedData||N&&N!==this.type||i.keys!==void 0||i.pointStart!==void 0||i.pointInterval!==void 0||i.relativeXValue!==void 0||i.joinBy||i.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(z=>c.hasOptionChanged(z)));N=N||g,I?(k.push.apply(k,Ur.keepPropsForPoints),i.visible!==!1&&k.push("area","graph"),c.parallelArrays.forEach(function(z){k.push(z+"Data")}),i.data&&(i.dataSorting&&Lo(c.options.dataSorting,i.dataSorting),this.setData(i.data,!1))):this.dataTable.modified=this.dataTable,i.dataLabels&&f.dataLabels&&(i.dataLabels=this.mergeArrays(f.dataLabels,i.dataLabels)),i=tu(f,{index:f.index===void 0?c.index:f.index,pointStart:v?.series?.pointStart??f.pointStart??c.getColumn("x")[0]},!I&&{data:c.options.data},i,E),I&&i.data&&(i.data=c.options.data),(k=["dataLabelsGroup","dataLabelsGroups","dataLabelsParentGroups","group","markerGroup","transformGroup"].concat(k)).forEach(function(z){k[z]=c[z],delete c[z]});let j=!1;if(Oo[N]){if(j=N!==c.type,c.remove(!1,!1,!1,!0),j)if(h.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(c,Oo[N].prototype);else{let z=Object.hasOwnProperty.call(c,"hcEvents")&&c.hcEvents;for(A in b)c[A]=void 0;Lo(c,Oo[N].prototype),z?c.hcEvents=z:delete c.hcEvents}}else eu(17,!0,h,{missingModuleFor:N});if(k.forEach(function(z){c[z]=k[z]}),c.init(h,i),I&&this.points)for(let z of((w=c.options).visible===!1?(M.graphic=1,M.dataLabel=1):(this.hasMarkerChanged(w,f)&&(M.graphic=1),c.hasDataLabels?.()||(M.dataLabel=1)),this.points))z?.series&&(z.resolveColor(),Object.keys(M).length&&z.destroyElements(M),w.showInLegend===!1&&z.legendItem&&h.legend.destroyItem(z));c.initialType=g,h.linkSeries(),h.setSortedData(),j&&c.linkedSeries.length&&(c.isDirtyData=!0),_n(this,"afterUpdate"),Ln(o,!0)&&h.redraw(!!I&&void 0)}setName(i){this.name=this.options.name=this.userOptions.name=i,this.chart.isDirtyLegend=!0}hasOptionChanged(i){let o=this.chart,c=this.options[i],h=o.options.plotOptions,f=this.userOptions[i],g=Ln(h?.[this.type]?.[i],h?.series?.[i]);return f&&!ai(g)?c!==f:c!==Ln(g,c)}onMouseOver(){let i=this.chart,o=i.hoverSeries;i.pointer?.setHoverChartIndex(),o&&o!==this&&o.onMouseOut(),this.options.events.mouseOver&&_n(this,"mouseOver"),this.setState("hover"),i.hoverSeries=this}onMouseOut(){let i=this.options,o=this.chart,c=o.tooltip,h=o.hoverPoint;o.hoverSeries=null,h&&h.onMouseOut(),this&&i.events.mouseOut&&_n(this,"mouseOut"),c&&!this.stickyTracking&&(!c.shared||this.noSharedTooltip)&&c.hide(),o.series.forEach(function(f){f.setState("",!0)})}setState(i,o){let c=this,{graph:h,options:f}=c,{inactiveOtherPoints:g,states:v}=f,b=Ln(v?.[i||"normal"]?.animation,c.chart.options.chart.animation),{lineWidth:E,opacity:M}=f;if(i=i||"",c.state!==i&&([c.group,c.markerGroup,...c.dataLabelsGroups||[]].forEach(function(w){w&&(c.state&&w.removeClass("highcharts-series-"+c.state),i&&w.addClass("highcharts-series-"+i))}),c.state=i,!c.chart.styledMode)){if(v[i]?.enabled===!1)return;if(i&&(E=v[i].lineWidth||E+(v[i].lineWidthPlus||0),M=Ln(v[i].opacity,M)),h&&!h.dashstyle&&hi(E))for(let w of[h,...this.zones.map(A=>A.graph)])w?.animate({"stroke-width":E},b);g||[c.group,c.markerGroup,...c.dataLabelsGroups||[],c.labelBySeries].forEach(function(w){w?.animate({opacity:M},b)})}o&&g&&c.points&&c.setAllPointsToState(i||void 0)}setAllPointsToState(i){this.points.forEach(function(o){o.setState&&o.setState(i)})}setVisible(i,o){let c=this,h=c.chart,f=h.options.chart.ignoreHiddenSeries,g=c.visible;c.visible=i=c.options.visible=c.userOptions.visible=i===void 0?!g:i;let v=i?"show":"hide";["group","markerGroup","tracker","tt"].forEach(b=>{c[b]?.[v]()}),c.dataLabelsGroups?.forEach(b=>{b?.[v]()}),(h.hoverSeries===c||h.hoverPoint?.series===c)&&c.onMouseOut(),c.legendItem&&h.legend.colorizeItem(c,i),c.isDirty=!0,c.options.stacking&&h.series.forEach(b=>{b.options.stacking&&b.visible&&(b.isDirty=!0)}),c.linkedSeries.forEach(b=>{b.setVisible(i,!1)}),f&&(h.isDirtyBox=!0),_n(c,v),o!==!1&&h.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(i){this.selected=i=this.options.selected=i===void 0?!this.selected:i,this.checkbox&&(this.checkbox.checked=i),_n(this,i?"select":"unselect")}shouldShowTooltip(i,o,c={}){return c.series=this,c.visiblePlotOnly=!0,this.chart.isInsidePlot(i,o,c)}drawLegendSymbol(i,o){lp[this.options.legendSymbol||"rectangle"]?.call(this,i,o)}}Ur.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:x}=this.series.chart;return typeof this.y!="number"?"":x(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Ur.types=Bt.seriesTypes,Ur.registerType=Bt.registerSeriesType,Ur.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Ur.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],Lo(Ur.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:$t,requireSorting:!0,sorted:!0}),Bt.series=Ur;let Bi=Ur,{animObject:T0,setAnimation:M0}=Ai,{registerEventOptions:xp}=El,{composed:iu,marginNames:Vd}=ce,{distribute:Wd}=hl,{format:oy}=$n,{addEvent:ru,createElement:au,css:ly,defined:su,discardElement:cy,find:wp,fireEvent:oa,isNumber:Sp,merge:js,pick:Ni,pushUnique:uy,relativeLength:Yd,stableSort:dy,syncTimeout:$d}=We;class qd{constructor(i,o){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=i,this.setOptions(o),o.enabled&&(this.render(),xp(this,o),ru(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),ru(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(i){let o=Ni(i.padding,8);this.options=i,this.chart.styledMode||(this.itemStyle=i.itemStyle,this.itemHiddenStyle=js(this.itemStyle,i.itemHiddenStyle)),this.itemMarginTop=i.itemMarginTop,this.itemMarginBottom=i.itemMarginBottom,this.padding=o,this.initialItemY=o-5,this.symbolWidth=Ni(i.symbolWidth,16),this.pages=[],this.proximate=i.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(i,o){let c=this.chart;this.setOptions(js(!0,this.options,i)),"events"in this.options&&xp(this,this.options),this.destroy(),c.isDirtyLegend=c.isDirtyBox=!0,Ni(o,!0)&&c.redraw(),oa(this,"afterUpdate",{redraw:o})}colorizeItem(i,o){let c=i.color,{area:h,group:f,label:g,line:v,symbol:b}=i.legendItem||{};if((i instanceof Bi||i instanceof $t)&&(i.color=i.options?.legendSymbolColor||c),f?.[o?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:E={}}=this,M=E.color,{fillColor:w,fillOpacity:A,lineColor:k,marker:N}=i.options,I=j=>(!o&&(j.fill&&(j.fill=M),j.stroke&&(j.stroke=M)),j);g?.css(js(o?this.itemStyle:E)),v?.attr(I({stroke:k||i.color})),b&&b.attr(I(N&&b.isMarker?i.pointAttribs():{fill:i.color})),h?.attr(I({fill:w||i.color,"fill-opacity":w?1:A??.75}))}i.color=c,oa(this,"afterColorizeItem",{item:i,visible:o})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(i){let{group:o,x:c=0,y:h=0}=i.legendItem||{},f=this.options,g=f.symbolPadding,v=!f.rtl,b=i.checkbox;if(o?.element){let E={translateX:v?c:this.legendWidth-c-2*g-4,translateY:h},M=()=>{oa(this,"afterPositionItem",{item:i})};o[su(o.translateY)?"animate":"attr"](E,void 0,M)}b&&(b.x=c,b.y=h)}destroyItem(i){let o=i.legendItem||{};for(let c of["group","label","line","symbol"])o[c]&&(o[c]=o[c].destroy());i.checkbox=cy(i.checkbox),i.legendItem=void 0}destroy(){for(let i of this.getAllItems())this.destroyItem(i);for(let i of["clipRect","up","down","pager","nav","box","title","group"])this[i]&&(this[i]=this[i].destroy());this.display=null}positionCheckboxes(){let i,o=this.group?.alignAttr,c=this.clipHeight||this.legendHeight,h=this.titleHeight;o&&(i=o.translateY,this.allItems.forEach(function(f){let g,v=f.checkbox;v&&(g=i+h+v.y+(this.scrollOffset||0)+3,ly(v,{left:o.translateX+f.checkboxOffset+v.x-20+"px",top:g+"px",display:this.proximate||g>i-6&&g<i+c-6?"":"none"}))},this))}renderTitle(){let i=this.options,o=this.padding,c=i.title,h,f=0;c.text&&(this.title||(this.title=this.chart.renderer.label(c.text,o-3,o-4,void 0,void 0,void 0,i.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(c.style),this.title.add(this.group)),c.width||this.title.css({width:this.maxLegendWidth+"px"}),f=(h=this.title.getBBox()).height,this.offsetWidth=h.width,this.contentGroup.attr({translateY:f})),this.titleHeight=f}setText(i){let o=this.options;i.legendItem.label.attr({text:o.labelFormat?oy(o.labelFormat,i,this.chart):o.labelFormatter.call(i)})}renderItem(i){let o=i.legendItem=i.legendItem||{},c=this.chart,h=c.renderer,f=this.options,g=f.layout==="horizontal",v=this.symbolWidth,b=f.symbolPadding||0,E=this.itemStyle,M=this.itemHiddenStyle,w=g?Ni(f.itemDistance,20):0,A=!f.rtl,k=!i.series,N=!k&&i.series.drawLegendSymbol?i.series:i,I=N.options,j=!!this.createCheckboxForItem&&I&&I.showCheckbox,z=f.useHTML,V=i.options.className,q=o.label,Q=v+b+w+20*!!j;!q&&(o.group=h.g("legend-item").addClass("highcharts-"+N.type+"-series highcharts-color-"+i.colorIndex+(V?" "+V:"")+(k?" highcharts-series-"+i.index:"")).attr({zIndex:1}).add(this.scrollGroup),o.label=q=h.text("",A?v+b:-b,this.baseline||0,z),c.styledMode||q.css(js(i.visible?E:M)),q.attr({align:A?"left":"right",zIndex:2}).add(o.group),!this.baseline&&(this.fontMetrics=h.fontMetrics(q),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,q.attr("y",this.baseline),this.symbolHeight=Ni(f.symbolHeight,this.fontMetrics.f),f.squareSymbol&&(this.symbolWidth=Ni(f.symbolWidth,Math.max(this.symbolHeight,16)),Q=this.symbolWidth+b+w+20*!!j,A&&q.attr("x",this.symbolWidth+b))),N.drawLegendSymbol(this,i),this.setItemEvents&&this.setItemEvents(i,q,z)),j&&!i.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(i),this.colorizeItem(i,i.visible),(c.styledMode||!E.width)&&q.css({width:Math.min(f.itemWidth||this.widthOption||c.spacingBox.width,f.maxWidth?Yd(f.maxWidth,c.chartWidth):1/0)-Q+"px"}),this.setText(i);let ee=q.getBBox(),te=this.fontMetrics?.h||0;i.itemWidth=i.checkboxOffset=f.itemWidth||o.labelWidth||ee.width+Q,this.maxItemWidth=Math.max(this.maxItemWidth,i.itemWidth),this.totalItemWidth+=i.itemWidth,this.itemHeight=i.itemHeight=Math.round(o.labelHeight||(ee.height>1.5*te?ee.height:te))}layoutItem(i){let o=this.options,c=this.padding,h=o.layout==="horizontal",f=i.itemHeight,g=this.itemMarginBottom,v=this.itemMarginTop,b=h?Ni(o.itemDistance,20):0,E=this.maxLegendWidth,M=o.alignColumns&&this.totalItemWidth>E?this.maxItemWidth:i.itemWidth,w=i.legendItem||{};h&&this.itemX-c+M>E&&(this.itemX=c,this.lastLineHeight&&(this.itemY+=v+this.lastLineHeight+g),this.lastLineHeight=0),this.lastItemY=v+this.itemY+g,this.lastLineHeight=Math.max(f,this.lastLineHeight),w.x=this.itemX,w.y=this.itemY,h?this.itemX+=M:(this.itemY+=v+f+g,this.lastLineHeight=f),this.offsetWidth=this.widthOption||Math.max((h?this.itemX-c-(i.checkbox?0:b):M)+c,this.offsetWidth)}getAllItems(){let i=[];return this.chart.series.forEach(function(o){let c=o?.options;o&&Ni(c.showInLegend,!su(c.linkedTo)&&void 0,!0)&&(i=i.concat(o.legendItem?.labels||(c.legendType==="point"?o.data:o)))}),oa(this,"afterGetAllItems",{allItems:i}),i}getAlignment(){let i=this.options;return this.proximate?i.align.charAt(0)+"tv":i.floating?"":i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0)}adjustMargins(i,o){let c=this.chart,h=this.options,f=this.getAlignment();f&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((g,v)=>{g.test(f)&&!su(i[v])&&(c[Vd[v]]=Math.max(c[Vd[v]],c.legend[(v+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][v]*h[v%2?"x":"y"]+(h.margin??12)+o[v]+(c.titleOffset[v]||0)))})}proximatePositions(){let i,o=this.chart,c=[],h=this.options.align==="left";for(let f of(this.allItems.forEach(function(g){let v,b,E=h,M,w;g.yAxis&&(g.xAxis.options.reversed&&(E=!E),g.points&&(v=wp(E?g.points:g.points.slice(0).reverse(),function(A){return Sp(A.plotY)})),b=this.itemMarginTop+g.legendItem.label.getBBox().height+this.itemMarginBottom,w=g.yAxis.top-o.plotTop,M=g.visible?(v?v.plotY:g.yAxis.height)+(w-.3*b):w+g.yAxis.height,c.push({target:M,size:b,item:g}))},this),Wd(c,o.plotHeight)))i=f.item.legendItem||{},Sp(f.pos)&&(i.y=o.plotTop-o.spacing[0]+f.pos)}render(){let i=this.chart,o=i.spacingBox.width,c=i.renderer,h=this.options,f=this.padding,g=this.getAllItems(),v,b,E,M=this.group,w,A=this.box;this.itemX=f,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=Yd(h.width,o-f),w=o-2*f-h.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(w/=2),this.maxLegendWidth=this.widthOption||w,M||(this.group=M=c.g("legend").addClass(h.className||"").attr({zIndex:7}).add(),this.contentGroup=c.g().attr({zIndex:1}).add(M),this.scrollGroup=c.g().add(this.contentGroup)),this.renderTitle(),dy(g,(k,N)=>(k.options?.legendIndex||0)-(N.options?.legendIndex||0)),h.reversed&&g.reverse(),this.allItems=g,this.display=v=!!g.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,g.forEach(this.renderItem,this),g.forEach(this.layoutItem,this),b=(h.maxWidth?Math.min(this.widthOption||this.offsetWidth,w,Yd(h.maxWidth,i.chartWidth)||1/0):this.widthOption||this.offsetWidth)+f,E=this.lastItemY+this.lastLineHeight+this.titleHeight,E=this.handleOverflow(E)+f,A||(this.box=A=c.rect().addClass("highcharts-legend-box").attr({r:h.borderRadius}).add(M)),i.styledMode||A.attr({stroke:h.borderColor,"stroke-width":h.borderWidth||0,fill:h.backgroundColor||"none"}).shadow(h.shadow),b>0&&E>0&&A[A.placed?"animate":"attr"](A.crisp.call({},{x:0,y:0,width:b,height:E},A.strokeWidth())),M[v?"show":"hide"](),i.styledMode&&M.getStyle("display")==="none"&&(b=E=0),this.legendWidth=b,this.legendHeight=E,v&&this.align(),this.proximate||this.positionItems(),oa(this,"afterRender")}align(i=this.chart.spacingBox){let o=this.chart,c=this.options,h=i.y;/(lth|ct|rth)/.test(this.getAlignment())&&o.titleOffset[0]>0?h+=o.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&o.titleOffset[2]>0&&(h-=o.titleOffset[2]),h!==i.y&&(i=js(i,{y:h})),o.hasRendered||(this.group.placed=!1),this.group.align(js(c,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":c.verticalAlign}),!0,i)}handleOverflow(i){let o=this,c=this.chart,h=c.renderer,f=this.options,g=f.y,v=f.verticalAlign==="top",b=this.padding,E=f.maxHeight,M=f.navigation,w=Ni(M.animation,!0),A=M.arrowSize||12,k=this.pages,N=this.allItems,I=function(ne){typeof ne=="number"?J.attr({height:ne}):J&&(o.clipRect=J.destroy(),o.contentGroup.clip()),o.contentGroup.div&&(o.contentGroup.div.style.clip=ne?"rect("+b+"px,9999px,"+(b+ne)+"px,0)":"auto")},j=function(ne){return o[ne]=h.circle(0,0,1.3*A).translate(A/2,A/2).add(te),c.styledMode||o[ne].attr("fill","rgba(0,0,0,0.0001)"),o[ne]},z,V,q,Q,ee=c.spacingBox.height+(v?-g:g)-b,te=this.nav,J=this.clipRect;return f.layout!=="horizontal"||f.verticalAlign==="middle"||f.floating||(ee/=2),E&&(ee=Math.min(ee,E)),k.length=0,i&&ee>0&&i>ee&&M.enabled!==!1?(this.clipHeight=z=Math.max(ee-20-this.titleHeight-b,0),this.currentPage=Ni(this.currentPage,1),this.fullHeight=i,N.forEach((ne,de)=>{let me=(q=ne.legendItem||{}).y||0,se=Math.round(q.label.getBBox().height),we=k.length;(!we||me-k[we-1]>z&&(V||me)!==k[we-1])&&(k.push(V||me),we++),q.pageIx=we-1,V&&Q&&(Q.pageIx=we-1),de===N.length-1&&me+se-k[we-1]>z&&me>k[we-1]&&(k.push(me),q.pageIx=we),me!==V&&(V=me),Q=q}),J||(J=o.clipRect=h.clipRect(0,b-2,9999,0),o.contentGroup.clip(J)),I(z),te||(this.nav=te=h.g().attr({zIndex:1}).add(this.group),this.up=h.symbol("triangle",0,0,A,A).add(te),j("upTracker").on("click",function(){o.scroll(-1,w)}),this.pager=h.text("",15,10).addClass("highcharts-legend-navigation"),!c.styledMode&&M.style&&this.pager.css(M.style),this.pager.add(te),this.down=h.symbol("triangle-down",0,0,A,A).add(te),j("downTracker").on("click",function(){o.scroll(1,w)})),o.scroll(0),i=ee):te&&(I(),this.nav=te.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),i}scroll(i,o){let c=this.chart,h=this.pages,f=h.length,g=this.clipHeight,v=this.options.navigation,b=this.pager,E=this.padding,M=this.currentPage+i;M>f&&(M=f),M>0&&(o!==void 0&&M0(o,c),this.nav.attr({translateX:E,translateY:g+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(w){w.attr({class:M===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),b.attr({text:M+"/"+f}),[this.down,this.downTracker].forEach(function(w){w.attr({x:18+this.pager.getBBox().width,class:M===f?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),c.styledMode||(this.up.attr({fill:M===1?v.inactiveColor:v.activeColor}),this.upTracker.css({cursor:M===1?"default":"pointer"}),this.down.attr({fill:M===f?v.inactiveColor:v.activeColor}),this.downTracker.css({cursor:M===f?"default":"pointer"})),this.scrollOffset=-h[M-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=M,this.positionCheckboxes(),$d(()=>{oa(this,"afterScroll",{currentPage:M})},T0(Ni(o,c.renderer.globalAnimation,!0)).duration))}setItemEvents(i,o,c){let h=this,f=i.legendItem||{},g=h.chart.renderer.boxWrapper,v=i instanceof $t,b=i instanceof Bi,E="highcharts-legend-"+(v?"point":"series")+"-active",M=h.chart.styledMode,w=c?[o,f.symbol]:[f.group],A=k=>{h.allItems.forEach(N=>{i!==N&&[N].concat(N.linkedSeries||[]).forEach(I=>{I.setState(k,!v)})})};for(let k of w)k&&k.on("mouseover",function(){i.visible&&A("inactive"),i.setState("hover"),i.visible&&g.addClass(E),M||o.css(h.options.itemHoverStyle)}).on("mouseout",function(){h.chart.styledMode||o.css(js(i.visible?h.itemStyle:h.itemHiddenStyle)),A(""),g.removeClass(E),i.setState()}).on("click",function(N){let I=function(){i.setVisible&&i.setVisible(),A(i.visible?"inactive":"")};g.removeClass(E),oa(h,"itemClick",{browserEvent:N,legendItem:i},I),v?i.firePointEvent("legendItemClick",{browserEvent:N}):b&&oa(i,"legendItemClick",{browserEvent:N})})}createCheckboxForItem(i){i.checkbox=au("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:i.selected,defaultChecked:i.selected},this.options.itemCheckboxStyle,this.chart.container),ru(i.checkbox,"click",function(o){let c=o.target;oa(i.series||i,"checkboxClick",{checked:c.checked,item:i},function(){i.select()})})}}(Y=qd||(qd={})).compose=function(x){uy(iu,"Core.Legend")&&ru(x,"beforeMargins",function(){this.legend=new Y(this,this.options.legend)})};let Xd=qd,{animate:Zd,animObject:hy,setAnimation:Ep}=Ai,{defaultOptions:ou}=Un,{numberFormat:fi}=$n,{registerEventOptions:Ci}=El,{charts:zs,doc:Fl,marginNames:Ap,svg:fy,win:Io}=ce,{seriesTypes:Qd}=Bt,{addEvent:Hl,attr:Cp,createElement:Dp,css:ir,defined:Oa,diffObjects:Tp,discardElement:py,erase:gy,error:Ul,extend:Na,find:lu,fireEvent:Ft,getAlignFactor:Mp,getStyle:Gl,isArray:_p,isNumber:Po,isObject:Rp,isString:cu,merge:Di,objectEach:uu,pick:rr,pInt:my,relativeLength:La,removeEvent:Kd,splat:du,syncTimeout:Jd,uniqueKey:hu}=We;class cn{static chart(i,o,c){return new cn(i,o,c)}constructor(i,o,c){this.sharedClips={};const h=[...arguments];(cu(i)||i.nodeName)&&(this.renderTo=h.shift()),this.init(h[0],h[1])}setZoomOptions(){let i=this.options.chart,o=i.zooming;this.zooming={...o,type:rr(i.zoomType,o.type),key:rr(i.zoomKey,o.key),pinchType:rr(i.pinchType,o.pinchType),singleTouch:rr(i.zoomBySingleTouch,o.singleTouch,!1),resetButton:Di(o.resetButton,i.resetZoomButton)}}init(i,o){Ft(this,"init",{args:arguments},function(){let c=Di(ou,i),h=c.chart,f=this.renderTo||h.renderTo;this.userOptions=Na({},i),(this.renderTo=cu(f)?Fl.getElementById(f):f)||Ul(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=o,this.isResizing=0,this.options=c,this.axes=[],this.series=[],this.locale=c.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new fr(Na(c.time||{},{locale:this.locale}),c.lang),c.time=this.time.options,this.numberFormatter=(h.numberFormatter||fi).bind(this),this.styledMode=h.styledMode,this.hasCartesianSeries=h.showAxes,this.index=zs.length,zs.push(this),ce.chartCount++,Ci(this,h),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Ft(this,"afterInit"),this.firstRender()})}initSeries(i){let o=this.options.chart,c=i.type||o.type,h=Qd[c];h||Ul(17,!0,this,{missingModuleFor:c});let f=new h;return typeof f.init=="function"&&f.init(this,i),f}setSortedData(){this.getSeriesOrderByLinks().forEach(function(i){i.points||i.data||!i.enabledDataSorting||i.setData(i.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(i,o){return i.linkedSeries.length||o.linkedSeries.length?o.linkedSeries.length-i.linkedSeries.length:0})}orderItems(i,o=0){let c=this[i],h=this.options[i]=du(this.options[i]).slice(),f=this.userOptions[i]=this.userOptions[i]?du(this.userOptions[i]).slice():[];if(this.hasRendered&&(h.splice(o),f.splice(o)),c)for(let g=o,v=c.length;g<v;++g){let b=c[g];b&&(b.index=g,b instanceof Bi&&(b.name=b.getName()),b.options.isInternal||(h[g]=b.options,f[g]=b.userOptions))}}getClipBox(i,o){let c=this.inverted,{xAxis:h,yAxis:f}=i||{},{x:g,y:v,width:b,height:E}=Di(this.clipBox);return i&&(h&&h.len!==this.plotSizeX&&(b=h.len),f&&f.len!==this.plotSizeY&&(E=f.len),c&&!i.invertible&&([b,E]=[E,b])),o&&(g+=(c?f:h)?.pos??this.plotLeft,v+=(c?h:f)?.pos??this.plotTop),{x:g,y:v,width:b,height:E}}isInsidePlot(i,o,c={}){let{inverted:h,plotBox:f,plotLeft:g,plotTop:v,scrollablePlotBox:b}=this,{scrollLeft:E=0,scrollTop:M=0}=c.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},w=c.series,A=c.visiblePlotOnly&&b||f,k=c.inverted?o:i,N=c.inverted?i:o,I={x:k,y:N,isInsidePlot:!0,options:c};if(!c.ignoreX){let j=w&&(h&&!this.polar?w.yAxis:w.xAxis)||{pos:g,len:1/0},z=c.paneCoordinates?j.pos+k:g+k;z>=Math.max(E+g,j.pos)&&z<=Math.min(E+g+A.width,j.pos+j.len)||(I.isInsidePlot=!1)}if(!c.ignoreY&&I.isInsidePlot){let j=!h&&c.axis&&!c.axis.isXAxis&&c.axis||w&&(h?w.xAxis:w.yAxis)||{pos:v,len:1/0},z=c.paneCoordinates?j.pos+N:v+N;z>=Math.max(M+v,j.pos)&&z<=Math.min(M+v+A.height,j.pos+j.len)||(I.isInsidePlot=!1)}return Ft(this,"afterIsInsidePlot",I),I.isInsidePlot}redraw(i){Ft(this,"beforeRedraw");let o=this.hasCartesianSeries?this.axes:this.colorAxis||[],c=this.series,h=this.pointer,f=this.legend,g=this.userOptions.legend,v=this.renderer,b=v.isHidden(),E=[],M,w,A,k=this.isDirtyBox,N=this.isDirtyLegend,I;for(v.rootFontSize=v.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),Ep(!!this.hasRendered&&i,this),b&&this.temporaryDisplay(),this.layOutTitles(!1),A=c.length;A--;)if(((I=c[A]).options.stacking||I.options.centerInCategory)&&(w=!0,I.isDirty)){M=!0;break}if(M)for(A=c.length;A--;)(I=c[A]).options.stacking&&(I.isDirty=!0);c.forEach(function(j){j.isDirty&&(j.options.legendType==="point"?(typeof j.updateTotals=="function"&&j.updateTotals(),N=!0):g&&(g.labelFormatter||g.labelFormat)&&(N=!0)),j.isDirtyData&&Ft(j,"updatedData")}),N&&f&&f.options.enabled&&(f.render(),this.isDirtyLegend=!1),w&&this.getStacks(),o.forEach(function(j){j.updateNames(),j.setScale()}),this.getMargins(),o.forEach(function(j){j.isDirty&&(k=!0)}),o.forEach(function(j){let z=j.min+","+j.max;j.extKey!==z&&(j.extKey=z,E.push(function(){Ft(j,"afterSetExtremes",Na(j.eventArgs,j.getExtremes())),delete j.eventArgs})),(k||w)&&j.redraw()}),k&&this.drawChartBox(),Ft(this,"predraw"),c.forEach(function(j){(k||j.isDirty)&&j.visible&&j.redraw(),j.isDirtyData=!1}),h&&h.reset(!0),v.draw(),Ft(this,"redraw"),Ft(this,"render"),b&&this.temporaryDisplay(!0),E.forEach(function(j){j.call()})}get(i){let o=this.series;function c(f){return f.id===i||f.options&&f.options.id===i}let h=lu(this.axes,c)||lu(this.series,c);for(let f=0;!h&&f<o.length;f++)h=lu(o[f].points||[],c);return h}createAxes(){let i=this.userOptions;for(let o of(Ft(this,"createAxes"),["xAxis","yAxis"]))for(let c of i[o]=du(i[o]||{}))new nr(this,c,o);Ft(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((i,o)=>(o.getPointsCollection().forEach(c=>{rr(c.selectedStaging,c.selected)&&i.push(c)}),i),[])}getSelectedSeries(){return this.series.filter(i=>i.selected)}setTitle(i,o,c){this.applyDescription("title",i),this.applyDescription("subtitle",o),this.applyDescription("caption",void 0),this.layOutTitles(c)}applyDescription(i,o){let c=this,h=this.options[i]=Di(this.options[i],o),f=this[i];f&&o&&(this[i]=f=f.destroy()),h&&!f&&((f=this.renderer.text(h.text,0,0,h.useHTML).attr({align:h.align,class:"highcharts-"+i,zIndex:h.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(g,v){c.applyDescription(i,g),c.layOutTitles(v)},this.styledMode||f.css(Na(i==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},h.style)),f.textPxLength=f.getBBox().width,f.css({whiteSpace:h.style?.whiteSpace}),this[i]=f)}layOutTitles(i=!0){let o=[0,0,0],{options:c,renderer:h,spacingBox:f}=this;["title","subtitle","caption"].forEach(v=>{let b=this[v],E=this.options[v],M=Di(f),w=b?.textPxLength||0;if(b&&E){Ft(this,"layOutTitle",{alignTo:M,key:v,textPxLength:w});let A=h.fontMetrics(b),k=A.b,N=A.h,I=E.verticalAlign||"top",j=I==="top",z=j&&E.minScale||1,V=v==="title"?j?-3:0:j?o[0]+2:0,q=Math.min(M.width/w,1),Q=Math.max(z,q),ee=Di({y:I==="bottom"?k:V+k},{align:v==="title"?q<z?"left":"center":this.title?.alignValue},E),te=(E.width||(q>z?this.chartWidth:M.width)/Q)+"px";b.alignValue!==ee.align&&(b.placed=!1);let J=Math.round(b.css({width:te}).getBBox(E.useHTML).height);if(ee.height=J,b.align(ee,!1,M).attr({align:ee.align,scaleX:Q,scaleY:Q,"transform-origin":`${M.x+w*Q*Mp(ee.align)} ${N}`}),!E.floating){let ne=J*(J<1.2*N?1:Q);I==="top"?o[0]=Math.ceil(o[0]+ne):I==="bottom"&&(o[2]=Math.ceil(o[2]+ne))}}},this),o[0]&&(c.title?.verticalAlign||"top")==="top"&&(o[0]+=c.title?.margin||0),o[2]&&c.caption?.verticalAlign==="bottom"&&(o[2]+=c.caption?.margin||0);let g=!this.titleOffset||this.titleOffset.join(",")!==o.join(",");this.titleOffset=o,Ft(this,"afterLayOutTitles"),!this.isDirtyBox&&g&&(this.isDirtyBox=this.isDirtyLegend=g,this.hasRendered&&i&&this.isDirtyBox&&this.redraw())}getContainerBox(){let i=[].map.call(this.renderTo.children,c=>{if(c!==this.container){let h=c.style.display;return c.style.display="none",[c,h]}}),o={width:Gl(this.renderTo,"width",!0)||0,height:Gl(this.renderTo,"height",!0)||0};return i.filter(Boolean).forEach(([c,h])=>{c.style.display=h}),o}getChartSize(){let i=this.options.chart,o=i.width,c=i.height,h=this.getContainerBox(),f=h.height<=1||!this.renderTo.parentElement?.style.height&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,o||h.width||600),this.chartHeight=Math.max(0,La(c,this.chartWidth)||(f?400:h.height)),this.containerBox=h}temporaryDisplay(i){let o=this.renderTo,c;if(i)for(;o?.style;)o.hcOrigStyle&&(ir(o,o.hcOrigStyle),delete o.hcOrigStyle),o.hcOrigDetached&&(Fl.body.removeChild(o),o.hcOrigDetached=!1),o=o.parentNode;else for(;o?.style&&(Fl.body.contains(o)||o.parentNode||(o.hcOrigDetached=!0,Fl.body.appendChild(o)),(Gl(o,"display",!1)==="none"||o.hcOricDetached)&&(o.hcOrigStyle={display:o.style.display,height:o.style.height,overflow:o.style.overflow},c={display:"block",overflow:"hidden"},o!==this.renderTo&&(c.height=0),ir(o,c),o.offsetWidth||o.style.setProperty("display","block","important")),(o=o.parentNode)!==Fl.body););}setClassName(i){this.container.className="highcharts-container "+(i||"")}getContainer(){let i,o=this.options,c=o.chart,h="data-highcharts-chart",f=hu(),g=this.renderTo,v=my(Cp(g,h));Po(v)&&zs[v]&&zs[v].hasRendered&&zs[v].destroy(),Cp(g,h,this.index),g.innerHTML=Tn.emptyHTML,c.skipClone||g.offsetWidth||this.temporaryDisplay(),this.getChartSize();let b=this.chartHeight,E=this.chartWidth;ir(g,{overflow:"hidden"}),this.styledMode||(i=Na({position:"relative",overflow:"hidden",width:E+"px",height:b+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},c.style||{}));let M=Dp("div",{id:f},i,g);this.container=M,this.getChartSize(),E!==this.chartWidth&&(E=this.chartWidth,this.styledMode||ir(M,{width:rr(c.style?.width,E+"px")})),this.containerBox=this.getContainerBox(),this._cursor=M.style.cursor;let w=c.renderer||!fy?Ga.getRendererType(c.renderer):xl;if(this.renderer=new w(M,E,b,void 0,c.forExport,o.exporting?.allowHTML,this.styledMode),Ep(void 0,this),this.setClassName(c.className),this.styledMode)for(let A in o.defs)this.renderer.definition(o.defs[A]);else this.renderer.setStyle(c.style);this.renderer.chartIndex=this.index,Ft(this,"afterGetContainer")}getMargins(i){let{spacing:o,margin:c,titleOffset:h}=this;this.resetMargins(),h[0]&&!Oa(c[0])&&(this.plotTop=Math.max(this.plotTop,h[0]+o[0])),h[2]&&!Oa(c[2])&&(this.marginBottom=Math.max(this.marginBottom,h[2]+o[2])),this.legend?.display&&this.legend.adjustMargins(c,o),Ft(this,"getMargins"),i||this.getAxisMargins()}getAxisMargins(){let i=this,o=i.axisOffset=[0,0,0,0],c=i.colorAxis,h=i.margin,f=g=>{g.forEach(v=>{v.visible&&v.getOffset()})};i.hasCartesianSeries?f(i.axes):c?.length&&f(c),Ap.forEach((g,v)=>{Oa(h[v])||(i[g]+=o[v])}),i.setChartSize()}getOptions(){return Tp(this.userOptions,ou)}reflow(i){let o=this,c=o.containerBox,h=o.getContainerBox();delete o.pointer?.chartPosition,!o.exporting?.isPrinting&&!o.isResizing&&c&&h.width&&((h.width!==c.width||h.height!==c.height)&&(We.clearTimeout(o.reflowTimeout),o.reflowTimeout=Jd(function(){o.container&&o.setSize(void 0,void 0,!1)},100*!!i)),o.containerBox=h)}setReflow(){let i=this,o=c=>{i.options?.chart.reflow&&i.hasLoaded&&i.reflow(c)};if(typeof ResizeObserver=="function")new ResizeObserver(o).observe(i.renderTo);else{let c=Hl(Io,"resize",o);Hl(this,"destroy",c)}}setSize(i,o,c){let h=this,f=h.renderer;h.isResizing+=1,Ep(c,h);let g=f.globalAnimation;h.oldChartHeight=h.chartHeight,h.oldChartWidth=h.chartWidth,i!==void 0&&(h.options.chart.width=i),o!==void 0&&(h.options.chart.height=o),h.getChartSize();let{chartWidth:v,chartHeight:b,scrollablePixelsX:E=0,scrollablePixelsY:M=0}=h;(h.isDirtyBox||v!==h.oldChartWidth||b!==h.oldChartHeight)&&(h.styledMode||(g?Zd:ir)(h.container,{width:`${v+E}px`,height:`${b+M}px`},g),h.setChartSize(!0),f.setSize(v,b,g),h.axes.forEach(function(w){w.isDirty=!0,w.setScale()}),h.isDirtyLegend=!0,h.isDirtyBox=!0,h.layOutTitles(),h.getMargins(),h.redraw(g),h.oldChartHeight=void 0,Ft(h,"resize"),setTimeout(()=>{h&&Ft(h,"endResize")},hy(g).duration)),h.isResizing-=1}setChartSize(i){let o,c,h,f,{chartHeight:g,chartWidth:v,inverted:b,spacing:E,renderer:M}=this,w=this.clipOffset,A=Math[b?"floor":"round"];this.plotLeft=o=Math.round(this.plotLeft),this.plotTop=c=Math.round(this.plotTop),this.plotWidth=h=Math.max(0,Math.round(v-o-(this.marginRight??0))),this.plotHeight=f=Math.max(0,Math.round(g-c-(this.marginBottom??0))),this.plotSizeX=b?f:h,this.plotSizeY=b?h:f,this.spacingBox=M.spacingBox={x:E[3],y:E[0],width:v-E[3]-E[1],height:g-E[0]-E[2]},this.plotBox=M.plotBox={x:o,y:c,width:h,height:f},w&&(this.clipBox={x:A(w[3]),y:A(w[0]),width:A(this.plotSizeX-w[1]-w[3]),height:A(this.plotSizeY-w[0]-w[2])}),i||(this.axes.forEach(function(k){k.setAxisSize(),k.setAxisTranslation()}),M.alignElements()),Ft(this,"afterSetChartSize",{skipAxes:i})}resetMargins(){Ft(this,"resetMargins");let i=this,o=i.options.chart,c=o.plotBorderWidth||0,h=Math.round(c)/2;["margin","spacing"].forEach(f=>{let g=o[f],v=Rp(g)?g:[g,g,g,g];["Top","Right","Bottom","Left"].forEach((b,E)=>{i[f][E]=o[`${f}${b}`]??v[E]})}),Ap.forEach((f,g)=>{i[f]=i.margin[g]??i.spacing[g]}),i.axisOffset=[0,0,0,0],i.clipOffset=[h,h,h,h],i.plotBorderWidth=c}drawChartBox(){let i=this.options.chart,o=this.renderer,c=this.chartWidth,h=this.chartHeight,f=this.styledMode,g=this.plotBGImage,v=i.backgroundColor,b=i.plotBackgroundColor,E=i.plotBackgroundImage,M=this.plotLeft,w=this.plotTop,A=this.plotWidth,k=this.plotHeight,N=this.plotBox,I=this.clipRect,j=this.clipBox,z=this.chartBackground,V=this.plotBackground,q=this.plotBorder,Q,ee,te,J="animate";z||(this.chartBackground=z=o.rect().addClass("highcharts-background").add(),J="attr"),f?Q=ee=z.strokeWidth():(ee=(Q=i.borderWidth||0)+8*!!i.shadow,te={fill:v||"none"},(Q||z["stroke-width"])&&(te.stroke=i.borderColor,te["stroke-width"]=Q),z.attr(te).shadow(i.shadow)),z[J]({x:ee/2,y:ee/2,width:c-ee-Q%2,height:h-ee-Q%2,r:i.borderRadius}),J="animate",V||(J="attr",this.plotBackground=V=o.rect().addClass("highcharts-plot-background").add()),V[J](N),!f&&(V.attr({fill:b||"none"}).shadow(i.plotShadow),E&&(g?(E!==g.attr("href")&&g.attr("href",E),g.animate(N)):this.plotBGImage=o.image(E,M,w,A,k).add())),I?I.animate({width:j.width,height:j.height}):this.clipRect=o.clipRect(j),J="animate",q||(J="attr",this.plotBorder=q=o.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),f||q.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),q[J](q.crisp(N,-q.strokeWidth())),this.isDirtyBox=!1,Ft(this,"afterDrawChartBox")}propFromSeries(){let i,o,c,h=this,f=h.options.chart,g=h.options.series;["inverted","angular","polar"].forEach(function(v){for(o=Qd[f.type],c=f[v]||o&&o.prototype[v],i=g?.length;!c&&i--;)(o=Qd[g[i].type])&&o.prototype[v]&&(c=!0);h[v]=c})}linkSeries(i){let o=this,c=o.series;c.forEach(function(h){h.linkedSeries.length=0}),c.forEach(function(h){let{linkedTo:f}=h.options,g=cu(f)&&(f===":previous"?c[h.index-1]:o.get(f));g&&g.linkedParent!==h&&(g.linkedSeries.push(h),h.linkedParent=g,g.enabledDataSorting&&h.setDataSortingOptions(),h.visible=h.options.visible??g.options.visible??h.visible)}),Ft(this,"afterLinkSeries",{isUpdating:i})}renderSeries(){this.series.forEach(function(i){i.translate(),i.render()})}render(){let i=this.axes,o=this.colorAxis,c=this.renderer,h=this.options.chart.axisLayoutRuns||2,f=M=>{M.forEach(w=>{w.visible&&w.render()})},g=0,v=!0,b,E=0;for(let M of(this.setTitle(),Ft(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),i)){let{options:w}=M,{labels:A}=w;if(this.hasCartesianSeries&&M.horiz&&M.visible&&A.enabled&&M.series.length&&M.coll!=="colorAxis"&&!this.polar){g=w.tickLength,M.createGroups();let k=new Da(M,0,"",!0),N=k.createLabel("x",A);if(k.destroy(),N&&rr(A.reserveSpace,!Po(w.crossing))&&(g=N.getBBox().height+A.distance+Math.max(w.offset||0,0)),g){N?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-g,0);(v||b||h>1)&&E<h;){let M=this.plotWidth,w=this.plotHeight;for(let A of i)E===0?A.setScale():(A.horiz&&v||!A.horiz&&b)&&A.setTickInterval(!0);E===0?this.getAxisMargins():this.getMargins(),v=M/this.plotWidth>(E?1:1.1),b=w/this.plotHeight>(E?1:1.05),E++}this.drawChartBox(),this.hasCartesianSeries?f(i):o?.length&&f(o),this.seriesGroup||(this.seriesGroup=c.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(i){let o=this,c=Di(!0,this.options.credits,i);c.enabled&&!this.credits&&(this.credits=this.renderer.text(c.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){c.href&&(Io.location.href=c.href)}).attr({align:c.position.align,zIndex:8}),o.styledMode||this.credits.css(c.style),this.credits.add().align(c.position),this.credits.update=function(h){o.credits=o.credits.destroy(),o.addCredits(h)})}destroy(){let i,o=this,c=o.axes,h=o.series,f=o.container,g=f?.parentNode;for(Ft(o,"destroy"),o.renderer.forExport?gy(zs,o):zs[o.index]=void 0,ce.chartCount--,o.renderTo.removeAttribute("data-highcharts-chart"),Kd(o),i=c.length;i--;)c[i]=c[i].destroy();for(this.scroller?.destroy?.(),i=h.length;i--;)h[i]=h[i].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(v=>{o[v]=o[v]?.destroy?.()}),f&&(f.innerHTML=Tn.emptyHTML,Kd(f),g&&py(f)),uu(o,function(v,b){delete o[b]})}firstRender(){let i=this,o=i.options;i.getContainer(),i.resetMargins(),i.setChartSize(),i.propFromSeries(),i.createAxes();let c=_p(o.series)?o.series:[];o.series=[],c.forEach(function(h){i.initSeries(h)}),i.linkSeries(),i.setSortedData(),Ft(i,"beforeRender"),i.render(),i.pointer?.getChartPosition(),i.renderer.imgCount||i.hasLoaded||i.onload(),i.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(i){i&&this.index!==void 0&&i.apply(this,[this])},this),Ft(this,"load"),Ft(this,"render"),Oa(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.warnIfCSSNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:i,title:o}=this;i&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(o?.element.textContent||"").replace(/</g,"&lt;")}),i.accessibility&&i.accessibility.enabled===!1||Ul('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}warnIfCSSNotLoaded(){this.styledMode&&Io.getComputedStyle(this.container).zIndex!=="0"&&Ul(35,!1,this)}addSeries(i,o,c){let h,f=this;return i&&(o=rr(o,!0),Ft(f,"addSeries",{options:i},function(){h=f.initSeries(i),f.isDirtyLegend=!0,f.linkSeries(),h.enabledDataSorting&&h.setData(i.data,!1),Ft(f,"afterAddSeries",{series:h}),o&&f.redraw(c)})),h}addAxis(i,o,c,h){return this.createAxis(o?"xAxis":"yAxis",{axis:i,redraw:c,animation:h})}addColorAxis(i,o,c){return this.createAxis("colorAxis",{axis:i,redraw:o,animation:c})}createAxis(i,o){let c=new nr(this,o.axis,i);return rr(o.redraw,!0)&&this.redraw(o.animation),c}showLoading(i){let o=this,c=o.options,h=c.loading,f=function(){g&&ir(g,{left:o.plotLeft+"px",top:o.plotTop+"px",width:o.plotWidth+"px",height:o.plotHeight+"px"})},g=o.loadingDiv,v=o.loadingSpan;g||(o.loadingDiv=g=Dp("div",{className:"highcharts-loading highcharts-loading-hidden"},null,o.container)),v||(o.loadingSpan=v=Dp("span",{className:"highcharts-loading-inner"},null,g),Hl(o,"redraw",f)),g.className="highcharts-loading",Tn.setElementHTML(v,rr(i,c.lang.loading,"")),!o.styledMode&&(ir(g,Na(h.style,{zIndex:10})),ir(v,h.labelStyle),o.loadingShown||(ir(g,{opacity:0,display:""}),Zd(g,{opacity:h.style.opacity||.5},{duration:h.showDuration||0}))),o.loadingShown=!0,f()}hideLoading(){let i=this.options,o=this.loadingDiv;o&&(o.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Zd(o,{opacity:0},{duration:i.loading.hideDuration||100,complete:function(){ir(o,{display:"none"})}})),this.loadingShown=!1}update(i,o,c,h){let f,g,v,b=this,E={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},M=i.isResponsiveOptions,w=[];Ft(b,"update",{options:i}),M||b.setResponsive(!1,!0),i=Tp(i,b.options),b.userOptions=Di(b.userOptions,i);let A=i.chart;A&&(Di(!0,b.options.chart,A),this.setZoomOptions(),"className"in A&&b.setClassName(A.className),("inverted"in A||"polar"in A||"type"in A)&&(b.propFromSeries(),f=!0),"alignTicks"in A&&(f=!0),"events"in A&&Ci(this,A),uu(A,function(I,j){b.propsRequireUpdateSeries.indexOf("chart."+j)!==-1&&(g=!0),b.propsRequireDirtyBox.indexOf(j)!==-1&&(b.isDirtyBox=!0),b.propsRequireReflow.indexOf(j)!==-1&&(b.isDirtyBox=!0,M||(v=!0))}),!b.styledMode&&A.style&&b.renderer.setStyle(b.options.chart.style||{})),!b.styledMode&&i.colors&&(this.options.colors=i.colors),uu(i,function(I,j){b[j]&&typeof b[j].update=="function"?b[j].update(I,!1):typeof b[E[j]]=="function"?b[E[j]](I):j!=="colors"&&b.collectionsWithUpdate.indexOf(j)===-1&&Di(!0,b.options[j],i[j]),j!=="chart"&&b.propsRequireUpdateSeries.indexOf(j)!==-1&&(g=!0)}),this.collectionsWithUpdate.forEach(function(I){i[I]&&(du(i[I]).forEach(function(j,z){let V,q=Oa(j.id);q&&(V=b.get(j.id)),!V&&b[I]&&(V=b[I][rr(j.index,z)])&&(q&&Oa(V.options.id)||V.options.isInternal)&&(V=void 0),V&&V.coll===I&&(V.update(j,!1),c&&(V.touched=!0)),!V&&c&&b.collectionsWithInit[I]&&(b.collectionsWithInit[I][0].apply(b,[j].concat(b.collectionsWithInit[I][1]||[]).concat([!1])).touched=!0)}),c&&b[I].forEach(function(j){j.touched||j.options.isInternal?delete j.touched:w.push(j)}))}),w.forEach(function(I){I.chart&&I.remove&&I.remove(!1)}),f&&b.axes.forEach(function(I){I.update({},!1)}),g&&b.getSeriesOrderByLinks().forEach(function(I){I.chart&&I.update({},!1)},this);let k=A?.width,N=A&&(cu(A.height)?La(A.height,k||b.chartWidth):A.height);v||Po(k)&&k!==b.chartWidth||Po(N)&&N!==b.chartHeight?b.setSize(k,N,h):rr(o,!0)&&b.redraw(h),Ft(b,"afterUpdate",{options:i,redraw:o,animation:h})}setSubtitle(i,o){this.applyDescription("subtitle",i),this.layOutTitles(o)}setCaption(i,o){this.applyDescription("caption",i),this.layOutTitles(o)}showResetZoom(){let i=this,o=ou.lang,c=i.zooming.resetButton,h=c.theme,f=c.relativeTo==="chart"||c.relativeTo==="spacingBox"?null:"plotBox";function g(){i.zoomOut()}Ft(this,"beforeShowResetZoom",null,function(){i.resetZoomButton=i.renderer.button(o.resetZoom,null,null,g,h).attr({align:c.position.align,title:o.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(c.position,!1,f)}),Ft(this,"afterShowResetZoom")}zoomOut(){Ft(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(i,o){let c=this,h=typeof o=="object"?o:{enabled:o,type:"x"},f=h.type,g=f&&c[{x:"xAxis",xy:"axes",y:"yAxis"}[f]].filter(b=>b.options.panningEnabled&&!b.options.isInternal),v=c.options.chart;v?.panning&&(v.panning=h),Ft(this,"pan",{originalEvent:i},()=>{c.transform({axes:g,event:i,to:{x:i.chartX-(c.mouseDownX||0),y:i.chartY-(c.mouseDownY||0)},trigger:"pan"}),ir(c.container,{cursor:"move"})})}transform(i){let{axes:o=this.axes,event:c,from:h={},reset:f,selection:g,to:v={},trigger:b,allowResetButton:E=!0}=i,{inverted:M,time:w}=this;this.hoverPoints?.forEach(I=>I.setState()),Ft(this,"transform",i);let A=i.hasZoomed||!1,k,N;for(let I of o){let{horiz:j,len:z,minPointOffset:V=0,options:q,reversed:Q}=I,ee=j?"width":"height",te=j?"x":"y",J=rr(v[ee],I.len),ne=rr(h[ee],I.len),de=10>Math.abs(J)?1:J/ne,me=(h[te]||0)+ne/2-I.pos,se=me-((v[te]??I.pos)+J/2-I.pos)/de,we=Q&&!M||!Q&&M?-1:1;if(!f&&(me<0||me>I.len))continue;let Ne=I.chart.polar||I.isOrdinal?0:V*we||0,_e=I.toValue(se,!0),He=I.toValue(se+z/de,!0),Ue=_e+Ne,qe=He-Ne,vt=I.allExtremes;if(g&&g[I.coll].push({axis:I,min:Math.min(_e,He),max:Math.max(_e,He)}),Ue>qe&&([Ue,qe]=[qe,Ue]),de===1&&!f&&I.coll==="yAxis"&&!vt){for(let $o of I.series){let ma=$o.getExtremes($o.getProcessedData(!0).modified.getColumn($o.pointValKey||"y")||[],!0);vt??(vt={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),Po(ma.dataMin)&&Po(ma.dataMax)&&(vt.dataMin=Math.min(ma.dataMin,vt.dataMin),vt.dataMax=Math.max(ma.dataMax,vt.dataMax))}I.allExtremes=vt}let{dataMin:ut,dataMax:Jt,min:rt,max:ft}=Na(I.getExtremes(),vt||{}),Nt=w.parse(q.min),pt=w.parse(q.max),en=ut??Nt,In=Jt??pt,Gt=qe-Ue,zn=I.categories?0:Math.min(Gt,In-en),Ui=en-zn*(Oa(Nt)?0:q.minPadding),Tr=In+zn*(Oa(pt)?0:q.maxPadding),jh=I.allowZoomOutside||de===1||b!=="zoom"&&de>1,ds=Math.min(Nt??Ui,Ui,jh?rt:Ui),Ki=Math.max(pt??Tr,Tr,jh?ft:Tr);(!I.isOrdinal||de!==1||f)&&(Ue<ds&&(Ue=ds,de>=1&&(qe=Ue+Gt)),qe>Ki&&(qe=Ki,de>=1&&(Ue=qe-Gt)),(f||I.series.length&&(Ue!==rt||qe!==ft)&&Ue>=ds&&qe<=Ki)&&(g?g[I.coll].push({axis:I,min:Ue,max:qe}):(I.isPanning=b!=="zoom",I.isPanning&&b!=="mousewheel"&&(N=!0),I.setExtremes(f?void 0:Ue,f?void 0:qe,!1,!1,{move:se,trigger:b,scale:de}),!f&&(Ue>ds||qe<Ki)&&(k=E)),A=!0),this.hasCartesianSeries||f||(k=E),c&&(this[j?"mouseDownX":"mouseDownY"]=c[j?"chartX":"chartY"]))}return A&&(g?Ft(this,"selection",g,()=>{delete i.selection,i.trigger="zoom",this.transform(i)}):(!k||N||this.resetZoomButton?!k&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(b==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),A}}Na(cn.prototype,{callbacks:[],collectionsWithInit:{xAxis:[cn.prototype.addAxis,[!0]],yAxis:[cn.prototype.addAxis,[!1]],series:[cn.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let eh=cn,{stop:_0}=Ai,{composed:yy}=ce,{addEvent:Gr,createElement:la,css:th,defined:nh,erase:fu,merge:ca,pushUnique:kp}=We;function Op(){let x=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!x&&(this.scrollablePlotArea=x=new jo(this)),x?.applyFixed()}function Np(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class jo{static compose(i,o,c){kp(yy,this.compose)&&(Gr(i,"afterInit",Np),Gr(o,"afterSetChartSize",h=>this.afterSetSize(h.target,h)),Gr(o,"render",Op),Gr(c,"show",Np))}static afterSetSize(i,o){let c,h,f,{minWidth:g,minHeight:v}=i.options.chart.scrollablePlotArea||{},{clipBox:b,plotBox:E,inverted:M,renderer:w}=i;if(!w.forExport)if(g?(i.scrollablePixelsX=c=Math.max(0,g-i.chartWidth),c&&(i.scrollablePlotBox=ca(i.plotBox),E.width=i.plotWidth+=c,b[M?"height":"width"]+=c,f=!0)):v&&(i.scrollablePixelsY=h=Math.max(0,v-i.chartHeight),nh(h)&&(i.scrollablePlotBox=ca(i.plotBox),E.height=i.plotHeight+=h,b[M?"width":"height"]+=h,f=!1)),nh(f)){if(!o.skipAxes)for(let A of i.axes)(A.horiz===f||i.hasParallelCoordinates&&A.coll==="yAxis")&&(A.setAxisSize(),A.setAxisTranslation())}else delete i.scrollablePlotBox}constructor(i){let o;const c=i.options.chart,h=Ga.getRendererType(),f=c.scrollablePlotArea||{},g=this.moveFixedElements.bind(this),v={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};i.scrollablePixelsX&&(v.overflowX="auto"),i.scrollablePixelsY&&(v.overflowY="auto"),this.chart=i;const b=this.parentDiv=la("div",{className:"highcharts-scrolling-parent"},{position:"relative"},i.renderTo),E=this.scrollingContainer=la("div",{className:"highcharts-scrolling"},v,b),M=this.innerContainer=la("div",{className:"highcharts-inner-container"},void 0,E),w=this.fixedDiv=la("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(c.style?.zIndex||0)+2,top:0},void 0,!0),A=this.fixedRenderer=new h(w,i.chartWidth,i.chartHeight,c.style);this.mask=A.path().attr({fill:c.backgroundColor||"#fff","fill-opacity":f.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),E.parentNode.insertBefore(w,E),th(i.renderTo,{overflow:"visible"}),Gr(i,"afterShowResetZoom",g),Gr(i,"afterApplyDrilldown",g),Gr(i,"afterLayOutTitles",g),Gr(E,"scroll",()=>{let{pointer:k,hoverPoint:N}=i;k&&(delete k.chartPosition,N&&(o=N),k.runPointActions(void 0,o,!0))}),M.appendChild(i.container)}applyFixed(){let{chart:i,fixedRenderer:o,isDirty:c,scrollingContainer:h}=this,{axisOffset:f,chartWidth:g,chartHeight:v,container:b,plotHeight:E,plotLeft:M,plotTop:w,plotWidth:A,scrollablePixelsX:k=0,scrollablePixelsY:N=0}=i,{scrollPositionX:I=0,scrollPositionY:j=0}=i.options.chart.scrollablePlotArea||{},z=g+k,V=v+N;o.setSize(g,v),(c??!0)&&(this.isDirty=!1,this.moveFixedElements()),_0(i.container),th(b,{width:`${z}px`,height:`${V}px`}),i.renderer.boxWrapper.attr({width:z,height:V,viewBox:["0 0",z,V].join(" ")}),i.chartBackground?.attr({width:z,height:V}),th(h,{width:`${g}px`,height:`${v}px`}),nh(c)||(h.scrollLeft=k*I,h.scrollTop=N*j);let q=w-f[0]-1,Q=M-f[3]-1,ee=w+E+f[2]+1,te=M+A+f[1]+1,J=M+A-k,ne=w+E-N,de=[["M",0,0]];k?de=[["M",0,q],["L",M-1,q],["L",M-1,ee],["L",0,ee],["Z"],["M",J,q],["L",g,q],["L",g,ee],["L",J,ee],["Z"]]:N&&(de=[["M",Q,0],["L",Q,w-1],["L",te,w-1],["L",te,0],["Z"],["M",Q,ne],["L",Q,v],["L",te,v],["L",te,ne],["Z"]]),i.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:de})}moveFixedElements(){let i,{container:o,inverted:c,scrollablePixelsX:h,scrollablePixelsY:f}=this.chart,g=this.fixedRenderer,v=jo.fixedSelectors;if(h&&!c?i=".highcharts-yaxis":h&&c||f&&!c?i=".highcharts-xaxis":f&&c&&(i=".highcharts-yaxis"),i&&!(this.chart.hasParallelCoordinates&&i===".highcharts-yaxis"))for(let b of[`${i}:not(.highcharts-radial-axis)`,`${i}-labels:not(.highcharts-radial-axis-labels)`])kp(v,b);else for(let b of[".highcharts-xaxis",".highcharts-yaxis"])for(let E of[`${b}:not(.highcharts-radial-axis)`,`${b}-labels:not(.highcharts-radial-axis-labels)`])fu(v,E);for(let b of v)[].forEach.call(o.querySelectorAll(b),E=>{(E.namespaceURI===g.SVG_NS?g.box:g.box.parentNode).appendChild(E),E.style.pointerEvents="auto"})}}jo.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:Lp}=$n,{series:ih}=Bt,{destroyObjectProperties:vy,fireEvent:Ia,getAlignFactor:Xn,isNumber:pu,pick:Vl}=We,pi=class{constructor(x,i,o,c,h){const f=x.chart.inverted,g=x.reversed;this.axis=x;const v=this.isNegative=!!o!=!!g;this.options=i=i||{},this.x=c,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=h,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:i.align||(f?v?"left":"right":"center"),verticalAlign:i.verticalAlign||(f?"middle":v?"bottom":"top"),y:i.y,x:i.x},this.textAlign=i.textAlign||(f?v?"right":"left":"center")}destroy(){vy(this,this.axis)}render(x){let i=this.axis.chart,o=this.options,c=o.format,h=c?Lp(c,this,i):o.formatter.call(this);if(this.label)this.label.attr({text:h,visibility:"hidden"});else{this.label=i.renderer.label(h,null,void 0,o.shape,void 0,void 0,o.useHTML,!1,"stack-labels");let f={r:o.borderRadius||0,text:h,padding:Vl(o.padding,5),visibility:"hidden"};i.styledMode||(f.fill=o.backgroundColor,f.stroke=o.borderColor,f["stroke-width"]=o.borderWidth,this.label.css(o.style||{})),this.label.attr(f),this.label.added||this.label.add(x)}this.label.labelrank=i.plotSizeY,Ia(this,"afterRender")}setOffset(x,i,o,c,h,f){let{alignOptions:g,axis:v,label:b,options:E,textAlign:M}=this,w=v.chart,A=this.getStackBox({xOffset:x,width:i,boxBottom:o,boxTop:c,defaultX:h,xAxis:f}),{verticalAlign:k}=g;if(b&&A){let N=b.getBBox(void 0,0),I=b.padding,j=Vl(E.overflow,"justify")==="justify",z;g.x=E.x||0,g.y=E.y||0;let{x:V,y:q}=this.adjustStackPosition({labelBox:N,verticalAlign:k,textAlign:M});A.x-=V,A.y-=q,b.align(g,!1,A),(z=w.isInsidePlot(b.alignAttr.x+g.x+V,b.alignAttr.y+g.y+q))||(j=!1),j&&ih.prototype.justifyDataLabel.call(v,b,g,b.alignAttr,N,A),b.attr({x:b.alignAttr.x,y:b.alignAttr.y,rotation:E.rotation,rotationOriginX:N.width*Xn(E.textAlign||"center"),rotationOriginY:N.height/2}),Vl(!j&&E.crop,!0)&&(z=pu(b.x)&&pu(b.y)&&w.isInsidePlot(b.x-I+(b.width||0),b.y)&&w.isInsidePlot(b.x+I,b.y)),b[z?"show":"hide"]()}Ia(this,"afterSetOffset",{xOffset:x,width:i})}adjustStackPosition({labelBox:x,verticalAlign:i,textAlign:o}){return{x:x.width/2+x.width/2*(2*Xn(o)-1),y:x.height/2*2*(1-Xn(i))}}getStackBox(x){let i=this.axis,o=i.chart,{boxTop:c,defaultX:h,xOffset:f,width:g,boxBottom:v}=x,b=i.stacking.usePercentage?100:Vl(c,this.total,0),E=i.toPixels(b),M=x.xAxis||o.xAxis[0],w=Vl(h,M.translate(this.x))+f,A=Math.abs(E-i.toPixels(v||pu(i.min)&&i.logarithmic&&i.logarithmic.lin2log(i.min)||0)),k=o.inverted,N=this.isNegative;return k?{x:(N?E:E-A)-o.plotLeft,y:M.height-w-g+M.top-o.plotTop,width:A,height:g}:{x:w+M.transB-o.plotLeft,y:(N?E-A:E)-o.plotTop,width:g,height:A}}},{getDeferredAnimation:R0}=Ai,{series:{prototype:by}}=Bt,{addEvent:Ip,correctFloat:Sn,defined:Zi,destroyObjectProperties:Ja,fireEvent:xy,isNumber:rh,objectEach:Bs,pick:Pp}=We;function ah(){let x=this.inverted;this.axes.forEach(i=>{i.stacking?.stacks&&i.hasVisibleSeries&&(i.stacking.oldStacks=i.stacking.stacks)}),this.series.forEach(i=>{let o=i.xAxis?.options||{};i.options.stacking&&i.reserveSpace()&&(i.stackKey=[i.type,Pp(i.options.stack,""),x?o.top:o.left,x?o.height:o.width].join(","))})}function ar(){let x=this.stacking;if(x){let i=x.stacks;Bs(i,(o,c)=>{Ja(o),delete i[c]}),x.stackTotalGroup?.destroy()}}function ua(){this.stacking||(this.stacking=new ts(this))}function wy(x,i,o,c){return!Zi(x)||x.x!==i||c&&x.stackKey!==c?x={x:i,index:0,key:c,stackKey:c}:x.index++,x.key=[o,i,x.index].join(","),x}function sr(){let x,i=this,o=i.yAxis,c=i.stackKey||"",h=o.stacking.stacks,f=i.getColumn("x",!0),g=i.options.stacking,v=i[g+"Stacker"];v&&[c,"-"+c].forEach(b=>{let E=f.length,M,w,A;for(;E--;)M=f[E],x=i.getStackIndicator(x,M,i.index,b),w=h[b]?.[M],(A=w?.points[x.key||""])&&v.call(i,A,w,E)})}function Sy(x,i,o){let c=i.total?100/i.total:0;x[0]=Sn(x[0]*c),x[1]=Sn(x[1]*c),this.stackedYData[o]=x[1]}function es(x){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?by.setStackedPoints.call(this,x,"group"):x.stacking.resetStacks())}function zo(x,i){let o,c,h,f,g,v,b,E=i||this.options.stacking;if(!E||!this.reserveSpace()||({group:"xAxis"}[E]||"yAxis")!==x.coll)return;let M=this.getColumn("x",!0),w=this.getColumn(this.pointValKey||"y",!0),A=[],k=w.length,N=this.options,I=N.threshold||0,j=N.startFromThreshold?I:0,z=N.stack,V=i?`${this.type},${E}`:this.stackKey||"",q="-"+V,Q=this.negStacks,ee=x.stacking,te=ee.stacks,J=ee.oldStacks;for(ee.stacksTouched+=1,b=0;b<k;b++){let ne=M[b]||0,de=w[b],me=rh(de)&&de||0;v=(o=this.getStackIndicator(o,ne,this.index)).key||"",te[g=(c=Q&&me<(j?0:I))?q:V]||(te[g]={}),te[g][ne]||(J[g]?.[ne]?(te[g][ne]=J[g][ne],te[g][ne].total=null):te[g][ne]=new pi(x,x.options.stackLabels,!!c,ne,z)),h=te[g][ne],de!==null?(h.points[v]=h.points[this.index]=[Pp(h.cumulative,j)],Zi(h.cumulative)||(h.base=v),h.touched=ee.stacksTouched,o.index>0&&this.singleStacks===!1&&(h.points[v][0]=h.points[this.index+","+ne+",0"][0])):(delete h.points[v],delete h.points[this.index]);let se=h.total||0;E==="percent"?(f=c?V:q,se=Q&&te[f]?.[ne]?(f=te[f][ne]).total=Math.max(f.total||0,se)+Math.abs(me):Sn(se+Math.abs(me))):E==="group"?rh(de)&&se++:se=Sn(se+me),E==="group"?h.cumulative=(se||1)-1:h.cumulative=Sn(Pp(h.cumulative,j)+me),h.total=se,de!==null&&(h.points[v].push(h.cumulative),A[b]=h.cumulative,h.hasValidPoints=!0)}E==="percent"&&(ee.usePercentage=!0),E!=="group"&&(this.stackedYData=A),ee.oldStacks={}}class ts{constructor(i){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=i}buildStacks(){let i,o,c=this.axis,h=c.series,f=c.coll==="xAxis",g=c.options.reversedStacks,v=h.length;for(this.resetStacks(),this.usePercentage=!1,o=v;o--;)i=h[g?o:v-o-1],f&&i.setGroupedPoints(c),i.setStackedPoints(c);if(!f)for(o=0;o<v;o++)h[o].modifyStacks();xy(c,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Bs(this.stacks,i=>{Bs(i,o=>{o.cumulative=o.total})}))}resetStacks(){Bs(this.stacks,i=>{Bs(i,(o,c)=>{rh(o.touched)&&o.touched<this.stacksTouched?(o.destroy(),delete i[c]):(o.total=null,o.cumulative=null)})})}renderStackTotals(){let i=this.axis,o=i.chart,c=o.renderer,h=this.stacks,f=R0(o,i.options.stackLabels?.animation||!1),g=this.stackTotalGroup=this.stackTotalGroup||c.g("stack-labels").attr({zIndex:6,opacity:0}).add();g.translate(o.plotLeft,o.plotTop),Bs(h,v=>{Bs(v,b=>{b.render(g)})}),g.animate({opacity:1},f)}}(Ee||(Ee={})).compose=function(x,i,o){let c=i.prototype,h=o.prototype;c.getStacks||(Ip(x,"init",ua),Ip(x,"destroy",ar),c.getStacks=ah,h.getStackIndicator=wy,h.modifyStacks=sr,h.percentStacker=Sy,h.setGroupedPoints=es,h.setStackedPoints=zo)};let jp=Ee,{defined:zp,merge:Vr,isObject:Ey}=We;class Bo extends Bi{drawGraph(){let i=this.options,o=(this.gappedPath||this.getGraphPath).call(this),c=this.chart.styledMode;[this,...this.zones].forEach((h,f)=>{let g,v=h.graph,b=v?"animate":"attr",E=h.dashStyle||i.dashStyle;v?(v.endX=this.preventGraphAnimation?null:o.xMap,v.animate({d:o})):o.length&&(h.graph=v=this.chart.renderer.path(o).addClass("highcharts-graph"+(f?` highcharts-zone-graph-${f-1} `:" ")+(f&&h.className||"")).attr({zIndex:1}).add(this.group)),v&&!c&&(g={stroke:!f&&i.lineColor||h.color||this.color||"#cccccc","stroke-width":i.lineWidth||0,fill:this.fillGraph&&this.color||"none"},E?g.dashstyle=E:i.linecap!=="square"&&(g["stroke-linecap"]=g["stroke-linejoin"]="round"),v[b](g).shadow(i.shadow&&Vr({filterUnits:"userSpaceOnUse"},Ey(i.shadow)?i.shadow:{}))),v&&(v.startX=o.xMap,v.isArea=o.isArea)})}getGraphPath(i,o,c){let h=this,f=h.options,g=[],v=[],b,E=f.step,M=(i=i||h.points).reversed;return M&&i.reverse(),(E={right:1,center:2}[E]||E&&3)&&M&&(E=4-E),(i=this.getValidPoints(i,!1,f.nullInteraction||!(f.connectNulls&&!o&&!c))).forEach(function(w,A){let k,N=w.plotX,I=w.plotY,j=i[A-1],z=w.isNull||typeof I!="number";(w.leftCliff||j?.rightCliff)&&!c&&(b=!0),z&&!zp(o)&&A>0?b=!f.connectNulls:z&&!o?b=!0:(A===0||b?k=[["M",w.plotX,w.plotY]]:h.getPointSpline?k=[h.getPointSpline(i,w,A)]:E?(k=E===1?[["L",j.plotX,I]]:E===2?[["L",(j.plotX+N)/2,j.plotY],["L",(j.plotX+N)/2,I]]:[["L",N,j.plotY]]).push(["L",N,I]):k=[["L",N,I]],v.push(w.x),E&&(v.push(w.x),E===2&&v.push(w.x)),g.push.apply(g,k),b=!1)}),g.xMap=v,h.graphPath=g,g}}Bo.defaultOptions=Vr(Bi.defaultOptions,{legendSymbol:"lineMarker"}),Bt.registerSeriesType("line",Bo);let{seriesTypes:{line:Fo}}=Bt,{extend:gu,merge:Wl,objectEach:Ay,pick:mu}=We;class Ho extends Fo{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:i,options:o}=this;[this,...this.zones].forEach((c,h)=>{let f={},g=c.fillColor||o.fillColor,v=c.area,b=v?"animate":"attr";v?(v.endX=this.preventGraphAnimation?null:i.xMap,v.animate({d:i})):(f.zIndex=0,(v=c.area=this.chart.renderer.path(i).addClass("highcharts-area"+(h?` highcharts-zone-area-${h-1} `:" ")+(h&&c.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(f.fill=g||c.color||this.color,f["fill-opacity"]=g?1:o.fillOpacity??.75,v.css({pointerEvents:this.stickyTracking?"none":"auto"})),v[b](f),v.startX=i.xMap,v.shiftUnit=o.step?2:1})}getGraphPath(i){let o,c,h,f=Fo.prototype.getGraphPath,g=this.options,v=g.stacking,b=this.yAxis,E=[],M=[],w=this.index,A=b.stacking.stacks[this.stackKey],k=g.threshold,N=Math.round(b.getThreshold(g.threshold)),I=mu(g.connectNulls,v==="percent"),j=function(te,J,ne){let de=i[te],me=v&&A[de.x].points[w],se=de[ne+"Null"]||0,we=de[ne+"Cliff"]||0,Ne,_e,He=!0;we||se?(Ne=(se?me[0]:me[1])+we,_e=me[0]+we,He=!!se):!v&&i[J]&&i[J].isNull&&(Ne=_e=k),Ne!==void 0&&(M.push({plotX:o,plotY:Ne===null?N:b.getThreshold(Ne),isNull:He,isCliff:!0}),E.push({plotX:o,plotY:_e===null?N:b.getThreshold(_e),doCurve:!1}))};i=i||this.points,v&&(i=this.getStackPoints(i));for(let te=0,J=i.length;te<J;++te)v||(i[te].leftCliff=i[te].rightCliff=i[te].leftNull=i[te].rightNull=void 0),c=i[te].isNull,o=mu(i[te].rectPlotX,i[te].plotX),h=v?mu(i[te].yBottom,N):N,(!c||I)&&(I||j(te,te-1,"left"),c&&!v&&I||(M.push(i[te]),E.push({x:te,plotX:o,plotY:h})),I||j(te,te+1,"right"));let z=f.call(this,M,!0,!0);E.reversed=!0;let V=f.call(this,E,!0,!0),q=V[0];q&&q[0]==="M"&&(V[0]=["L",q[1],q[2]]);let Q=z.concat(V);Q.length&&Q.push(["Z"]);let ee=f.call(this,M,!1,I);return this.chart.series.length>1&&v&&M.some(te=>te.isCliff)&&(Q.hasStackedCliffs=ee.hasStackedCliffs=!0),Q.xMap=z.xMap,this.areaPath=Q,ee}getStackPoints(i){let o=this,c=[],h=[],f=this.xAxis,g=this.yAxis,v=g.stacking.stacks[this.stackKey],b={},E=g.series,M=E.length,w=g.options.reversedStacks?1:-1,A=E.indexOf(o);if(i=i||this.points,this.options.stacking){for(let N=0;N<i.length;N++)i[N].leftNull=i[N].rightNull=void 0,b[i[N].x]=i[N];Ay(v,function(N,I){N.total!==null&&h.push(I)}),h.sort(function(N,I){return N-I});let k=E.map(N=>N.visible);h.forEach(function(N,I){let j=0,z,V;if(b[N]&&!b[N].isNull)c.push(b[N]),[-1,1].forEach(function(q){let Q=q===1?"rightNull":"leftNull",ee=v[h[I+q]],te=0;if(ee){let J=A;for(;J>=0&&J<M;){let ne=E[J].index;!(z=ee.points[ne])&&(ne===o.index?b[N][Q]=!0:k[J]&&(V=v[N].points[ne])&&(te-=V[1]-V[0])),J+=w}}b[N][q===1?"rightCliff":"leftCliff"]=te});else{let q=A;for(;q>=0&&q<M;){let Q=E[q].index;if(z=v[N].points[Q]){j=z[1];break}q+=w}j=mu(j,0),j=g.translate(j,0,1,0,1),c.push({isNull:!0,plotX:f.translate(N,0,0,0,1),x:N,plotY:j,yBottom:j})}})}return c}}Ho.defaultOptions=Wl(Fo.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),gu(Ho.prototype,{singleStacks:!1}),Bt.registerSeriesType("area",Ho);let{line:Bp}=Bt.seriesTypes,{merge:sh,pick:yu}=We;class Fp extends Bp{getPointSpline(i,o,c){let h,f,g,v,b=o.plotX||0,E=o.plotY||0,M=i[c-1],w=i[c+1];function A(N){return N&&!N.isNull&&N.doCurve!==!1&&!o.isCliff}if(A(M)&&A(w)){let N=M.plotX||0,I=M.plotY||0,j=w.plotX||0,z=w.plotY||0,V=0;h=(1.5*b+N)/2.5,f=(1.5*E+I)/2.5,g=(1.5*b+j)/2.5,v=(1.5*E+z)/2.5,g!==h&&(V=(v-f)*(g-b)/(g-h)+E-v),f+=V,v+=V,f>I&&f>E?(f=Math.max(I,E),v=2*E-f):f<I&&f<E&&(f=Math.min(I,E),v=2*E-f),v>z&&v>E?(v=Math.max(z,E),f=2*E-v):v<z&&v<E&&(v=Math.min(z,E),f=2*E-v),o.rightContX=g,o.rightContY=v,o.controlPoints={low:[h,f],high:[g,v]}}let k=["C",yu(M.rightContX,M.plotX,0),yu(M.rightContY,M.plotY,0),yu(h,b,0),yu(f,E,0),b,E];return M.rightContX=M.rightContY=void 0,k}}Fp.defaultOptions=sh(Bp.defaultOptions),Bt.registerSeriesType("spline",Fp);let Cy=Fp,{area:un,area:{prototype:gn}}=Bt.seriesTypes,{extend:Ht,merge:qt}=We;class dn extends Cy{}dn.defaultOptions=qt(Cy.defaultOptions,un.defaultOptions),Ht(dn.prototype,{getGraphPath:gn.getGraphPath,getStackPoints:gn.getStackPoints,drawGraph:gn.drawGraph}),Bt.registerSeriesType("areaspline",dn);let{animObject:Sr}=Ai,{parse:Fs}=at,{noop:Yl}=ce,{clamp:$l,crisp:Wr,defined:Vn,extend:ns,fireEvent:Hs,isArray:oh,isNumber:Fi,merge:Us,pick:is,objectEach:or}=We;class ql extends Bi{animate(i){let o,c,h=this,f=this.yAxis,g=f.pos,v=f.reversed,b=h.options,{clipOffset:E,inverted:M}=this.chart,w={},A=M?"translateX":"translateY";i&&E?(w.scaleY=.001,c=$l(f.toPixels(b.threshold||0),g,g+f.len),M?w.translateX=(c+=v?-Math.floor(E[0]):Math.ceil(E[2]))-f.len:w.translateY=c+=v?Math.ceil(E[0]):-Math.floor(E[2]),h.clipBox&&h.setClip(),h.group.attr(w)):(o=Number(h.group.attr(A)),h.group.animate({scaleY:1},ns(Sr(h.options.animation),{step:function(k,N){h.group&&(w[A]=o+N.pos*(g-o),h.group.attr(w))}})))}init(i,o){super.init.apply(this,arguments);let c=this;(i=c.chart).hasRendered&&i.series.forEach(function(h){h.type===c.type&&(h.isDirty=!0)})}getColumnMetrics(){let i=this,o=i.options,c=i.xAxis,h=i.yAxis,f=c.options.reversedStacks,g=c.reversed&&!f||!c.reversed&&f,v={},b,E=0;o.grouping===!1?E=1:i.chart.series.forEach(function(I){let j,z=I.yAxis,V=I.options;I.type===i.type&&I.reserveSpace()&&h.len===z.len&&h.pos===z.pos&&(V.stacking&&V.stacking!=="group"?(v[b=I.stackKey]===void 0&&(v[b]=E++),j=v[b]):V.grouping!==!1&&(j=E++),I.columnIndex=j)});let M=Math.min(Math.abs(c.transA)*(!c.brokenAxis?.hasBreaks&&c.ordinal?.slope||o.pointRange||c.closestPointRange||c.tickInterval||1),c.len),w=M*o.groupPadding,A=(M-2*w)/(E||1),k=Math.min(o.maxPointWidth||c.len,is(o.pointWidth,A*(1-2*o.pointPadding))),N=(i.columnIndex||0)+ +!!g;return i.columnMetrics={width:k,offset:(A-k)/2+(w+N*A-M/2)*(g?-1:1),paddedWidth:A,columnCount:E},i.columnMetrics}crispCol(i,o,c,h){let f=this.borderWidth,g=this.chart.inverted;return h=Wr(o+h,f,g)-(o=Wr(o,f,g)),this.options.crisp&&(c=Wr(i+c,f)-(i=Wr(i,f))),{x:i,y:o,width:c,height:h}}adjustForMissingColumns(i,o,c,h){if(!c.isNull&&h.columnCount>1){let f=this.xAxis.series.filter(E=>E.visible).map(E=>E.index),g=0,v=0;or(this.xAxis.stacking?.stacks,E=>{let M=typeof c.x=="number"?E[c.x.toString()]?.points:void 0,w=M?.[this.index],A={};if(M&&oh(w)){let k=this.index,N=Object.keys(M).filter(I=>!I.match(",")&&M[I]&&M[I].length>1).map(parseFloat).filter(I=>f.indexOf(I)!==-1).filter(I=>{let j=this.chart.series[I].options,z=j.stacking&&j.stack;if(Vn(z)){if(Fi(A[z]))return k===I&&(k=A[z]),!1;A[z]=I}return!0}).sort((I,j)=>j-I);g=N.indexOf(k),v=N.length}}),g=this.xAxis.reversed?v-1-g:g;let b=(v-1)*h.paddedWidth+o;i=(c.plotX||0)+b/2-o-g*h.paddedWidth}return i}translate(){let i=this,o=i.chart,c=i.options,h=i.dense=i.closestPointRange*i.xAxis.transA<2,f=i.borderWidth=is(c.borderWidth,+!h),g=i.xAxis,v=i.yAxis,b=c.threshold,E=is(c.minPointLength,5),M=i.getColumnMetrics(),w=M.width,A=i.pointXOffset=M.offset,k=i.dataMin,N=i.dataMax,I=i.translatedThreshold=v.getThreshold(b),j=i.barW=Math.max(w,1+2*f);c.pointPadding&&c.crisp&&(j=Math.ceil(j)),Bi.prototype.translate.apply(i),i.points.forEach(function(z){let V=is(z.yBottom,I),q=999+Math.abs(V),Q=z.plotX||0,ee=$l(z.plotY,-q,v.len+q),te,J=Math.min(ee,V),ne=Math.max(ee,V)-J,de=w,me=Q+A,se=j;E&&Math.abs(ne)<E&&(ne=E,te=!v.reversed&&!z.negative||v.reversed&&z.negative,Fi(b)&&Fi(N)&&z.y===b&&N<=b&&(v.min||0)<b&&(k!==N||(v.max||0)<=b)&&(te=!te,z.negative=!z.negative),J=Math.abs(J-I)>E?V-E:I-(te?E:0)),Vn(z.options.pointWidth)&&(me-=Math.round(((de=se=Math.ceil(z.options.pointWidth))-w)/2)),c.centerInCategory&&(me=i.adjustForMissingColumns(me,de,z,M)),z.barX=me,z.pointWidth=de,z.tooltipPos=o.inverted?[$l(v.len+v.pos-o.plotLeft-ee,v.pos-o.plotLeft,v.len+v.pos-o.plotLeft),g.len+g.pos-o.plotTop-me-se/2,ne]:[g.left-o.plotLeft+me+se/2,$l(ee+v.pos-o.plotTop,v.pos-o.plotTop,v.len+v.pos-o.plotTop),ne],z.shapeType=i.pointClass.prototype.shapeType||"roundedRect",z.shapeArgs=i.crispCol(me,J,se,z.isNull?0:ne)}),Hs(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(i,o){let c=this.options,h=this.pointAttrToOptions||{},f=h.stroke||"borderColor",g=h["stroke-width"]||"borderWidth",v,b,E,M=i&&i.color||this.color,w=i&&i[f]||c[f]||M,A=i&&i.options.dashStyle||c.dashStyle,k=i&&i[g]||c[g]||this[g]||0,N=i?.isNull&&c.nullInteraction?0:i?.opacity??c.opacity??1;i&&this.zones.length&&(b=i.getZone(),M=i.options.color||b&&(b.color||i.nonZonedColor)||this.color,b&&(w=b.borderColor||w,A=b.dashStyle||A,k=b.borderWidth||k)),o&&i&&(E=(v=Us(c.states[o],i.options.states?.[o]||{})).brightness,M=v.color||E!==void 0&&Fs(M).brighten(v.brightness).get()||M,w=v[f]||w,k=v[g]||k,A=v.dashStyle||A,N=is(v.opacity,N));let I={fill:M,stroke:w,"stroke-width":k,opacity:N};return A&&(I.dashstyle=A),I}drawPoints(i=this.points){let o,c=this,h=this.chart,f=c.options,g=f.nullInteraction,v=h.renderer,b=f.animationLimit||250;i.forEach(function(E){let M=E.plotY,w=E.graphic,A=!!w,k=w&&h.pointCount<b?"animate":"attr";Fi(M)&&(E.y!==null||g)?(o=E.shapeArgs,w&&E.hasNewShapeType()&&(w=w.destroy()),c.enabledDataSorting&&(E.startXPos=c.xAxis.reversed?-(o&&o.width||0):c.xAxis.width),!w&&(E.graphic=w=v[E.shapeType](o).add(E.group||c.group),w&&c.enabledDataSorting&&h.hasRendered&&h.pointCount<b&&(w.attr({x:E.startXPos}),A=!0,k="animate")),w&&A&&w[k](Us(o)),h.styledMode||w[k](c.pointAttribs(E,E.selected&&"select")).shadow(E.allowShadow!==!1&&f.shadow),w&&(w.addClass(E.getClassName(),!0),w.attr({visibility:E.visible?"inherit":"hidden"}))):w&&(E.graphic=w.destroy())})}drawTracker(i=this.points){let o,c=this,h=c.chart,f=h.pointer,g=function(v){f?.normalize(v);let b=f?.getPointFromEvent(v);f&&b&&c.options.enableMouseTracking&&(h.isInsidePlot(v.chartX-h.plotLeft,v.chartY-h.plotTop,{visiblePlotOnly:!0})||f?.inClass(v.target,"highcharts-data-label"))&&(f.isDirectTouch=!0,b.onMouseOver(v))};i.forEach(function(v){o=oh(v.dataLabels)?v.dataLabels:v.dataLabel?[v.dataLabel]:[],v.graphic&&(v.graphic.element.point=v),o.forEach(function(b){(b.div||b.element).point=v})}),c._hasTracking||(c.trackerGroups?.reduce((v,b)=>(b==="dataLabelsGroup"?v.push(...c.dataLabelsGroups||[]):v.push(c[b]),v),[]).forEach(v=>{v&&(v.addClass("highcharts-tracker").on("mouseover",g).on("mouseout",function(b){f?.onTrackerMouseOut(b)}).on("touchstart",g),!h.styledMode&&c.options.cursor&&v.css({cursor:c.options.cursor}))}),c._hasTracking=!0),Hs(this,"afterDrawTracker")}remove(){let i=this,o=i.chart;o.hasRendered&&o.series.forEach(function(c){c.type===i.type&&(c.isDirty=!0)}),Bi.prototype.remove.apply(i,arguments)}}ql.defaultOptions=Us(Bi.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),ns(ql.prototype,{directTouch:!0,getSymbol:Yl,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Bt.registerSeriesType("column",ql);let Gs=ql,{getDeferredAnimation:Dy}=Ai,{format:lh}=$n,{defined:Pa,extend:rs,fireEvent:Zn,getAlignFactor:as,isArray:Er,isString:Ar,merge:Uo,objectEach:Hp,pick:Xl,pInt:vu,splat:ch}=We;(function(x){function i(){return b(this).some(M=>M?.enabled)}function o(M,w,A,k,N){let{chart:I,enabledDataSorting:j}=this,z=this.isCartesian&&I.inverted,V=M.plotX,q=M.plotY,Q=A.rotation||0,ee=Pa(V)&&Pa(q)&&I.isInsidePlot(V,Math.round(q),{inverted:z,paneCoordinates:!0,series:this}),te=Q===0&&Xl(A.overflow,j?"none":"justify")==="justify",J=this.visible&&M.visible!==!1&&Pa(V)&&(M.series.forceDL||j&&!te||ee||Xl(A.inside,!!this.options.stacking)&&k&&I.isInsidePlot(V,z?k.x+1:k.y+k.height-1,{inverted:z,paneCoordinates:!0,series:this})),ne=M.pos();if(J&&ne){var de;let me=w.getBBox(),se=w.getBBox(void 0,0);if(k=rs({x:ne[0],y:Math.round(ne[1]),width:0,height:0},k||{}),A.alignTo==="plotEdges"&&this.isCartesian&&(k[z?"x":"y"]=0,k[z?"width":"height"]=this.yAxis?.len||0),rs(A,{width:me.width,height:me.height}),de=k,j&&this.xAxis&&!te&&this.setDataLabelStartPos(M,w,N,ee,de),w.align(Uo(A,{width:se.width,height:se.height}),!1,k,!1),w.alignAttr.x+=as(A.align)*(se.width-me.width),w.alignAttr.y+=as(A.verticalAlign)*(se.height-me.height),w[w.placed?"animate":"attr"]({"text-align":w.alignAttr["text-align"]||"center",x:w.alignAttr.x+(me.width-se.width)/2,y:w.alignAttr.y+(me.height-se.height)/2,rotationOriginX:(w.width||0)/2,rotationOriginY:(w.height||0)/2}),te&&k.height>=0)this.justifyDataLabel(w,A,w.alignAttr,me,k,N);else if(Xl(A.crop,!0)){let{x:we,y:Ne}=w.alignAttr;J=I.isInsidePlot(we,Ne,{paneCoordinates:!0,series:this})&&I.isInsidePlot(we+me.width-1,Ne+me.height-1,{paneCoordinates:!0,series:this})}A.shape&&!Q&&w[N?"attr":"animate"]({anchorX:ne[0],anchorY:ne[1]})}N&&j&&(w.placed=!1),J||j&&!te?(w.show(),w.placed=!0):(w.hide(),w.placed=!1)}function c(M,w){Zn(this,"initDataLabelsGroup",{index:M,zIndex:w?.zIndex??6}),this.dataLabelsGroup=this.dataLabelsGroups?.[M];let A=this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",w?.zIndex??6,this.dataLabelsParentGroups?.[M]);return this.dataLabelsGroups||(this.dataLabelsGroups=[]),this.dataLabelsGroups[M]=A,this.dataLabelsGroup=this.dataLabelsGroups[0],A}function h(M,w,A){let k=!!this.hasRendered,N=this.initDataLabelsGroup(M,A).attr({opacity:+k});return!k&&N&&(this.visible&&N.show(),this.options.animation?N.animate({opacity:1},w):N.attr({opacity:1})),N}function f(M){let w;M=M||this.points;let A=this,k=A.chart,N=A.options,I=k.renderer,{backgroundColor:j,plotBackgroundColor:z}=k.options.chart,V=I.getContrast(Ar(z)&&z||Ar(j)&&j||"#000000"),q=b(A),{animation:Q,defer:ee}=q[0],te=ee?Dy(k,Q,A):{defer:0,duration:0};Zn(this,"drawDataLabels"),A.hasDataLabels?.()&&M.forEach(J=>{let ne=J.dataLabels||[],de=J.color||A.color;ch(v(q,J.dlOptions||J.options?.dataLabels)).forEach((se,we)=>{w=this.initDataLabels(we,te,se);let Ne=se.enabled&&(J.visible||J.dataLabelOnHidden)&&(!J.isNull||J.dataLabelOnNull)&&(function(en,In){let Gt=In.filter;if(Gt){let zn=Gt.operator,Ui=en[Gt.property],Tr=Gt.value;return zn===">"&&Ui>Tr||zn==="<"&&Ui<Tr||zn===">="&&Ui>=Tr||zn==="<="&&Ui<=Tr||zn==="=="&&Ui==Tr||zn==="==="&&Ui===Tr||zn==="!="&&Ui!=Tr||zn==="!=="&&Ui!==Tr||!1}return!0})(J,se),{backgroundColor:_e,borderColor:He,distance:Ue,style:qe={}}=se,vt,ut,Jt,rt={},ft=ne[we],Nt=!ft,pt;Ne&&(ut=Pa(vt=Xl(se[J.formatPrefix+"Format"],se.format))?lh(vt,J,k):(se[J.formatPrefix+"Formatter"]||se.formatter).call(J,se),Jt=se.rotation,!k.styledMode&&(qe.color=Xl(se.color,qe.color,Ar(A.color)?A.color:void 0,"#000000"),qe.color==="contrast"?(_e!=="none"&&(pt=_e),J.contrastColor=I.getContrast(pt!=="auto"&&Ar(pt)&&pt||(Ar(de)?de:"")),qe.color=pt||!Pa(Ue)&&se.inside||0>vu(Ue||0)||N.stacking?J.contrastColor:V):delete J.contrastColor,N.cursor&&(qe.cursor=N.cursor)),rt={r:se.borderRadius||0,rotation:Jt,padding:se.padding,zIndex:1},k.styledMode||(rt.fill=_e==="auto"?J.color:_e,rt.stroke=He==="auto"?J.color:He,rt["stroke-width"]=se.borderWidth),Hp(rt,(en,In)=>{en===void 0&&delete rt[In]})),!ft||Ne&&Pa(ut)&&!!(ft.div||ft.text?.foreignObject)==!!se.useHTML&&(ft.rotation&&se.rotation||ft.rotation===se.rotation)||(ft=void 0,Nt=!0),Ne&&Pa(ut)&&ut!==""&&(ft?rt.text=ut:(ft=I.label(ut,0,0,se.shape,void 0,void 0,se.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+J.colorIndex+" "+(se.className||"")+(se.useHTML?" highcharts-tracker":"")),ft&&(ft.options=se,ft.attr(rt),k.styledMode?qe.width&&ft.css({width:qe.width,textOverflow:qe.textOverflow,whiteSpace:qe.whiteSpace}):ft.css(qe).shadow(se.shadow),Zn(ft,"beforeAddingDataLabel",{labelOptions:se,point:J}),ft.added||ft.add(w),A.alignDataLabel(J,ft,se,void 0,Nt),ft.isActive=!0,ne[we]&&ne[we]!==ft&&ne[we].destroy(),ne[we]=ft))});let me=ne.length;for(;me--;)ne[me]?.isActive?ne[me].isActive=!1:(ne[me]?.destroy(),ne.splice(me,1));J.dataLabel=ne[0],J.dataLabels=ne}),Zn(this,"afterDrawDataLabels")}function g(M,w,A,k,N,I){let j=this.chart,z=w.align,V=w.verticalAlign,q=M.box?0:M.padding||0,Q=j.inverted?this.yAxis:this.xAxis,ee=Q?Q.left-j.plotLeft:0,te=j.inverted?this.xAxis:this.yAxis,J=te?te.top-j.plotTop:0,{x:ne=0,y:de=0}=w,me,se;return(me=(A.x||0)+q+ee)<0&&(z==="right"&&ne>=0?(w.align="left",w.inside=!0):ne-=me,se=!0),(me=(A.x||0)+k.width-q+ee)>j.plotWidth&&(z==="left"&&ne<=0?(w.align="right",w.inside=!0):ne+=j.plotWidth-me,se=!0),(me=A.y+q+J)<0&&(V==="bottom"&&de>=0?(w.verticalAlign="top",w.inside=!0):de-=me,se=!0),(me=(A.y||0)+k.height-q+J)>j.plotHeight&&(V==="top"&&de<=0?(w.verticalAlign="bottom",w.inside=!0):de+=j.plotHeight-me,se=!0),se&&(w.x=ne,w.y=de,M.placed=!I,M.align(w,void 0,N)),se}function v(M,w){let A=[],k;if(Er(M)&&!Er(w))A=M.map(function(N){return Uo(N,w)});else if(Er(w)&&!Er(M))A=w.map(function(N){return Uo(M,N)});else if(Er(M)||Er(w)){if(Er(M)&&Er(w))for(k=Math.max(M.length,w.length);k--;)A[k]=Uo(M[k],w[k])}else A=Uo(M,w);return A}function b(M){let w=M.chart.options.plotOptions;return ch(v(v(w?.series?.dataLabels,w?.[M.type]?.dataLabels),M.options.dataLabels))}function E(M,w,A,k,N){let I=this.chart,j=I.inverted,z=this.xAxis,V=z.reversed,q=((j?w.height:w.width)||0)/2,Q=M.pointWidth,ee=Q?Q/2:0;w.startXPos=j?N.x:V?-q-ee:z.width-q+ee,w.startYPos=j?V?this.yAxis.height-q+ee:-q-ee:N.y,k?w.visibility==="hidden"&&(w.show(),w.attr({opacity:0}).animate({opacity:1})):w.attr({opacity:1}).animate({opacity:0},void 0,w.hide),I.hasRendered&&(A&&w.attr({x:w.startXPos,y:w.startYPos}),w.placed=!0)}x.compose=function(M){let w=M.prototype;w.initDataLabels||(w.initDataLabels=h,w.initDataLabelsGroup=c,w.alignDataLabel=o,w.drawDataLabels=f,w.justifyDataLabel=g,w.mergeArrays=v,w.setDataLabelStartPos=E,w.hasDataLabels=i)}})(Ie||(Ie={}));let Hi=Ie,{composed:Ty}=ce,{series:Qi}=Bt,{merge:My,pushUnique:_y}=We;function k0(x,i,o,c,h){let{chart:f,options:g}=this,v=f.inverted,b=this.xAxis?.len||f.plotSizeX||0,E=this.yAxis?.len||f.plotSizeY||0,M=x.dlBox||x.shapeArgs,w=x.below??(x.plotY||0)>(this.translatedThreshold??E),A=o.inside??!!g.stacking;if(M){if(c=My(M),o.overflow!=="allow"||o.crop!==!1||g.clip!==!1){c.y<0&&(c.height+=c.y,c.y=0);let k=c.y+c.height-E;k>0&&k<c.height-1&&(c.height-=k)}v&&(c={x:E-c.y-c.height,y:b-c.x-c.width,width:c.height,height:c.width}),A||(v?(c.x+=w?0:c.width,c.width=0):(c.y+=w?c.height:0,c.height=0))}o.align??(o.align=!v||A?"center":w?"right":"left"),o.verticalAlign??(o.verticalAlign=v||A?"middle":w?"top":"bottom"),Qi.prototype.alignDataLabel.call(this,x,i,o,c,h),o.inside&&x.contrastColor&&i.css({color:x.contrastColor})}(Ye||(Ye={})).compose=function(x){Hi.compose(Qi),_y(Ty,"ColumnDataLabel")&&(x.prototype.alignDataLabel=k0)};let Vs=Ye,{extend:uh,merge:Up}=We;class Ws extends Gs{}Ws.defaultOptions=Up(Gs.defaultOptions,{}),uh(Ws.prototype,{inverted:!0}),Bt.registerSeriesType("bar",Ws);let{column:Ry,line:Gp}=Bt.seriesTypes,{addEvent:ky,extend:Oy,merge:dh}=We;class Zl extends Gp{applyJitter(){let i=this,o=this.options.jitter,c=this.points.length;o&&this.points.forEach(function(h,f){["x","y"].forEach(function(g,v){if(o[g]&&!h.isNull){let b=`plot${g.toUpperCase()}`,E=i[`${g}Axis`],M=o[g]*E.transA;if(E&&!E.logarithmic){let w,A=Math.max(0,(h[b]||0)-M),k=Math.min(E.len,(h[b]||0)+M);h[b]=A+(k-A)*((w=1e4*Math.sin(f+v*c))-Math.floor(w)),g==="x"&&(h.clientX=h.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Zl.defaultOptions=dh(Gp.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Oy(Zl.prototype,{drawTracker:Ry.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),ky(Zl,"afterTranslate",function(){this.applyJitter()}),Bt.registerSeriesType("scatter",Zl);let{deg2rad:Ny}=ce,{fireEvent:O0,isNumber:Vp,pick:bu,relativeLength:Ly}=We;($=je||(je={})).getCenter=function(){let x=this.options,i=this.chart,o=2*(x.slicedOffset||0),c=i.plotWidth-2*o,h=i.plotHeight-2*o,f=x.center,g=Math.min(c,h),v=x.thickness,b,E=x.size,M=x.innerSize||0,w,A;typeof E=="string"&&(E=parseFloat(E)),typeof M=="string"&&(M=parseFloat(M));let k=[bu(f?.[0],"50%"),bu(f?.[1],"50%"),bu(E&&E<0?void 0:x.size,"100%"),bu(M&&M<0?void 0:x.innerSize||0,"0%")];for(!i.angular||this instanceof Bi||(k[3]=0),w=0;w<4;++w)A=k[w],b=w<2||w===2&&/%$/.test(A),k[w]=Ly(A,[c,h,g,k[2]][w])+(b?o:0);return k[3]>k[2]&&(k[3]=k[2]),Vp(v)&&2*v<k[2]&&v>0&&(k[3]=k[2]-2*v),O0(this,"afterGetCenter",{positions:k}),k},$.getStartAndEndRadians=function(x,i){let o=Vp(x)?x:0,c=Vp(i)&&i>o&&i-o<360?i:o+360;return{start:Ny*(o+-90),end:Ny*(c+-90)}};let Go=je,{setAnimation:hh}=Ai,{addEvent:Wp,defined:Iy,extend:Py,isNumber:jy,pick:zy,relativeLength:By}=We;class xu extends $t{getConnectorPath(i){let o=i.dataLabelPosition,c=i.options||{},h=c.connectorShape,f=this.connectorShapes[h]||h;return o&&f.call(this,{...o.computed,alignment:o.alignment},o.connectorPosition,c)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(i){let o=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(o.x,o.y,o.r+i,o.r+i,{innerR:o.r-1,start:o.start,end:o.end,borderRadius:o.borderRadius})}constructor(i,o,c){super(i,o,c),this.half=0,this.name??(this.name=i.chart.options.lang.pieSliceName);const h=f=>{this.slice(f.type==="select")};Wp(this,"select",h),Wp(this,"unselect",h)}isValid(){return jy(this.y)&&this.y>=0}setVisible(i,o=!0){i!==this.visible&&this.update({visible:i??!this.visible},o,void 0,!1)}slice(i,o,c){let h=this.series;hh(c,h.chart),o=zy(o,!0),this.sliced=this.options.sliced=i=Iy(i)?i:!this.sliced,h.options.data[h.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}Py(xu.prototype,{connectorShapes:{fixedOffset:function(x,i,o){let c=i.breakAt,h=i.touchingSliceAt,f=o.softConnector?["C",x.x+(x.alignment==="left"?-5:5),x.y,2*c.x-h.x,2*c.y-h.y,c.x,c.y]:["L",c.x,c.y];return[["M",x.x,x.y],f,["L",h.x,h.y]]},straight:function(x,i){let o=i.touchingSliceAt;return[["M",x.x,x.y],["L",o.x,o.y]]},crookedLine:function(x,i,o){let{angle:c=this.angle||0,breakAt:h,touchingSliceAt:f}=i,{series:g}=this,[v,b,E]=g.center,M=E/2,{plotLeft:w,plotWidth:A}=g.chart,k=x.alignment==="left",{x:N,y:I}=x,j=h.x;if(o.crookDistance){let V=By(o.crookDistance,1);j=k?v+M+(A+w-v-M)*(1-V):w+(v-M)*V}else j=v+(b-I)*Math.tan(c-Math.PI/2);let z=[["M",N,I]];return(k?j<=N&&j>=h.x:j>=N&&j<=h.x)&&z.push(["L",j,I]),z.push(["L",h.x,h.y],["L",f.x,f.y]),z}}});let{getStartAndEndRadians:Fy}=Go,{noop:Yp}=ce,{clamp:mn,extend:$p,fireEvent:Hy,merge:fh,pick:N0}=We;class qp extends Bi{animate(i){let o=this,c=o.points,h=o.startAngleRad;i||c.forEach(function(f){let g=f.graphic,v=f.shapeArgs;g&&v&&(g.attr({r:N0(f.startR,o.center&&o.center[3]/2),start:h,end:h}),g.animate({r:v.r,start:v.start,end:v.end},o.options.animation))})}drawEmpty(){let i,o,c=this.startAngleRad,h=this.endAngleRad,f=this.options;this.total===0&&this.center?(i=this.center[0],o=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(i,o,this.center[1]/2,0,c,h).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Nf.arc(i,o,this.center[2]/2,0,{start:c,end:h,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":f.borderWidth,fill:f.fillColor||"none",stroke:f.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let i=this.chart.renderer;this.points.forEach(function(o){o.graphic&&o.hasNewShapeType()&&(o.graphic=o.graphic.destroy()),o.graphic||(o.graphic=i[o.shapeType](o.shapeArgs).add(o.series.group),o.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(i,o,c,h){let f=this.center,g=this.radii?this.radii[c.index]||0:f[2]/2,v=h.dataLabelPosition,b=v?.distance||0,E=Math.asin(mn((i-f[1])/(g+b),-1,1));return f[0]+Math.cos(E)*(g+b)*(o?-1:1)+(b>0?(o?-1:1)*(h.padding||0):0)}hasData(){return this.points.some(i=>i.visible)}redrawPoints(){let i,o,c,h,f=this,g=f.chart;this.drawEmpty(),f.group&&!g.styledMode&&f.group.shadow(f.options.shadow),f.points.forEach(function(v){let b={};o=v.graphic,!v.isNull&&o?(h=v.shapeArgs,i=v.getTranslate(),g.styledMode||(c=f.pointAttribs(v,v.selected&&"select")),v.delayedRendering?(o.setRadialReference(f.center).attr(h).attr(i),g.styledMode||o.attr(c).attr({"stroke-linejoin":"round"}),v.delayedRendering=!1):(o.setRadialReference(f.center),g.styledMode||fh(!0,b,c),fh(!0,b,h,i),o.animate(b)),o.attr({visibility:v.visible?"inherit":"hidden"}),o.addClass(v.getClassName(),!0)):o&&(v.graphic=o.destroy())})}sortByAngle(i,o){i.sort(function(c,h){return c.angle!==void 0&&(h.angle-c.angle)*o})}translate(i){Hy(this,"translate"),this.generatePoints();let o=this.options,c=o.slicedOffset,h=Fy(o.startAngle,o.endAngle),f=this.startAngleRad=h.start,g=(this.endAngleRad=h.end)-f,v=this.points,b=o.ignoreHiddenPoint,E=v.length,M,w,A,k,N,I,j,z=0;for(i||(this.center=i=this.getCenter()),I=0;I<E;I++){j=v[I],M=f+z*g,j.isValid()&&(!b||j.visible)&&(z+=j.percentage/100),w=f+z*g;let V={x:i[0],y:i[1],r:i[2]/2,innerR:i[3]/2,start:Math.round(1e3*M)/1e3,end:Math.round(1e3*w)/1e3};j.shapeType="arc",j.shapeArgs=V,(A=(w+M)/2)>1.5*Math.PI?A-=2*Math.PI:A<-Math.PI/2&&(A+=2*Math.PI),j.slicedTranslation={translateX:Math.round(Math.cos(A)*c),translateY:Math.round(Math.sin(A)*c)},k=Math.cos(A)*i[2]/2,N=Math.sin(A)*i[2]/2,j.tooltipPos=[i[0]+.7*k,i[1]+.7*N],j.half=+(A<-Math.PI/2||A>Math.PI/2),j.angle=A}Hy(this,"afterTranslate")}updateTotals(){let i=this.points,o=i.length,c=this.options.ignoreHiddenPoint,h,f,g=0;for(h=0;h<o;h++)(f=i[h]).isValid()&&(!c||f.visible)&&(g+=f.y);for(h=0,this.total=g;h<o;h++)(f=i[h]).percentage=g>0&&(f.visible||!c)?f.y/g*100:0,f.total=g}}qp.defaultOptions=fh(Bi.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),$p(qp.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:Gs.prototype.drawTracker,getCenter:Go.getCenter,getSymbol:Yp,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:Gs.prototype.pointAttribs,pointClass:xu,requireSorting:!1,searchPoint:Yp,trackerGroups:["group","dataLabelsGroup"]}),Bt.registerSeriesType("pie",qp);let{composed:L0,noop:ph}=ce,{distribute:Ql}=hl,{series:gh}=Bt,{arrayMax:mh,clamp:yh,defined:ss,isNumber:ja,pick:wu,pushUnique:I0,relativeLength:Xp}=We;(function(x){let i={radialDistributionY:function(g,v){return(v.dataLabelPosition?.top||0)+g.distributeBox.pos},radialDistributionX:function(g,v,b,E,M){let w=M.dataLabelPosition;return g.getX(b<(w?.top||0)+2||b>(w?.bottom||0)-2?E:b,v.half,v,M)},justify:function(g,v,b,E){return E[0]+(g.half?-1:1)*(b+(v.dataLabelPosition?.distance||0))},alignToPlotEdges:function(g,v,b,E){let M=g.getBBox().width;return v?M+E:b-M-E},alignToConnectors:function(g,v,b,E){let M=0,w;return g.forEach(function(A){(w=A.dataLabel.getBBox().width)>M&&(M=w)}),v?M+E:b-M-E}};function o(g,v){let b=Math.PI/2,{start:E=0,end:M=0}=g.shapeArgs||{},w=g.angle||0;v>0&&E<b&&M>b&&w>b/2&&w<1.5*b&&(w=w<=b?Math.max(b/2,(E+b)/2):Math.min(1.5*b,(b+M)/2));let{center:A,options:k}=this,N=A[2]/2,I=Math.cos(w),j=Math.sin(w),z=A[0]+I*N,V=A[1]+j*N,q=Math.min((k.slicedOffset||0)+(k.borderWidth||0),v/5);return{natural:{x:z+I*v,y:V+j*v},computed:{},alignment:v<0?"center":g.half?"right":"left",connectorPosition:{angle:w,breakAt:{x:z+I*q,y:V+j*q},touchingSliceAt:{x:z,y:V}},distance:v}}function c(){let g=this,v=g.points,b=g.chart,E=b.plotWidth,M=b.plotHeight,w=b.plotLeft,A=Math.round(b.chartWidth/3),k=g.center,N=k[2]/2,I=k[1],j=[[],[]],z=[0,0,0,0],V=g.dataLabelPositioners,q,Q,ee,te=0;g.visible&&g.hasDataLabels?.()&&(v.forEach(J=>{(J.dataLabels||[]).forEach(ne=>{ne.shortened&&(ne.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ne.shortened=!1)})}),gh.prototype.drawDataLabels.apply(g),v.forEach(J=>{(J.dataLabels||[]).forEach((ne,de)=>{let me=k[2]/2,se=ne.options,we=Xp(se?.distance||0,me);de===0&&j[J.half].push(J),!ss(se?.style?.width)&&ne.getBBox().width>A&&(ne.css({width:Math.round(.7*A)+"px"}),ne.shortened=!0),ne.dataLabelPosition=this.getDataLabelPosition(J,we),te=Math.max(te,we)})}),j.forEach((J,ne)=>{let de=J.length,me=[],se,we,Ne=0,_e;de&&(g.sortByAngle(J,ne-.5),te>0&&(se=Math.max(0,I-N-te),we=Math.min(I+N+te,b.plotHeight),J.forEach(He=>{(He.dataLabels||[]).forEach(Ue=>{let qe=Ue.dataLabelPosition;qe&&qe.distance>0&&(qe.top=Math.max(0,I-N-qe.distance),qe.bottom=Math.min(I+N+qe.distance,b.plotHeight),Ne=Ue.getBBox().height||21,Ue.lineHeight=b.renderer.fontMetrics(Ue.text||Ue).h+2*Ue.padding,He.distributeBox={target:(Ue.dataLabelPosition?.natural.y||0)-qe.top+Ue.lineHeight/2,size:Ne,rank:He.y},me.push(He.distributeBox))})}),Ql(me,_e=we+Ne-se,_e/5)),J.forEach(He=>{(He.dataLabels||[]).forEach(Ue=>{let qe=Ue.options||{},vt=He.distributeBox,ut=Ue.dataLabelPosition,Jt=ut?.natural.y||0,rt=qe.connectorPadding||0,ft=Ue.lineHeight||21,Nt=(ft-Ue.getBBox().height)/2,pt=0,en=Jt,In="inherit";if(ut){if(me&&ss(vt)&&ut.distance>0&&(vt.pos===void 0?In="hidden":(ee=vt.size,en=V.radialDistributionY(He,Ue))),qe.justify)pt=V.justify(He,Ue,N,k);else switch(qe.alignTo){case"connectors":pt=V.alignToConnectors(J,ne,E,w);break;case"plotEdges":pt=V.alignToPlotEdges(Ue,ne,E,w);break;default:pt=V.radialDistributionX(g,He,en-Nt,Jt,Ue)}if(ut.attribs={visibility:In,align:ut.alignment},ut.posAttribs={x:pt+(qe.x||0)+({left:rt,right:-rt}[ut.alignment]||0),y:en+(qe.y||0)-ft/2},ut.computed.x=pt,ut.computed.y=en-Nt,wu(qe.crop,!0)){let Gt;pt-(Q=Ue.getBBox().width)<rt&&ne===1?(Gt=Math.round(Q-pt+rt),z[3]=Math.max(Gt,z[3])):pt+Q>E-rt&&ne===0&&(Gt=Math.round(pt+Q-E+rt),z[1]=Math.max(Gt,z[1])),en-ee/2<0?z[0]=Math.max(Math.round(-en+ee/2),z[0]):en+ee/2>M&&(z[2]=Math.max(Math.round(en+ee/2-M),z[2])),ut.sideOverflow=Gt}}})}))}),(mh(z)===0||this.verifyDataLabelOverflow(z))&&(this.placeDataLabels(),this.points.forEach(J=>{J.dataLabels?.forEach((ne,de)=>{let{connectorColor:me,connectorWidth:se=1}=ne.options||{},we=ne.dataLabelPosition;if(ja(se)){let Ne;q=ne.connector,we&&we.distance>0?(Ne=!q,q||(ne.connector=q=b.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+J.colorIndex+(J.className?" "+J.className:"")).add(g.dataLabelsGroups?.[de])),b.styledMode||q.attr({"stroke-width":se,stroke:me||J.color||"#666666"}),q[Ne?"attr":"animate"]({d:J.getConnectorPath(ne)}),q.attr({visibility:we.attribs?.visibility})):q&&(ne.connector=q.destroy())}})})))}function h(){this.points.forEach(g=>{(g.dataLabels||[]).forEach(v=>{let b=v.dataLabelPosition;b?(b.sideOverflow&&(v.css({width:Math.max(v.getBBox().width-b.sideOverflow,0)+"px",textOverflow:v.options?.style?.textOverflow||"ellipsis"}),v.shortened=!0),v.attr(b.attribs),v[v.moved?"animate":"attr"](b.posAttribs),v.moved=!0):v&&v.attr({y:-9999})}),delete g.distributeBox},this)}function f(g){let v=this.center,b=this.options,E=b.center,M=b.minSize||80,w=M,A=b.size!==null;return!A&&(E[0]!==null?w=Math.max(v[2]-Math.max(g[1],g[3]),M):(w=Math.max(v[2]-g[1]-g[3],M),v[0]+=(g[3]-g[1])/2),E[1]!==null?w=yh(w,M,v[2]-Math.max(g[0],g[2])):(w=yh(w,M,v[2]-g[0]-g[2]),v[1]+=(g[0]-g[2])/2),w<v[2]?(v[2]=w,v[3]=Math.min(b.thickness?Math.max(0,w-2*b.thickness):Math.max(0,Xp(b.innerSize||0,w)),w),this.translate(v),this.drawDataLabels&&this.drawDataLabels()):A=!0),A}x.compose=function(g){if(Hi.compose(gh),I0(L0,"PieDataLabel")){let v=g.prototype;v.dataLabelPositioners=i,v.alignDataLabel=ph,v.drawDataLabels=c,v.getDataLabelPosition=o,v.placeDataLabels=h,v.verifyDataLabelOverflow=f}}})(Re||(Re={}));let Uy=Re;(K=ge||(ge={})).getCenterOfPoints=function(x){let i=x.reduce((o,c)=>(o.x+=c.x,o.y+=c.y,o),{x:0,y:0});return{x:i.x/x.length,y:i.y/x.length}},K.getDistanceBetweenPoints=function(x,i){return Math.sqrt(Math.pow(i.x-x.x,2)+Math.pow(i.y-x.y,2))},K.getAngleBetweenPoints=function(x,i){return Math.atan2(i.x-x.x,i.y-x.y)},K.pointInPolygon=function({x,y:i},o){let c=o.length,h,f,g=!1;for(h=0,f=c-1;h<c;f=h++){let[v,b]=o[h],[E,M]=o[f];b>i!=M>i&&x<(E-v)*(i-b)/(M-b)+v&&(g=!g)}return g};let{pointInPolygon:Gy}=ge,{addEvent:Vy,getAlignFactor:P0,fireEvent:vh,objectEach:Zp,pick:Wy}=We;function Yy(x,i){let o,c=!1;return x&&(o=x.newOpacity,x.oldOpacity!==o&&(x.hasClass("highcharts-data-label")?(x[o?"removeClass":"addClass"]("highcharts-data-label-hidden"),c=!0,x[x.isOld?"animate":"attr"]({opacity:o},void 0,function(){i.styledMode||x.css({pointerEvents:o?"auto":"none"})}),vh(i,"afterHideOverlappingLabel")):x.attr({opacity:o})),x.isOld=!0),c}let{defaultOptions:Qp}=Un,{noop:bh}=ce,{addEvent:$y,extend:j0,isObject:Kl,merge:z0,relativeLength:xh}=We,Ut={radius:0,scope:"stack",where:void 0},wh=bh,Su=bh;function Kp(x,i,o,c,h={}){let f=wh(x,i,o,c,h),{brStart:g=!0,brEnd:v=!0,innerR:b=0,r:E=o,start:M=0,end:w=0}=h;if(h.open||!h.borderRadius)return f;let A=w-M,k=Math.sin(A/2),N=Math.max(Math.min(xh(h.borderRadius||0,E-b),(E-b)/2,E*k/(1+k)),0),I=Math.min(N,A/Math.PI*2*b),j=f.length-1;for(;j--;)(g||j!==0&&j!==3)&&(v||j!==1&&j!==2)&&(function(z,V,q){let Q,ee,te,J=z[V],ne=z[V+1];if(ne[0]==="Z"&&(ne=z[0]),(J[0]==="M"||J[0]==="L")&&ne[0]==="A"?(Q=J,ee=ne,te=!0):J[0]==="A"&&(ne[0]==="M"||ne[0]==="L")&&(Q=ne,ee=J),Q&&ee&&ee.params){let de=ee[1],me=ee[5],se=ee.params,{start:we,end:Ne,cx:_e,cy:He}=se,Ue=me?de-q:de+q,qe=Ue?Math.asin(q/Ue):0,vt=me?qe:-qe,ut=Math.cos(qe)*Ue;te?(se.start=we+vt,Q[1]=_e+ut*Math.cos(we),Q[2]=He+ut*Math.sin(we),z.splice(V+1,0,["A",q,q,0,0,1,_e+de*Math.cos(se.start),He+de*Math.sin(se.start)])):(se.end=Ne-vt,ee[6]=_e+de*Math.cos(se.end),ee[7]=He+de*Math.sin(se.end),z.splice(V+1,0,["A",q,q,0,0,1,_e+ut*Math.cos(Ne),He+ut*Math.sin(Ne)])),ee[4]=Math.abs(se.end-se.start)<Math.PI?0:1}})(f,j,j>1?I:N);return f}function qy(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:x,yAxis:i}=this,o=x.stacking==="percent",c=Qp.plotOptions?.[this.type]?.borderRadius,h=Eu(x.borderRadius,Kl(c)?c:{}),f=i.options.reversed;for(let g of this.points){let{shapeArgs:v}=g;if(g.shapeType==="roundedRect"&&v){let{width:b=0,height:E=0,y:M=0}=v,w=M,A=E;if(h.scope==="stack"&&g.stackTotal){let j=i.translate(o?100:g.stackTotal,!1,!0,!1,!0),z=i.translate(x.threshold||0,!1,!0,!1,!0),V=this.crispCol(0,Math.min(j,z),0,Math.abs(j-z));w=V.y,A=V.height}let k=(g.negative?-1:1)*(f?-1:1)==-1,N=h.where;!N&&this.is("waterfall")&&Math.abs((g.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(N="all"),N||(N="end");let I=Math.min(xh(h.radius,b),b/2,N==="all"?E/2:1/0)||0;N==="end"&&(k&&(w-=I),A+=I),j0(v,{brBoxHeight:A,brBoxY:w,r:I})}}}}function Eu(x,i){return Kl(x)||(x={radius:x||0}),z0(Ut,i,x)}function Au(){let x=Eu(this.options.borderRadius);for(let i of this.points){let o=i.shapeArgs;o&&(o.borderRadius=xh(x.radius,(o.r||0)-(o.innerR||0)))}}function Sh(x,i,o,c,h={}){let f=Su(x,i,o,c,h),{r:g=0,brBoxHeight:v=c,brBoxY:b=i}=h,E=i-b,M=b+v-(i+c),w=E-g>-.1?0:g,A=M-g>-.1?0:g,k=Math.max(w&&E,0),N=Math.max(A&&M,0),I=[x+w,i],j=[x+o-w,i],z=[x+o,i+w],V=[x+o,i+c-A],q=[x+o-A,i+c],Q=[x+A,i+c],ee=[x,i+c-A],te=[x,i+w],J=(ne,de)=>Math.sqrt(Math.pow(ne,2)-Math.pow(de,2));if(k){let ne=J(w,w-k);I[0]-=ne,j[0]+=ne,z[1]=te[1]=i+w-k}if(c<w-k){let ne=J(w,w-k-c);z[0]=V[0]=x+o-w+ne,q[0]=Math.min(z[0],q[0]),Q[0]=Math.max(V[0],Q[0]),ee[0]=te[0]=x+w-ne,z[1]=te[1]=i+c}if(N){let ne=J(A,A-N);q[0]+=ne,Q[0]-=ne,V[1]=ee[1]=i+c-A+N}if(c<A-N){let ne=J(A,A-N-c);z[0]=V[0]=x+o-A+ne,j[0]=Math.min(z[0],j[0]),I[0]=Math.max(V[0],I[0]),ee[0]=te[0]=x+A-ne,V[1]=ee[1]=i}return f.length=0,f.push(["M",...I],["L",...j],["A",w,w,0,0,1,...z],["L",...V],["A",A,A,0,0,1,...q],["L",...Q],["A",A,A,0,0,1,...ee],["L",...te],["A",w,w,0,0,1,...I],["Z"]),f}let{diffObjects:B0,extend:Xy,find:F0,merge:H0,pick:Cu,uniqueKey:Zy}=We;function En(x,i){let o=x.condition;(o.callback||function(){return this.chartWidth<=Cu(o.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Cu(o.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Cu(o.minWidth,0)&&this.chartHeight>=Cu(o.minHeight,0)}).call(this)&&i.push(x._id)}function Jp(x,i){let o=this.options.responsive,c=this.currentResponsive,h=[],f;!i&&o&&o.rules&&o.rules.forEach(b=>{b._id===void 0&&(b._id=Zy()),this.matchResponsiveRule(b,h)},this);let g=H0(...h.map(b=>F0(o?.rules||[],E=>E._id===b)).map(b=>b?.chartOptions));g.isResponsiveOptions=!0,h=h.toString()||void 0;let v=c?.ruleIds;h!==v&&(c&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(c.undoOptions,x,!0),this.updatingResponsive=!1),h?((f=B0(g,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:h,mergedOptions:g,undoOptions:f},this.updatingResponsive||this.update(g,x,!0)):this.currentResponsive=void 0)}(Ae||(Ae={})).compose=function(x){let i=x.prototype;return i.matchResponsiveRule||Xy(i,{matchResponsiveRule:En,setResponsive:Jp}),x};let Li=Ae;ce.AST=Tn,ce.Axis=nr,ce.Chart=eh,ce.Color=at,ce.DataLabel=Hi,ce.DataTableCore=Ka,ce.Fx=rn,ce.HTMLElement=Ms,ce.Legend=Xd,ce.LegendSymbol=lp,ce.PlotLineOrBand=Xa,ce.Point=$t,ce.Pointer=qn,ce.RendererRegistry=Ga,ce.Series=Bi,ce.SeriesRegistry=Bt,ce.StackItem=pi,ce.SVGElement=Ir,ce.SVGRenderer=xl,ce.Templating=$n,ce.Tick=Da,ce.Time=fr,ce.Tooltip=Ol,ce.animate=Ai.animate,ce.animObject=Ai.animObject,ce.chart=eh.chart,ce.color=at.parse,ce.dateFormat=$n.dateFormat,ce.defaultOptions=Un.defaultOptions,ce.distribute=hl.distribute,ce.format=$n.format,ce.getDeferredAnimation=Ai.getDeferredAnimation,ce.getOptions=Un.getOptions,ce.numberFormat=$n.numberFormat,ce.seriesType=Bt.seriesType,ce.setAnimation=Ai.setAnimation,ce.setOptions=Un.setOptions,ce.stop=Ai.stop,ce.time=Un.defaultTime,ce.timers=rn.timers,{compose:function(x,i,o){let c=x.types.pie;if(!i.symbolCustomAttribs.includes("borderRadius")){let h=o.prototype.symbols;$y(x,"afterColumnTranslate",qy,{order:9}),$y(c,"afterTranslate",Au),i.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),wh=h.arc,Su=h.roundedRect,h.arc=Kp,h.roundedRect=Sh}},optionsToObject:Eu}.compose(ce.Series,ce.SVGElement,ce.SVGRenderer),Vs.compose(ce.Series.types.column),Hi.compose(ce.Series),$f.compose(ce.Axis),Ms.compose(ce.SVGRenderer),Xd.compose(ce.Chart),ci.compose(ce.Axis),(O=(re=ce.Chart).prototype).hideOverlappingLabels||(O.hideOverlappingLabels=function(x){let i=x.length,o=(M,w)=>!(w.x>=M.x+M.width||w.x+w.width<=M.x||w.y>=M.y+M.height||w.y+w.height<=M.y),c=(M,w)=>{for(let A of M)if(Gy({x:A[0],y:A[1]},w))return!0;return!1},h,f,g,v,b,E=!1;for(let M=0;M<i;M++)(h=x[M])&&(h.oldOpacity=h.opacity,h.newOpacity=1,h.absoluteBox=(function(w){if(w&&(!w.alignAttr||w.placed)){let A=w.box?0:w.padding||0,k=w.alignAttr||{x:w.attr("x"),y:w.attr("y")},{height:N,polygon:I,width:j}=w.getBBox(),z=P0(w.alignValue)*j;return w.width=j,w.height=N,{x:k.x+(w.parentGroup?.translateX||0)+A-z,y:k.y+(w.parentGroup?.translateY||0)+A,width:j-2*A,height:N-2*A,polygon:I}}})(h));x.sort((M,w)=>(w?.labelrank||0)-(M?.labelrank||0));for(let M=0;M<i;++M){v=(f=x[M])&&f.absoluteBox;let w=v?.polygon;for(let A=M+1;A<i;++A){b=(g=x[A])&&g.absoluteBox;let k=!1;if(v&&b&&f!==g&&f?.newOpacity!==0&&g?.newOpacity!==0&&f?.visibility!=="hidden"&&g?.visibility!=="hidden"){let N=b.polygon;if(w&&N&&w!==N?c(w,N)&&(k=!0):o(v,b)&&(k=!0),k){let I=f?.labelrank<g?.labelrank?f:g,j=I?.text;I&&(I.newOpacity=0),j?.element.querySelector("textPath")&&j.hide()}}}}for(let M of x)M&&Yy(M,this)&&(E=!0);E&&vh(this,"afterHideAllOverlappingLabels")},Vy(re,"render",function(){let x=this,i=[];for(let o of x.labelCollectors||[])i=i.concat(o());for(let o of x.yAxis||[])o.stacking&&o.options.stackLabels&&!o.options.stackLabels.allowOverlap&&Zp(o.stacking.stacks,c=>{Zp(c,h=>{h.label&&i.push(h.label)})});for(let o of x.series||[])if(o.visible&&o.hasDataLabels?.()){let c=h=>{for(let f of h)f.visible&&(f.dataLabels||[]).forEach(g=>{let v=g.options||{};g.labelrank=Wy(v.labelrank,f.labelrank,f.shapeArgs?.height),v.allowOverlap??Number(v.distance)>0?(g.oldOpacity=g.opacity,g.newOpacity=1,Yy(g,x)):i.push(g)})};c(o.nodes||[]),c(o.points)}this.hideOverlappingLabels(i)})),Uy.compose(ce.Series.types.pie),Xa.compose(ce.Chart,ce.Axis),qn.compose(ce.Chart),Li.compose(ce.Chart),jo.compose(ce.Axis,ce.Chart,ce.Series),jp.compose(ce.Axis,ce.Chart,ce.Series),Ol.compose(ce.Pointer),We.extend(ce,We);let{tooltipFormatter:U0}=$t.prototype,{addEvent:Eh,arrayMax:G0,arrayMin:eg,correctFloat:tg,defined:Du,isArray:Qy,isNumber:Ky,isString:ng,pick:Ys}=We;(function(x){function i(w,A,k){!this.isXAxis&&(this.series.forEach(function(N){w==="compare"&&typeof A!="boolean"?N.setCompare(A,!1):w!=="cumulative"||ng(A)||N.setCumulative(A,!1)}),Ys(k,!0)&&this.chart.redraw())}function o(w){let A=this,{numberFormatter:k}=A.series.chart,N=function(I){w=w.replace("{point."+I+"}",(A[I]>0&&I==="change"?"+":"")+k(A[I],Ys(A.series.tooltipOptions.changeDecimals,2)))};return Du(A.change)&&N("change"),Du(A.cumulativeSum)&&N("cumulativeSum"),U0.apply(this,[w])}function c(){let w,A=this.options.linkedTo,k=this.chart;if(A){let I=A===":previous"?k.series[this.index-1]:k.get(A);I instanceof Bi&&(this.options.compare=Ys(this.userOptions.compare,I.options.compare))}let N=this.options.compare;(N==="percent"||N==="value"||this.options.cumulative)&&(w=new M(this),N==="percent"||N==="value"?w.initCompare(N):w.initCumulative()),this.dataModify=w}function h(w){let A=w.dataExtremes,k=A.activeYData;if(this.dataModify&&A){let N;this.options.compare?N=[this.dataModify.modifyValue(A.dataMin),this.dataModify.modifyValue(A.dataMax)]:this.options.cumulative&&Qy(k)&&k.length>=2&&(N=M.getCumulativeExtremes(k)),N&&(A.dataMin=eg(N),A.dataMax=G0(N))}}function f(w,A){this.options.compare=this.userOptions.compare=w,this.update({},Ys(A,!0)),this.dataModify&&(w==="value"||w==="percent")?this.dataModify.initCompare(w):this.points.forEach(k=>{delete k.change})}function g(){let w=this.getColumn(this.pointArrayMap&&(this.options.pointValKey||this.pointValKey)||"y",!0);if(this.xAxis&&w.length&&this.dataModify){let A=this.getColumn("x",!0),k=this.dataTable.rowCount,N=+(this.options.compareStart!==!0);for(let I=0;I<k-N;I++){let j=w[I];if(Ky(j)&&j!==0&&A[I+N]>=(this.xAxis.min||0)){this.dataModify.compareValue=j;break}}}}function v(w,A){this.setModifier("compare",w,A)}function b(w,A){w=Ys(w,!1),this.options.cumulative=this.userOptions.cumulative=w,this.update({},Ys(A,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(k=>{delete k.cumulativeSum})}function E(w,A){this.setModifier("cumulative",w,A)}x.compose=function(w,A,k){let N=A.prototype,I=k.prototype,j=w.prototype;return j.setCompare||(j.setCompare=f,j.setCumulative=b,Eh(w,"afterInit",c),Eh(w,"afterGetExtremes",h),Eh(w,"afterProcessData",g)),N.setCompare||(N.setCompare=v,N.setModifier=i,N.setCumulative=E,I.tooltipFormatter=o),w};class M{constructor(A){this.series=A}modifyValue(){return 0}static getCumulativeExtremes(A){let k=1/0,N=-1/0;return A.reduce((I,j)=>{let z=I+j;return k=Math.min(k,z,I),N=Math.max(N,z,I),z}),[k,N]}initCompare(A){this.modifyValue=function(k,N){k===null&&(k=0);let I=this.compareValue;if(k!==void 0&&I!==void 0){if(A==="value"?k-=I:k=k/I*100-100*(this.series.options.compareBase!==100),N!==void 0){let j=this.series.points[N];j&&(j.change=k)}return k}return 0}}initCumulative(){this.modifyValue=function(A,k){if(A===null&&(A=0),A!==void 0&&k!==void 0){let N=k>0?this.series.points[k-1]:null;N&&N.cumulativeSum&&(A=tg(N.cumulativeSum+A));let I=this.series.points[k],j=I.series.options.cumulativeStart,z=I.x<=this.series.xAxis.max&&I.x>=this.series.xAxis.min;return I&&(!j||z?I.cumulativeSum=A:I.cumulativeSum=void 0),A}return 0}}}x.Additions=M})(Be||(Be={}));let V0=Be,{isTouchDevice:ig}=ce,{addEvent:Jl,merge:rg,pick:ag}=We,W0=[];function $s(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function Jy(){let x,i,o,c=this.legend,h=this.navigator;if(h){x=c&&c.options,i=h.xAxis,o=h.yAxis;let{scrollbarHeight:f,scrollButtonSize:g}=h;this.inverted?(h.left=h.opposite?this.chartWidth-f-h.height:this.spacing[3]+f,h.top=this.plotTop+g):(h.left=ag(i.left,this.plotLeft+g),h.top=h.navigatorOptions.top||this.chartHeight-h.height-f-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(x&&x.verticalAlign==="bottom"&&x.layout!=="proximate"&&x.enabled&&!x.floating?c.legendHeight+ag(x.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),i&&o&&(this.inverted?i.options.left=o.options.left=h.left:i.options.top=o.options.top=h.top,i.setAxisSize(),o.setAxisSize())}}function ev(x){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new l(this),ag(x.redraw,!0)&&this.redraw(x.animation))}function sg(){let x=this.options;(x.navigator.enabled||x.scrollbar.enabled)&&(this.scroller=this.navigator=new l(this))}function Y0(){let x=this.options,i=x.navigator,o=x.rangeSelector;if((i&&i.enabled||o&&o.enabled)&&(!ig&&this.zooming.type==="x"||ig&&this.zooming.pinchType==="x"))return!1}function $0(x){let i=x.navigator;if(i&&x.xAxis[0]){let o=x.xAxis[0].getExtremes();i.render(o.min,o.max)}}function tv(x){let i=x.options.navigator||{},o=x.options.scrollbar||{};!this.navigator&&!this.scroller&&(i.enabled||o.enabled)&&(rg(!0,this.options.navigator,i),rg(!0,this.options.scrollbar,o),delete x.options.navigator,delete x.options.scrollbar)}let og=function(x,i){if(We.pushUnique(W0,x)){let o=x.prototype;l=i,o.callbacks.push($0),Jl(x,"afterAddSeries",$s),Jl(x,"afterSetChartSize",Jy),Jl(x,"afterUpdate",ev),Jl(x,"beforeRender",sg),Jl(x,"beforeShowResetZoom",Y0),Jl(x,"update",tv)}},{isTouchDevice:lg}=ce,{addEvent:nv,correctFloat:Cr,defined:Tu,isNumber:cg,pick:ug}=We;function iv(){this.navigatorAxis||(this.navigatorAxis=new lr(this))}function Mu(x){let i,o=this.chart,c=o.options,h=c.navigator,f=this.navigatorAxis,g=o.zooming.pinchType,v=c.rangeSelector,b=o.zooming.type;if(this.isXAxis&&(h?.enabled||v?.enabled)){if(b==="y"&&x.trigger==="zoom")i=!1;else if((x.trigger==="zoom"&&b==="xy"||lg&&g==="xy")&&this.options.range){let E=f.previousZoom;Tu(x.min)?f.previousZoom=[this.min,this.max]:E&&(x.min=E[0],x.max=E[1],f.previousZoom=void 0)}}i!==void 0&&x.preventDefault()}class lr{static compose(i){i.keepProps.includes("navigatorAxis")||(i.keepProps.push("navigatorAxis"),nv(i,"init",iv),nv(i,"setExtremes",Mu))}constructor(i){this.axis=i}destroy(){this.axis=void 0}toFixedRange(i,o,c,h){let f=this.axis,g=(f.pointRange||0)/2,v=ug(c,f.translate(i,!0,!f.horiz)),b=ug(h,f.translate(o,!0,!f.horiz));return Tu(c)||(v=Cr(v+g)),Tu(h)||(b=Cr(b-g)),cg(v)&&cg(b)||(v=b=void 0),{min:v,max:b}}}let{parse:rv}=at,{seriesTypes:Ah}=Bt,da={height:40,margin:22,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:rv("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:Ah.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:void 0},tickLength:0,tickWidth:0}},{relativeLength:q0}=We,X0={"navigator-handle":function(x,i,o,c,h={}){let f=h.width?h.width/2:o,g=q0(h.borderRadius||0,Math.min(2*f,c));return[["M",-1.5,(c=h.height||c)/2-3.5],["L",-1.5,c/2+4.5],["M",.5,c/2-3.5],["L",.5,c/2+4.5],...Nf.rect(-f-1,.5,2*f+1,c,{r:g})]}},{defined:Vo}=We,dg={setFixedRange:function(x){let i=this.xAxis[0];Vo(i.dataMax)&&Vo(i.dataMin)&&x?this.fixedRange=Math.min(x,i.dataMax-i.dataMin):this.fixedRange=x}},{defaultOptions:Z0}=Un,{composed:Q0}=ce,{getRendererType:K0}=Ga,{setFixedRange:J0}=dg,{addEvent:ex,extend:av,pushUnique:tx}=We;function sv(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let ec=function(x,i,o){lr.compose(i),tx(Q0,"Navigator")&&(x.prototype.setFixedRange=J0,av(K0().prototype.symbols,X0),av(Z0,{navigator:da}),ex(o,"afterUpdate",sv))},{composed:_u}=ce,{addEvent:Ru,correctFloat:ov,defined:Yr,pick:tc,pushUnique:lv}=We;(function(x){let i;function o(g){let v=tc(g.options?.min,g.min),b=tc(g.options?.max,g.max);return{axisMin:v,axisMax:b,scrollMin:Yr(g.dataMin)?Math.min(v,g.min??1/0,g.dataMin,g.threshold??1/0):v,scrollMax:g.treeGrid?.adjustedMax??(Yr(g.dataMax)?Math.max(b,g.max??-1/0,g.dataMax,g.threshold??-1/0):b)}}function c(){let g=this.scrollbar,v=g&&!g.options.opposite,b=this.horiz?2:v?3:1;g&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[b]+=g.size+(g.options.margin||0))}function h(){let g=this;g.options?.scrollbar?.enabled&&(g.options.scrollbar.vertical=!g.horiz,g.options.startOnTick=g.options.endOnTick=!1,g.scrollbar=new i(g.chart.renderer,g.options.scrollbar,g.chart),Ru(g.scrollbar,"changed",function(v){let b,E,{axisMin:M,axisMax:w,scrollMin:A,scrollMax:k}=o(g),N=g.toPixels(A),I=g.toPixels(k)-N;if(Yr(M)&&Yr(w))if(g.horiz&&!g.reversed||!g.horiz&&g.reversed?(b=Math.min(k,g.toValue(N+I*this.to)),E=Math.max(A,g.toValue(N+I*this.from))):(b=Math.min(k,g.toValue(N+I*(1-this.from))),E=Math.max(A,g.toValue(N+I*(1-this.to)))),this.shouldUpdateExtremes(v.DOMType)){let j=v.DOMType!=="mousemove"&&v.DOMType!=="touchmove"&&void 0;g.setExtremes(ov(E),ov(b),!0,j,v)}else this.setRange(this.from,this.to)}))}function f(){let g,v,b,{scrollMin:E,scrollMax:M}=o(this),w=this.scrollbar,A=(this.axisTitleMargin||0)+(this.titleOffset||0),k=this.chart.scrollbarsOffsets,N=this.options.margin||0;if(w&&k){if(this.horiz)this.opposite||(k[1]+=A),w.position(this.left,this.top+this.height+2+k[1]-(this.opposite?N:0),this.width,this.height),this.opposite||(k[1]+=N),g=1;else{let I;this.opposite&&(k[0]+=A),I=w.options.opposite?this.left+this.width+2+k[0]-(this.opposite?0:N):this.opposite?0:N,w.position(I,this.top,this.width,this.height),this.opposite&&(k[0]+=N),g=0}if(k[g]+=w.size+(w.options.margin||0),isNaN(E)||isNaN(M)||!Yr(this.min)||!Yr(this.max)||Yr(this.dataMin)&&this.dataMin===this.dataMax)w.setRange(0,1);else if(this.min===this.max){let I=this.pointRange/(this.dataMax+1);v=I*this.min,b=I*(this.max+1),w.setRange(v,b)}else v=(this.toPixels(this.min)-this.toPixels(E))/(this.toPixels(M)-this.toPixels(E)),b=(this.toPixels(this.max)-this.toPixels(E))/(this.toPixels(M)-this.toPixels(E)),this.horiz&&!this.reversed||!this.horiz&&this.reversed?w.setRange(v,b):w.setRange(1-b,1-v)}}x.compose=function(g,v){lv(_u,"Axis.Scrollbar")&&(i=v,Ru(g,"afterGetOffset",c),Ru(g,"afterInit",h),Ru(g,"afterRender",f))}})(Xe||(Xe={}));let Ch=Xe,nc={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},{defaultOptions:Dh}=Un,{composed:Th}=ce,{addEvent:cv,correctFloat:qs,crisp:Mh,defined:hg,destroyObjectProperties:nx,extend:fg,fireEvent:ku,merge:Ou,pick:Xs,pushUnique:_h,removeEvent:ix}=We;class ha{static compose(i){Ch.compose(i,ha),_h(Th,"Scrollbar")&&fg(Dh,{scrollbar:nc})}static swapXY(i,o){return o&&i.forEach(c=>{let h,f=c.length;for(let g=0;g<f;g+=2)typeof(h=c[g+1])=="number"&&(c[g+1]=c[g+2],c[g+2]=h)}),i}constructor(i,o,c){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(i,o,c)}addEvents(){let i=this.options.inverted?[1,0]:[0,1],o=this.scrollbarButtons,c=this.scrollbarGroup.element,h=this.track.element,f=this.mouseDownHandler.bind(this),g=this.mouseMoveHandler.bind(this),v=this.mouseUpHandler.bind(this),b=[[o[i[0]].element,"click",this.buttonToMinClick.bind(this)],[o[i[1]].element,"click",this.buttonToMaxClick.bind(this)],[h,"click",this.trackClick.bind(this)],[c,"mousedown",f],[c.ownerDocument,"mousemove",g],[c.ownerDocument,"mouseup",v],[c,"touchstart",f],[c.ownerDocument,"touchmove",g],[c.ownerDocument,"touchend",v]];b.forEach(function(E){cv.apply(null,E)}),this._events=b}buttonToMaxClick(i){let o=(this.to-this.from)*Xs(this.options.step,.2);this.updatePosition(this.from+o,this.to+o),ku(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:i})}buttonToMinClick(i){let o=qs(this.to-this.from)*Xs(this.options.step,.2);this.updatePosition(qs(this.from-o),qs(this.to-o)),ku(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:i})}cursorToScrollbarPosition(i){let o=this.options,c=o.minWidth>this.calculatedWidth?o.minWidth:0;return{chartX:(i.chartX-this.x-this.xOffset)/(this.barWidth-c),chartY:(i.chartY-this.y-this.yOffset)/(this.barWidth-c)}}destroy(){let i=this,o=i.chart.scroller;i.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(c){i[c]&&i[c].destroy&&(i[c]=i[c].destroy())}),o&&i===o.scrollbar&&(o.scrollbar=null,nx(o.scrollbarButtons))}drawScrollbarButton(i){let o=this.renderer,c=this.scrollbarButtons,h=this.options,f=this.size,g=o.g().add(this.group);if(c.push(g),h.buttonsEnabled){let v=o.rect().addClass("highcharts-scrollbar-button").add(g);this.chart.styledMode||v.attr({stroke:h.buttonBorderColor,"stroke-width":h.buttonBorderWidth,fill:h.buttonBackgroundColor}),v.attr(v.crisp({x:-.5,y:-.5,width:f,height:f,r:h.buttonBorderRadius},v.strokeWidth()));let b=o.path(ha.swapXY([["M",f/2+(i?-1:1),f/2-3],["L",f/2+(i?-1:1),f/2+3],["L",f/2+(i?2:-2),f/2]],h.vertical)).addClass("highcharts-scrollbar-arrow").add(c[i]);this.chart.styledMode||b.attr({fill:h.buttonArrowColor})}}init(i,o,c){this.scrollbarButtons=[],this.renderer=i,this.userOptions=o,this.options=Ou(nc,Dh.scrollbar,o),this.options.margin=Xs(this.options.margin,10),this.chart=c,this.size=Xs(this.options.size,this.options.height),o.enabled&&(this.render(),this.addEvents())}mouseDownHandler(i){let o=this.chart.pointer?.normalize(i)||i,c=this.cursorToScrollbarPosition(o);this.chartX=c.chartX,this.chartY=c.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(i){let o,c=this.chart.pointer?.normalize(i)||i,h=this.options.vertical?"chartY":"chartX",f=this.initPositions||[];this.grabbedCenter&&(!i.touches||i.touches[0][h]!==0)&&(o=this.cursorToScrollbarPosition(c)[h]-this[h],this.hasDragged=!0,this.updatePosition(f[0]+o,f[1]+o),this.hasDragged&&ku(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:i.type,DOMEvent:i}))}mouseUpHandler(i){this.hasDragged&&ku(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:i.type,DOMEvent:i}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(i,o,c,h){let{buttonsEnabled:f,margin:g=0,vertical:v}=this.options,b=this.rendered?"animate":"attr",E=h,M=0;this.group.show(),this.x=i,this.y=o+this.trackBorderWidth,this.width=c,this.height=h,this.xOffset=E,this.yOffset=M,v?(this.width=this.yOffset=c=M=this.size,this.xOffset=E=0,this.yOffset=M=f?this.size:0,this.barWidth=h-(f?2*c:0),this.x=i+=g):(this.height=h=this.size,this.xOffset=E=f?this.size:0,this.barWidth=c-(f?2*h:0),this.y=this.y+g),this.group[b]({translateX:i,translateY:this.y}),this.track[b]({width:c,height:h}),this.scrollbarButtons[1][b]({translateX:v?0:c-E,translateY:v?h-M:0})}removeEvents(){this._events.forEach(function(i){ix.apply(null,i)}),this._events.length=0}render(){let i=this.renderer,o=this.options,c=this.size,h=this.chart.styledMode,f=i.g("scrollbar").attr({zIndex:o.zIndex}).hide().add();this.group=f,this.track=i.rect().addClass("highcharts-scrollbar-track").attr({r:o.trackBorderRadius||0,height:c,width:c}).add(f),h||this.track.attr({fill:o.trackBackgroundColor,stroke:o.trackBorderColor,"stroke-width":o.trackBorderWidth});let g=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-Mh(0,g),y:-Mh(0,g)}),this.scrollbarGroup=i.g().add(f),this.scrollbar=i.rect().addClass("highcharts-scrollbar-thumb").attr({height:c-g,width:c-g,r:o.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=i.path(ha.swapXY([["M",-3,c/4],["L",-3,2*c/3],["M",0,c/4],["L",0,2*c/3],["M",3,c/4],["L",3,2*c/3]],o.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),h||(this.scrollbar.attr({fill:o.barBackgroundColor,stroke:o.barBorderColor,"stroke-width":o.barBorderWidth}),this.scrollbarRifles.attr({stroke:o.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-Mh(0,this.scrollbarStrokeWidth),-Mh(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(i,o){let c,h,f=this.options,g=f.vertical,v=f.minWidth,b=this.barWidth,E=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!hg(b))return;let M=b*Math.min(o,1);c=Math.ceil(b*(i=Math.max(i,0))),this.calculatedWidth=h=qs(M-c),h<v&&(c=(b-v+h)*i,h=v);let w=Math.floor(c+this.xOffset+this.yOffset),A=h/2-.5;this.from=i,this.to=o,g?(this.scrollbarGroup[E]({translateY:w}),this.scrollbar[E]({height:h}),this.scrollbarRifles[E]({translateY:A}),this.scrollbarTop=w,this.scrollbarLeft=0):(this.scrollbarGroup[E]({translateX:w}),this.scrollbar[E]({width:h}),this.scrollbarRifles[E]({translateX:A}),this.scrollbarLeft=w,this.scrollbarTop=0),h<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),f.showFull===!1&&(i<=0&&o>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(i){return Xs(this.options.liveRedraw,ce.svg&&!ce.isTouchDevice&&!this.chart.boosted)||i==="mouseup"||i==="touchend"||!hg(i)}trackClick(i){let o=this.chart.pointer?.normalize(i)||i,c=this.to-this.from,h=this.y+this.scrollbarTop,f=this.x+this.scrollbarLeft;this.options.vertical&&o.chartY>h||!this.options.vertical&&o.chartX>f?this.updatePosition(this.from+c,this.to+c):this.updatePosition(this.from-c,this.to-c),ku(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:i})}update(i){this.destroy(),this.init(this.chart.renderer,Ou(!0,this.options,i),this.chart)}updatePosition(i,o){o>1&&(i=qs(1-qs(o-i)),o=1),i<0&&(o=qs(o-i),i=0),this.from=i,this.to=o}}ha.defaultOptions=nc;let{defaultOptions:pg}=Un,{isTouchDevice:uv}=ce,{prototype:{symbols:gg}}=xl,{addEvent:Ti,clamp:mg,correctFloat:ic,defined:Wo,destroyObjectProperties:dv,erase:os,extend:rx,find:ax,fireEvent:Nu,isArray:Rh,isNumber:Dr,merge:Zs,pick:cr,removeEvent:rc,splat:ls}=We;function fa(x,...i){let o=[].filter.call(i,Dr);if(o.length)return Math[x].apply(0,o)}class pa{static compose(i,o,c){og(i,pa),ec(i,o,c)}constructor(i){this.isDirty=!1,this.scrollbarHeight=0,this.init(i)}drawHandle(i,o,c,h){let f=this.navigatorOptions.handles.height;this.handles[o][h](c?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(i,10)+.5-f)}:{translateX:Math.round(this.left+parseInt(i,10)),translateY:Math.round(this.top+this.height/2-f/2-1)})}drawOutline(i,o,c,h){let f=this.navigatorOptions.maskInside,g=this.outline.strokeWidth(),v=g/2,b=g%2/2,E=this.scrollButtonSize,M=this.size,w=this.top,A=this.height,k=w-v,N=w+A,I=this.left,j,z;c?(j=w+o+b,o=w+i+b,z=[["M",I+A,w-E-b],["L",I+A,j],["L",I,j],["M",I,o],["L",I+A,o],["L",I+A,w+M+E]],f&&z.push(["M",I+A,j-v],["L",I+A,o+v])):(I-=E,i+=I+E-b,o+=I+E-b,z=[["M",I,k],["L",i,k],["L",i,N],["M",o,N],["L",o,k],["L",I+M+2*E,k]],f&&z.push(["M",i-v,k],["L",o+v,k])),this.outline[h]({d:z})}drawMasks(i,o,c,h){let f,g,v,b,E=this.left,M=this.top,w=this.height;c?(v=[E,E,E],b=[M,M+i,M+o],g=[w,w,w],f=[i,o-i,this.size-o]):(v=[E,E+i,E+o],b=[M,M,M],g=[i,o-i,this.size-o],f=[w,w,w]),this.shades.forEach((A,k)=>{A[h]({x:v[k],y:b[k],width:g[k],height:f[k]})})}renderElements(){let i=this,o=i.navigatorOptions,c=o.maskInside,h=i.chart,f=h.inverted,g=h.renderer,v={cursor:f?"ns-resize":"ew-resize"},b=i.navigatorGroup??(i.navigatorGroup=g.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!c,c,!c].forEach((E,M)=>{let w=i.shades[M]??(i.shades[M]=g.rect().addClass("highcharts-navigator-mask"+(M===1?"-inside":"-outside")).add(b));h.styledMode||(w.attr({fill:E?o.maskFill:"rgba(0,0,0,0)"}),M===1&&w.css(v))}),i.outline||(i.outline=g.path().addClass("highcharts-navigator-outline").add(b)),h.styledMode||i.outline.attr({"stroke-width":o.outlineWidth,stroke:o.outlineColor}),o.handles?.enabled){let E=o.handles,{height:M,width:w}=E;[0,1].forEach(A=>{let k=E.symbols[A];if(i.handles[A]&&i.handles[A].symbolUrl===k){if(!i.handles[A].isImg&&i.handles[A].symbolName!==k){let N=gg[k].call(gg,-w/2-1,0,w,M);i.handles[A].attr({d:N}),i.handles[A].symbolName=k}}else i.handles[A]?.destroy(),i.handles[A]=g.symbol(k,-w/2-1,0,w,M,E),i.handles[A].attr({zIndex:7-A}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][A]).add(b),i.addMouseEvents();h.inverted&&i.handles[A].attr({rotation:90,rotationOriginX:Math.floor(-w/2),rotationOriginY:(M+w)/2}),h.styledMode||i.handles[A].attr({fill:E.backgroundColor,stroke:E.borderColor,"stroke-width":E.lineWidth,width:E.width,height:E.height,x:-w/2-1,y:0}).css(v)})}}update(i,o=!1){let c=this.chart,h=c.options.chart.inverted!==c.scrollbar?.options.vertical;if(Zs(!0,c.options.navigator,i),this.navigatorOptions=c.options.navigator||{},this.setOpposite(),Wo(i.enabled)||h)return this.destroy(),this.navigatorEnabled=i.enabled||this.navigatorEnabled,this.init(c);if(this.navigatorEnabled&&(this.isDirty=!0,i.adaptToUpdatedData===!1&&this.baseSeries.forEach(f=>{rc(f,"updatedData",this.updatedDataHandler)},this),i.adaptToUpdatedData&&this.baseSeries.forEach(f=>{f.eventsToUnbind.push(Ti(f,"updatedData",this.updatedDataHandler))},this),(i.series||i.baseSeries)&&this.setBaseSeries(void 0,!1),i.height||i.xAxis||i.yAxis)){this.height=i.height??this.height;let f=this.getXAxisOffsets();this.xAxis.update({...i.xAxis,offsets:f,[c.inverted?"width":"height"]:this.height,[c.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...i.yAxis,[c.inverted?"width":"height"]:this.height},!1)}o&&c.redraw()}render(i,o,c,h){let f=this.chart,g=this.xAxis,v=g.pointRange||0,b=g.navigatorAxis.fake?f.xAxis[0]:g,E=this.navigatorEnabled,M=this.rendered,w=f.inverted,A=f.xAxis[0].minRange,k=f.xAxis[0].options.maxRange,N=this.scrollButtonSize,I,j,z,V=this.scrollbarHeight,q,Q;if(this.hasDragged&&!Wo(c))return;if(this.isDirty&&this.renderElements(),i=ic(i-v/2),o=ic(o+v/2),!Dr(i)||!Dr(o))if(M)c=0,h=cr(g.width,b.width);else return;this.left=cr(g.left,f.plotLeft+N+(w?f.plotWidth:0));let ee=this.size=q=cr(g.len,(w?f.plotHeight:f.plotWidth)-2*N);I=w?V:q+2*N,c=cr(c,g.toPixels(i,!0)),h=cr(h,g.toPixels(o,!0)),Dr(c)&&Math.abs(c)!==1/0||(c=0,h=I);let te=g.toValue(c,!0),J=g.toValue(h,!0),ne=Math.abs(ic(J-te));ne<A?this.grabbedLeft?c=g.toPixels(J-A-v,!0):this.grabbedRight&&(h=g.toPixels(te+A+v,!0)):Wo(k)&&ic(ne-v)>k&&(this.grabbedLeft?c=g.toPixels(J-k-v,!0):this.grabbedRight&&(h=g.toPixels(te+k+v,!0))),this.zoomedMax=mg(Math.max(c,h),0,ee),this.zoomedMin=mg(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(c,h),0,ee),this.range=this.zoomedMax-this.zoomedMin,ee=Math.round(this.zoomedMax);let de=Math.round(this.zoomedMin);E&&(this.navigatorGroup.attr({visibility:"inherit"}),Q=M&&!this.hasDragged?"animate":"attr",this.drawMasks(de,ee,w,Q),this.drawOutline(de,ee,w,Q),this.navigatorOptions.handles.enabled&&(this.drawHandle(de,0,w,Q),this.drawHandle(ee,1,w,Q))),this.scrollbar&&(w?(z=this.top-N,j=this.left-V+(E||!b.opposite?0:(b.titleOffset||0)+b.axisTitleMargin),V=q+2*N):(z=this.top+(E?this.height:-V),j=this.left-N),this.scrollbar.position(j,z,I,V),this.scrollbar.setRange(this.zoomedMin/(q||1),this.zoomedMax/(q||1))),this.rendered=!0,this.isDirty=!1,Nu(this,"afterRender")}addMouseEvents(){let i=this,o=i.chart,c=o.container,h=[],f,g;i.mouseMoveHandler=f=function(v){i.onMouseMove(v)},i.mouseUpHandler=g=function(v){i.onMouseUp(v)},(h=i.getPartsEvents("mousedown")).push(Ti(o.renderTo,"mousemove",f),Ti(c.ownerDocument,"mouseup",g),Ti(o.renderTo,"touchmove",f),Ti(c.ownerDocument,"touchend",g)),h.concat(i.getPartsEvents("touchstart")),i.eventsToUnbind=h,i.series&&i.series[0]&&h.push(Ti(i.series[0].xAxis,"foundExtremes",function(){o.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(i){let o=this,c=[];return["shades","handles"].forEach(function(h){o[h].forEach(function(f,g){c.push(Ti(f.element,i,function(v){o[h+"Mousedown"](v,g)}))})}),c}shadesMousedown(i,o){i=this.chart.pointer?.normalize(i)||i;let c=this.chart,h=this.xAxis,f=this.zoomedMin,g=this.size,v=this.range,b=this.left,E=i.chartX,M,w,A,k;c.inverted&&(E=i.chartY,b=this.top),o===1?(this.grabbedCenter=E,this.fixedWidth=v,this.dragOffset=E-f):(k=E-b-v/2,o===0?k=Math.max(0,k):o===2&&k+v>=g&&(k=g-v,this.reversedExtremes?(k-=v,w=this.getUnionExtremes().dataMin):M=this.getUnionExtremes().dataMax),k!==f&&(this.fixedWidth=v,Wo((A=h.navigatorAxis.toFixedRange(k,k+v,w,M)).min)&&Nu(this,"setRange",{min:Math.min(A.min,A.max),max:Math.max(A.min,A.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(i,o){i=this.chart.pointer?.normalize(i)||i;let c=this.chart,h=c.xAxis[0],f=this.reversedExtremes;o===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=f?h.min:h.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=f?h.max:h.min),c.setFixedRange(void 0)}onMouseMove(i){let o=this,c=o.chart,h=o.navigatorSize,f=o.range,g=o.dragOffset,v=c.inverted,b=o.left,E;(!i.touches||i.touches[0].pageX!==0)&&(E=(i=c.pointer?.normalize(i)||i).chartX,v&&(b=o.top,E=i.chartY),o.grabbedLeft?(o.hasDragged=!0,o.render(0,0,E-b,o.otherHandlePos)):o.grabbedRight?(o.hasDragged=!0,o.render(0,0,o.otherHandlePos,E-b)):o.grabbedCenter&&(o.hasDragged=!0,E<g?E=g:E>h+g-f&&(E=h+g-f),o.render(0,0,E-g,E-g+f)),o.hasDragged&&o.scrollbar&&cr(o.scrollbar.options.liveRedraw,!uv&&!this.chart.boosted)&&(i.DOMType=i.type,setTimeout(function(){o.onMouseUp(i)},0)))}onMouseUp(i){let o,c,h,f,g,v,b=this.chart,E=this.xAxis,M=this.scrollbar,w=i.DOMEvent||i,A=b.inverted,k=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!M||!M.hasDragged)||i.trigger==="scrollbar")&&(h=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?f=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(g=this.fixedExtreme),this.zoomedMax===this.size&&(g=this.reversedExtremes?h.dataMin:h.dataMax),this.zoomedMin===0&&(f=this.reversedExtremes?h.dataMax:h.dataMin),Wo((v=E.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,f,g)).min)&&Nu(this,"setRange",{min:Math.min(v.min,v.max),max:Math.max(v.min,v.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:w}})),i.DOMType!=="mousemove"&&i.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&Dr(this.zoomedMin)&&Dr(this.zoomedMax)&&(c=Math.round(this.zoomedMin),o=Math.round(this.zoomedMax),this.shades&&this.drawMasks(c,o,A,k),this.outline&&this.drawOutline(c,o,A,k),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(c,0,A,k),this.drawHandle(o,1,A,k)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(i){i()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let i=this.baseSeries||[];this.navigatorEnabled&&i[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&i.forEach(function(o){rc(o,"updatedData",this.updatedDataHandler)},this),i[0].xAxis&&rc(i[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(i){let o=i.options,c=o.navigator||{},h=c.enabled,f=o.scrollbar||{},g=f.enabled,v=h&&c.height||0,b=g&&f.height||0,E=f.buttonsEnabled&&b||0;this.handles=[],this.shades=[],this.chart=i,this.setBaseSeries(),this.height=v,this.scrollbarHeight=b,this.scrollButtonSize=E,this.scrollbarEnabled=g,this.navigatorEnabled=h,this.navigatorOptions=c,this.scrollbarOptions=f,this.setOpposite();let M=this,w=M.baseSeries,A=i.xAxis.length,k=i.yAxis.length,N=w&&w[0]&&w[0].xAxis||i.xAxis[0]||{options:{}};if(i.isDirtyBox=!0,M.navigatorEnabled){let I=this.getXAxisOffsets();M.xAxis=new nr(i,Zs({breaks:N.options.breaks,ordinal:N.options.ordinal,overscroll:N.options.overscroll},c.xAxis,{type:"datetime",yAxis:c.yAxis?.id,index:A,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:N.options.ordinal?0:N.options.minPadding,maxPadding:N.options.ordinal?0:N.options.maxPadding,zoomEnabled:!1},i.inverted?{offsets:I,width:v}:{offsets:I,height:v}),"xAxis"),M.yAxis=new nr(i,Zs(c.yAxis,{alignTicks:!1,offset:0,index:k,isInternal:!0,reversed:cr(c.yAxis&&c.yAxis.reversed,i.yAxis[0]&&i.yAxis[0].reversed,!1),zoomEnabled:!1},i.inverted?{width:v}:{height:v}),"yAxis"),w||c.series.data?M.updateNavigatorSeries(!1):i.series.length===0&&(M.unbindRedraw=Ti(i,"beforeRedraw",function(){i.series.length>0&&!M.series&&(M.setBaseSeries(),M.unbindRedraw())})),M.reversedExtremes=i.inverted&&!M.xAxis.reversed||!i.inverted&&M.xAxis.reversed,M.renderElements(),M.addMouseEvents()}else M.xAxis={chart:i,navigatorAxis:{fake:!0},translate:function(I,j){let z=i.xAxis[0],V=z.getExtremes(),q=z.len-2*E,Q=fa("min",z.options.min,V.dataMin),ee=fa("max",z.options.max,V.dataMax)-Q;return j?I*ee/q+Q:q*(I-Q)/ee},toPixels:function(I){return this.translate(I)},toValue:function(I){return this.translate(I,!0)}},M.xAxis.navigatorAxis.axis=M.xAxis,M.xAxis.navigatorAxis.toFixedRange=lr.prototype.toFixedRange.bind(M.xAxis.navigatorAxis);if(i.options.scrollbar?.enabled){let I=Zs(i.options.scrollbar,{vertical:i.inverted});Dr(I.margin)||(I.margin=i.inverted?-3:3),i.scrollbar=M.scrollbar=new ha(i.renderer,I,i),Ti(M.scrollbar,"changed",function(j){let z=M.size,V=z*this.to,q=z*this.from;M.hasDragged=M.scrollbar.hasDragged,M.render(0,0,q,V),this.shouldUpdateExtremes(j.DOMType)&&setTimeout(function(){M.onMouseUp(j)})})}M.addBaseSeriesEvents(),M.addChartEvents()}setOpposite(){let i=this.navigatorOptions,o=this.navigatorEnabled,c=this.chart;this.opposite=cr(i.opposite,!!(!o&&c.inverted))}getUnionExtremes(i){let o,c=this.chart.xAxis[0],h=this.chart.time,f=this.xAxis,g=f.options,v=c.options;return i&&c.dataMin===null||(o={dataMin:cr(h.parse(g?.min),fa("min",h.parse(v.min),c.dataMin,f.dataMin,f.min)),dataMax:cr(h.parse(g?.max),fa("max",h.parse(v.max),c.dataMax,f.dataMax,f.max))}),o}setBaseSeries(i,o){let c=this.chart,h=this.baseSeries=[];i=i||c.options&&c.options.navigator.baseSeries||(c.series.length?ax(c.series,f=>!f.options.isInternal).index:0),(c.series||[]).forEach((f,g)=>{!f.options.isInternal&&(f.options.showInNavigator||(g===i||f.options.id===i)&&f.options.showInNavigator!==!1)&&h.push(f)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,o)}updateNavigatorSeries(i,o){let c=this,h=c.chart,f=c.baseSeries,g={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},v=c.series=(c.series||[]).filter(A=>{let k=A.baseSeries;return!(0>f.indexOf(k))||(k&&(rc(k,"updatedData",c.updatedDataHandler),delete k.navigatorSeries),A.chart&&A.destroy(),!1)}),b,E,M=c.navigatorOptions.series,w;f&&f.length&&f.forEach(A=>{let k=A.navigatorSeries,N=rx({color:A.color,visible:A.visible},Rh(M)?pg.navigator.series:M);if(k&&c.navigatorOptions.adaptToUpdatedData===!1)return;g.name="Navigator "+f.length,w=(b=A.options||{}).navigatorOptions||{},N.dataLabels=ls(N.dataLabels),(E=Zs(b,g,N,w)).pointRange=cr(N.pointRange,w.pointRange,pg.plotOptions[E.type||"line"].pointRange);let I=w.data||N.data;c.hasNavigatorData=c.hasNavigatorData||!!I,E.data=I||b.data?.slice(0),k&&k.options?k.update(E,o):(A.navigatorSeries=h.initSeries(E),h.setSortedData(),A.navigatorSeries.baseSeries=A,v.push(A.navigatorSeries))}),(M.data&&!(f&&f.length)||Rh(M))&&(c.hasNavigatorData=!1,(M=ls(M)).forEach((A,k)=>{g.name="Navigator "+(v.length+1),(E=Zs(pg.navigator.series,{color:h.series[k]&&!h.series[k].options.isInternal&&h.series[k].color||h.options.colors[k]||h.options.colors[0]},g,A)).data=A.data,E.data&&(c.hasNavigatorData=!0,v.push(h.initSeries(E)))})),i&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let i=this,o=i.baseSeries||[];o[0]&&o[0].xAxis&&o[0].eventsToUnbind.push(Ti(o[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),o.forEach(c=>{c.eventsToUnbind.push(Ti(c,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),c.eventsToUnbind.push(Ti(c,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&c.xAxis&&c.eventsToUnbind.push(Ti(c,"updatedData",this.updatedDataHandler)),c.eventsToUnbind.push(Ti(c,"remove",function(){o&&os(o,c),this.navigatorSeries&&i.series&&(os(i.series,this.navigatorSeries),Wo(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(i){return this.baseSeries.reduce(function(o,c){return Math.min(o,c.getColumn("x")[0]??o)},i)}modifyNavigatorAxisExtremes(){let i=this.xAxis;if(i.getExtremes!==void 0){let o=this.getUnionExtremes(!0);o&&(o.dataMin!==i.min||o.dataMax!==i.max)&&(i.min=o.dataMin,i.max=o.dataMax)}}modifyBaseAxisExtremes(){let i,o,c=this.chart.navigator,h=this.getExtremes(),f=h.min,g=h.max,v=h.dataMin,b=h.dataMax,E=g-f,M=c.stickToMin,w=c.stickToMax,A=cr(this.ordinal?.convertOverscroll(this.options.overscroll),0),k=c.series&&c.series[0],N=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(M&&(i=(o=v)+E),w&&(i=b+A,M||(o=Math.max(v,i-E,c.getBaseSeriesMin(k&&k.xData?k.xData[0]:-Number.MAX_VALUE)))),N&&(M||w)&&Dr(o)&&(this.min=this.userMin=o,this.max=this.userMax=i)),c.stickToMin=c.stickToMax=null}updatedDataHandler(){let i=this.chart.navigator,o=this.navigatorSeries,c=i.reversedExtremes?Math.round(i.zoomedMin)===0:Math.round(i.zoomedMax)>=Math.round(i.size);i.stickToMax=cr(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,c),i.stickToMin=i.shouldStickToMin(this,i),o&&!i.hasNavigatorData&&(o.options.pointStart=this.getColumn("x")[0],o.setData(this.options.data,!1,null,!1))}shouldStickToMin(i,o){let c=o.getBaseSeriesMin(i.getColumn("x")[0]),h=i.xAxis,f=h.max,g=h.min,v=h.options.range;return!!(Dr(f)&&Dr(g))&&(v&&f-c>0?f-c<v:g<=c)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(Ti(this.chart,"redraw",function(){let i=this.navigator,o=i&&(i.baseSeries&&i.baseSeries[0]&&i.baseSeries[0].xAxis||this.xAxis[0]);o&&i.render(o.min,o.max)}),Ti(this.chart,"getMargins",function(){let i=this.navigator,o=i.opposite?"plotTop":"marginBottom";this.inverted&&(o=i.opposite?"marginRight":"plotLeft"),this[o]=(this[o]||0)+(i.navigatorEnabled||!this.inverted?i.height+(this.scrollbar?.options.margin||0)+i.scrollbarHeight:0)+(i.navigatorOptions.margin||0)}),Ti(pa,"setRange",function(i){this.chart.xAxis[0].setExtremes(i.min,i.max,i.redraw,i.animation,i.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(os(this.chart.xAxis,this.xAxis),os(this.chart.axes,this.xAxis)),this.yAxis&&(os(this.chart.yAxis,this.yAxis),os(this.chart.axes,this.yAxis)),(this.series||[]).forEach(i=>{i.destroy&&i.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(i=>{this[i]&&this[i].destroy&&this[i].destroy(),this[i]=null}),[this.handles].forEach(i=>{dv(i)}),this.baseSeries.forEach(i=>{i.navigatorSeries=void 0}),this.navigatorEnabled=!1}}let{addEvent:ga,correctFloat:Qs,css:Ks,defined:Js,error:hv,isNumber:cs,pick:yg,timeUnits:fv,isString:kh}=We;(function(x){function i(A,k,N,I,j=[],z=0,V){let q={},Q=this.options.tickPixelInterval,ee=this.chart.time,te=[],J,ne,de,me,se,we=0,Ne=[],_e=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!j||j.length<3||k===void 0)return ee.getTimeTicks.apply(ee,arguments);let He=j.length;for(J=0;J<He;J++){if(se=J&&j[J-1]>N,j[J]<k&&(we=J),J===He-1||j[J+1]-j[J]>5*z||se){if(j[J]>_e){for(ne=ee.getTimeTicks(A,j[we],j[J],I);ne.length&&ne[0]<=_e;)ne.shift();ne.length&&(_e=ne[ne.length-1]),te.push(Ne.length),Ne=Ne.concat(ne)}we=J+1}if(se)break}if(ne){if(me=ne.info,V&&me.unitRange<=fv.hour){for(we=1,J=Ne.length-1;we<J;we++)ee.dateFormat("%d",Ne[we])!==ee.dateFormat("%d",Ne[we-1])&&(q[Ne[we]]="day",de=!0);de&&(q[Ne[0]]="day"),me.higherRanks=q}me.segmentStarts=te,Ne.info=me}else hv(12,!1,this.chart);if(V&&Js(Q)){let Ue=Ne.length,qe=[],vt=[],ut,Jt,rt,ft,Nt,pt=Ue;for(;pt--;)Jt=this.translate(Ne[pt]),rt&&(vt[pt]=rt-Jt),qe[pt]=rt=Jt;for(vt.sort((en,In)=>en-In),(ft=vt[Math.floor(vt.length/2)])<.6*Q&&(ft=null),pt=Ne[Ue-1]>N?Ue-1:Ue,rt=void 0;pt--;)Nt=Math.abs(rt-(Jt=qe[pt])),rt&&Nt<.8*Q&&(ft===null||Nt<.8*ft)?(q[Ne[pt]]&&!q[Ne[pt+1]]?(ut=pt+1,rt=Jt):ut=pt,Ne.splice(ut,1)):rt=Jt}return Ne}function o(A){let k=this.ordinal.positions;if(!k)return A;let N=k.length-1,I;return A<0?A=k[0]:A>N?A=k[N]:(N=Math.floor(A),I=A-N),I!==void 0&&k[N]!==void 0?k[N]+(I?I*(k[N+1]-k[N]):0):A}function c(A){let k=this.ordinal,N=this.old?this.old.min:this.min,I=this.old?this.old.transA:this.transA,j=k.getExtendedPositions();if(j?.length){let z=Qs((A-N)*I+this.minPixelPadding),V=Qs(k.getIndexOfPoint(z,j)),q=Qs(V%1);if(V>=0&&V<=j.length-1){let Q=j[Math.floor(V)],ee=j[Math.ceil(V)];return j[Math.floor(V)]+q*(ee-Q)}}return A}function h(A,k){let N=x.Additions.findIndexOf(A,k,!0);if(A[N]===k)return N;let I=(k-A[N])/(A[N+1]-A[N]);return N+I}function f(){this.ordinal||(this.ordinal=new x.Additions(this))}function g(){let{eventArgs:A,options:k}=this;if(this.isXAxis&&Js(k.overscroll)&&k.overscroll!==0&&cs(this.max)&&cs(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.isFullRange=Js(this.dataMin)&&Js(this.dataMax)&&this.max-this.min==this.dataMax-this.dataMin,this.max===this.dataMax&&(A?.trigger!=="pan"||this.isInternal)&&A?.trigger!=="navigator")){let N=this.ordinal.convertOverscroll(k.overscroll);this.max+=N,!this.isInternal&&Js(this.userMin)&&A?.trigger!=="mousewheel"&&(this.min+=N)}}function v(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function b(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function E(A){let k=this.xAxis[0],N=k.ordinal.convertOverscroll(k.options.overscroll),I=A.originalEvent.chartX,j=this.options.chart.panning,z=!1;if(j?.type!=="y"&&k.options.ordinal&&k.series.length&&(!A.touches||A.touches.length<=1)){let V,q,Q=this.mouseDownX,ee=k.getExtremes(),te=ee.dataMin,J=ee.dataMax,ne=ee.min,de=ee.max,me=this.hoverPoints,se=k.closestPointRange||k.ordinal?.overscrollPointsRange,we=Math.round((Q-I)/(k.translationSlope*(k.ordinal.slope||se))),Ne=k.ordinal.getExtendedPositions(),_e={ordinal:{positions:Ne,extendedOrdinalPositions:Ne}},He=k.index2val,Ue=k.val2lin;if(ne<=te&&we<=0||de>=J+N&&we>=0)return void A.preventDefault();_e.ordinal.positions?Math.abs(we)>1&&(me&&me.forEach(function(qe){qe.setState()}),q=_e.ordinal.positions,N&&(q=_e.ordinal.positions=q.concat(k.ordinal.getOverscrollPositions())),J>q[q.length-1]&&q.push(J),this.setFixedRange(de-ne),(V=k.navigatorAxis.toFixedRange(void 0,void 0,He.apply(_e,[Ue.apply(_e,[ne,!0])+we]),He.apply(_e,[Ue.apply(_e,[de,!0])+we]))).min>=Math.min(q[0],ne)&&V.max<=Math.max(q[q.length-1],de)+N&&k.setExtremes(V.min,V.max,!0,!1,{trigger:"pan"}),this.mouseDownX=I,Ks(this.container,{cursor:"move"})):z=!0}else z=!0;z||j&&/y/.test(j.type)?N&&cs(k.dataMax)&&(k.max=k.dataMax+N):A.preventDefault()}function M(){let A=this.xAxis;A?.options.ordinal&&(delete A.ordinal.index,delete A.ordinal.originalOrdinalRange)}function w(A,k){let N,I=this.ordinal,j=I.positions,z=I.slope,V;if(!j)return A;let q=j.length;if(j[0]<=A&&j[q-1]>=A)N=h(j,A);else{if(V=I.getExtendedPositions?.(),!V?.length)return A;let Q=V.length;z||(z=(V[Q-1]-V[0])/Q);let ee=h(V,j[0]);if(A>=V[0]&&A<=V[Q-1])N=h(V,A)-ee;else{if(!k)return A;N=A<V[0]?-ee-(V[0]-A)/z:(A-V[Q-1])/z+Q-ee}}return k?N:z*(N||0)+I.offset}x.compose=function(A,k,N){let I=A.prototype;return I.ordinal2lin||(I.getTimeTicks=i,I.index2val=o,I.lin2val=c,I.val2lin=w,I.ordinal2lin=I.val2lin,ga(A,"afterInit",f),ga(A,"foundExtremes",g),ga(A,"afterSetScale",v),ga(A,"initialAxisTranslation",b),ga(N,"pan",E),ga(N,"touchpan",E),ga(k,"updatedData",M)),A},x.Additions=class{constructor(A){this.index={},this.axis=A}beforeSetTickPositions(){let A=this.axis,k=A.ordinal,N=A.getExtremes(),I=N.min,j=N.max,z=A.brokenAxis?.hasBreaks,V=A.options.ordinal,q=A.options.overscroll&&A.ordinal.convertOverscroll(A.options.overscroll)||0,Q,ee,te,J,ne,de,me,se=[],we=Number.MAX_VALUE,Ne=!1,_e=!1,He=!1;if(V||z){let Ue=0;if(A.series.forEach(function(qe,vt){let ut=qe.getColumn("x",!0);if(ee=[],vt>0&&qe.options.id!=="highcharts-navigator-series"&&ut.length>1&&(_e=Ue!==ut[1]-ut[0]),Ue=ut[1]-ut[0],qe.boosted&&(He=qe.boosted),qe.reserveSpace()&&(qe.takeOrdinalPosition!==!1||z)&&(Q=(se=se.concat(ut)).length,se.sort(function(Jt,rt){return Jt-rt}),we=Math.min(we,yg(qe.closestPointRange,we)),Q)){for(vt=0;vt<Q-1;)se[vt]!==se[vt+1]&&ee.push(se[vt+1]),vt++;ee[0]!==se[0]&&ee.unshift(se[0]),se=ee}}),A.ordinal.originalOrdinalRange||(A.ordinal.originalOrdinalRange=(se.length-1)*we),_e&&He&&(se.pop(),se.shift()),(Q=se.length)>2){for(te=se[1]-se[0],me=Q-1;me--&&!Ne;)se[me+1]-se[me]!==te&&(Ne=!0);!A.options.keepOrdinalPadding&&(se[0]-I>te||j-q-se[Q-1]>te)&&(Ne=!0)}else A.options.overscroll&&(Q===2?we=se[1]-se[0]:Q===1?(we=q,se=[se[0],se[0]+we]):we=k.overscrollPointsRange);Ne||A.forceOrdinal?(A.options.overscroll&&(k.overscrollPointsRange=we,se=se.concat(k.getOverscrollPositions())),k.positions=se,J=A.ordinal2lin(Math.max(I,se[0]),!0),ne=Math.max(A.ordinal2lin(Math.min(j,se[se.length-1]),!0),1),k.slope=de=(j-I)/(ne-J),k.offset=I-J*de):(k.overscrollPointsRange=yg(A.closestPointRange,k.overscrollPointsRange),k.positions=A.ordinal.slope=k.offset=void 0)}A.isOrdinal=V&&Ne,k.groupIntervalFactor=null}static findIndexOf(A,k,N){let I=0,j=A.length-1,z;for(;I<j;)A[z=Math.ceil((I+j)/2)]<=k?I=z:j=z-1;return A[I]===k||N?I:-1}getExtendedPositions(A=!0){let k=this,N=k.axis,I=N.constructor.prototype,j=N.chart,z=N.series.reduce((J,ne)=>{let de=ne.currentDataGrouping;return J+(de?de.count+de.unitName:"raw")},""),V=A?N.ordinal.convertOverscroll(N.options.overscroll):0,q=N.getExtremes(),Q,ee,te=k.index;return te||(te=k.index={}),!te[z]&&((Q={series:[],chart:j,forceOrdinal:!1,getExtremes:function(){return{min:q.dataMin,max:q.dataMax+V}},applyGrouping:I.applyGrouping,getGroupPixelWidth:I.getGroupPixelWidth,getTimeTicks:I.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:I.ordinal2lin,getIndexOfPoint:I.getIndexOfPoint,val2lin:I.val2lin}).ordinal.axis=Q,N.series.forEach(J=>{if(J.takeOrdinalPosition===!1)return;ee={xAxis:Q,chart:j,groupPixelWidth:J.groupPixelWidth,destroyGroupedData:ce.noop,getColumn:J.getColumn,applyGrouping:J.applyGrouping,getProcessedData:J.getProcessedData,reserveSpace:J.reserveSpace,visible:J.visible};let ne=J.getColumn("x").concat(A?k.getOverscrollPositions():[]);ee.dataTable=new Ka({columns:{x:ne}}),ee.options={...J.options,dataGrouping:J.currentDataGrouping?{firstAnchor:J.options.dataGrouping?.firstAnchor,anchor:J.options.dataGrouping?.anchor,lastAnchor:J.options.dataGrouping?.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[J.currentDataGrouping.unitName,[J.currentDataGrouping.count]]]}:{enabled:!1}},Q.series.push(ee),J.processData.apply(ee)}),Q.applyGrouping({hasExtremesChanged:!0}),ee?.closestPointRange!==ee?.basePointRange&&ee.currentDataGrouping&&(Q.forceOrdinal=!0),N.ordinal.beforeSetTickPositions.apply({axis:Q}),!N.ordinal.originalOrdinalRange&&Q.ordinal.originalOrdinalRange&&(N.ordinal.originalOrdinalRange=Q.ordinal.originalOrdinalRange),Q.ordinal.positions&&(te[z]=Q.ordinal.positions)),te[z]}getGroupIntervalFactor(A,k,N){let I=N.getColumn("x",!0),j=I.length,z=[],V,q,Q=this.groupIntervalFactor;if(!Q){for(q=0;q<j-1;q++)z[q]=I[q+1]-I[q];z.sort(function(ee,te){return ee-te}),V=z[Math.floor(j/2)],A=Math.max(A,I[0]),k=Math.min(k,I[j-1]),this.groupIntervalFactor=Q=j*V/(k-A)}return Q}getIndexOfPoint(A,k){let N=this.axis,I=N.min,j=N.minPixelPadding;return h(k,I)+Qs((A-j)/(N.translationSlope*(this.slope||N.closestPointRange||this.overscrollPointsRange)))}getOverscrollPositions(){let A=this.axis,k=this.convertOverscroll(A.options.overscroll),N=this.overscrollPointsRange,I=[],j=A.dataMax;if(Js(N))for(;j<A.dataMax+k;)I.push(j+=N);return I}postProcessTickInterval(A){let k=this.axis,N=this.slope,I=k.closestPointRange;return N&&I?k.options.breaks?I||A:A/(N/I):A}convertOverscroll(A=0){let k=this,N=k.axis,I=function(j){return yg(k.originalOrdinalRange,Js(N.dataMax)&&Js(N.dataMin)?N.dataMax-N.dataMin:0)*j};if(kh(A)){let j=parseInt(A,10);if(N.isFullRange===!1&&cs(N.min)&&cs(N.max)&&(this.originalOrdinalRange=N.max-N.min),/%$/.test(A))return I(j/100);if(/px/.test(A)){let z=Math.min(j,.9*N.len)/N.len;return I(z/(N.isFullRange?1-z:1))}return 0}return A}}})(Ke||(Ke={}));let pv=Ke,sx={rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"",rangeSelector:{allText:"All",allTitle:"View all",monthText:"{count}m",monthTitle:"View {count} {#eq count 1}month{else}months{/eq}",yearText:"{count}y",yearTitle:"View {count} {#eq count 1}year{else}years{/eq}",ytdText:"YTD",ytdTitle:"View year to date"}},Lu={allButtonsEnabled:!1,buttons:[{type:"month",count:1},{type:"month",count:3},{type:"month",count:6},{type:"ytd"},{type:"year",count:1},{type:"all"}],buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%[ebY]",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}},{defaultOptions:Iu}=Un,{composed:gv}=ce,{addEvent:$r,defined:mv,extend:Oh,isNumber:za,merge:yv,pick:vv,pushUnique:Nh}=We,r=[];function s(){let x,i,o=this.range,c=o.type,h=this.max,f=this.chart.time,g=function(b,E){let M=f.toParts(b),w=M.slice();c==="year"?w[0]+=E:w[1]+=E;let A=f.makeTime.apply(f,w),k=f.toParts(A);return c==="month"&&M[1]===k[1]&&Math.abs(E)===1&&(w[0]=M[0],w[1]=M[1],w[2]=0),(A=f.makeTime.apply(f,w))-b};za(o)?(x=h-o,i=o):o&&(x=h+g(h,-(o.count||1)),this.chart&&this.chart.setFixedRange(h-x));let v=vv(this.dataMin,5e-324);return za(x)||(x=v),x<=v&&(x=v,i===void 0&&(i=g(x,o.count)),this.newMax=Math.min(x+i,vv(this.dataMax,Number.MAX_VALUE))),za(h)?!za(o)&&o&&o._offsetMin&&(x+=o._offsetMin):x=void 0,x}function u(){this.rangeSelector?.redrawElements()}function m(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new d(this))}function C(){let x=this.rangeSelector;if(x){za(x.deferredYTDClick)&&(x.clickButton(x.deferredYTDClick),delete x.deferredYTDClick);let i=x.options.verticalAlign;x.options.floating||(i==="bottom"?this.extraBottomMargin=!0:i==="top"&&(this.extraTopMargin=!0))}}function R(){let x,i=this.rangeSelector;if(!i)return;let o=this.xAxis[0].getExtremes(),c=this.legend,h=i&&i.options.verticalAlign;za(o.min)&&i.render(o.min,o.max),c.display&&h==="top"&&h===c.options.verticalAlign&&(x=yv(this.spacingBox),c.options.layout==="vertical"?x.y=this.plotTop:x.y+=i.getHeight(),c.group.placed=!1,c.align(x))}function U(){for(let x=0,i=r.length;x<i;++x){let o=r[x];if(o[0]===this){o[1].forEach(c=>c()),r.splice(x,1);return}}}function Z(){let x=this.rangeSelector;if(x?.options?.enabled){let{min:i,max:o}=this.xAxis[0].getExtremes();za(i)&&x.inputGroup&&x.inputGroup.getBBox().width<20&&x.render(i,o);let c=x.getHeight(),h=x.options.verticalAlign;x.options.floating||(h==="bottom"?this.marginBottom+=c:h!=="middle"&&(this.plotTop+=c))}}function ae(x){let i=x.options.rangeSelector,o=this.extraBottomMargin,c=this.extraTopMargin,h=this.rangeSelector;if(i&&i.enabled&&!mv(h)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=h=new d(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,h){let f=i&&i.verticalAlign||h.options&&h.options.verticalAlign;h.options.floating||(f==="bottom"?this.extraBottomMargin=!0:f!=="middle"&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==o||this.extraTopMargin!==c)&&(this.isDirtyBox=!0)}}let Ce=function(x,i,o){if(d=o,Nh(gv,"RangeSelector")){let c=i.prototype;x.prototype.minFromRange=s,$r(i,"afterGetContainer",m),$r(i,"beforeRender",C),$r(i,"destroy",U),$r(i,"getMargins",Z),$r(i,"redraw",R),$r(i,"update",ae),$r(i,"beforeRedraw",u),c.callbacks.push(R),Oh(Iu,{rangeSelector:Lu}),Oh(Iu.lang,sx)}},{defaultOptions:Le}=Un,{format:Pe}=$n,{addEvent:Se,createElement:Te,css:et,defined:ct,destroyObjectProperties:An,discardElement:ve,extend:fe,fireEvent:xe,isNumber:Oe,isString:ht,merge:It,objectEach:ot,pick:yt,splat:Xt}=We;function sn(x){let i=h=>RegExp(`%[[a-zA-Z]*${h}`).test(x);if(ht(x)?x.indexOf("%L")!==-1:x.fractionalSecondDigits)return"text";let o=ht(x)?["a","A","d","e","w","b","B","m","o","y","Y"].some(i):x.dateStyle||x.day||x.month||x.year,c=ht(x)?["H","k","I","l","M","S"].some(i):x.timeStyle||x.hour||x.minute||x.second;return o&&c?"datetime-local":o?"date":c?"time":"text"}class qr{static compose(i,o){Ce(i,o,qr)}constructor(i){this.isDirty=!1,this.buttonOptions=[],this.initialButtonGroupWidth=0,this.maxButtonWidth=()=>{let o=0;return this.buttons.forEach(c=>{let h=c.getBBox();h.width>o&&(o=h.width)}),o},this.init(i)}clickButton(i,o){let c=this.chart,h=this.buttonOptions[i],f=c.xAxis[0],g=c.scroller&&c.scroller.getUnionExtremes()||f||{},v=h.type,b=h.dataGrouping,E=g.dataMin,M=g.dataMax,w,A=Oe(f?.max)?Math.round(Math.min(f.max,M??f.max)):void 0,k,N=h._range,I,j,z,V=!0;if(E!==null&&M!==null){if(this.setSelected(i),b&&(this.forcedDataGrouping=!0,nr.prototype.setDataGrouping.call(f||{chart:this.chart},b,!1),this.frozenStates=h.preserveDataGrouping),v==="month"||v==="year")f?(j={range:h,max:A,chart:c,dataMin:E,dataMax:M},w=f.minFromRange.call(j),Oe(j.newMax)&&(A=j.newMax),V=!1):N=h;else if(N)Oe(A)&&(A=Math.min((w=Math.max(A-N,E))+N,M),V=!1);else if(v==="ytd")if(f)!f.hasData()||Oe(M)&&Oe(E)||(E=Number.MAX_VALUE,M=-Number.MAX_VALUE,c.series.forEach(q=>{let Q=q.getColumn("x");Q.length&&(E=Math.min(Q[0],E),M=Math.max(Q[Q.length-1],M))}),o=!1),Oe(M)&&Oe(E)&&(w=I=(z=this.getYTDExtremes(M,E)).min,A=z.max);else{this.deferredYTDClick=i;return}else v==="all"&&f&&(c.navigator&&c.navigator.baseSeries[0]&&(c.navigator.baseSeries[0].xAxis.options.range=void 0),w=E,A=M);if(V&&h._offsetMin&&ct(w)&&(w+=h._offsetMin),h._offsetMax&&ct(A)&&(A+=h._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=i+1),f)(Oe(w)||Oe(A))&&(f.setExtremes(w,A,yt(o,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:h}),c.setFixedRange(h._range));else{k=Xt(c.options.xAxis||{})[0];let q=Se(c,"afterCreateAxes",function(){let Q=c.xAxis[0];Q.range=Q.options.range=N,Q.min=Q.options.min=I});Se(c,"load",function(){let Q=c.xAxis[0];c.setFixedRange(h._range),Q.options.range=k.range,Q.options.min=k.min,q()})}xe(this,"afterBtnClick")}}setSelected(i){this.selected=this.options.selected=i}init(i){let o=this,c=i.options.rangeSelector,h=i.options.lang,f=c.buttons,g=c.selected,v=function(){let b=o.minInput,E=o.maxInput;b&&b.blur&&xe(b,"blur"),E&&E.blur&&xe(E,"blur")};o.chart=i,o.options=c,o.buttons=[],o.buttonOptions=f.map(b=>(b.type&&h.rangeSelector&&(b.text??(b.text=h.rangeSelector[`${b.type}Text`]),b.title??(b.title=h.rangeSelector[`${b.type}Title`])),b.text=Pe(b.text,{count:b.count||1}),b.title=Pe(b.title,{count:b.count||1}),b)),this.eventsToUnbind=[],this.eventsToUnbind.push(Se(i.container,"mousedown",v)),this.eventsToUnbind.push(Se(i,"resize",v)),f.forEach(o.computeButtonRange),g!==void 0&&f[g]&&this.clickButton(g,!1),this.eventsToUnbind.push(Se(i,"load",function(){i.xAxis&&i.xAxis[0]&&Se(i.xAxis[0],"setExtremes",function(b){Oe(this.max)&&Oe(this.min)&&this.max-this.min!==i.fixedRange&&b.trigger!=="rangeSelectorButton"&&b.trigger!=="updatedData"&&o.forcedDataGrouping&&!o.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let i=this,o=this.chart,c=this.dropdown,h=this.dropdownLabel,f=o.xAxis[0],g=Math.round(f.max-f.min),v=!f.hasVisibleSeries,b=24*36e5,E=o.scroller&&o.scroller.getUnionExtremes()||f,M=E.dataMin,w=E.dataMax,A=i.getYTDExtremes(w,M),k=A.min,N=A.max,I=i.selected,j=i.options.allButtonsEnabled,z=Array(i.buttonOptions.length).fill(0),V=Oe(I),q=i.buttons,Q=!1,ee=null;i.buttonOptions.forEach((te,J)=>{let ne=te._range,de=te.type,me=te.count||1,se=te._offsetMax-te._offsetMin,we=J===I,Ne=ne>w-M,_e=ne<f.minRange,He=!1,Ue=ne===g;if(we&&Ne&&(Q=!0),f.isOrdinal&&f.ordinal?.positions&&ne&&g<ne){let ut=f.ordinal.positions;ut[ut.length-1]-ut[0]>ne&&(Ue=!0)}else(de==="month"||de==="year")&&g+36e5>={month:28,year:365}[de]*b*me-se&&g-36e5<={month:31,year:366}[de]*b*me+se?Ue=!0:de==="ytd"?(Ue=N-k+se===g,He=!we):de==="all"&&(Ue=f.max-f.min>=w-M);let qe=!j&&!(Q&&de==="all")&&(Ne||_e||v),vt=Q&&de==="all"||!He&&Ue||we&&i.frozenStates;qe?z[J]=3:vt&&(!V||J===I)&&(ee=J)}),ee!==null?(z[ee]=2,i.setSelected(ee),this.dropdown&&(this.dropdown.selectedIndex=ee+1)):(i.setSelected(),this.dropdown&&(this.dropdown.selectedIndex=-1),h&&(h.setState(0),h.attr({text:(Le.lang.rangeSelectorZoom||"")+" "})));for(let te=0;te<z.length;te++){let J=z[te],ne=q[te];if(ne.state!==J&&(ne.setState(J),c)){c.options[te+1].disabled=J===3,J===2&&(h&&(h.setState(2),h.attr({text:i.buttonOptions[te].text+" "})),c.selectedIndex=te+1);let de=h.getBBox();et(c,{width:`${de.width}px`,height:`${de.height}px`})}}}computeButtonRange(i){let o=i.type,c=i.count||1,h={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};h[o]?i._range=h[o]*c:(o==="month"||o==="year")&&(i._range=24*{month:30,year:365}[o]*36e5*c),i._offsetMin=yt(i.offsetMin,0),i._offsetMax=yt(i.offsetMax,0),i._range+=i._offsetMax-i._offsetMin}getInputValue(i){let o=i==="min"?this.minInput:this.maxInput,c=this.chart.options.rangeSelector,h=this.chart.time;return o?(o.type==="text"&&c.inputDateParser||this.defaultInputDateParser)(o.value,h.timezone==="UTC",h):0}setInputValue(i,o){let c=this.options,h=this.chart.time,f=i==="min"?this.minInput:this.maxInput,g=i==="min"?this.minDateBox:this.maxDateBox;if(f){f.setAttribute("type",sn(c.inputDateFormat||"%e %b %Y"));let v=f.getAttribute("data-hc-time"),b=ct(v)?Number(v):void 0;if(ct(o)){let E=b;ct(E)&&f.setAttribute("data-hc-time-previous",E),f.setAttribute("data-hc-time",o),b=o}f.value=h.dateFormat(this.inputTypeFormats[f.type]||c.inputEditDateFormat,b),g&&g.attr({text:h.dateFormat(c.inputDateFormat,b)})}}setInputExtremes(i,o,c){let h=i==="min"?this.minInput:this.maxInput;if(h){let f=this.inputTypeFormats[h.type],g=this.chart.time;if(f){let v=g.dateFormat(f,o);h.min!==v&&(h.min=v);let b=g.dateFormat(f,c);h.max!==b&&(h.max=b)}}}showInput(i){let o=i==="min"?this.minDateBox:this.maxDateBox,c=i==="min"?this.minInput:this.maxInput;if(c&&o&&this.inputGroup){let h=c.type==="text",{translateX:f=0,translateY:g=0}=this.inputGroup,{x:v=0,width:b=0,height:E=0}=o,{inputBoxWidth:M}=this.options;et(c,{width:h?b+(M?-2:20)+"px":"auto",height:E-2+"px",border:"2px solid silver"}),h&&M?et(c,{left:f+v+"px",top:g+"px"}):et(c,{left:Math.min(Math.round(v+f-(c.offsetWidth-b)/2),this.chart.chartWidth-c.offsetWidth)+"px",top:g-(c.offsetHeight-E)/2+"px"})}}hideInput(i){let o=i==="min"?this.minInput:this.maxInput;o&&et(o,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(i,o,c){return c?.parse(i)||0}drawInput(i){let{chart:o,div:c,inputGroup:h}=this,f=this,g=o.renderer.style||{},v=o.renderer,b=o.options.rangeSelector,E=Le.lang,M=i==="min";function w(z){let{maxInput:V,minInput:q}=f,Q=o.xAxis[0],ee=o.scroller?.getUnionExtremes()||Q,te=ee.dataMin,J=ee.dataMax,ne=o.xAxis[0].getExtremes()[z],de=f.getInputValue(z);Oe(de)&&de!==ne&&(M&&V&&Oe(te)?de>Number(V.getAttribute("data-hc-time"))?de=void 0:de<te&&(de=te):q&&Oe(J)&&(de<Number(q.getAttribute("data-hc-time"))?de=void 0:de>J&&(de=J)),de!==void 0&&Q.setExtremes(M?de:Q.min,M?Q.max:de,void 0,void 0,{trigger:"rangeSelectorInput"}))}let A=E[M?"rangeSelectorFrom":"rangeSelectorTo"]||"",k=v.label(A,0).addClass("highcharts-range-label").attr({padding:2*!!A,height:A?b.inputBoxHeight:0}).add(h),N=v.label("",0).addClass("highcharts-range-input").attr({padding:2,width:b.inputBoxWidth,height:b.inputBoxHeight,"text-align":"center"}).on("click",function(){f.showInput(i),f[i+"Input"].focus()});o.styledMode||N.attr({stroke:b.inputBoxBorderColor,"stroke-width":1}),N.add(h);let I=Te("input",{name:i,className:"highcharts-range-selector"},void 0,c);I.setAttribute("type",sn(b.inputDateFormat||"%e %b %Y")),o.styledMode||(k.css(It(g,b.labelStyle)),N.css(It({color:"#333333"},g,b.inputStyle)),et(I,fe({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:g.fontSize,fontFamily:g.fontFamily,top:"-9999em"},b.inputStyle))),I.onfocus=()=>{f.showInput(i)},I.onblur=()=>{I===ce.doc.activeElement&&w(i),f.hideInput(i),f.setInputValue(i),I.blur()};let j=!1;return I.onchange=()=>{j||(w(i),f.hideInput(i),I.blur())},I.onkeypress=z=>{z.keyCode===13&&w(i)},I.onkeydown=z=>{j=!0,(z.key==="ArrowUp"||z.key==="ArrowDown"||z.key==="Tab")&&w(i)},I.onkeyup=()=>{j=!1},{dateBox:N,input:I,label:k}}getPosition(){let i=this.chart,o=i.options.rangeSelector,c=o.verticalAlign==="top"?i.plotTop-i.axisOffset[0]:0;return{buttonTop:c+o.buttonPosition.y,inputTop:c+o.inputPosition.y-10}}getYTDExtremes(i,o){let c=this.chart.time,h=c.toParts(i)[0];return{max:i,min:Math.max(o,c.makeTime(h,0))}}createElements(){let i=this.chart,o=i.renderer,c=i.container,h=i.options,f=h.rangeSelector,g=f.inputEnabled,v=yt(h.chart.style?.zIndex,0)+1;f.enabled!==!1&&(this.group=o.g("range-selector-group").attr({zIndex:7}).add(),this.div=Te("div",void 0,{position:"relative",height:0,zIndex:v}),this.buttonOptions.length&&this.renderButtons(),c.parentNode&&c.parentNode.insertBefore(this.div,c),g&&this.createInputs())}createInputs(){this.inputGroup=this.chart.renderer.g("input-group").add(this.group);let i=this.drawInput("min");this.minDateBox=i.dateBox,this.minLabel=i.label,this.minInput=i.input;let o=this.drawInput("max");this.maxDateBox=o.dateBox,this.maxLabel=o.label,this.maxInput=o.input}render(i,o){if(this.options.enabled===!1)return;let c=this.chart,h=c.options.rangeSelector;if(h.inputEnabled){this.inputGroup||this.createInputs(),this.setInputValue("min",i),this.setInputValue("max",o),this.chart.styledMode||(this.maxLabel?.css(h.labelStyle),this.minLabel?.css(h.labelStyle));let f=c.scroller&&c.scroller.getUnionExtremes()||c.xAxis[0]||{};if(ct(f.dataMin)&&ct(f.dataMax)){let g=c.xAxis[0].minRange||0;this.setInputExtremes("min",f.dataMin,Math.min(f.dataMax,this.getInputValue("max"))-g),this.setInputExtremes("max",Math.max(f.dataMin,this.getInputValue("min"))+g,f.dataMax)}if(this.inputGroup){let g=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(v=>{if(v){let{width:b}=v.getBBox();b&&(v.attr({x:g}),g+=b+h.inputSpacing)}})}}else this.inputGroup&&(this.inputGroup.destroy(),delete this.inputGroup);!this.chart.styledMode&&this.zoomText&&this.zoomText.css(h.labelStyle),this.alignElements(),this.updateButtonStates()}renderButtons(){var i;let{chart:o,options:c}=this,h=Le.lang,f=o.renderer,g=It(c.buttonTheme),v=g&&g.states;delete g.width,delete g.states,this.buttonGroup=f.g("range-selector-buttons").add(this.group);let b=this.dropdown=Te("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),E=o.userOptions.rangeSelector?.buttonTheme;this.dropdownLabel=f.button("",0,0,()=>{},It(g,{"stroke-width":yt(g["stroke-width"],0),width:"auto",paddingLeft:yt(c.buttonTheme.paddingLeft,E?.padding,8),paddingRight:yt(c.buttonTheme.paddingRight,E?.padding,8)}),v&&v.hover,v&&v.select,v&&v.disabled).hide().add(this.group),Se(b,"touchstart",()=>{b.style.fontSize="16px"});let M=ce.isMS?"mouseover":"mouseenter",w=ce.isMS?"mouseout":"mouseleave";Se(b,M,()=>{xe(this.dropdownLabel.element,M)}),Se(b,w,()=>{xe(this.dropdownLabel.element,w)}),Se(b,"change",()=>{xe(this.buttons[b.selectedIndex-1].element,"click")}),this.zoomText=f.label(h.rangeSelectorZoom||"",0).attr({padding:c.buttonTheme.padding,height:c.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(c.labelStyle),(i=c.buttonTheme)["stroke-width"]??(i["stroke-width"]=0)),Te("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,b),this.createButtons()}createButtons(){let{options:i}=this,o=It(i.buttonTheme),c=o&&o.states,h=o.width||28;delete o.width,delete o.states,this.buttonOptions.forEach((f,g)=>{this.createButton(f,g,h,c)})}createButton(i,o,c,h){let{dropdown:f,buttons:g,chart:v,options:b}=this,E=v.renderer,M=It(b.buttonTheme);f?.add(Te("option",{textContent:i.title||i.text}),o+2),g[o]=E.button(i.text??"",0,0,w=>{let A,k=i.events&&i.events.click;k&&(A=k.call(i,w)),A!==!1&&this.clickButton(o),this.isActive=!0},M,h&&h.hover,h&&h.select,h&&h.disabled).attr({"text-align":"center",width:c}).add(this.buttonGroup),i.title&&g[o].attr("title",i.title)}alignElements(){let{buttonGroup:i,buttons:o,chart:c,group:h,inputGroup:f,options:g,zoomText:v}=this,b=c.options,E=b.exporting&&b.exporting.enabled!==!1&&b.navigation&&b.navigation.buttonOptions,{buttonPosition:M,inputPosition:w,verticalAlign:A}=g,k=(I,j,z)=>E&&this.titleCollision(c)&&A==="top"&&z&&j.y-I.getBBox().height-12<(E.y||0)+(E.height||0)+c.spacing[0]?-40:0,N=c.plotLeft;if(h&&M&&w){let I=M.x-c.spacing[3];if(i){if(this.positionButtons(),!this.initialButtonGroupWidth){let ne=0;v&&(ne+=v.getBBox().width+5),o.forEach((de,me)=>{ne+=de.width||0,me!==o.length-1&&(ne+=g.buttonSpacing)}),this.initialButtonGroupWidth=ne}N-=c.spacing[3];let J=k(i,M,M.align==="right"||w.align==="right");this.alignButtonGroup(J),this.buttonGroup?.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),h.placed=i.placed=c.hasLoaded}let j=0;g.inputEnabled&&f&&(j=k(f,w,M.align==="right"||w.align==="right"),w.align==="left"?I=N:w.align==="right"&&(I=-Math.max(c.axisOffset[1],-j)),f.align({y:w.y,width:f.getBBox().width,align:w.align,x:w.x+I-2},!0,c.spacingBox),f.placed=c.hasLoaded),this.handleCollision(j),h.align({verticalAlign:A},!0,c.spacingBox);let z=h.alignAttr.translateY,V=h.getBBox().height+20,q=0;if(A==="bottom"){let J=c.legend&&c.legend.options;q=z-(V=V+(J&&J.verticalAlign==="bottom"&&J.enabled&&!J.floating?c.legend.legendHeight+yt(J.margin,10):0)-20)-(g.floating?0:g.y)-(c.titleOffset?c.titleOffset[2]:0)-10}A==="top"?(g.floating&&(q=0),c.titleOffset&&c.titleOffset[0]&&(q=c.titleOffset[0]),q+=c.margin[0]-c.spacing[0]||0):A==="middle"&&(w.y===M.y?q=z:(w.y||M.y)&&(w.y<0||M.y<0?q-=Math.min(w.y,M.y):q=z-V)),h.translate(g.x,g.y+Math.floor(q));let{minInput:Q,maxInput:ee,dropdown:te}=this;g.inputEnabled&&Q&&ee&&(Q.style.marginTop=h.translateY+"px",ee.style.marginTop=h.translateY+"px"),te&&(te.style.marginTop=h.translateY+"px")}}redrawElements(){let i=this.chart,{inputBoxHeight:o,inputBoxBorderColor:c}=this.options;if(this.maxDateBox?.attr({height:o}),this.minDateBox?.attr({height:o}),i.styledMode||(this.maxDateBox?.attr({stroke:c}),this.minDateBox?.attr({stroke:c})),this.isDirty){this.isDirty=!1,this.isCollapsed=void 0;let h=this.options.buttons??[],f=Math.min(h.length,this.buttonOptions.length),{dropdown:g,options:v}=this,b=It(v.buttonTheme),E=b&&b.states,M=b.width||28;if(h.length<this.buttonOptions.length)for(let w=this.buttonOptions.length-1;w>=h.length;w--)this.buttons.pop()?.destroy(),this.dropdown?.options.remove(w+1);for(let w=f-1;w>=0;w--){let A=h[w];this.buttons[w].destroy(),g?.options.remove(w+1),this.createButton(A,w,M,E),this.computeButtonRange(A)}if(h.length>this.buttonOptions.length)for(let w=this.buttonOptions.length;w<h.length;w++)this.createButton(h[w],w,M,E),this.computeButtonRange(h[w]);this.buttonOptions=this.options.buttons??[],ct(this.options.selected)&&this.buttons.length&&this.clickButton(this.options.selected,!1)}}alignButtonGroup(i,o){let{chart:c,options:h,buttonGroup:f,dropdown:g,dropdownLabel:v}=this,{buttonPosition:b}=h,E=c.plotLeft-c.spacing[3],M=b.x-c.spacing[3],w=c.plotLeft;b.align==="right"?(M+=i-E,this.hasVisibleDropdown&&(w=c.chartWidth+i-this.maxButtonWidth()-20)):b.align==="center"&&(M-=E/2,this.hasVisibleDropdown&&(w=c.chartWidth/2-this.maxButtonWidth())),g&&et(g,{left:w+"px",top:f?.translateY+"px"}),v?.attr({x:w}),f&&f.align({y:b.y,width:yt(o,this.initialButtonGroupWidth),align:b.align,x:M},!0,c.spacingBox)}positionButtons(){let{buttons:i,chart:o,options:c,zoomText:h}=this,f=o.hasLoaded?"animate":"attr",{buttonPosition:g}=c,v=o.plotLeft,b=v;h&&h.visibility!=="hidden"&&(h[f]({x:yt(v+g.x,v)}),b+=g.x+h.getBBox().width+5);for(let E=0,M=this.buttonOptions.length;E<M;++E)i[E].visibility!=="hidden"?(i[E][f]({x:b}),b+=(i[E].width||0)+c.buttonSpacing):i[E][f]({x:v})}handleCollision(i){let{chart:o,buttonGroup:c,inputGroup:h,initialButtonGroupWidth:f}=this,{buttonPosition:g,dropdown:v,inputPosition:b}=this.options,E=()=>{h&&c&&h.attr({translateX:h.alignAttr.translateX+(o.axisOffset[1]>=-i?0:-i),translateY:h.alignAttr.translateY+c.getBBox().height+10})};h&&c?b.align===g.align?(E(),f>o.plotWidth+i-20?this.collapseButtons():this.expandButtons()):f-i+h.getBBox().width>o.plotWidth?v==="responsive"||v==="always"?this.collapseButtons():E():this.expandButtons():c&&v==="responsive"&&(f>o.plotWidth?this.collapseButtons():this.expandButtons()),c&&(v==="always"&&this.collapseButtons(),v==="never"&&this.expandButtons()),this.alignButtonGroup(i)}collapseButtons(){let{buttons:i,zoomText:o}=this;this.isCollapsed!==!0&&(this.isCollapsed=!0,o.hide(),i.forEach(c=>{c.hide()}),this.showDropdown())}expandButtons(){let{buttons:i,zoomText:o}=this;this.isCollapsed!==!1&&(this.isCollapsed=!1,this.hideDropdown(),o.show(),i.forEach(c=>{c.show()}),this.positionButtons())}showDropdown(){let{buttonGroup:i,dropdownLabel:o,dropdown:c}=this;i&&c&&(o.show(),et(c,{visibility:"inherit"}),this.hasVisibleDropdown=!0)}hideDropdown(){let{dropdown:i}=this;i&&(this.dropdownLabel.hide(),et(i,{visibility:"hidden"}),this.hasVisibleDropdown=!1)}getHeight(){let i=this.options,o=this.group,c=i.inputPosition,h=i.buttonPosition,f=i.y,g=h.y,v=c.y,b=0;if(i.height)return i.height;this.alignElements(),b=o?o.getBBox(!0).height+13+f:0;let E=Math.min(v,g);return(v<0&&g<0||v>0&&g>0)&&(b+=Math.abs(E)),b}titleCollision(i){return!(i.options.title.text||i.options.subtitle.text)}update(i,o=!0){let c=this.chart;if(It(!0,this.options,i),this.options.selected&&this.options.selected>=this.options.buttons.length&&(this.options.selected=void 0,c.options.rangeSelector.selected=void 0),ct(i.enabled))return this.destroy(),this.init(c);this.isDirty=!!i.buttons||!!i.buttonTheme,o&&this.render()}destroy(){let i=this,o=i.minInput,c=i.maxInput;i.eventsToUnbind&&(i.eventsToUnbind.forEach(h=>h()),i.eventsToUnbind=void 0),An(i.buttons),o&&(o.onfocus=o.onblur=o.onchange=null),c&&(c.onfocus=c.onblur=c.onchange=null),ot(i,function(h,f){h&&f!=="chart"&&(h instanceof Ir?h.destroy():h instanceof window.HTMLElement&&ve(h),delete i[f]),h!==qr.prototype[f]&&(i[f]=null)},this),this.buttons=[]}}fe(qr.prototype,{inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}});let{format:ox}=$n,{getOptions:fE}=Un,{setFixedRange:b_}=dg,{addEvent:Pu,clamp:x_,crisp:pE,defined:lx,extend:w_,find:S_,isNumber:ac,isString:E_,merge:Lh,pick:Yo,splat:gE}=We;function cx(x,i,o){return x==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0}:x==="yAxis"?{labels:{y:-2},opposite:o.opposite??i.opposite??!0,showLastLabel:!!(i.categories||i.type==="category"),title:{text:void 0}}:{}}function mE(x,i){if(x==="xAxis"){let o=Yo(i.navigator?.enabled,da.enabled,!0),c={type:"datetime",categories:void 0};return o&&(c.startOnTick=!1,c.endOnTick=!1),c}return{}}class ux extends eh{init(i,o){let c=fE(),h=i.xAxis,f=i.yAxis,g=Yo(i.navigator?.enabled,da.enabled,!0);i.xAxis=i.yAxis=void 0;let v=Lh({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x",mouseWheel:{type:"x"}}},navigator:{enabled:g},scrollbar:{enabled:Yo(nc.enabled,!0)},rangeSelector:{enabled:Yo(Lu.enabled,!0)},title:{text:null},tooltip:{split:Yo(c.tooltip?.split,!0),crosshairs:!0},legend:{enabled:!1}},i,{isStock:!0});i.xAxis=h,i.yAxis=f,v.xAxis=gE(i.xAxis||{}).map(b=>Lh(cx("xAxis",b,c.xAxis),b,mE("xAxis",i))),v.yAxis=gE(i.yAxis||{}).map(b=>Lh(cx("yAxis",b,c.yAxis),b)),super.init(v,o)}createAxis(i,o){return o.axis=Lh(cx(i,o.axis,fE()[i]),o.axis,mE(i,this.userOptions)),super.createAxis(i,o)}}Pu(eh,"update",function(x){let i=x.options;"scrollbar"in i&&this.navigator&&(Lh(!0,this.options.scrollbar,i.scrollbar),this.navigator.update({enabled:!!this.navigator.navigatorEnabled}),delete i.scrollbar)}),(function(x){function i(E){if(!(this.crosshair?.label?.enabled&&this.cross&&ac(this.min)&&ac(this.max)))return;let M=this.chart,w=this.logarithmic,A=this.crosshair.label,k=this.horiz,N=this.opposite,I=this.left,j=this.top,z=this.width,V=this.options.tickPosition==="inside",q=this.crosshair.snap!==!1,Q=E.e||this.cross?.e,ee=E.point,te=this.crossLabel,J,ne,de=A.format,me="",se,we=0,Ne=this.min,_e=this.max;w&&(Ne=w.lin2log(this.min),_e=w.lin2log(this.max));let He=k?"center":N?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center";!te&&(te=this.crossLabel=M.renderer.label("",0,void 0,A.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(ee?.series?ee.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:A.align||He,padding:Yo(A.padding,8),r:Yo(A.borderRadius,3),zIndex:2}).add(this.labelGroup),M.styledMode||te.attr({fill:A.backgroundColor||ee?.series?.color||"#666666",stroke:A.borderColor||"","stroke-width":A.borderWidth||0}).css(w_({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},A.style||{}))),k?(J=q?(ee.plotX||0)+I:Q.chartX,ne=j+(N?0:this.height)):(J=I+this.offset+(N?z:0),ne=q?(ee.plotY||0)+j:Q.chartY),de||A.formatter||(this.dateTime&&(me="%b %d, %Y"),de="{value"+(me?":"+me:"")+"}");let Ue=q?this.isXAxis?ee.x:ee.y:this.toValue(k?Q.chartX:Q.chartY),qe=ee?.series?ee.series.isPointInside(ee):ac(Ue)&&Ue>Ne&&Ue<_e,vt="";de?vt=ox(de,{value:Ue},M):A.formatter&&ac(Ue)&&(vt=A.formatter.call(this,Ue)),te.attr({text:vt,x:J,y:ne,visibility:qe?"inherit":"hidden"});let ut=te.getBBox();!ac(te.x)||k||N||(J=te.x-ut.width/2),ac(te.y)&&(k?(V&&!N||!V&&N)&&(ne=te.y-ut.height):ne=te.y-ut.height/2),se=k?{left:I,right:I+this.width}:{left:this.labelAlign==="left"?I:0,right:this.labelAlign==="right"?I+this.width:M.chartWidth};let Jt=te.translateX||0;Jt<se.left&&(we=se.left-Jt),Jt+ut.width>=se.right&&(we=-(Jt+ut.width-se.right)),te.attr({x:Math.max(0,J+we),y:Math.max(0,ne),anchorX:k?J:this.opposite?0:M.chartWidth,anchorY:k?this.opposite?M.chartHeight:0:ne+ut.height/2})}function o(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}function c(E){let M=this.chart,w=this.options,A=M._labelPanes=M._labelPanes||{},k=w.labels;if(M.options.isStock&&this.coll==="yAxis"){let N=w.top+","+w.height;!A[N]&&k.enabled&&(k.distance===15&&this.side===1&&(k.distance=0),k.align===void 0&&(k.align="right"),A[N]=this,E.align="right",E.preventDefault())}}function h(){let E=this.chart,M=this.options&&this.options.top+","+this.options.height;M&&E._labelPanes&&E._labelPanes[M]===this&&delete E._labelPanes[M]}function f(E){let M=this.isLinked&&!this.series&&this.linkedParent?this.linkedParent.series:this.series,{chart:w,horiz:A}=this,k=w.renderer,N=[],{acrossPanes:I=!0,force:j,translatedValue:z,value:V}=E,q=(this.isXAxis?w.yAxis:w.xAxis)||[];function Q(ne,de,me){N.push(["M",A?ne:de,A?de:ne],["L",A?ne:me,A?me:ne])}let ee=[],te,J;if(w.options.isStock&&(this.coll==="xAxis"||this.coll==="yAxis")){let ne,de;for(let me of(E.preventDefault(),ne=this.coll==="xAxis"?"yAxis":"xAxis",de=this.options[ne],ee=I&&!this.options.isInternal?q.filter(se=>!se.options.isInternal):ac(de)?[w[ne][de]]:E_(de)?[w.get(de)]:M.map(se=>se[ne]),q))if(!me.options.isInternal){let se=me.isXAxis?"yAxis":"xAxis";this===(lx(me.options[se])&&w[se][me.options[se]])&&ee.push(me)}for(let me of(te=ee.length?[]:[this.isXAxis?w.yAxis[0]:w.xAxis[0]],ee))te.indexOf(me)!==-1||S_(te,se=>se.pos===me.pos&&se.len===me.len)||te.push(me);if(ac(J=Yo(z,this.translate(V||0,void 0,void 0,E.old)))){let me,se=A?J+this.pos:this.pos+this.len-J;if(j!=="pass"&&(se<this.pos||se>this.pos+this.len)&&(j?se=x_(se,this.pos,this.pos+this.len):me=!0),!me){let we=A?"top":"left",Ne=A?"height":"width";if(!I&&(this.options[we]||this.options[Ne]))Q(se,this[we],this[we]+this[Ne]);else for(let _e of te)Q(se,_e.pos,_e.pos+_e.len)}}E.path=N.length>0?k.crispPolyLine(N,E.lineWidth||1):void 0}}function g(E){if(this.chart.options.isStock){let M;this.is("column")||this.is("columnrange")?M={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(M={marker:{enabled:!1,radius:2}}),M&&(E.plotOptions[this.type]=Lh(E.plotOptions[this.type],M))}}function v(){let E=this.chart,M=this.options.dataGrouping;return this.allowDG!==!1&&M&&Yo(M.enabled,E.options.isStock)}function b(E,M){for(let w=0;w<E.length;w+=2){let A=E[w],k=E[w+1];lx(A[1])&&A[1]===k[1]&&(A[1]=k[1]=pE(A[1],M)),lx(A[2])&&A[2]===k[2]&&(A[2]=k[2]=pE(A[2],M))}return E}x.compose=function(E,M,w,A){let k=w.prototype;k.forceCropping||(Pu(M,"afterDrawCrosshair",i),Pu(M,"afterHideCrosshair",o),Pu(M,"autoLabelAlign",c),Pu(M,"destroy",h),Pu(M,"getPlotLinePath",f),E.prototype.setFixedRange=b_,k.forceCropping=v,Pu(w,"setOptions",g),A.prototype.crispPolyLine=b)},x.stockChart=function(E,M,w){return new x(E,M,w)}})(ux||(ux={}));let yE=ux,{column:{prototype:{pointClass:A_}}}=Bt.seriesTypes,{column:vE}=Bt.seriesTypes,{crisp:bE,extend:xE,merge:C_}=We,{defaultOptions:D_}=Un;class dx extends vE{extendStem(i,o,c){let h=i[0],f=i[1];typeof h[2]=="number"&&(h[2]=Math.max(c+o,h[2])),typeof f[2]=="number"&&(f[2]=Math.min(c-o,f[2]))}getPointPath(i,o){let c=o.strokeWidth(),h=i.series,f=bE(i.plotX||0,c),g=Math.round(i.shapeArgs.width/2),v=[["M",f,Math.round(i.yBottom)],["L",f,Math.round(i.plotHigh)]];if(i.close!==null){let b=bE(i.plotClose,c);v.push(["M",f,b],["L",f+g,b]),h.extendStem(v,c/2,b)}return v}drawSinglePoint(i){let o=i.series,c=o.chart,h,f=i.graphic;i.plotY!==void 0&&(f||(i.graphic=f=c.renderer.path().add(o.group)),c.styledMode||f.attr(o.pointAttribs(i,i.selected&&"select")),h=o.getPointPath(i,f),f[f?"animate":"attr"]({d:h}).addClass(i.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(i,o){let c=super.pointAttribs.call(this,i,o);return delete c.fill,c}toYData(i){return[i.high,i.low,i.close]}translate(){let i=this,o=i.yAxis,c=this.pointArrayMap&&this.pointArrayMap.slice()||[],h=c.map(f=>`plot${f.charAt(0).toUpperCase()+f.slice(1)}`);h.push("yBottom"),c.push("low"),super.translate.apply(i),i.points.forEach(function(f){c.forEach(function(g,v){let b=f[g];b!==null&&(i.dataModify&&(b=i.dataModify.modifyValue(b)),f[h[v]]=o.toPixels(b,!0))}),f.tooltipPos[1]=f.plotHigh+o.pos-i.chart.plotTop})}}dx.defaultOptions=C_(vE.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}),xE(dx.prototype,{pointClass:class extends A_{},animate:null,directTouch:!1,keysAffectYAxis:["low","high"],pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),xE(D_.lang,{stockOpen:"Open",stockHigh:"High",stockLow:"Low",stockClose:"Close"}),Bt.registerSeriesType("hlc",dx);let{seriesTypes:{hlc:T_}}=Bt;class M_ extends T_.prototype.pointClass{getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.series.is("heikinashi")||this.resolveUpColor()}getZone(){let i=super.getZone();return this.resolveUpColor(),i}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}let{composed:__}=ce,{hlc:wE}=Bt.seriesTypes,{addEvent:SE,crisp:EE,extend:AE,merge:R_,pushUnique:k_}=We;function O_(x){let i=x.options,o=i.dataGrouping;o&&i.useOhlcData&&i.id!=="highcharts-navigator-series"&&(o.approximation="ohlc")}function N_(x){let i=x.options;i.useOhlcData&&i.id!=="highcharts-navigator-series"&&AE(this,{pointValKey:ju.prototype.pointValKey,pointArrayMap:ju.prototype.pointArrayMap,toYData:ju.prototype.toYData})}class ju extends wE{static compose(i){k_(__,"OHLCSeries")&&(SE(i,"afterSetOptions",O_),SE(i,"init",N_))}getPointPath(i,o){let c=super.getPointPath(i,o),h=o.strokeWidth(),f=EE(i.plotX||0,h),g=Math.round(i.shapeArgs.width/2);if(i.open!==null){let v=EE(i.plotOpen,h);c.push(["M",f,v],["L",f-g,v]),super.extendStem(c,h/2,v)}return c}pointAttribs(i,o){let c=super.pointAttribs.call(this,i,o),h=this.options;return delete c.fill,!i.options.color&&h.upColor&&i.open<i.close&&(c.stroke=h.upColor),c}toYData(i){return[i.open,i.high,i.low,i.close]}}ju.defaultOptions=R_(wE.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>{series.chart.options.lang.stockOpen}: {point.open}<br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'}}),AE(ju.prototype,{pointClass:M_,pointArrayMap:["open","high","low","close"]}),Bt.registerSeriesType("ohlc",ju);let{column:L_,ohlc:hx}=Bt.seriesTypes,{crisp:fx,merge:I_}=We;class CE extends hx{pointAttribs(i,o){let c=L_.prototype.pointAttribs.call(this,i,o),h=this.options,f=i.open<i.close,g=h.lineColor||this.color,v=i.color||this.color;if(c["stroke-width"]=h.lineWidth,c.fill=i.options.color||f&&h.upColor||v,c.stroke=i.options.lineColor||f&&h.upLineColor||g,o){let b=h.states[o];c.fill=b.color||c.fill,c.stroke=b.lineColor||c.stroke,c["stroke-width"]=b.lineWidth||c["stroke-width"]}return c}drawPoints(){let i=this.points,o=this.chart,c=this.yAxis.reversed;for(let h of i){let f=h.graphic,g,v,b,E,M,w,A,k,N,I=!f;if(h.plotY!==void 0){f||(h.graphic=f=o.renderer.path().add(this.group)),this.chart.styledMode||f.attr(this.pointAttribs(h,h.selected&&"select")).shadow(this.options.shadow);let j=f.strokeWidth();A=fx(h.plotX||0,j),b=Math.min(g=h.plotOpen,v=h.plotClose),E=Math.max(g,v),N=Math.round(h.shapeArgs.width/2),M=c?E!==h.yBottom:Math.round(b)!==Math.round(h.plotHigh||0),w=c?Math.round(b)!==Math.round(h.plotHigh||0):E!==h.yBottom,b=fx(b,j),E=fx(E,j),(k=[]).push(["M",A-N,E],["L",A-N,b],["L",A+N,b],["L",A+N,E],["Z"],["M",A,b],["L",A,M?Math.round(c?h.yBottom:h.plotHigh):b],["M",A,E],["L",A,w?Math.round(c?h.plotHigh:h.yBottom):E]),f[I?"attr":"animate"]({d:k}).addClass(h.getClassName(),!0)}}}}CE.defaultOptions=I_(hx.defaultOptions,{tooltip:hx.defaultOptions.tooltip},{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),Bt.registerSeriesType("candlestick",CE);let{column:{prototype:{pointClass:P_}}}=Bt.seriesTypes,{isNumber:j_}=We,z_=class extends P_{constructor(){super(...arguments),this.ttBelow=!1}isValid(){return j_(this.y)||this.y===void 0}hasNewShapeType(){let x=this.options.shape||this.series.options.shape;return this.graphic&&x&&x!==this.graphic.symbolKey}};(function(x){let i=[];function o(h,f,g,v,b){let E=b&&b.anchorX||h,M=b&&b.anchorY||f,w=this.circle(E-1,M-1,2,2);return w.push(["M",E,M],["L",h,f+v],["L",h,f],["L",h+g,f],["L",h+g,f+v],["L",h,f+v],["Z"]),w}function c(h,f){h[f+"pin"]=function(g,v,b,E,M){let w,A=M&&M.anchorX,k=M&&M.anchorY;if(f==="circle"&&E>b&&(g-=Math.round((E-b)/2),b=E),w=h[f](g,v,b,E,M),A&&k){let N=A;if(f==="circle")N=g+b/2;else{let j=w[0],z=w[1];j[0]==="M"&&z[0]==="L"&&(N=(j[1]+z[1])/2)}let I=v>k?v:v+E;w.push(["M",N,I],["L",A,k]),w=w.concat(h.circle(A-1,k-1,2,2))}return w}}x.compose=function(h){if(i.indexOf(h)===-1){i.push(h);let g=h.prototype.symbols;g.flag=o,c(g,"circle"),c(g,"square")}let f=Ga.getRendererType();i.indexOf(f)&&i.push(f)}})(Ze||(Ze={}));let B_=Ze,{composed:F_}=ce,{prototype:H_}=Gs,{prototype:U_}=Bi,{defined:px,pushUnique:G_,stableSort:V_}=We;var gx=Ve||(Ve={});function DE(x){return U_.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,x)}function TE(){H_.translate.apply(this);let x=this,i=x.options,o=x.chart,c=x.points,h=i.onSeries,f=h&&o.get(h),g=f&&f.options.step,v=f&&f.points,b=o.inverted,E=x.xAxis,M=x.yAxis,w=c.length-1,A,k,N=i.onKey||"y",I=v&&v.length,j=0,z,V,q,Q,ee;if(f&&f.visible&&I){for(j=(f.pointXOffset||0)+(f.barW||0)/2,Q=f.currentDataGrouping,V=v[I-1].x+(Q?Q.totalRange:0),V_(c,(te,J)=>te.x-J.x),N="plot"+N[0].toUpperCase()+N.substr(1);I--&&c[w];)if(z=v[I],(A=c[w]).y=z.y,z.x<=A.x&&z[N]!==void 0){if(A.x<=V&&(A.plotY=z[N],z.x<A.x&&!g&&(q=v[I+1]))&&q[N]!==void 0)if(px(A.plotX)&&f.is("spline")){let te=[z.plotX||0,z.plotY||0],J=[q.plotX||0,q.plotY||0],ne=z.controlPoints?.high||te,de=q.controlPoints?.low||J,me=(_e,He)=>Math.pow(1-_e,3)*te[He]+3*(1-_e)*(1-_e)*_e*ne[He]+3*(1-_e)*_e*_e*de[He]+_e*_e*_e*J[He],se=0,we=1,Ne;for(let _e=0;_e<100;_e++){let He=(se+we)/2,Ue=me(He,0);if(Ue===null)break;if(.25>Math.abs(Ue-A.plotX)){Ne=He;break}Ue<A.plotX?se=He:we=He}px(Ne)&&(A.plotY=me(Ne,1),A.y=M.toValue(A.plotY,!0))}else ee=(A.x-z.x)/(q.x-z.x),A.plotY+=ee*(q[N]-z[N]),A.y+=ee*(q.y-z.y);if(w--,I++,w<0)break}}c.forEach((te,J)=>{let ne;te.plotX+=j,(te.plotY===void 0||b)&&(te.plotX>=0&&te.plotX<=E.len?b?(te.plotY=E.translate(te.x,0,1,0,1),te.plotX=px(te.y)?M.translate(te.y,0,0,0,1):0):te.plotY=(E.opposite?0:x.yAxis.len)+E.offset:te.shapeArgs={}),(k=c[J-1])&&k.plotX===te.plotX&&(k.stackIndex===void 0&&(k.stackIndex=0),ne=k.stackIndex+1),te.stackIndex=ne}),this.onSeries=f}gx.compose=function(x){if(G_(F_,"OnSeries")){let i=x.prototype;i.getPlotBox=DE,i.translate=TE}return x},gx.getPlotBox=DE,gx.translate=TE;let W_=Ve,{noop:Y_}=ce,{distribute:$_}=hl,{series:ME,seriesTypes:{column:_E}}=Bt,{addEvent:q_,defined:X_,extend:Z_,isNumber:Q_,merge:RE,objectEach:K_,wrap:J_}=We;class Ih extends _E{animate(i){i&&this.setClip()}drawPoints(){let i,o,c,h,f,g,v,b,E,M,w,A=this.points,k=this.chart,N=k.renderer,I=k.inverted,j=this.options,z=j.y,V=this.yAxis,q={},Q=[],ee=Q_(j.borderRadius)?j.borderRadius:0;for(h=A.length;h--;)f=A[h],M=(I?f.plotY:f.plotX)>this.xAxis.len,i=f.plotX,v=f.stackIndex,c=f.options.shape||j.shape,(o=f.plotY)!==void 0&&(o=f.plotY+z-(v!==void 0&&v*j.stackDistance)),f.anchorX=v?void 0:f.plotX,b=v?void 0:f.plotY,w=c!=="flag",g=f.graphic,o!==void 0&&i>=0&&!M?(g&&f.hasNewShapeType()&&(g=g.destroy()),g||(g=f.graphic=N.label("",0,void 0,c,void 0,void 0,j.useHTML).addClass(f.getClassName()).add(this.markerGroup),f.graphic.div&&(f.graphic.div.point=f),g.isNew=!0),g.attr({align:w?"center":"left",width:j.width,height:j.height,"text-align":j.textAlign,r:ee}),k.styledMode||g.attr(this.pointAttribs(f)).css(RE(j.style,f.style)).shadow(j.shadow),i>0&&(i-=g.strokeWidth()%2),E={y:o,anchorY:b},j.allowOverlapX&&(E.x=i,E.anchorX=f.anchorX),g.attr({text:f.options.title??j.title??"A"})[g.isNew?"attr":"animate"](E),j.allowOverlapX||(q[f.plotX]?q[f.plotX].size=Math.max(q[f.plotX].size,g.width||0):q[f.plotX]={align:.5*!!w,size:g.width||0,target:i,anchorX:i}),f.tooltipPos=[i,o+V.pos-k.plotTop]):g&&(f.graphic=g.destroy());if(!j.allowOverlapX){let te=100;for(let J of(K_(q,function(ne){ne.plotX=ne.anchorX,Q.push(ne),te=Math.max(ne.size,te)}),$_(Q,I?V.len:this.xAxis.len,te),A)){let ne=J.plotX,de=J.graphic,me=de&&q[ne];me&&de&&(X_(me.pos)?de[de.isNew?"attr":"animate"]({x:me.pos+(me.align||0)*me.size,anchorX:J.anchorX}).show().isNew=!1:de.hide().isNew=!0)}}j.useHTML&&this.markerGroup&&J_(this.markerGroup,"on",function(te){return Ir.prototype.on.apply(te.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){let i=this.points;for(let o of(super.drawTracker(),i)){let c=o.graphic;c&&(o.unbindMouseOver&&o.unbindMouseOver(),o.unbindMouseOver=q_(c.element,"mouseover",function(){for(let h of(o.stackIndex>0&&!o.raised&&(o._y=c.y,c.attr({y:o._y-8}),o.raised=!0),i))h!==o&&h.raised&&h.graphic&&(h.graphic.attr({y:h._y}),h.raised=!1)}))}}pointAttribs(i,o){let c=this.options,h=i&&i.color||this.color,f=c.lineColor,g=i&&i.lineWidth,v=i&&i.fillColor||c.fillColor;return o&&(v=c.states[o].fillColor,f=c.states[o].lineColor,g=c.states[o].lineWidth),{fill:v||h,stroke:f||h,"stroke-width":g||c.lineWidth||0}}setClip(){ME.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}Ih.compose=B_.compose,Ih.defaultOptions=RE(_E.defaultOptions,{borderRadius:0,pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold"}}),W_.compose(Ih),Z_(Ih.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:z_,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:Y_,init:ME.prototype.init}),Bt.registerSeriesType("flags",Ih);let{addEvent:Ph,find:eR,fireEvent:kE,isArray:tR,isNumber:ur,pick:bv}=We;(function(x){function i(){this.brokenAxis!==void 0&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function o(){Object.keys(this.options.breaks?.[0]||{}).length&&(this.options.ordinal=!1)}function c(){let M=this.brokenAxis;if(M?.hasBreaks){let w=this.tickPositions,A=this.tickPositions.info,k=[];for(let N=0;N<w.length;N++)M.isInAnyBreak(w[N])||k.push(w[N]);this.tickPositions=k,this.tickPositions.info=A}}function h(){this.brokenAxis||(this.brokenAxis=new E(this))}function f(){let{isDirty:M,options:{connectNulls:w},points:A,xAxis:k,yAxis:N}=this;if(M){let I=A.length;for(;I--;){let j=A[I],z=(j.y!==null||w!==!1)&&(k?.brokenAxis?.isInAnyBreak(j.x,!0)||N?.brokenAxis?.isInAnyBreak(j.y,!0));j.visible=!z&&j.options.visible!==!1}}}function g(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,bv(this.pointArrayMap,["y"]))}function v(M,w){let A,k,N,I=this,j=I.points;if(M?.brokenAxis?.hasBreaks){let z=M.brokenAxis;w.forEach(function(V){A=z?.breakArray||[],k=M.isXAxis?M.min:bv(I.options.threshold,M.min),j.forEach(function(q){N=q["stack"+V.toUpperCase()]??q[V],A.forEach(function(Q){if(ur(k)&&ur(N)){let ee="";k<Q.from&&N>Q.to||k>Q.from&&N<Q.from?ee="pointBreak":(k<Q.from&&N>Q.from&&N<Q.to||k>Q.from&&N>Q.to&&N<Q.from)&&(ee="pointInBreak"),ee&&kE(M,ee,{point:q,brk:Q})}})})})}}function b(){let M=this.currentDataGrouping,w=M?.gapSize,A=this.points.slice(),k=this.yAxis,N=this.options.gapSize,I=A.length-1;if(N&&I>0){let j,z;for(this.options.gapUnit!=="value"&&(N*=this.basePointRange),w&&w>N&&w>=this.basePointRange&&(N=w);I--;)if(z&&z.visible!==!1||(z=A[I+1]),j=A[I],z.visible!==!1&&j.visible!==!1){if(z.x-j.x>N){let V=(j.x+z.x)/2;A.splice(I+1,0,{isNull:!0,x:V}),k.stacking&&this.options.stacking&&((k.stacking.stacks[this.stackKey][V]=new pi(k,k.options.stackLabels,!1,V,this.stack??"")).total=0)}z=j}}return this.getGraphPath(A)}x.compose=function(M,w){if(!M.keepProps.includes("brokenAxis")){M.keepProps.push("brokenAxis"),Ph(M,"init",h),Ph(M,"afterInit",i),Ph(M,"afterSetTickPositions",c),Ph(M,"afterSetOptions",o);let A=w.prototype;A.drawBreaks=v,A.gappedPath=b,Ph(w,"afterGeneratePoints",f),Ph(w,"afterRender",g)}return M};class E{static isInBreak(w,A){let k=w.repeat||1/0,N=w.from,I=w.to-w.from,j=A>=N?(A-N)%k:k-(N-A)%k;return w.inclusive?j<=I:j<I&&j!==0}static lin2Val(w){let A=this.min||0,k=this.brokenAxis,N=k?.breakArray;if(!N?.length||!ur(w))return w;let I=w;if(w>A)for(let j of N){if(j.from>I)break;(j.to<=I&&j.to>A||E.isInBreak(j,I))&&(I+=j.len)}else if(w<A)for(let j of N){if(j.from>A)break;(j.from>=I&&j.from<A||E.isInBreak(j,I))&&(I-=j.len)}return I}static val2Lin(w){let A=this.min||0,k=this.brokenAxis,N=k?.breakArray;if(!N?.length||!ur(w))return w;let I=w;if(w>A)for(let j of N)if(j.to<=w&&j.to>A)I-=j.len;else{if(j.from>w)break;if(E.isInBreak(j,w)){I-=w-j.from;break}}else if(w<A)for(let j of N)if(j.from>=w&&j.from<A)I+=j.len;else{if(j.from>A)break;if(E.isInBreak(j,w)){I+=j.to-w;break}}return I}constructor(w){this.axis=w}findBreakAt(w,A){return eR(A,function(k){return k.from<w&&w<k.to})}isInAnyBreak(w,A){let k=this.axis,N=k.options.breaks||[],I=N.length,j,z,V;if(I&&ur(w)){for(;I--;)E.isInBreak(N[I],w)&&(j=!0,z||(z=bv(N[I].showPoints,!k.isXAxis)));V=j&&A?j&&!z:j}return V}setBreaks(w,A){let k=this,N=k.axis,I=N.chart.time,j=tR(w)&&!!Object.keys(w?.[0]||{}).length;N.isDirty=(k.hasBreaks??!1)!==j,k.hasBreaks=j,w?.forEach(z=>{z.from=I.parse(z.from)||0,z.to=I.parse(z.to)||0}),w!==N.options.breaks&&(N.options.breaks=N.userOptions.breaks=w),N.forceRedraw=!0,N.series.forEach(function(z){z.isDirty=!0}),j||N.val2lin!==E.val2Lin||(delete N.val2lin,delete N.lin2val),j&&(N.userOptions.ordinal=!1,N.lin2val=E.lin2Val,N.val2lin=E.val2Lin,N.setExtremes=function(z,V,q,Q,ee){if(k.hasBreaks&&!N.treeGrid?.tree){let te,J=this.brokenAxis.breakArray||[];for(;te=k.findBreakAt(z,J);)z=te.to;for(;te=k.findBreakAt(V,J);)V=te.from;V<z&&(V=z)}N.constructor.prototype.setExtremes.call(this,z,V,q,Q,ee)},N.setAxisTranslation=function(){if(N.constructor.prototype.setAxisTranslation.call(this),k.unitLength=void 0,k.hasBreaks){let z=N.options.breaks||[],V=[],q=[],Q=N.pointRangePadding??0,ee=0,te,J,ne=N.userMin??N.min,de=N.userMax??N.max,me=N.dataMin??ne,se=N.dataMax??de,we,Ne;ur(N.threshold)&&(me=Math.min(me??N.threshold,N.threshold),se=Math.max(se??N.threshold,N.threshold)),N.treeGrid?.tree||z.forEach(function(_e){J=_e.repeat||1/0,ur(ne)&&ur(de)&&(E.isInBreak(_e,ne)&&(ne+=_e.to%J-ne%J),E.isInBreak(_e,de)&&(de-=de%J-_e.from%J))}),ur(me)&&ur(se)&&z.forEach(function(_e){for(we=_e.from,J=_e.repeat||1/0;we-J>me;)we-=J;for(;we<me;)we+=J;for(Ne=we;Ne<se;Ne+=J)V.push({value:Ne,move:"in"}),V.push({value:Ne+_e.to-_e.from,move:"out",size:_e.breakSize})}),V.sort(function(_e,He){return _e.value===He.value?(_e.move!=="in")-(He.move!=="in"):_e.value-He.value}),te=0,we=me,V.forEach(_e=>{(te+=_e.move==="in"?1:-1)===1&&_e.move==="in"&&(we=_e.value),te===0&&ur(we)&&(q.push({from:we,to:_e.value,len:_e.value-we-(_e.size||0)}),ur(ne)&&ur(de)&&we<de&&_e.value>ne&&(ee+=_e.value-we-(_e.size||0)))}),k.breakArray=q,ur(ne)&&ur(de)&&ur(N.min)&&(k.unitLength=de-ne-ee+Q,kE(N,"afterBreaks"),N.staticScale?N.transA=N.staticScale:k.unitLength&&(N.transA*=(de-N.min+Q)/k.unitLength),Q&&(N.minPixelPadding=N.transA*(N.minPointOffset||0)),N.min=ne,N.max=de)}}),bv(A,!0)&&N.chart.redraw()}}x.Additions=E})(tt||(tt={}));let nR=tt;ce.BrokenAxis=ce.BrokenAxis||nR,ce.BrokenAxis.compose(ce.Axis,ce.Series);let Xr={},{arrayMax:iR,arrayMin:rR,correctFloat:aR,extend:sR,isNumber:eo}=We;function OE(x){let i=x.length,o=NE(x);return eo(o)&&i&&(o=aR(o/i)),o}function NE(x){let i=x.length,o;if(!i&&x.hasNulls)o=null;else if(i)for(o=0;i--;)o+=x[i];return o}let LE={average:OE,averages:function(){let x=[];return[].forEach.call(arguments,function(i){x.push(OE(i))}),x[0]===void 0?void 0:x},close:function(x){return x.length?x[x.length-1]:x.hasNulls?null:void 0},high:function(x){return x.length?iR(x):x.hasNulls?null:void 0},hlc:function(x,i,o){if(x=Xr.high(x),i=Xr.low(i),o=Xr.close(o),eo(x)||eo(i)||eo(o))return[x,i,o]},low:function(x){return x.length?rR(x):x.hasNulls?null:void 0},ohlc:function(x,i,o,c){if(x=Xr.open(x),i=Xr.high(i),o=Xr.low(o),c=Xr.close(c),eo(x)||eo(i)||eo(o)||eo(c))return[x,i,o,c]},open:function(x){return x.length?x[0]:x.hasNulls?null:void 0},range:function(x,i){return x=Xr.low(x),i=Xr.high(i),eo(x)||eo(i)?[x,i]:x===null&&i===null?null:void 0},sum:NE};sR(Xr,LE);let xv={groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%[AebHMSL]","%[AebHMSL]","-%[HMSL]"],second:["%[AebHMS]","%[AebHMS]","-%[HMS]"],minute:["%[AebHM]","%[AebHM]","-%[HM]"],hour:["%[AebHM]","%[AebHM]","-%[HM]"],day:["%[AebY]","%[Aeb]","-%[AebY]"],week:["%v %[AebY]","%[Aeb]","-%[AebY]"],month:["%[BY]","%[B]","-%[BY]"],year:["%Y","%Y","-%Y"]}},IE={line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},oR=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],{addEvent:PE,extend:lR,merge:cR,pick:jE}=We;function zE(x){let i=this,o=i.series;o.forEach(function(c){c.groupPixelWidth=void 0}),o.forEach(function(c){c.groupPixelWidth=i.getGroupPixelWidth&&i.getGroupPixelWidth(),c.groupPixelWidth&&(c.hasProcessed=!0),c.applyGrouping(!!x.hasExtremesChanged)})}function uR(){let x=this.series,i=x.length,o=0,c=!1,h,f;for(;i--;)(f=x[i].options.dataGrouping)&&(o=Math.max(o,jE(f.groupPixelWidth,xv.groupPixelWidth)),h=(x[i].dataTable.getModified()||x[i].dataTable).rowCount,(x[i].groupPixelWidth||h>this.chart.plotSizeX/o||h&&f.forced)&&(c=!0));return c?o:0}function dR(){this.series.forEach(function(x){x.hasProcessed=!1})}function hR(x,i){let o;if(i=jE(i,!0),x||(x={forced:!1,units:null}),this instanceof p)for(o=this.series.length;o--;)this.series[o].update({dataGrouping:x},!1);else this.chart.options.series.forEach(function(c){c.dataGrouping=typeof x=="boolean"?x:cR(x,c.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),i&&this.chart.redraw()}let fR=function(x){p=x;let i=x.prototype;i.applyGrouping||(PE(x,"afterSetScale",dR),PE(x,"postProcessData",zE),lR(i,{applyGrouping:zE,getGroupPixelWidth:uR,setDataGrouping:hR}))},{series:{prototype:BE}}=Bt,{addEvent:mx,defined:vg,error:FE,extend:pR,isNumber:us,merge:yx,pick:gR,splat:mR}=We,yR=BE.generatePoints;function vR(x){var i,o,c;let h,f,g=this.chart,v=this.options.dataGrouping,b=this.allowDG!==!1&&v&&gR(v.enabled,g.options.isStock),E=this.reserveSpace(),M=this.currentDataGrouping,w,A,k=!1;b&&!this.requireSorting&&(this.requireSorting=k=!0);let N=(i=this,o=x,!!(i.isCartesian&&!i.isDirty&&!i.xAxis.isDirty&&!i.yAxis.isDirty&&!o)||!b);if(k&&(this.requireSorting=!1),N)return;this.destroyGroupedData();let I=v.groupAll?this.dataTable:this.dataTable.getModified()||this.dataTable,j=this.getColumn("x",!v.groupAll),z=g.plotSizeX,V=this.xAxis,q=V.getExtremes(),Q=V.options.ordinal,ee=this.groupPixelWidth;if(ee&&j&&I.rowCount&&z&&us(q.min)){f=!0,this.isDirty=!0,this.points=null;let te=q.min,J=q.max,ne=Q&&V.ordinal&&V.ordinal.getGroupIntervalFactor(te,J,this)||1,de=ee*(J-te)/z*ne,me=V.getTimeTicks($f.Additions.prototype.normalizeTimeTickInterval(de,v.units||oR),Math.min(te,j[0]),Math.max(J,j[j.length-1]),V.options.startOfWeek,j,this.closestPointRange),se=BE.groupData.apply(this,[I,me,v.approximation]),we=se.modified,Ne=we.getColumn("x",!0),_e=0;for(v?.smoothed&&we.rowCount&&(v.firstAnchor="firstPoint",v.anchor="middle",v.lastAnchor="lastPoint",FE(32,!1,g,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),h=1;h<me.length;h++)me.info.segmentStarts&&me.info.segmentStarts.indexOf(h)!==-1||(_e=Math.max(me[h]-me[h-1],_e));(w=me.info).gapSize=_e,this.closestPointRange=me.info.totalRange,this.groupMap=se.groupMap,this.currentDataGrouping=w,(function(He,Ue,qe){let vt=He.options.dataGrouping,ut=He.currentDataGrouping&&He.currentDataGrouping.gapSize,Jt=He.getColumn("x");if(!(vt&&Jt.length&&ut&&He.groupMap))return;let rt=Ue.length-1,ft=vt.anchor,Nt=vt.firstAnchor,pt=vt.lastAnchor,en=Ue.length-1,In=0;if(Nt&&Jt[0]>=Ue[0]){let Gt;In++;let zn=He.groupMap[0].start,Ui=He.groupMap[0].length;us(zn)&&us(Ui)&&(Gt=zn+(Ui-1)),Ue[0]={start:Ue[0],middle:Ue[0]+.5*ut,end:Ue[0]+ut,firstPoint:Jt[0],lastPoint:Gt&&Jt[Gt]}[Nt]}if(rt>0&&pt&&ut&&Ue[rt]>=qe-ut){en--;let Gt=He.groupMap[He.groupMap.length-1].start;Ue[rt]={start:Ue[rt],middle:Ue[rt]+.5*ut,end:Ue[rt]+ut,firstPoint:Gt&&Jt[Gt],lastPoint:Jt[Jt.length-1]}[pt]}if(ft&&ft!=="start"){let Gt=ut*{middle:.5,end:1}[ft];for(;en>=In;)Ue[en]+=Gt,en--}})(this,Ne||[],J),E&&Ne&&(vg((c=Ne)[0])&&us(V.min)&&us(V.dataMin)&&c[0]<V.min&&((!vg(V.options.min)&&V.min<=V.dataMin||V.min===V.dataMin)&&(V.min=Math.min(c[0],V.min)),V.dataMin=Math.min(c[0],V.dataMin)),vg(c[c.length-1])&&us(V.max)&&us(V.dataMax)&&c[c.length-1]>V.max&&((!vg(V.options.max)&&us(V.dataMax)&&V.max>=V.dataMax||V.max===V.dataMax)&&(V.max=Math.max(c[c.length-1],V.max)),V.dataMax=Math.max(c[c.length-1],V.dataMax))),v.groupAll&&(this.allGroupedTable=we,Ne=(we=(A=this.cropData(we,V.min||0,V.max||0)).modified).getColumn("x"),this.cropStart=A.start),this.dataTable.modified=we}else this.groupMap=void 0,this.currentDataGrouping=void 0;this.hasGroupedData=f,this.preventGraphAnimation=(M&&M.totalRange)!==(w&&w.totalRange)}function HE(){this.groupedData&&(this.groupedData.forEach(function(x,i){x&&(this.groupedData[i]=x.destroy?x.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedTable)}function bR(){yR.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function xR(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function UE(x,i,o){let c=x.getColumn("x",!0)||[],h=x.getColumn("y",!0),f=this,g=f.data,v=f.options&&f.options.data,b=[],E=new Ka,M=[],w=x.rowCount,A=!!h,k=[],N=f.pointArrayMap,I=N&&N.length,j=["x"].concat(N||["y"]),z=(N||["y"]).map(()=>[]),V=this.options.dataGrouping&&this.options.dataGrouping.groupAll,q,Q,ee,te=0,J=0,ne=typeof o=="function"?o:o&&Xr[o]?Xr[o]:Xr[f.getDGApproximation&&f.getDGApproximation()||"average"];if(I){let se=N.length;for(;se--;)k.push([])}else k.push([]);let de=I||1;for(let se=0;se<=w;se++)if(!(c[se]<i[0])){for(;i[te+1]!==void 0&&c[se]>=i[te+1]||se===w;){if(q=i[te],f.dataGroupInfo={start:V?J:f.cropStart+J,length:k[0].length,groupStart:q},ee=ne.apply(f,k),f.pointClass&&!vg(f.dataGroupInfo.options)&&(f.dataGroupInfo.options=yx(f.pointClass.prototype.optionsToObject.call({series:f},f.options.data[f.cropStart+J])),j.forEach(function(we){delete f.dataGroupInfo.options[we]})),ee!==void 0){b.push(q);let we=mR(ee);for(let Ne=0;Ne<we.length;Ne++)z[Ne].push(we[Ne]);M.push(f.dataGroupInfo)}J=se;for(let we=0;we<de;we++)k[we].length=0,k[we].hasNulls=!1;if(te+=1,se===w)break}if(se===w)break;if(N){let we,Ne=V?se:f.cropStart+se,_e=g&&g[Ne]||f.pointClass.prototype.applyOptions.apply({series:f},[v[Ne]]);for(let He=0;He<I;He++)us(we=_e[N[He]])?k[He].push(we):we===null&&(k[He].hasNulls=!0)}else us(Q=A?h[se]:null)?k[0].push(Q):Q===null&&(k[0].hasNulls=!0)}let me={x:b};return(N||["y"]).forEach((se,we)=>{me[se]=z[we]}),E.setColumns(me),{groupMap:M,modified:E}}function wR(x){let i=x.options,o=this.type,c=this.chart.options.plotOptions,h=this.useCommonDataGrouping&&xv,f=Un.defaultOptions.plotOptions[o].dataGrouping;if(c&&(IE[o]||h)){let g=this.chart.rangeSelector;f||(f=yx(xv,IE[o])),i.dataGrouping=yx(h,f,c.series&&c.series.dataGrouping,c[o].dataGrouping,this.userOptions.dataGrouping,!i.isInternal&&g&&us(g.selected)&&g.buttonOptions[g.selected].dataGrouping)}}let SR=function(x){let i=x.prototype;i.applyGrouping||(mx(x.prototype.pointClass,"update",function(){if(this.dataGroup)return FE(24,!1,this.series.chart),!1}),mx(x,"afterSetOptions",wR),mx(x,"destroy",HE),pR(i,{applyGrouping:vR,destroyGroupedData:HE,generatePoints:bR,getDGApproximation:xR,groupData:UE}))},{format:ER}=$n,{composed:AR}=ce,{addEvent:CR,extend:DR,isNumber:TR,pick:MR,pushUnique:_R}=We;function RR(x){let i=this.chart,o=i.time,c=x.point,h=c.series,f=h.options,g=h.tooltipOptions,v=f.dataGrouping,b=h.xAxis,E=g.xDateFormat||"",M,w,A,k,N,I=g[x.isFooter?"footerFormat":"headerFormat"];if(b&&b.options.type==="datetime"&&v&&TR(c.key)){w=h.currentDataGrouping,A=v.dateTimeLabelFormats||xv.dateTimeLabelFormats,w?(k=A[w.unitName],w.count===1?E=k[0]:(E=k[1],M=k[2])):!E&&A&&b.dateTime&&(E=b.dateTime.getXDateFormat(c.x,g.dateTimeLabelFormats));let j=MR(h.groupMap?.[c.index].groupStart,c.key),z=j+(w?.totalRange||0)-1;N=o.dateFormat(E,j),M&&(N+=o.dateFormat(M,z)),h.chart.styledMode&&(I=this.styledModeFormat(I)),x.text=ER(I,{point:DR(c,{key:N}),series:h},i),x.preventDefault()}}ce.dataGrouping=ce.dataGrouping||{},ce.dataGrouping.approximationDefaults=ce.dataGrouping.approximationDefaults||LE,ce.dataGrouping.approximations=ce.dataGrouping.approximations||Xr,{compose:function(x,i,o){fR(x),SR(i),o&&_R(AR,"DataGrouping")&&CR(o,"headerFormatter",RR)},groupData:UE}.compose(ce.Axis,ce.Series,ce.Tooltip);let{defined:F4,isNumber:GE,pick:kR}=We,{addEvent:VE,isObject:OR,pick:NR,defined:LR,merge:IR}=We,{getAssignedAxis:WE}={getAssignedAxis:function(x){return x.filter(i=>{let o=i.axis.getExtremes(),c=o.min,h=o.max,f=kR(i.axis.minPointOffset,0);return GE(c)&&GE(h)&&i.value>=c-f&&i.value<=h+f&&!i.axis.options.isInternal})[0]}},YE=[],PR={enabled:!0,sensitivity:1.1,showResetButton:!1},jR=function(x,i,o,c,h,f,g){let v=NR(g.type,x.zooming.type,""),b=[];v==="x"?b=o:v==="y"?b=c:v==="xy"&&(b=x.axes);let E=x.transform({axes:b,to:{x:h-5,y:f-5,width:10,height:10},from:{x:h-5*i,y:f-5*i,width:10*i,height:10*i},trigger:"mousewheel",allowResetButton:g.showResetButton});return E&&(LR(y)&&clearTimeout(y),y=setTimeout(()=>{x.pointer?.drop()},400)),E};function zR(){var x;let i=(OR(x=this.zooming.mouseWheel)||(x={enabled:x??!0}),IR(PR,x));i.enabled&&VE(this.container,"wheel",o=>{o=this.pointer?.normalize(o)||o;let{pointer:c}=this,h=c&&!c.inClass(o.target,"highcharts-no-mousewheel");if(this.isInsidePlot(o.chartX-this.plotLeft,o.chartY-this.plotTop)&&h){let f=i.sensitivity||1.1,g=o.detail||(o.deltaY||0)/120,v=WE(c.getCoordinates(o).xAxis),b=WE(c.getCoordinates(o).yAxis);jR(this,Math.pow(f,g),v?[v.axis]:this.xAxis,b?[b.axis]:this.yAxis,o.chartX,o.chartY,i)&&o.preventDefault?.()}})}ce.MouseWheelZoom=ce.MouseWheelZoom||{compose:function(x){YE.indexOf(x)===-1&&(YE.push(x),VE(x,"afterGetContainer",zR))}},ce.MouseWheelZoom.compose(ce.Chart),ce.Navigator=ce.Navigator||pa,ce.OrdinalAxis=ce.OrdinalAxis||pv,ce.RangeSelector=ce.RangeSelector||qr,ce.Scrollbar=ce.Scrollbar||ha,ce.stockChart=ce.stockChart||yE.stockChart,ce.StockChart=ce.StockChart||ce.stockChart,ce.extend(ce.StockChart,yE),V0.compose(ce.Series,ce.Axis,ce.Point),Ih.compose(ce.Renderer),ju.compose(ce.Series),ce.Navigator.compose(ce.Chart,ce.Axis,ce.Series),ce.OrdinalAxis.compose(ce.Axis,ce.Series,ce.Chart),ce.RangeSelector.compose(ce.Axis,ce.Chart),ce.Scrollbar.compose(ce.Axis),ce.StockChart.compose(ce.Chart,ce.Axis,ce.Series,ce.SVGRenderer),ce.product="Highstock";let BR=ce;return _t.default})())})(Zv)),Zv.exports}var NL=OL();const Qh=Jg(NL);var Qv={exports:{}},LL=Qv.exports,OA;function IL(){return OA||(OA=1,(function(e,t){(function(n,a){e.exports=a(n._Highcharts)})("u"<typeof window?LL:window,n=>(()=>{var a,l,d={944:B=>{B.exports=n}},p={};function y(B){var F=p[B];if(F!==void 0)return F.exports;var W=p[B]={exports:{}};return d[B](W,W.exports,y),W.exports}y.n=B=>{var F=B&&B.__esModule?()=>B.default:()=>B;return y.d(F,{a:F}),F},y.d=(B,F)=>{for(var W in F)y.o(F,W)&&!y.o(B,W)&&Object.defineProperty(B,W,{enumerable:!0,get:F[W]})},y.o=(B,F)=>Object.prototype.hasOwnProperty.call(B,F);var S={};y.d(S,{default:()=>H});var T=y(944),_=y.n(T);let{setOptions:O}=_(),{createElement:L}=_();(a=l||(l={})).options={colors:["#8087E8","#A3EDBA","#F19E53","#6699A1","#E1D369","#87B4E7","#DA6D85","#BBBAC5"],chart:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#1f1836"],[1,"#45445d"]]},style:{fontFamily:"IBM Plex Sans, sans-serif"}},title:{style:{fontSize:"22px",fontWeight:"500",color:"#fff"}},subtitle:{style:{fontSize:"16px",fontWeight:"400",color:"#fff"}},credits:{style:{color:"#f0f0f0"}},caption:{style:{color:"#f0f0f0"}},tooltip:{borderWidth:0,backgroundColor:"#f0f0f0",shadow:!0},legend:{backgroundColor:"transparent",itemStyle:{fontWeight:"400",fontSize:"12px",color:"#fff"},itemHoverStyle:{fontWeight:"700",color:"#fff"}},plotOptions:{series:{dataLabels:{color:"#46465C",style:{fontSize:"13px"}},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:null,upColor:"#DA6D85",upLineColor:"#DA6D85"},errorbar:{color:"white"},dumbbell:{lowColor:"#f0f0f0"},map:{borderColor:"#909090",nullColor:"#78758C"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"},drillUpButton:{theme:{fill:"#fff"}}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"#fff",fontSize:"12px"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#fff"}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:"#fff",fontSize:"12px"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#fff",fontWeight:"300"}}},colorAxis:{gridLineColor:"#45445d",labels:{style:{color:"#fff",fontSize:"12px"}},minColor:"#342f95",maxColor:"#2caffe",tickColor:"#45445d"},mapNavigation:{enabled:!0,buttonOptions:{theme:{fill:"#46465C","stroke-width":1,stroke:"#BBBAC5",r:2,style:{color:"#fff"},states:{hover:{fill:"#000","stroke-width":1,stroke:"#f0f0f0",style:{color:"#fff"}},select:{fill:"#000","stroke-width":1,stroke:"#f0f0f0",style:{color:"#fff"}}}}}},rangeSelector:{buttonTheme:{fill:"#46465C",stroke:"#BBBAC5","stroke-width":1,style:{color:"#fff"},states:{hover:{fill:"#1f1836",style:{color:"#fff"},"stroke-width":1,stroke:"white"},select:{fill:"#1f1836",style:{color:"#fff"},"stroke-width":1,stroke:"white"}}},inputBoxBorderColor:"#BBBAC5",inputStyle:{backgroundColor:"#2F2B38",color:"#fff"},labelStyle:{color:"#fff"}},navigator:{handles:{backgroundColor:"#BBBAC5",borderColor:"#2F2B38"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#A3EDBA",lineColor:"#A3EDBA"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#BBBAC5",barBorderColor:"#808083",buttonArrowColor:"#2F2B38",buttonBackgroundColor:"#BBBAC5",buttonBorderColor:"#2F2B38",rifleColor:"#2F2B38",trackBackgroundColor:"#78758C",trackBorderColor:"#2F2B38"}},a.apply=function(){L("link",{href:"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@200;300;400;600;700",rel:"stylesheet",type:"text/css"},null,document.getElementsByTagName("head")[0]),O(a.options)};let P=l;_().theme=P.options,P.apply();let H=_();return S.default})())})(Qv)),Qv.exports}var PL=IL();const NA=Jg(PL),jw="theme",zw="useChartsBackgroundColor";function Ux(){kg.setOptions(NA.theme),Qh.setOptions(NA.theme);const e={"carrot-orange":"#102433",inchworm:"#201f1e"};let t="blue-pink-gradient";try{const d=localStorage.getItem(jw);d&&(t=JSON.parse(d))}catch{}const n=localStorage.getItem(zw),l={tooltip:{style:{fontSize:"15px"}},...!(n==="true"||n===!0)&&{chart:{backgroundColor:t?e[t]:"#282a36"}}};kg.setOptions(l),Qh.setOptions(l),kg.setOptions({plotOptions:{series:{animation:!1,boostThreshold:4e3}}}),Qh.setOptions({plotOptions:{series:{animation:!1,boostThreshold:4e3}}})}function Gb(){G.useEffect(()=>{Ux()},[]),G.useEffect(()=>{const e=n=>{(n.key===zw||n.key===jw)&&Ux()},t=n=>{const a=n.detail;(a?.key===zw||a?.key===jw)&&Ux()};return window.addEventListener("storage",e),window.addEventListener("localStorageChange",t),()=>{window.removeEventListener("storage",e),window.removeEventListener("localStorageChange",t)}},[])}const $4=({children:e})=>(Gb(),D.jsx(D.Fragment,{children:e})),so=({show:e,onClose:t,children:n,title:a,headerContent:l,topContent:d,footer:p})=>{const y=G.useRef(null),[S,T]=G.useState(!1);G.useEffect(()=>(e?document.documentElement.classList.add("vaul-drawer-open"):document.documentElement.classList.remove("vaul-drawer-open"),()=>document.documentElement.classList.remove("vaul-drawer-open")),[e]),G.useEffect(()=>{if(!e||S)return;const O=requestAnimationFrame(()=>{document.querySelectorAll("[data-vaul-drawer]").forEach(L=>{L.style.removeProperty("height"),L.style.removeProperty("bottom")})});return()=>cancelAnimationFrame(O)},[e,S]),G.useEffect(()=>{if(!e){T(!1);return}const O=()=>{if(window.visualViewport){const L=window.visualViewport.height,P=window.innerHeight,H=L<P-150;S&&!H&&(window.scrollTo(0,0),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},100)),T(H)}};return window.visualViewport?.addEventListener("resize",O),()=>window.visualViewport?.removeEventListener("resize",O)},[e,S]),G.useEffect(()=>{if(!e||!y.current||!S)return;const O=L=>{const P=L.target;P&&(P.tagName==="INPUT"||P.tagName==="TEXTAREA")&&setTimeout(()=>{P&&y.current&&P.scrollIntoView({behavior:"smooth",block:"center"})},300)};return document.addEventListener("focusin",O),()=>document.removeEventListener("focusin",O)},[e,S]);const _=()=>{t({preventDefault:()=>{}})};return D.jsx(ya.Root,{open:e,onOpenChange:O=>{O||_()},repositionInputs:!1,children:D.jsxs(ya.Portal,{children:[D.jsx(ya.Overlay,{className:"fixed inset-0 z-[9999] bg-black/75 backdrop-blur-[6px] [-webkit-backdrop-filter:blur(6px)]"}),D.jsxs(ya.Content,{className:"fixed left-0 right-0 bottom-0 z-[10000] mx-auto flex h-[85dvh] max-h-[94dvh] w-full max-w-[640px] flex-col overflow-hidden rounded-t-2xl bg-[var(--color-app-bg)] outline-none transition-[height] duration-300 ease-in-out",style:S?{height:"calc(100dvh - 20px)",maxHeight:"94dvh"}:void 0,children:[D.jsx("div",{className:"flex shrink-0 justify-center py-2",children:D.jsx(ya.Handle,{className:"h-[5px] w-[42px] rounded-full bg-white/25"})}),(a||l)&&D.jsx("div",{className:"flex shrink-0 items-center justify-between border-b border-app-subtle px-5 py-4",children:l||D.jsxs(D.Fragment,{children:[D.jsx(ya.Title,{asChild:!0,children:D.jsx("h3",{className:"m-0 text-base font-semibold text-app-primary",children:a})}),D.jsx("button",{type:"button",onClick:_,className:"cursor-pointer rounded-full border-none bg-transparent p-2 text-xl text-app-muted transition-colors hover:bg-white/10 hover:text-white",children:D.jsx(tm,{})})]})}),d&&D.jsx("div",{className:"shrink-0 bg-app-surface px-5 py-4 text-app-secondary text-[0.95rem]",children:d}),D.jsx("div",{ref:y,className:`modal-body flex-1 overflow-y-auto px-5 py-5 max-[480px]:p-4
              [&>*:last-child]:mb-20
              [&_.form-group]:mb-4 [&_.form-group]:flex [&_.form-group]:flex-col [&_.form-group]:gap-2
              [&_.form-group_label]:relative [&_.form-group_label]:pl-3 [&_.form-group_label]:text-sm [&_.form-group_label]:font-semibold [&_.form-group_label]:text-app-secondary
              [&_.form-group.required_label]:before:absolute [&_.form-group.required_label]:before:left-0 [&_.form-group.required_label]:before:top-1/2 [&_.form-group.required_label]:before:-translate-y-1/2 [&_.form-group.required_label]:before:content-['*'] [&_.form-group.required_label]:before:font-bold [&_.form-group.required_label]:before:text-[0.9rem] [&_.form-group.required_label]:before:text-[var(--color-error)]
              [&_.form-input]:min-h-12 [&_.form-input]:w-full [&_.form-input]:rounded-lg [&_.form-input]:border [&_.form-input]:border-[var(--color-input-border)] [&_.form-input]:bg-[var(--color-input-bg)] [&_.form-input]:px-3 [&_.form-input]:py-3 [&_.form-input]:text-base [&_.form-input]:text-app-primary [&_.form-input]:outline-none
              [&_.form-textarea]:min-h-[90px] [&_.form-textarea]:w-full [&_.form-textarea]:rounded-lg [&_.form-textarea]:border [&_.form-textarea]:border-[var(--color-input-border)] [&_.form-textarea]:bg-[var(--color-input-bg)] [&_.form-textarea]:px-3 [&_.form-textarea]:py-3 [&_.form-textarea]:text-base [&_.form-textarea]:text-app-primary [&_.form-textarea]:outline-none`,children:n}),p&&D.jsx("div",{className:`modal-footer sticky bottom-0 shrink-0 border-t border-app-subtle bg-[var(--color-app-bg)] px-5 py-4 pb-[calc(1rem+env(safe-area-inset-bottom))] backdrop-blur-xl max-[480px]:px-4
                [&_.btn-submit]:inline-flex [&_.btn-submit]:min-h-12 [&_.btn-submit]:w-full [&_.btn-submit]:cursor-pointer [&_.btn-submit]:items-center [&_.btn-submit]:justify-center [&_.btn-submit]:gap-2 [&_.btn-submit]:rounded-lg [&_.btn-submit]:border-0 [&_.btn-submit]:px-4 [&_.btn-submit]:py-3 [&_.btn-submit]:text-base [&_.btn-submit]:font-semibold [&_.btn-submit]:text-[var(--color-btn-on-accent)]
                [&_.btn-submit]:bg-[linear-gradient(135deg,var(--color-app-accent),var(--color-app-accent-hover))] [&_.btn-submit]:shadow-[0_2px_8px_var(--color-app-accent-shadow)]
                [&_.btn-submit_svg]:size-5 [&_.btn-submit_svg]:shrink-0
                [&_.btn-submit:hover]:opacity-90 [&_.btn-submit:disabled]:opacity-70 [&_.btn-submit:disabled]:cursor-not-allowed`,children:p})]})]})})},Vb=()=>{const[e,t]=G.useState(null),[n,a]=G.useState(null),[l,d]=G.useState(null),[p,y]=G.useState(!1),[S,T]=G.useState(!1),[_,O]=G.useState({}),[L,P]=G.useState(null),H=G.useRef(0),B=G.useRef(!1),F=G.useRef(typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);return{startX:e,startY:n,swipedItemId:l,deleteVisible:p,editVisible:S,extraRowStyle:_,isSwiping:L,handleTouchStart:(K,re,ue)=>{const X=K.touches[0];if(X){t(X.clientX),a(X.clientY),d(re);const ie=ue.current?.querySelector(`[data-id="${re}"]`);if(ie){ie.style.transition="transform 0s";const pe=ie.getBoundingClientRect();O({position:"fixed",zIndex:"1",top:`${pe.top}px`,width:`${pe.width}px`,height:`${pe.height}px`})}}},handleTouchMove:(K,re)=>{if(L===null){const ue=K.touches[0];if(ue&&e!==null&&n!==null){const X=e-ue.clientX,ie=n-ue.clientY,pe=Math.abs(X)>Math.abs(ie);P(pe)}}else if(L){B.current||(B.current=!0,F.current?(re.current&&(re.current.style.overflowX="hidden",re.current.style.overflowY="auto",re.current.style.webkitOverflowScrolling="auto",re.current.style.willChange="transform",re.current.style.overscrollBehaviorX="contain",re.current.style.overscrollBehaviorY="contain",re.current.style.pointerEvents="auto",re.current.style.touchAction="pan-y pinch-zoom"),document.body.style.touchAction="pan-y",document.body.style.overscrollBehaviorX="contain",document.documentElement.style.overflowX="hidden",document.documentElement.style.touchAction="pan-y"):(H.current=window.pageYOffset||document.documentElement.scrollTop||0,document.body.style.overflow="hidden",document.body.style.touchAction="none",document.body.style.position="fixed",document.body.style.top=`-${H.current}px`,document.body.style.width="100%",document.body.style.left="0",document.body.style.right="0",re.current&&(re.current.style.overflowX="hidden",re.current.style.overflowY="hidden")));const ue=K.touches[0].clientX-(e??0),X=re.current?.querySelector(`[data-id="${l}"]`);if(X){X.style.transform=`translateX(${ue}px)`;const ie=X.getBoundingClientRect().width;if(Math.abs(K.touches[0].clientX-(e??0))/ie*100>40){const ye=document.querySelector("body");ye&&ye.classList.add("action-active")}else{const ye=document.querySelector("body");ye&&ye.classList.remove("action-active")}const le=ue>0;y(le),T(!le)}}},handleTouchEnd:(K,re,ue,X,ie)=>{B.current&&(F.current?(document.body.style.touchAction="",document.body.style.overscrollBehaviorX="",document.documentElement.style.overflowX="",document.documentElement.style.touchAction="",re.current&&(re.current.style.overflowX="",re.current.style.overflowY="",re.current.style.webkitOverflowScrolling="touch",re.current.style.willChange="",re.current.style.pointerEvents="",re.current.style.overscrollBehaviorX="",re.current.style.overscrollBehaviorY="",re.current.style.touchAction="")):(document.body.style.overflow="",document.body.style.touchAction="",document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.left="",document.body.style.right="",window.scrollTo(0,H.current),re.current&&(re.current.style.overflowX="",re.current.style.overflowY="")),B.current=!1);const pe=K.changedTouches[0];if(pe&&e!==null){const be=pe.clientX,le=re.current?.querySelector(`[data-id="${ue}"]`);if(L){const ye=Math.abs(be-e),De=le.getBoundingClientRect().width;ye/De*100>40&&(be>e?ie(ue):X(ue))}le&&(le.style.transition="all .3s ease",le.style.transform="translateX(0)"),t(null),d(null),y(!1),T(!1),O({}),P(null)}}}},$D=({description:e,suggestions:t,normalizeTag:n,getTagLabel:a,translationKey:l,className:d=""})=>{const{t:p}=bn(),y=n||Zu;if(!e)return null;const S=ML(e);let T=S;const _=[],O=t.map(B=>({original:B,normalized:y(B)}));O.forEach(({original:B,normalized:F})=>{const W=new RegExp(`#${F}\\b`,"gi");W.test(S)&&(_.push(F),T=T.replace(W,"").trim())}),T=T.replace(/\s+/g," ").trim();const L={};O.forEach(({original:B,normalized:F})=>{L[F]=B});const P="inline-flex flex-wrap gap-1.5 items-center",H="inline-block bg-white/10 rounded-md py-1 px-2 text-xs font-medium text-white/60 whitespace-nowrap";return D.jsxs("span",{className:d,children:[T&&D.jsxs("span",{className:"inline",children:[T,_.length>0&&D.jsx("span",{className:`${P} ml-2`,children:_.map(B=>{const F=a?a(L[B]||B):l?p(`${l}.${L[B]||B}`):L[B]||B;return D.jsx("span",{className:H,children:F},B)})})]}),!T&&_.length>0&&D.jsx("span",{className:P,children:_.map(B=>{const F=a?a(L[B]||B):l?p(`${l}.${L[B]||B}`):L[B]||B;return D.jsx("span",{className:H,children:F},B)})})]})},Wb=({status:e})=>{if(!e)return null;const t=e==="pending"?"Pending sync":e==="failed"?"Sync failed":"Synced",n=e==="pending"?"text-amber-500":e==="failed"?"text-red-500":"text-green-500";return D.jsx("div",{className:`inline-flex items-center justify-center ml-2 shrink-0 w-[14px] h-[14px] ${n}`,title:t,children:e==="pending"?D.jsx(Dw,{size:14}):e==="failed"?D.jsx(H1,{size:14}):D.jsx(Ib,{size:14})})},jL=({items:e,handleEdit:t,setShowDeleteModal:n,handleClearChangedItem:a,changedItems:l,pendingSyncIds:d})=>{const p=G.useRef(null),[y,S]=G.useState("date"),[T,_]=G.useState("desc"),{t:O,language:L}=bn(),{handleTouchStart:P,handleTouchMove:H,handleTouchEnd:B,deleteVisible:F,editVisible:W,swipedItemId:Y}=Vb();G.useEffect(()=>{Object.keys(l).forEach(pe=>{const be=setTimeout(()=>{a(pe)},2e3);return()=>clearTimeout(be)})},[l,a]);const $=G.useMemo(()=>[...e,...Object.values(l||{}).filter(pe=>pe.type==="removed"&&pe.data.type==="incomes").map(pe=>pe.data)],[e,l]),K=G.useCallback(pe=>{y===pe?_(T==="asc"?"desc":"asc"):(S(pe),_("desc"))},[y,T]),re=G.useMemo(()=>[...$].sort((pe,be)=>{if(!y)return new Date(be.dt).getTime()-new Date(pe.dt).getTime();if(y==="date"){const le=new Date(pe.dt).getTime(),ye=new Date(be.dt).getTime();return T==="asc"?le-ye:ye-le}if(y==="amount"){const le=typeof pe.sum=="string"?parseFloat(pe.sum):pe.sum,ye=typeof be.sum=="string"?parseFloat(be.sum):be.sum;return T==="asc"?le-ye:ye-le}return 0}),[$,y,T]),ue=pe=>y!==pe?D.jsx(Pb,{}):T==="asc"?D.jsx(Lb,{}):D.jsx(Nb,{}),X="rounded-lg py-2 px-4 text-white/60 text-sm cursor-pointer flex items-center gap-2 transition-all duration-200 bg-white/[0.05] border-none hover:bg-white/10 hover:text-white/80 [&_svg]:text-sm",ie="bg-[rgba(91,141,239,0.2)] text-[#5b8def] font-medium";return D.jsxs("div",{className:"flex flex-col gap-2 w-full relative overflow-x-hidden overflow-y-auto touch-pan-y",style:{WebkitOverflowScrolling:"touch"},ref:p,children:[D.jsxs("div",{className:"mb-3",children:[D.jsx("h3",{className:"text-lg font-semibold text-white m-0 mb-2 tracking-tight text-center",children:O("income.incomeRecords")}),D.jsxs("div",{className:"flex gap-2",children:[D.jsxs("button",{type:"button",className:`${X} ${y==="date"?ie:""}`,onClick:()=>K("date"),children:["Date ",ue("date")]}),D.jsxs("button",{type:"button",className:`${X} ${y==="amount"?ie:""}`,onClick:()=>K("amount"),children:["Amount ",ue("amount")]})]})]}),D.jsx("div",{className:"flex flex-col gap-2",children:re.map(pe=>{const be=l[pe.id]?.type,le=new Date(pe.dt),ye=le.getDate(),De=le.getFullYear(),Fe=kb(L),$e=le.toLocaleDateString(Fe,{month:"short"}).toUpperCase(),oe=Y===pe.id,Ee=!!d?.[pe.id]||typeof pe.id=="string"&&pe.id.startsWith("temp_");return D.jsxs("div",{className:`relative w-full rounded-2xl overflow-hidden ${be==="added"?"animate-[slideIn_0.3s_ease]":""} ${be==="removed"?"animate-[slideOut_0.3s_ease] opacity-50":""}`,children:[D.jsxs("div",{className:`swipe-actions-background rounded-2xl ${oe&&(F||W)?"visible":""}`,children:[oe&&F&&D.jsx("div",{className:"delete-action-bg",children:D.jsx(nf,{})}),oe&&W&&D.jsx("div",{className:"edit-action-bg",children:D.jsx(ys,{})})]}),D.jsxs("div",{"data-id":pe.id,className:"bg-white/[0.05] rounded-2xl py-4 pr-6 pl-4 flex items-start gap-4 cursor-pointer transition-all duration-200 relative z-[1] w-full min-h-0 touch-pan-y overflow-hidden hover:bg-white/10 hover:translate-x-1 active:scale-[0.98]",style:{touchAction:"pan-y pan-x pinch-zoom"},onTouchStart:Ie=>P(Ie,pe.id,p),onTouchMove:Ie=>H(Ie,p),onTouchEnd:Ie=>B(Ie,p,pe.id,t,n),children:[D.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[50px] shrink-0",children:[D.jsx("div",{className:"text-2xl font-bold text-white leading-none",children:ye}),D.jsx("div",{className:"text-xs font-semibold text-white/50 mt-1 tracking-wide",children:$e}),D.jsx("div",{className:"text-xs font-semibold text-white/50 tracking-wide",children:De})]}),D.jsx("div",{className:"flex-1 min-w-0",children:D.jsx("div",{className:"text-base font-medium text-white/90 leading-snug break-words",children:D.jsx($D,{description:pe.dsc||"",suggestions:Zo,getTagLabel:Ie=>O(`income.tags.${Ie}`)||Ie,translationKey:"income.tags"})})}),D.jsxs("div",{className:"text-lg font-bold text-white whitespace-nowrap pr-2 shrink-0 flex items-center gap-1",children:[Tt(pe.sum),D.jsx(Wb,{status:Ee?"pending":void 0})]})]})]},pe.id)})})]})},zL=Ge.memo(jL),qD=()=>{const[e,t]=G.useState(!1),n=G.useCallback(()=>{t(!0)},[]),a=G.useCallback(()=>{setTimeout(()=>t(!1),200)},[]),l=G.useCallback(()=>{t(!0)},[]),d=G.useCallback(()=>{t(!1)},[]);return{isFilterFocused:e,handleFocus:n,handleBlur:a,handleChipClick:l,handleSelection:d}},BL=({textFilter:e,selectedTag:t,dateRange:n,onTextFilterChange:a,onTagFilterChange:l,onDateRangeChange:d,onClearFilters:p,onFilterPanelOpenChange:y})=>{const{t:S}=bn(),{data:T}=xs(),_=G.useRef(null),{isFilterFocused:O,handleFocus:L,handleBlur:P,handleChipClick:H,handleSelection:B}=qD(),F=G.useCallback(le=>{const ye=le.relatedTarget;if(ye!=null){if(_.current?.contains(ye))return;P();return}setTimeout(()=>{const De=document.activeElement;_.current?.contains(De)||P()},200)},[P]);G.useEffect(()=>{if(!O)return;const le=ye=>{const De=ye.target;De&&_.current&&!_.current.contains(De)&&P()};return document.addEventListener("pointerdown",le),()=>document.removeEventListener("pointerdown",le)},[O,P]),G.useEffect(()=>{y?.(O)},[O,y]);const W=!!(n?.start&&n?.end),Y=e||t||W,$=G.useMemo(()=>{if(!n?.start||!n?.end)return"";const le=ye=>new Date(ye+"T12:00:00").toLocaleDateString(void 0,{day:"numeric",month:"short",year:"numeric"});return`${le(n.start)}  ${le(n.end)}`},[n]),K=G.useMemo(()=>{if(!T.incomeData||T.incomeData.length===0)return[];const le={};return T.incomeData.forEach(ye=>{Zo.forEach(De=>{Ob(ye,De)&&(le[De]=(le[De]||0)+1)})}),Zo.filter(ye=>le[ye]>0)},[T.incomeData]),re=t?S(`income.tags.${t}`)||t:"",ue=G.useCallback(le=>{le===t?l(""):(l(le),B())},[t,l,B]),X="flex items-center bg-white/[0.05] rounded-2xl px-4 gap-3 w-full transition-all duration-200 focus-within:bg-white/[0.08] focus-within:ring-2 focus-within:ring-white/20 focus-within:ring-inset border border-white/[0.08] focus-within:border-white/20",ie="flex items-center gap-1.5 text-xs font-medium py-2 px-3 rounded-2xl whitespace-nowrap shrink-0 cursor-pointer transition-all duration-200 border border-white/20 bg-gradient-to-br from-[var(--color-app-accent)] to-[var(--color-app-accent-hover)] text-white [&_svg]:text-[0.75rem] hover:opacity-90 hover:scale-[1.02] active:scale-[0.98]",pe="rounded-[20px] py-2 px-4 text-sm cursor-pointer transition-all border bg-white/[0.05] border-white/10 text-white/70 hover:bg-white/10 hover:border-white/20 hover:text-white/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30 focus-visible:ring-offset-2 focus-visible:ring-offset-black/80",be="rounded-[20px] py-2 px-4 text-sm cursor-pointer transition-all border bg-gradient-to-br from-[var(--color-app-accent)] to-[var(--color-app-accent-hover)] border-transparent text-white font-medium shadow-[0_2px_8px_var(--color-app-accent-shadow)] hover:shadow-[0_2px_12px_var(--color-app-accent-shadow)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/40 focus-visible:ring-offset-2 focus-visible:ring-offset-black/80";return D.jsxs("div",{ref:_,className:"relative z-[1100] w-full flex flex-col gap-3 mb-6 overflow-x-hidden max-w-full",role:"search",children:[D.jsxs("div",{className:X,children:[D.jsx(G1,{className:"text-white/40 text-lg shrink-0","aria-hidden":!0}),W&&!O&&D.jsxs("div",{className:ie,onClick:H,onKeyDown:le=>le.key==="Enter"&&H(),role:"button",tabIndex:0,"aria-label":$,title:$,children:[D.jsx(fc,{"aria-hidden":!0}),D.jsx("span",{className:"truncate max-w-[140px]",children:$})]}),t&&!O&&D.jsx("div",{className:ie,onClick:H,onKeyDown:le=>le.key==="Enter"&&H(),role:"button",tabIndex:0,"aria-label":re,children:re}),D.jsx("input",{type:"search",value:e,onChange:le=>a(le.target.value),onFocus:L,onBlur:F,placeholder:S((t||W)&&!O?"filters.searchInMonth":"filters.search"),className:"flex-1 bg-transparent border-none py-4 text-white text-[0.95rem] outline-none min-w-0 placeholder:text-white/40 focus:outline-none","aria-label":S("filters.search"),autoComplete:"off"}),Y&&D.jsxs("button",{type:"button",onClick:p,className:"flex items-center gap-1.5 shrink-0 py-2 px-3 rounded-xl border border-transparent text-white/50 hover:text-white/90 hover:bg-white/10 transition-colors cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30 focus-visible:ring-offset-2 focus-visible:ring-offset-black/80",title:S("filters.clearAll"),"aria-label":S("filters.clearAll"),children:[D.jsx(tm,{className:"text-lg","aria-hidden":!0}),D.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:S("filters.clear")})]})]}),O&&D.jsxs("div",{className:`flex flex-col gap-0 min-h-0 max-h-[min(480px,65vh)] overflow-x-hidden w-full max-w-full overflow-y-auto rounded-2xl border border-white/[0.1] bg-white/[0.06] shadow-[0_8px_32px_rgba(0,0,0,0.4)] animate-[slideDown_0.2s_ease-out]
            [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-track]:bg-white/[0.04] [&::-webkit-scrollbar-thumb]:bg-white/20 [&::-webkit-scrollbar-thumb]:rounded-full hover:[&::-webkit-scrollbar-thumb]:bg-white/30`,role:"region","aria-label":S("filters.tags"),children:[K.length>0&&D.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 px-4 py-4 border-b border-white/[0.06]",children:[D.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-semibold uppercase tracking-widest text-white/50 [&_svg]:size-3.5 [&_svg]:text-[var(--color-app-accent)]",children:[D.jsx(wS,{"aria-hidden":!0}),S("filters.tags")||"Tags"]}),D.jsxs("div",{className:"flex flex-wrap gap-2 overflow-x-hidden w-full max-w-full",children:[D.jsx("button",{type:"button",onClick:()=>ue(""),className:t?pe:be,"aria-pressed":!t,children:S("filters.all")||"All"}),K.map(le=>D.jsx("button",{type:"button",onClick:()=>ue(le),className:t===le?be:pe,"aria-pressed":t===le,children:S(`income.tags.${le}`)||le},le))]})]}),D.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 px-4 py-4 border-b border-white/[0.06]",children:[D.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-semibold uppercase tracking-widest text-white/50 [&_svg]:size-3.5 [&_svg]:text-[var(--color-app-accent)]",children:[D.jsx(fc,{"aria-hidden":!0}),S("filters.dateRange")]}),D.jsxs("div",{className:"flex flex-col gap-3",children:[D.jsxs("div",{className:"flex flex-col gap-1.5",children:[D.jsx("label",{className:"text-white/70 text-sm font-medium",children:S("filters.dateFrom")}),D.jsx("input",{type:"date",value:n?.start??"",onChange:le=>{const ye=le.target.value,De=n?.end??"";if(!ye&&!De)d(null);else{const Fe=ye?ye>new Date().toISOString().slice(0,10)?ye:new Date().toISOString().slice(0,10):"";d({start:ye,end:De||Fe})}},className:"min-h-11 w-full rounded-xl border border-white/[0.12] bg-white/[0.06] px-3 py-2.5 text-white text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-app-accent)]/40 focus:border-white/20","aria-label":S("filters.dateFrom")})]}),D.jsxs("div",{className:"flex flex-col gap-1.5",children:[D.jsx("label",{className:"text-white/70 text-sm font-medium",children:S("filters.dateTo")}),D.jsx("input",{type:"date",value:n?.end??"",onChange:le=>{const ye=le.target.value,De=n?.start??"";d(!De&&!ye?null:{start:De||ye,end:ye})},min:n?.start,className:"min-h-11 w-full rounded-xl border border-white/[0.12] bg-white/[0.06] px-3 py-2.5 text-white text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-app-accent)]/40 focus:border-white/20","aria-label":S("filters.dateTo")})]})]})]})]})]})},FL=G.memo(BL);var HL=XR();const Vg=Jg(HL),LA=(e,t=!1)=>t?null:e>10?D.jsx(Ib,{color:"#16a34a"}):e>0?D.jsx(U1,{color:"#eab308"}):D.jsx($1,{color:"#dc2626"});function UL(e){return e.map(t=>({...t,data:t.data.map(([n,a])=>[n,a!==null&&a<=0?null:a])}))}function GL(e,t){return{type:"logarithmic",title:{text:e},minorTickInterval:"auto",labels:{formatter:function(){return t(this.value)}}}}function VL(e,t){return{shared:!0,useHTML:!0,formatter:function(){const n=this,a=n.points??[],d=`<div style="margin-bottom:6px"><b>${a?.[0]?.key??n.key??(n.x!==void 0?String(n.x):"")}</b></div>`,p=a.map(y=>{const S=y?.y;return S==null?"":`
            <div style="margin:2px 0">
              <span style="color:${y.color}"></span>
              <span style="opacity:.9">${y.series.name}:</span>
              <b style="margin-left:6px">${t(S)} ${e}</b>
            </div>
          `}).filter(Boolean).join("");return`<div style="min-width:160px">${d}${p}</div>`}}}const WL=({filteredIncomeData:e,isFiltered:t=!1})=>{const{data:n}=xs(),a=em(),{t:l}=bn(),[d,p]=G.useState(new Set),{totalIncomePerYear:y,totalPerYear:S,totalSpent:T,totalIncomePerYearAndMonth:_}=G.useMemo(()=>{const be=e!==void 0?e:n.incomeData||[],le=(n.raw||[]).filter(Fe=>Fe.type==="transaction"),ye={totalIncomePerYear:{},totalPerYear:{},totalSpent:0,totalIncomePerYearAndMonth:{}},De=["January","February","March","April","May","June","July","August","September","October","November","December"];return be.forEach(Fe=>{if(!Fe.dt)return;const $e=new Date(Fe.dt);if(isNaN($e.getTime()))return;const oe=$e.getFullYear(),Ee=$e.getMonth(),Ie=`${De[Ee]} ${oe}`;ye.totalIncomePerYear[oe]||(ye.totalIncomePerYear[oe]=0),ye.totalIncomePerYearAndMonth[oe]||(ye.totalIncomePerYearAndMonth[oe]={}),ye.totalIncomePerYearAndMonth[oe][Ie]||(ye.totalIncomePerYearAndMonth[oe][Ie]=0);const Ye=parseFloat(Fe.sum||"0");ye.totalIncomePerYear[oe]+=Ye,ye.totalIncomePerYearAndMonth[oe][Ie]+=Ye}),le.forEach(Fe=>{if(!Fe.dt)return;const $e=new Date(Fe.dt);if(isNaN($e.getTime()))return;const oe=$e.getFullYear();ye.totalPerYear[oe]||(ye.totalPerYear[oe]=0);const Ee=parseFloat(Fe.sum||"0");ye.totalPerYear[oe]+=Ee,ye.totalSpent+=Ee}),ye},[e,n.incomeData,n.raw]),O=sk(),L=G.useMemo(()=>{const be=hk(_,!1,O,!0);return UL(be)},[_,O]),P=G.useMemo(()=>({chart:{type:"line",zooming:{type:"x"}},boost:{useGPUTranslations:!0},title:{text:l("charts.yearsInReview")},xAxis:{type:"category",categories:O,crosshair:!0},yAxis:GL(a,Tt),tooltip:VL(a,Tt),credits:{enabled:!1},series:L}),[l,O,a,L]);let H=0,B=0;const F=Object.keys(y).sort((be,le)=>parseInt(be)-parseInt(le)),W=(be,le)=>!le||le===0?null:(be-le)/le*100,Y=(be,le=!1)=>{if(be===null)return null;const ye=be>=0?"+":"";let De;return le?De=be>=0?"#f87171":"#4ade80":De=be>=0?"#4ade80":"#f87171",D.jsxs("span",{style:{color:De},children:[" ","(",ye,Tt(be),"%)"]})},$=be=>{p(le=>{const ye=new Set(le);return ye.has(be)?ye.delete(be):ye.add(be),ye})},K="overflow-hidden w-full",re="hover:bg-white/[0.02]",ue="py-3 px-3 sm:px-4 text-white font-medium text-[0.9rem] sm:text-[0.95rem] align-middle",X="py-3 px-3 sm:px-4 text-right text-white font-medium text-[0.9rem] sm:text-[0.95rem] tabular-nums align-middle",ie="py-3 px-3 sm:px-4 text-white/60 text-xs font-bold uppercase tracking-wider align-middle",pe="py-3 px-3 sm:px-4 text-right text-white/60 text-xs font-bold uppercase tracking-wider align-middle";return D.jsxs("div",{className:"mt-6 w-full min-w-0 max-w-full -mx-1 sm:-mx-2 md:-mx-3",children:[D.jsx(Vg,{highcharts:kg,options:P}),D.jsxs("span",{className:"block text-[#e0e0e3] text-xl uppercase tracking-wide mt-5 mb-4 font-semibold text-center",children:[l("income.totalIncomePerYear"),":"]}),D.jsx("div",{className:"w-full min-w-0 overflow-x-auto sm:overflow-visible",style:{WebkitOverflowScrolling:"touch"},children:D.jsx("div",{className:K,children:D.jsxs("table",{className:"w-full min-w-[320px] sm:min-w-0 border-collapse sm:table-auto",children:[D.jsxs("colgroup",{children:[D.jsx("col",{className:"w-[14%] sm:w-auto"}),D.jsx("col",{className:"w-[28%] sm:w-auto"}),!t&&D.jsxs(D.Fragment,{children:[D.jsx("col",{className:"w-[28%] sm:w-auto"}),D.jsx("col",{className:"w-[30%] sm:w-auto"})]})]}),D.jsx("thead",{children:D.jsxs("tr",{className:re,children:[D.jsx("th",{className:ie,children:l("income.year")}),D.jsx("th",{className:pe,children:l("common.income")}),!t&&D.jsxs(D.Fragment,{children:[D.jsx("th",{className:pe,children:l("income.spent")}),D.jsx("th",{className:pe,children:l("income.savings")})]})]})}),D.jsxs("tbody",{children:[F.map((be,le)=>{const ye=y[be],De=S[be]||0,Fe=ye-De,$e=(De/ye-1)*-100;t||(H+=Fe),B+=ye;const oe=le-1,Ee=oe>=0?F[oe]:null,Ie=Ee?y[Ee]:null,Ye=Ee?S[Ee]||0:null,je=Ie!==null?W(ye,Ie):null,Re=Ye!==null?W(De,Ye):null,ge=`income-${be}`,Ae=`spent-${be}`,Be=d.has(ge),Xe=d.has(Ae);return D.jsxs("tr",{className:re,children:[D.jsx("td",{className:ue,children:D.jsxs("div",{className:"flex items-center gap-2",children:[!t&&LA($e),D.jsx("span",{children:be})]})}),D.jsxs("td",{className:`${X} cursor-pointer select-none`,onClick:()=>$(ge),children:[Tt(ye),!t&&Be&&Y(je,!1)]}),!t&&D.jsxs(D.Fragment,{children:[D.jsxs("td",{className:`${X} cursor-pointer select-none`,onClick:()=>$(Ae),children:[Tt(De),Xe&&Y(Re,!0)]}),D.jsx("td",{className:X,children:D.jsxs("div",{className:"flex flex-col items-end",children:[D.jsx("span",{className:Fe<0?"text-red-400 font-semibold":"",children:Tt(Fe)}),isFinite($e)&&D.jsxs("span",{className:`text-[0.8rem] ${Fe<0?"text-red-400":"text-white/70"}`,children:["(",Tt($e),"%)"]})]})})]})]},le)}),!t&&D.jsxs("tr",{className:`${re} bg-white/[0.02]`,children:[D.jsx("td",{className:ue,children:D.jsxs("div",{className:"flex items-center gap-2",children:[LA((T/B-1)*-100),D.jsx("span",{className:"font-semibold uppercase tracking-wide",children:l("common.total")})]})}),D.jsx("td",{className:"py-3 px-4 text-right text-white font-semibold text-[0.95rem] tabular-nums align-middle",children:Tt(B)}),D.jsx("td",{className:"py-3 px-4 text-right text-white font-semibold text-[0.95rem] tabular-nums align-middle",children:Tt(T)}),D.jsx("td",{className:"py-3 px-4 text-right align-middle",children:D.jsxs("div",{className:"flex flex-col items-end",children:[D.jsx("span",{className:H<0?"text-red-400 font-semibold text-[0.95rem]":"text-white font-semibold text-[0.95rem]",children:Tt(H)}),D.jsxs("span",{className:H<0?"text-red-400 text-[0.8rem]":"text-white/70 text-[0.8rem]",children:["(",Tt((T/B-1)*-100),"%)"]})]})})]})]})]})})})]})};function YL(){const{data:e}=xs(),t=em(),{t:n,language:a}=bn(),l=e.incomeData||[],d=G.useMemo(()=>{if(!l||l.length===0)return{pieData:[],lineData:{},months:[],lineSeries:[]};const S={};Zo.forEach(B=>{S[B]=0});let T=0;const _={},O=new Set;l.forEach(B=>{const F=parseFloat(B.sum||"0"),W=new Date(B.dt),Y=`${f1[W.getMonth()]} ${W.getFullYear()}`;O.add(Y),_[Y]||(_[Y]={},Zo.forEach(K=>{_[Y][K]=0}),_[Y].untagged=0);let $=!1;for(const K of Zo)if(Ob(B,K)){S[K]=S[K]+F,_[Y][K]=_[Y][K]+F,$=!0;break}$||(T+=F,_[Y].untagged=(_[Y].untagged||0)+F)});const L=Object.entries(S).map(([B,F])=>({name:n(`income.tags.${B}`)||B,y:F})).filter(B=>B.y>0);T>0&&L.push({name:n("income.tags.untagged"),y:T});const P=Array.from(O).sort((B,F)=>{const W=Ev(B),Y=Ev(F);return!W||!Y||isNaN(W.getTime())||isNaN(Y.getTime())?0:W.getTime()-Y.getTime()}),H=Zo.map(B=>{const F=n(`income.tags.${B}`)||B,W=P.map(Y=>{const $=Ev(Y);return $&&!isNaN($.getTime())?[Date.UTC($.getFullYear(),$.getMonth(),1),_[Y]?.[B]||0]:[0,0]});return{name:F,data:W,type:"line",visible:B==="salary"}}).concat([{name:n("income.tags.untagged"),data:P.map(B=>{const F=Ev(B);return F&&!isNaN(F.getTime())?[Date.UTC(F.getFullYear(),F.getMonth(),1),_[B]?.untagged||0]:[0,0]}),type:"line",visible:!1}]).filter(B=>B.data.some(F=>F[1]>0));return{pieData:L,lineData:_,months:P,lineSeries:H}},[l,a,n]),p={chart:{type:"pie"},boost:{useGPUTranslations:!0},title:{text:n("income.incomeBySource")||"Income by Source",verticalAlign:"middle"},tooltip:{pointFormat:"{point.y} {series.name} ({point.percentage:.2f}%)"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",innerSize:"70%",borderWidth:2,borderColor:"#1a1a1a",dataLabels:{enabled:!1},states:{hover:{brightness:.1,halo:{size:10}},select:{brightness:.1}},slicedOffset:10}},credits:{enabled:!1},series:[{type:"pie",name:t,data:d.pieData}]},y={chart:{type:"line",zooming:{type:"x"}},boost:{useGPUTranslations:!0},title:{text:n("income.incomeEvolutionBySource")||"Income Evolution by Source"},xAxis:{type:"datetime",crosshair:!0},yAxis:{title:{text:"Amount"},min:0},tooltip:{shared:!0,split:!1,xDateFormat:"%B %Y"},plotOptions:{line:{marker:{enabled:!0}}},credits:{enabled:!1},rangeSelector:{selected:1,buttons:[{type:"all",text:"View All"},{type:"year",count:1,text:"1 Year"},{type:"year",count:2,text:"2 Years"},{type:"year",count:5,text:"5 Years"}],allButtonsEnabled:!0},legend:{enabled:!0},series:d.lineSeries};return d.pieData.length===0?D.jsxs("div",{className:"text-center",children:[D.jsx("h3",{className:"text-lg font-semibold text-white m-0 mb-2",children:n("income.incomeIntelligence")||"Income Intelligence"}),D.jsx("p",{className:"text-white/70 m-0",children:n("income.noIncomeDataAvailable")||"No income data available. Add income entries with tags like #salary, #freelance, #bonus, #interest, or #gift."})]}):D.jsxs("div",{children:[D.jsx("div",{style:{marginBottom:"2rem"},children:D.jsx(Vg,{highcharts:Qh,options:p})}),D.jsx("div",{children:D.jsx(Vg,{highcharts:Qh,constructorType:"stockChart",options:y})})]})}const $L=Ge.memo(YL);function Wg(e){const[t,n]=G.useState({}),a=G.useRef("");return G.useEffect(()=>{let l=!0;const d=async()=>{try{const y=await tf(),S={};y.forEach(_=>{_.localId&&e.includes(_.entityType)&&(S[_.localId]=!0)});const T=Object.keys(S).sort().join("|");l&&T!==a.current&&(a.current=T,n(S))}catch{}},p=()=>{setTimeout(d,200)};return d(),window.addEventListener("sync-start",d),window.addEventListener("sync-end",p),window.addEventListener("online",d),window.addEventListener("offline",d),window.addEventListener("sync-queue-changed",d),()=>{l=!1,window.removeEventListener("sync-start",d),window.removeEventListener("sync-end",p),window.removeEventListener("online",d),window.removeEventListener("offline",d),window.removeEventListener("sync-queue-changed",d)}},[e.join(",")]),t}const mc="h-full w-full max-w-full overflow-x-hidden overflow-y-auto relative box-border bg-[var(--color-app-bg)] pt-0 px-4 pb-[calc(80px+env(safe-area-inset-bottom,0))] md:px-6 [&_*]:box-border overflow-touch";class qL{token;skipAuth;showNotification;dataDispatch;dispatch;retryConfig;constructor(t){this.token=t.token,this.skipAuth=t.skipAuth,this.showNotification=t.showNotification,this.dataDispatch=t.dataDispatch,this.dispatch=t.dispatch,this.retryConfig=t.retryConfig||fS.standard}createHeaders(t=!1){const n=new Headers({Accept:"application/json","Content-Type":"application/json"});return!t&&this.token&&n.set("JWT-Authorization",`Bearer ${this.token}`),n}async handleErrorResponse(t,n){if(t.status===403&&(xt.error("API request unauthorized (403)"),this.dispatch&&this.dataDispatch))try{if((await fetch(`${Qn}/jwt/token`,{method:"GET",headers:this.createHeaders()})).status===403)throw sb(this.dispatch,this.dataDispatch),this.showNotification&&this.showNotification("Session expired. Please log in again.","error",{groupId:"session-expired",duration:1e4}),new Error("Session expired. Please log in again.")}catch{throw this.dispatch&&this.dataDispatch&&sb(this.dispatch,this.dataDispatch),this.showNotification&&this.showNotification("Session expired. Please log in again.","error",{groupId:"session-expired",duration:1e4}),new Error("Session expired. Please log in again.")}const l=await t.text().catch(()=>t.statusText)||`HTTP error! status: ${t.status}`;throw new Error(l)}async parseResponse(t){const n=t.headers.get("content-type");if(t.headers.get("content-length")==="0"||!n)return null;if(n&&n.includes("application/json")){const l=await t.text();if(!l||l.trim()==="")return null;try{return JSON.parse(l)}catch(d){throw xt.warn("Failed to parse JSON response:",d),new Error("Failed to parse server response")}}return await t.text()}async request(t,n={}){const{skipRetry:a=!1,skipAuth:l=!1,...d}=n;if(!Xu())return{data:null,error:new Error("No internet connection"),success:!1};const p=t.startsWith("http")?t:`${Qn}${t}`,y=this.createHeaders(l);d.headers&&(d.headers instanceof Headers?d.headers.forEach((T,_)=>{y.set(_,T)}):Object.entries(d.headers).forEach(([T,_])=>{y.set(T,String(_))}));const S={...d,headers:y};try{let T;if(a)T=await fetch(p,S);else{const O=await hS(async()=>{const L=await fetch(p,S);return L.ok||await this.handleErrorResponse(L,p),L},{...this.retryConfig,onRetry:(L,P)=>{xt.warn(`Retrying API request to ${t} (attempt ${L}):`,P)}});if(!O.success){const L=O.error instanceof Error?O.error:new Error("Request failed after retries");if(this.showNotification){const P=L.message||"Network error. Please try again.";this.showNotification(P,"error")}return{data:null,error:L,success:!1}}T=O.data}return{data:await this.parseResponse(T),error:null,success:!0}}catch(T){const _=T instanceof Error?T:new Error("An unexpected error occurred");if(xt.error(`API request failed for ${t}:`,_),this.showNotification){const O=_.message||"An error occurred. Please try again.";this.showNotification(O,"error")}return{data:null,error:_,success:!1}}}async get(t,n){return this.request(t,{...n,method:"GET"})}async post(t,n,a){return this.request(t,{...a,method:"POST",body:n?JSON.stringify(n):void 0})}async patch(t,n,a){return this.request(t,{...a,method:"PATCH",body:n?JSON.stringify(n):void 0})}async delete(t,n){return this.request(t,{...n,method:"DELETE"})}updateToken(t){this.token=t}updateNotificationHandler(t){this.showNotification=t}}function XL(e){return new qL(e)}const _S={LOGIN:"/user/login/google?_format=json",TOKEN_REFRESH:"/jwt/token",EXPENSES:"/api/expenses",EXPENSE:e=>`/node/${e}?_format=json`,CREATE_NODE:"/node?_format=json",LOANS:"/api/loans",LOAN:e=>`/node/${e}?_format=json`,LOAN_PAYMENTS:e=>`/api/payments/${e}`};let Mg=null;async function XD(e,t,n={}){return Mg||(Mg=(async()=>{const{category:a="",textFilter:l=""}=n;if(Fa()){const y=await qu();if(y&&y.length>0){const S=[...y].sort((T,_)=>{const O=new Date(T.dt).getTime(),P=new Date(_.dt).getTime()-O;if(P!==0)return P;const H=T.cr||new Date(T.dt).getTime();return(_.cr||new Date(_.dt).getTime())-H});JE(S,T=>{t({type:"SET_DATA",raw:S,...T,totals:T.monthsTotals,loading:!1}),(a||l)&&t({type:"FILTER_DATA",category:a,textFilter:l})})}}const d=await e.get(_S.EXPENSES,{skipRetry:!1});if(!d.success||!d.data){if(Fa()){const y=await qu();if(y&&y.length>0){const S=hc(y);t({type:"SET_DATA",raw:y,...S,totals:S.monthsTotals,loading:!1}),(a||l)&&t({type:"FILTER_DATA",category:a,textFilter:l})}else t({type:"SET_DATA",raw:[],loading:!1})}else t({type:"SET_DATA",raw:[],loading:!1});return}const p=d.data.map(y=>(y.cr||(y.cr=new Date(y.dt).getTime()),y));Fa()&&await y1(p),JE(p,y=>{t({type:"SET_DATA",raw:p,...y,totals:y.monthsTotals,loading:!1}),(a||l)&&t({type:"FILTER_DATA",category:a,textFilter:l})})})().finally(()=>{Mg=null}),Mg)}function im(){const e=nl(),t=wc(),{dataDispatch:n}=xs(),a=cf();return G.useMemo(()=>e?.token?XL({token:e.token,showNotification:t,dataDispatch:n,dispatch:a}):null,[e?.token,t,n,a])}const ZL=()=>{Gb();const e=wc(),{t}=bn(),{token:n}=nl(),[a,l]=G.useState(!1),[d,p]=G.useState(!1),[y,S]=G.useState(!1),[T,_]=G.useState(!1),{data:O,dataDispatch:L}=xs(),P=O.groupedData===null,H=O.loading,[B,F]=G.useState(!1),[W,Y]=G.useState(10),[$,K]=G.useState(!1),[re,ue]=G.useState({textFilter:"",selectedTag:"",dateRange:null}),X=im(),ie=Wg(["income"]);G.useEffect(()=>{P&&X&&XD(X,L)},[P,X,L]);const[pe,be]=G.useState({nid:"",field_date:"",field_amount:"",field_description:""}),le=G.useMemo(()=>O.incomeData?O.incomeData.filter(je=>{if(re.textFilter&&!je.dsc.toLowerCase().includes(re.textFilter.toLowerCase())||re.selectedTag&&!Ob(je,re.selectedTag))return!1;if(re.dateRange?.start&&re.dateRange?.end){if(!je.dt)return!1;const Re=new Date(je.dt).getFullYear(),ge=String(new Date(je.dt).getMonth()+1).padStart(2,"0"),Ae=String(new Date(je.dt).getDate()).padStart(2,"0"),Be=`${Re}-${ge}-${Ae}`;if(Be<re.dateRange.start||Be>re.dateRange.end)return!1}return!0}):[],[O.incomeData,re]),ye=G.useCallback(je=>{ue(Re=>((je.textFilter!==Re.textFilter||je.selectedTag!==Re.selectedTag||je.dateRange!==void 0&&JSON.stringify(je.dateRange)!==JSON.stringify(Re.dateRange))&&Y(20),{textFilter:je.textFilter,selectedTag:je.selectedTag,dateRange:je.dateRange!==void 0?je.dateRange:Re.dateRange}))},[]),De=G.useCallback(je=>{const Re=O.incomeData.find(ge=>ge.id===je);be({nid:Re.id,field_date:Re.dt,field_amount:Re.sum,field_description:Re.dsc}),p(!0)},[O.incomeData]),Fe=G.useCallback((je,Re)=>{F(!0),gS(je,Re,ge=>{ge.ok?(e(t("notification.incomeDeleted"),Cn.SUCCESS),F(!1)):(e(t("error.unknown"),Cn.ERROR),F(!1)),l(!1)},L)},[L,e,t]),$e=G.useCallback(je=>{L({type:"CLEAR_CHANGED_ITEM",id:je})},[L]),oe=le?.reduce((je,Re)=>je+parseFloat(Re.sum||"0"),0)||0,Ee=le?.length||0,Ie=G.useMemo(()=>{if(re.dateRange?.start&&re.dateRange?.end)return gk(re.dateRange.start,re.dateRange.end);const je=O.raw[O.raw.length-1]?.dt;return je?parseFloat(pk(je).toFixed(2)):1},[re.dateRange,O.raw]),Ye=oe/Math.max(1,Ie);return H?D.jsx("div",{className:mc,children:D.jsx(id,{})}):D.jsxs("div",{className:mc,children:[D.jsx(ES,{title:t("income.title"),subtitle:re.textFilter||re.selectedTag||re.dateRange?.start&&re.dateRange?.end?`${Ee} ${t(Ee===1?"income.incomeRecord":"income.incomeRecords")}`:`${O.incomeData?.length||0} ${(O.incomeData?.length||0)===1?t("income.incomeRecord"):t("income.incomeRecords")}`}),D.jsx(FL,{textFilter:re.textFilter,selectedTag:re.selectedTag,dateRange:re.dateRange,onTextFilterChange:je=>ye({...re,textFilter:je}),onTagFilterChange:je=>ye({...re,selectedTag:je}),onDateRangeChange:je=>ye({...re,dateRange:je}),onClearFilters:()=>ye({textFilter:"",selectedTag:"",dateRange:null}),onFilterPanelOpenChange:K}),D.jsxs(AS,{columns:2,filtered:!1,children:[D.jsx(el,{icon:D.jsx(Jo,{}),value:Tt(oe),label:t("income.totalIncome")}),D.jsx(el,{icon:D.jsx(W1,{}),value:Tt(Ye),label:t("income.averageIncome")})]}),D.jsx("div",{className:"mb-8",children:P?D.jsx(rf,{icon:D.jsx(Jo,{}),title:t("income.noIncome"),description:t("income.noIncomeDesc")}):D.jsxs(D.Fragment,{children:[le&&le.length?D.jsx(zL,{items:le.slice(0,W),handleEdit:De,setShowDeleteModal:l,changedItems:O.changedItems,handleClearChangedItem:$e,pendingSyncIds:ie}):D.jsx(rf,{icon:D.jsx(Jo,{}),title:t("income.noIncome"),description:t("income.noIncomeDesc")}),le?.length>W&&D.jsx("div",{className:"flex justify-center items-center py-4 mt-2",children:D.jsxs("button",{type:"button",onClick:()=>Y(W+10),className:"inline-flex items-center justify-center gap-2 py-2.5 px-5 rounded-xl bg-[var(--color-app-accent)]/20 border border-[var(--color-app-accent)]/40 text-[var(--color-app-accent)] text-[0.95rem] font-semibold cursor-pointer transition-all duration-200 hover:bg-[var(--color-app-accent)]/30 hover:border-[var(--color-app-accent)]/50 hover:-translate-y-0.5 active:translate-y-0 shadow-[0_2px_8px_rgba(0,0,0,0.15)] [&_svg]:text-sm",children:[D.jsx(cb,{}),D.jsxs("span",{children:[t("common.loadMore")," (",le.length-W," ",t("common.remaining"),")"]})]})})]})}),O.incomeData?.length?D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"mb-8",children:D.jsx(WL,{filteredIncomeData:le,isFiltered:!!(re.textFilter||re.selectedTag||re.dateRange?.start&&re.dateRange?.end)})}),le&&le.length?D.jsx("div",{className:"mb-8",children:D.jsx($L,{})}):null]}):null,D.jsx(Fb,{open:!!a,onClose:()=>l(!1),onConfirm:()=>a&&Fe(a,n),title:t("income.deleteIncome"),isSubmitting:B}),D.jsx(so,{show:d,onClose:je=>{je.preventDefault(),p(!1),S(!1)},title:t(y?"incomeForm.addIncome":"incomeForm.editIncome"),footer:D.jsx("button",{type:"submit",form:`income-form-${y?"add":"edit"}`,disabled:T,className:"btn-submit",children:T?D.jsxs("div",{className:"loader",children:[D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"})]}):y?D.jsxs(D.Fragment,{children:[D.jsx(ps,{}),D.jsx("span",{children:t("incomeForm.addIncome")})]}):D.jsxs(D.Fragment,{children:[D.jsx(ys,{}),D.jsx("span",{children:t("incomeForm.editIncome")})]})}),children:D.jsx(_L,{formType:y?"add":"edit",values:y?{}:pe,hideSubmitButton:!0,onFormReady:(je,Re)=>{_(Re)},onSuccess:()=>{p(!1),S(!1)}})}),!$&&D.jsx("button",{onClick:()=>{p(!0),S(!0)},className:"fab",title:t("incomeForm.addIncome"),children:D.jsx(ps,{})})]})};function QL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return G.useMemo(()=>a=>{t.forEach(l=>l(a))},t)}const Yb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uf(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function RS(e){return"nodeType"in e}function ta(e){var t,n;return e?uf(e)?e:RS(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function kS(e){const{Document:t}=ta(e);return e instanceof t}function rm(e){return uf(e)?!1:e instanceof ta(e).HTMLElement}function ZD(e){return e instanceof ta(e).SVGElement}function df(e){return e?uf(e)?e.document:RS(e)?kS(e)?e:rm(e)||ZD(e)?e.ownerDocument:document:document:document}const oo=Yb?G.useLayoutEffect:G.useEffect;function OS(e){const t=G.useRef(e);return oo(()=>{t.current=e}),G.useCallback(function(){for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t.current==null?void 0:t.current(...a)},[])}function KL(){const e=G.useRef(null),t=G.useCallback((a,l)=>{e.current=setInterval(a,l)},[]),n=G.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Yg(e,t){t===void 0&&(t=[e]);const n=G.useRef(e);return oo(()=>{n.current!==e&&(n.current=e)},t),n}function am(e,t){const n=G.useRef();return G.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function hb(e){const t=OS(e),n=G.useRef(null),a=G.useCallback(l=>{l!==n.current&&t?.(l,n.current),n.current=l},[]);return[n,a]}function Bw(e){const t=G.useRef();return G.useEffect(()=>{t.current=e},[e]),t.current}let Gx={};function sm(e,t){return G.useMemo(()=>{if(t)return t;const n=Gx[e]==null?0:Gx[e]+1;return Gx[e]=n,e+"-"+n},[e,t])}function QD(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),l=1;l<n;l++)a[l-1]=arguments[l];return a.reduce((d,p)=>{const y=Object.entries(p);for(const[S,T]of y){const _=d[S];_!=null&&(d[S]=_+e*T)}return d},{...t})}}const Kh=QD(1),fb=QD(-1);function JL(e){return"clientX"in e&&"clientY"in e}function NS(e){if(!e)return!1;const{KeyboardEvent:t}=ta(e.target);return t&&e instanceof t}function eI(e){if(!e)return!1;const{TouchEvent:t}=ta(e.target);return t&&e instanceof t}function Fw(e){if(eI(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return JL(e)?{x:e.clientX,y:e.clientY}:null}const af=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[af.Translate.toString(e),af.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),IA="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function tI(e){return e.matches(IA)?e:e.querySelector(IA)}const nI={display:"none"};function iI(e){let{id:t,value:n}=e;return Ge.createElement("div",{id:t,style:nI},n)}function rI(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ge.createElement("div",{id:t,style:l,role:"status","aria-live":a,"aria-atomic":!0},n)}function aI(){const[e,t]=G.useState("");return{announce:G.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const KD=G.createContext(null);function sI(e){const t=G.useContext(KD);G.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function oI(){const[e]=G.useState(()=>new Set),t=G.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[G.useCallback(a=>{let{type:l,event:d}=a;e.forEach(p=>{var y;return(y=p[l])==null?void 0:y.call(p,d)})},[e]),t]}const lI={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},cI={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function uI(e){let{announcements:t=cI,container:n,hiddenTextDescribedById:a,screenReaderInstructions:l=lI}=e;const{announce:d,announcement:p}=aI(),y=sm("DndLiveRegion"),[S,T]=G.useState(!1);if(G.useEffect(()=>{T(!0)},[]),sI(G.useMemo(()=>({onDragStart(O){let{active:L}=O;d(t.onDragStart({active:L}))},onDragMove(O){let{active:L,over:P}=O;t.onDragMove&&d(t.onDragMove({active:L,over:P}))},onDragOver(O){let{active:L,over:P}=O;d(t.onDragOver({active:L,over:P}))},onDragEnd(O){let{active:L,over:P}=O;d(t.onDragEnd({active:L,over:P}))},onDragCancel(O){let{active:L,over:P}=O;d(t.onDragCancel({active:L,over:P}))}}),[d,t])),!S)return null;const _=Ge.createElement(Ge.Fragment,null,Ge.createElement(iI,{id:a,value:l.draggable}),Ge.createElement(rI,{id:y,announcement:p}));return n?ro.createPortal(_,n):_}var Pi;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Pi||(Pi={}));function pb(){}function PA(e,t){return G.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function dI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return G.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const vs=Object.freeze({x:0,y:0});function hI(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function fI(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function pI(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function gI(e){let{left:t,top:n,height:a,width:l}=e;return[{x:t,y:n},{x:t+l,y:n},{x:t,y:n+a},{x:t+l,y:n+a}]}function mI(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function yI(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),d=Math.min(t.top+t.height,e.top+e.height),p=l-a,y=d-n;if(a<l&&n<d){const S=t.width*t.height,T=e.width*e.height,_=p*y,O=_/(S+T-_);return Number(O.toFixed(4))}return 0}const vI=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const l=[];for(const d of a){const{id:p}=d,y=n.get(p);if(y){const S=yI(y,t);S>0&&l.push({id:p,data:{droppableContainer:d,value:S}})}}return l.sort(pI)};function bI(e,t){const{top:n,left:a,bottom:l,right:d}=t;return n<=e.y&&e.y<=l&&a<=e.x&&e.x<=d}const xI=e=>{let{droppableContainers:t,droppableRects:n,pointerCoordinates:a}=e;if(!a)return[];const l=[];for(const d of t){const{id:p}=d,y=n.get(p);if(y&&bI(a,y)){const T=gI(y).reduce((O,L)=>O+hI(a,L),0),_=Number((T/4).toFixed(4));l.push({id:p,data:{droppableContainer:d,value:_}})}}return l.sort(fI)};function wI(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function JD(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:vs}function SI(e){return function(n){for(var a=arguments.length,l=new Array(a>1?a-1:0),d=1;d<a;d++)l[d-1]=arguments[d];return l.reduce((p,y)=>({...p,top:p.top+e*y.y,bottom:p.bottom+e*y.y,left:p.left+e*y.x,right:p.right+e*y.x}),{...n})}}const EI=SI(1);function AI(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function CI(e,t,n){const a=AI(t);if(!a)return e;const{scaleX:l,scaleY:d,x:p,y}=a,S=e.left-p-(1-l)*parseFloat(n),T=e.top-y-(1-d)*parseFloat(n.slice(n.indexOf(" ")+1)),_=l?e.width/l:e.width,O=d?e.height/d:e.height;return{width:_,height:O,top:T,right:S+_,bottom:T+O,left:S}}const DI={ignoreTransform:!1};function hf(e,t){t===void 0&&(t=DI);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:T,transformOrigin:_}=ta(e).getComputedStyle(e);T&&(n=CI(n,T,_))}const{top:a,left:l,width:d,height:p,bottom:y,right:S}=n;return{top:a,left:l,width:d,height:p,bottom:y,right:S}}function jA(e){return hf(e,{ignoreTransform:!0})}function TI(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function MI(e,t){return t===void 0&&(t=ta(e).getComputedStyle(e)),t.position==="fixed"}function _I(e,t){t===void 0&&(t=ta(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const d=t[l];return typeof d=="string"?n.test(d):!1})}function LS(e,t){const n=[];function a(l){if(t!=null&&n.length>=t||!l)return n;if(kS(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!rm(l)||ZD(l)||n.includes(l))return n;const d=ta(e).getComputedStyle(l);return l!==e&&_I(l,d)&&n.push(l),MI(l,d)?n:a(l.parentNode)}return e?a(e):n}function eT(e){const[t]=LS(e,1);return t??null}function Vx(e){return!Yb||!e?null:uf(e)?e:RS(e)?kS(e)||e===df(e).scrollingElement?window:rm(e)?e:null:null}function tT(e){return uf(e)?e.scrollX:e.scrollLeft}function nT(e){return uf(e)?e.scrollY:e.scrollTop}function Hw(e){return{x:tT(e),y:nT(e)}}var Gi;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Gi||(Gi={}));function iT(e){return!Yb||!e?!1:e===document.scrollingElement}function rT(e){const t={x:0,y:0},n=iT(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,d=e.scrollLeft<=t.x,p=e.scrollTop>=a.y,y=e.scrollLeft>=a.x;return{isTop:l,isLeft:d,isBottom:p,isRight:y,maxScroll:a,minScroll:t}}const RI={x:.2,y:.2};function kI(e,t,n,a,l){let{top:d,left:p,right:y,bottom:S}=n;a===void 0&&(a=10),l===void 0&&(l=RI);const{isTop:T,isBottom:_,isLeft:O,isRight:L}=rT(e),P={x:0,y:0},H={x:0,y:0},B={height:t.height*l.y,width:t.width*l.x};return!T&&d<=t.top+B.height?(P.y=Gi.Backward,H.y=a*Math.abs((t.top+B.height-d)/B.height)):!_&&S>=t.bottom-B.height&&(P.y=Gi.Forward,H.y=a*Math.abs((t.bottom-B.height-S)/B.height)),!L&&y>=t.right-B.width?(P.x=Gi.Forward,H.x=a*Math.abs((t.right-B.width-y)/B.width)):!O&&p<=t.left+B.width&&(P.x=Gi.Backward,H.x=a*Math.abs((t.left+B.width-p)/B.width)),{direction:P,speed:H}}function OI(e){if(e===document.scrollingElement){const{innerWidth:d,innerHeight:p}=window;return{top:0,left:0,right:d,bottom:p,width:d,height:p}}const{top:t,left:n,right:a,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:l,width:e.clientWidth,height:e.clientHeight}}function aT(e){return e.reduce((t,n)=>Kh(t,Hw(n)),vs)}function NI(e){return e.reduce((t,n)=>t+tT(n),0)}function LI(e){return e.reduce((t,n)=>t+nT(n),0)}function II(e,t){if(t===void 0&&(t=hf),!e)return;const{top:n,left:a,bottom:l,right:d}=t(e);eT(e)&&(l<=0||d<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const PI=[["x",["left","right"],NI],["y",["top","bottom"],LI]];class IS{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=LS(n),l=aT(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[d,p,y]of PI)for(const S of p)Object.defineProperty(this,S,{get:()=>{const T=y(a),_=l[d]-T;return this.rect[S]+_},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Og{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var l;(l=this.target)==null||l.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function jI(e){const{EventTarget:t}=ta(e);return e instanceof t?e:df(e)}function Wx(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var Ba;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ba||(Ba={}));function zA(e){e.preventDefault()}function zI(e){e.stopPropagation()}var yn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(yn||(yn={}));const sT={start:[yn.Space,yn.Enter],cancel:[yn.Esc],end:[yn.Space,yn.Enter,yn.Tab]},BI=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case yn.Right:return{...n,x:n.x+25};case yn.Left:return{...n,x:n.x-25};case yn.Down:return{...n,y:n.y+25};case yn.Up:return{...n,y:n.y-25}}};class oT{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Og(df(n)),this.windowListeners=new Og(ta(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ba.Resize,this.handleCancel),this.windowListeners.add(Ba.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ba.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&II(a),n(vs)}handleKeyDown(t){if(NS(t)){const{active:n,context:a,options:l}=this.props,{keyboardCodes:d=sT,coordinateGetter:p=BI,scrollBehavior:y="smooth"}=l,{code:S}=t;if(d.end.includes(S)){this.handleEnd(t);return}if(d.cancel.includes(S)){this.handleCancel(t);return}const{collisionRect:T}=a.current,_=T?{x:T.left,y:T.top}:vs;this.referenceCoordinates||(this.referenceCoordinates=_);const O=p(t,{active:n,context:a.current,currentCoordinates:_});if(O){const L=fb(O,_),P={x:0,y:0},{scrollableAncestors:H}=a.current;for(const B of H){const F=t.code,{isTop:W,isRight:Y,isLeft:$,isBottom:K,maxScroll:re,minScroll:ue}=rT(B),X=OI(B),ie={x:Math.min(F===yn.Right?X.right-X.width/2:X.right,Math.max(F===yn.Right?X.left:X.left+X.width/2,O.x)),y:Math.min(F===yn.Down?X.bottom-X.height/2:X.bottom,Math.max(F===yn.Down?X.top:X.top+X.height/2,O.y))},pe=F===yn.Right&&!Y||F===yn.Left&&!$,be=F===yn.Down&&!K||F===yn.Up&&!W;if(pe&&ie.x!==O.x){const le=B.scrollLeft+L.x,ye=F===yn.Right&&le<=re.x||F===yn.Left&&le>=ue.x;if(ye&&!L.y){B.scrollTo({left:le,behavior:y});return}ye?P.x=B.scrollLeft-le:P.x=F===yn.Right?B.scrollLeft-re.x:B.scrollLeft-ue.x,P.x&&B.scrollBy({left:-P.x,behavior:y});break}else if(be&&ie.y!==O.y){const le=B.scrollTop+L.y,ye=F===yn.Down&&le<=re.y||F===yn.Up&&le>=ue.y;if(ye&&!L.x){B.scrollTo({top:le,behavior:y});return}ye?P.y=B.scrollTop-le:P.y=F===yn.Down?B.scrollTop-re.y:B.scrollTop-ue.y,P.y&&B.scrollBy({top:-P.y,behavior:y});break}}this.handleMove(t,Kh(fb(O,this.referenceCoordinates),P))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}oT.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=sT,onActivation:l}=t,{active:d}=n;const{code:p}=e.nativeEvent;if(a.start.includes(p)){const y=d.activatorNode.current;return y&&e.target!==y?!1:(e.preventDefault(),l?.({event:e.nativeEvent}),!0)}return!1}}];function BA(e){return!!(e&&"distance"in e)}function FA(e){return!!(e&&"delay"in e)}class PS{constructor(t,n,a){var l;a===void 0&&(a=jI(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:d}=t,{target:p}=d;this.props=t,this.events=n,this.document=df(p),this.documentListeners=new Og(this.document),this.listeners=new Og(a),this.windowListeners=new Og(ta(p)),this.initialCoordinates=(l=Fw(d))!=null?l:vs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Ba.Resize,this.handleCancel),this.windowListeners.add(Ba.DragStart,zA),this.windowListeners.add(Ba.VisibilityChange,this.handleCancel),this.windowListeners.add(Ba.ContextMenu,zA),this.documentListeners.add(Ba.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(FA(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(BA(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:l}=this.props;l(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ba.Click,zI,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ba.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:l,props:d}=this,{onMove:p,options:{activationConstraint:y}}=d;if(!l)return;const S=(n=Fw(t))!=null?n:vs,T=fb(l,S);if(!a&&y){if(BA(y)){if(y.tolerance!=null&&Wx(T,y.tolerance))return this.handleCancel();if(Wx(T,y.distance))return this.handleStart()}if(FA(y)&&Wx(T,y.tolerance))return this.handleCancel();this.handlePending(y,T);return}t.cancelable&&t.preventDefault(),p(S)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===yn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const FI={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class jS extends PS{constructor(t){const{event:n}=t,a=df(n.target);super(t,FI,a)}}jS.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a?.({event:n}),!0)}}];const HI={move:{name:"mousemove"},end:{name:"mouseup"}};var Uw;(function(e){e[e.RightClick=2]="RightClick"})(Uw||(Uw={}));class UI extends PS{constructor(t){super(t,HI,df(t.event.target))}}UI.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===Uw.RightClick?!1:(a?.({event:n}),!0)}}];const Yx={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class lT extends PS{constructor(t){super(t,Yx)}static setup(){return window.addEventListener(Yx.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Yx.move.name,t)};function t(){}}}lT.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:l}=n;return l.length>1?!1:(a?.({event:n}),!0)}}];var Ng;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ng||(Ng={}));var gb;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(gb||(gb={}));function GI(e){let{acceleration:t,activator:n=Ng.Pointer,canScroll:a,draggingRect:l,enabled:d,interval:p=5,order:y=gb.TreeOrder,pointerCoordinates:S,scrollableAncestors:T,scrollableAncestorRects:_,delta:O,threshold:L}=e;const P=WI({delta:O,disabled:!d}),[H,B]=KL(),F=G.useRef({x:0,y:0}),W=G.useRef({x:0,y:0}),Y=G.useMemo(()=>{switch(n){case Ng.Pointer:return S?{top:S.y,bottom:S.y,left:S.x,right:S.x}:null;case Ng.DraggableRect:return l}},[n,l,S]),$=G.useRef(null),K=G.useCallback(()=>{const ue=$.current;if(!ue)return;const X=F.current.x*W.current.x,ie=F.current.y*W.current.y;ue.scrollBy(X,ie)},[]),re=G.useMemo(()=>y===gb.TreeOrder?[...T].reverse():T,[y,T]);G.useEffect(()=>{if(!d||!T.length||!Y){B();return}for(const ue of re){if(a?.(ue)===!1)continue;const X=T.indexOf(ue),ie=_[X];if(!ie)continue;const{direction:pe,speed:be}=kI(ue,ie,Y,t,L);for(const le of["x","y"])P[le][pe[le]]||(be[le]=0,pe[le]=0);if(be.x>0||be.y>0){B(),$.current=ue,H(K,p),F.current=be,W.current=pe;return}}F.current={x:0,y:0},W.current={x:0,y:0},B()},[t,K,a,B,d,p,JSON.stringify(Y),JSON.stringify(P),H,T,re,_,JSON.stringify(L)])}const VI={x:{[Gi.Backward]:!1,[Gi.Forward]:!1},y:{[Gi.Backward]:!1,[Gi.Forward]:!1}};function WI(e){let{delta:t,disabled:n}=e;const a=Bw(t);return am(l=>{if(n||!a||!l)return VI;const d={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[Gi.Backward]:l.x[Gi.Backward]||d.x===-1,[Gi.Forward]:l.x[Gi.Forward]||d.x===1},y:{[Gi.Backward]:l.y[Gi.Backward]||d.y===-1,[Gi.Forward]:l.y[Gi.Forward]||d.y===1}}},[n,t,a])}function YI(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return am(l=>{var d;return t==null?null:(d=a??l)!=null?d:null},[a,t])}function $I(e,t){return G.useMemo(()=>e.reduce((n,a)=>{const{sensor:l}=a,d=l.activators.map(p=>({eventName:p.eventName,handler:t(p.handler,a)}));return[...n,...d]},[]),[e,t])}var $g;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})($g||($g={}));var Gw;(function(e){e.Optimized="optimized"})(Gw||(Gw={}));const HA=new Map;function qI(e,t){let{dragging:n,dependencies:a,config:l}=t;const[d,p]=G.useState(null),{frequency:y,measure:S,strategy:T}=l,_=G.useRef(e),O=F(),L=Yg(O),P=G.useCallback(function(W){W===void 0&&(W=[]),!L.current&&p(Y=>Y===null?W:Y.concat(W.filter($=>!Y.includes($))))},[L]),H=G.useRef(null),B=am(W=>{if(O&&!n)return HA;if(!W||W===HA||_.current!==e||d!=null){const Y=new Map;for(let $ of e){if(!$)continue;if(d&&d.length>0&&!d.includes($.id)&&$.rect.current){Y.set($.id,$.rect.current);continue}const K=$.node.current,re=K?new IS(S(K),K):null;$.rect.current=re,re&&Y.set($.id,re)}return Y}return W},[e,d,n,O,S]);return G.useEffect(()=>{_.current=e},[e]),G.useEffect(()=>{O||P()},[n,O]),G.useEffect(()=>{d&&d.length>0&&p(null)},[JSON.stringify(d)]),G.useEffect(()=>{O||typeof y!="number"||H.current!==null||(H.current=setTimeout(()=>{P(),H.current=null},y))},[y,O,P,...a]),{droppableRects:B,measureDroppableContainers:P,measuringScheduled:d!=null};function F(){switch(T){case $g.Always:return!1;case $g.BeforeDragging:return n;default:return!n}}}function cT(e,t){return am(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function XI(e,t){return cT(e,t)}function ZI(e){let{callback:t,disabled:n}=e;const a=OS(t),l=G.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:d}=window;return new d(a)},[a,n]);return G.useEffect(()=>()=>l?.disconnect(),[l]),l}function $b(e){let{callback:t,disabled:n}=e;const a=OS(t),l=G.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:d}=window;return new d(a)},[n]);return G.useEffect(()=>()=>l?.disconnect(),[l]),l}function QI(e){return new IS(hf(e),e)}function UA(e,t,n){t===void 0&&(t=QI);const[a,l]=G.useState(null);function d(){l(S=>{if(!e)return null;if(e.isConnected===!1){var T;return(T=S??n)!=null?T:null}const _=t(e);return JSON.stringify(S)===JSON.stringify(_)?S:_})}const p=ZI({callback(S){if(e)for(const T of S){const{type:_,target:O}=T;if(_==="childList"&&O instanceof HTMLElement&&O.contains(e)){d();break}}}}),y=$b({callback:d});return oo(()=>{d(),e?(y?.observe(e),p?.observe(document.body,{childList:!0,subtree:!0})):(y?.disconnect(),p?.disconnect())},[e]),a}function KI(e){const t=cT(e);return JD(e,t)}const GA=[];function JI(e){const t=G.useRef(e),n=am(a=>e?a&&a!==GA&&e&&t.current&&e.parentNode===t.current.parentNode?a:LS(e):GA,[e]);return G.useEffect(()=>{t.current=e},[e]),n}function eP(e){const[t,n]=G.useState(null),a=G.useRef(e),l=G.useCallback(d=>{const p=Vx(d.target);p&&n(y=>y?(y.set(p,Hw(p)),new Map(y)):null)},[]);return G.useEffect(()=>{const d=a.current;if(e!==d){p(d);const y=e.map(S=>{const T=Vx(S);return T?(T.addEventListener("scroll",l,{passive:!0}),[T,Hw(T)]):null}).filter(S=>S!=null);n(y.length?new Map(y):null),a.current=e}return()=>{p(e),p(d)};function p(y){y.forEach(S=>{const T=Vx(S);T?.removeEventListener("scroll",l)})}},[l,e]),G.useMemo(()=>e.length?t?Array.from(t.values()).reduce((d,p)=>Kh(d,p),vs):aT(e):vs,[e,t])}function VA(e,t){t===void 0&&(t=[]);const n=G.useRef(null);return G.useEffect(()=>{n.current=null},t),G.useEffect(()=>{const a=e!==vs;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?fb(e,n.current):vs}function tP(e){G.useEffect(()=>{if(!Yb)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function nP(e,t){return G.useMemo(()=>e.reduce((n,a)=>{let{eventName:l,handler:d}=a;return n[l]=p=>{d(p,t)},n},{}),[e,t])}function uT(e){return G.useMemo(()=>e?TI(e):null,[e])}const WA=[];function iP(e,t){t===void 0&&(t=hf);const[n]=e,a=uT(n?ta(n):null),[l,d]=G.useState(WA);function p(){d(()=>e.length?e.map(S=>iT(S)?a:new IS(t(S),S)):WA)}const y=$b({callback:p});return oo(()=>{y?.disconnect(),p(),e.forEach(S=>y?.observe(S))},[e]),l}function rP(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return rm(t)?t:e}function aP(e){let{measure:t}=e;const[n,a]=G.useState(null),l=G.useCallback(T=>{for(const{target:_}of T)if(rm(_)){a(O=>{const L=t(_);return O?{...O,width:L.width,height:L.height}:L});break}},[t]),d=$b({callback:l}),p=G.useCallback(T=>{const _=rP(T);d?.disconnect(),_&&d?.observe(_),a(_?t(_):null)},[t,d]),[y,S]=hb(p);return G.useMemo(()=>({nodeRef:y,rect:n,setRef:S}),[n,y,S])}const sP=[{sensor:jS,options:{}},{sensor:oT,options:{}}],oP={current:{}},Kv={draggable:{measure:jA},droppable:{measure:jA,strategy:$g.WhileDragging,frequency:Gw.Optimized},dragOverlay:{measure:hf}};class Lg extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const lP={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Lg,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:pb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Kv,measureDroppableContainers:pb,windowRect:null,measuringScheduled:!1},cP={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:pb,draggableNodes:new Map,over:null,measureDroppableContainers:pb},qb=G.createContext(cP),dT=G.createContext(lP);function uP(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Lg}}}function dP(e,t){switch(t.type){case Pi.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Pi.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Pi.DragEnd:case Pi.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Pi.RegisterDroppable:{const{element:n}=t,{id:a}=n,l=new Lg(e.droppable.containers);return l.set(a,n),{...e,droppable:{...e.droppable,containers:l}}}case Pi.SetDroppableDisabled:{const{id:n,key:a,disabled:l}=t,d=e.droppable.containers.get(n);if(!d||a!==d.key)return e;const p=new Lg(e.droppable.containers);return p.set(n,{...d,disabled:l}),{...e,droppable:{...e.droppable,containers:p}}}case Pi.UnregisterDroppable:{const{id:n,key:a}=t,l=e.droppable.containers.get(n);if(!l||a!==l.key)return e;const d=new Lg(e.droppable.containers);return d.delete(n),{...e,droppable:{...e.droppable,containers:d}}}default:return e}}function hP(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:l}=G.useContext(qb),d=Bw(a),p=Bw(n?.id);return G.useEffect(()=>{if(!t&&!a&&d&&p!=null){if(!NS(d)||document.activeElement===d.target)return;const y=l.get(p);if(!y)return;const{activatorNode:S,node:T}=y;if(!S.current&&!T.current)return;requestAnimationFrame(()=>{for(const _ of[S.current,T.current]){if(!_)continue;const O=tI(_);if(O){O.focus();break}}})}},[a,t,l,p,d]),null}function fP(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((l,d)=>d({transform:l,...a}),n):n}function pP(e){return G.useMemo(()=>({draggable:{...Kv.draggable,...e?.draggable},droppable:{...Kv.droppable,...e?.droppable},dragOverlay:{...Kv.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function gP(e){let{activeNode:t,measure:n,initialRect:a,config:l=!0}=e;const d=G.useRef(!1),{x:p,y}=typeof l=="boolean"?{x:l,y:l}:l;oo(()=>{if(!p&&!y||!t){d.current=!1;return}if(d.current||!a)return;const T=t?.node.current;if(!T||T.isConnected===!1)return;const _=n(T),O=JD(_,a);if(p||(O.x=0),y||(O.y=0),d.current=!0,Math.abs(O.x)>0||Math.abs(O.y)>0){const L=eT(T);L&&L.scrollBy({top:O.y,left:O.x})}},[t,p,y,a,n])}const hT=G.createContext({...vs,scaleX:1,scaleY:1});var oc;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(oc||(oc={}));const mP=G.memo(function(t){var n,a,l,d;let{id:p,accessibility:y,autoScroll:S=!0,children:T,sensors:_=sP,collisionDetection:O=vI,measuring:L,modifiers:P,...H}=t;const B=G.useReducer(dP,void 0,uP),[F,W]=B,[Y,$]=oI(),[K,re]=G.useState(oc.Uninitialized),ue=K===oc.Initialized,{draggable:{active:X,nodes:ie,translate:pe},droppable:{containers:be}}=F,le=X!=null?ie.get(X):null,ye=G.useRef({initial:null,translated:null}),De=G.useMemo(()=>{var dt;return X!=null?{id:X,data:(dt=le?.data)!=null?dt:oP,rect:ye}:null},[X,le]),Fe=G.useRef(null),[$e,oe]=G.useState(null),[Ee,Ie]=G.useState(null),Ye=Yg(H,Object.values(H)),je=sm("DndDescribedBy",p),Re=G.useMemo(()=>be.getEnabled(),[be]),ge=pP(L),{droppableRects:Ae,measureDroppableContainers:Be,measuringScheduled:Xe}=qI(Re,{dragging:ue,dependencies:[pe.x,pe.y],config:ge.droppable}),Ke=YI(ie,X),Ze=G.useMemo(()=>Ee?Fw(Ee):null,[Ee]),Ve=Lt(),tt=XI(Ke,ge.draggable.measure);gP({activeNode:X!=null?ie.get(X):null,config:Ve.layoutShiftCompensation,initialRect:tt,measure:ge.draggable.measure});const Qe=UA(Ke,ge.draggable.measure,tt),_t=UA(Ke?Ke.parentElement:null),ce=G.useRef({activatorEvent:null,active:null,activeNode:Ke,collisionRect:null,collisions:null,droppableRects:Ae,draggableNodes:ie,draggingNode:null,draggingNodeRect:null,droppableContainers:be,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),hn=be.getNodeFor((n=ce.current.over)==null?void 0:n.id),Je=aP({measure:ge.dragOverlay.measure}),kt=(a=Je.nodeRef.current)!=null?a:Ke,Pt=ue?(l=Je.rect)!=null?l:Qe:null,mi=!!(Je.nodeRef.current&&Je.rect),Bn=KI(mi?null:Qe),Fn=uT(kt?ta(kt):null),nn=JI(ue?hn??Ke:null),xn=iP(nn),jt=fP(P,{transform:{x:pe.x-Bn.x,y:pe.y-Bn.y,scaleX:1,scaleY:1},activatorEvent:Ee,active:De,activeNodeRect:Qe,containerNodeRect:_t,draggingNodeRect:Pt,over:ce.current.over,overlayNodeRect:Je.rect,scrollableAncestors:nn,scrollableAncestorRects:xn,windowRect:Fn}),wn=Ze?Kh(Ze,pe):null,nt=eP(nn),Ot=VA(nt),Dn=VA(nt,[Qe]),Qt=Kh(jt,Ot),fn=Pt?EI(Pt,jt):null,ti=De&&fn?O({active:De,collisionRect:fn,droppableRects:Ae,droppableContainers:Re,pointerCoordinates:wn}):null,wi=mI(ti,"id"),[Yn,Si]=G.useState(null),ni=mi?jt:Kh(jt,Dn),Hn=wI(ni,(d=Yn?.rect)!=null?d:null,Qe),Rn=G.useRef(null),kn=G.useCallback((dt,mt)=>{let{sensor:zt,options:Vt}=mt;if(Fe.current==null)return;const Mt=ie.get(Fe.current);if(!Mt)return;const Kt=dt.nativeEvent,on=new zt({active:Fe.current,activeNode:Mt,event:Kt,options:Vt,context:ce,onAbort(Wt){if(!ie.get(Wt))return;const{onDragAbort:vi}=Ye.current,Ji={id:Wt};vi?.(Ji),Y({type:"onDragAbort",event:Ji})},onPending(Wt,yi,vi,Ji){if(!ie.get(Wt))return;const{onDragPending:Ri}=Ye.current,tn={id:Wt,constraint:yi,initialCoordinates:vi,offset:Ji};Ri?.(tn),Y({type:"onDragPending",event:tn})},onStart(Wt){const yi=Fe.current;if(yi==null)return;const vi=ie.get(yi);if(!vi)return;const{onDragStart:Ji}=Ye.current,ii={activatorEvent:Kt,active:{id:yi,data:vi.data,rect:ye}};ro.unstable_batchedUpdates(()=>{Ji?.(ii),re(oc.Initializing),W({type:Pi.DragStart,initialCoordinates:Wt,active:yi}),Y({type:"onDragStart",event:ii}),oe(Rn.current),Ie(Kt)})},onMove(Wt){W({type:Pi.DragMove,coordinates:Wt})},onEnd:Pn(Pi.DragEnd),onCancel:Pn(Pi.DragCancel)});Rn.current=on;function Pn(Wt){return async function(){const{active:vi,collisions:Ji,over:ii,scrollAdjustedTranslate:Ri}=ce.current;let tn=null;if(vi&&Ri){const{cancelDrop:fr}=Ye.current;tn={activatorEvent:Kt,active:vi,collisions:Ji,delta:Ri,over:ii},Wt===Pi.DragEnd&&typeof fr=="function"&&await Promise.resolve(fr(tn))&&(Wt=Pi.DragCancel)}Fe.current=null,ro.unstable_batchedUpdates(()=>{W({type:Wt}),re(oc.Uninitialized),Si(null),oe(null),Ie(null),Rn.current=null;const fr=Wt===Pi.DragEnd?"onDragEnd":"onDragCancel";if(tn){const ji=Ye.current[fr];ji?.(tn),Y({type:fr,event:tn})}})}}},[ie]),We=G.useCallback((dt,mt)=>(zt,Vt)=>{const Mt=zt.nativeEvent,Kt=ie.get(Vt);if(Fe.current!==null||!Kt||Mt.dndKit||Mt.defaultPrevented)return;const on={active:Kt};dt(zt,mt.options,on)===!0&&(Mt.dndKit={capturedBy:mt.sensor},Fe.current=Vt,kn(zt,mt))},[ie,kn]),wa=$I(_,We);tP(_),oo(()=>{Qe&&K===oc.Initializing&&re(oc.Initialized)},[Qe,K]),G.useEffect(()=>{const{onDragMove:dt}=Ye.current,{active:mt,activatorEvent:zt,collisions:Vt,over:Mt}=ce.current;if(!mt||!zt)return;const Kt={active:mt,activatorEvent:zt,collisions:Vt,delta:{x:Qt.x,y:Qt.y},over:Mt};ro.unstable_batchedUpdates(()=>{dt?.(Kt),Y({type:"onDragMove",event:Kt})})},[Qt.x,Qt.y]),G.useEffect(()=>{const{active:dt,activatorEvent:mt,collisions:zt,droppableContainers:Vt,scrollAdjustedTranslate:Mt}=ce.current;if(!dt||Fe.current==null||!mt||!Mt)return;const{onDragOver:Kt}=Ye.current,on=Vt.get(wi),Pn=on&&on.rect.current?{id:on.id,rect:on.rect.current,data:on.data,disabled:on.disabled}:null,Wt={active:dt,activatorEvent:mt,collisions:zt,delta:{x:Mt.x,y:Mt.y},over:Pn};ro.unstable_batchedUpdates(()=>{Si(Pn),Kt?.(Wt),Y({type:"onDragOver",event:Wt})})},[wi]),oo(()=>{ce.current={activatorEvent:Ee,active:De,activeNode:Ke,collisionRect:fn,collisions:ti,droppableRects:Ae,draggableNodes:ie,draggingNode:kt,draggingNodeRect:Pt,droppableContainers:be,over:Yn,scrollableAncestors:nn,scrollAdjustedTranslate:Qt},ye.current={initial:Pt,translated:fn}},[De,Ke,ti,fn,ie,kt,Pt,Ae,be,Yn,nn,Qt]),GI({...Ve,delta:pe,draggingRect:fn,pointerCoordinates:wn,scrollableAncestors:nn,scrollableAncestorRects:xn});const gt=G.useMemo(()=>({active:De,activeNode:Ke,activeNodeRect:Qe,activatorEvent:Ee,collisions:ti,containerNodeRect:_t,dragOverlay:Je,draggableNodes:ie,droppableContainers:be,droppableRects:Ae,over:Yn,measureDroppableContainers:Be,scrollableAncestors:nn,scrollableAncestorRects:xn,measuringConfiguration:ge,measuringScheduled:Xe,windowRect:Fn}),[De,Ke,Qe,Ee,ti,_t,Je,ie,be,Ae,Yn,Be,nn,xn,ge,Xe,Fn]),Rt=G.useMemo(()=>({activatorEvent:Ee,activators:wa,active:De,activeNodeRect:Qe,ariaDescribedById:{draggable:je},dispatch:W,draggableNodes:ie,over:Yn,measureDroppableContainers:Be}),[Ee,wa,De,Qe,W,je,ie,Yn,Be]);return Ge.createElement(KD.Provider,{value:$},Ge.createElement(qb.Provider,{value:Rt},Ge.createElement(dT.Provider,{value:gt},Ge.createElement(hT.Provider,{value:Hn},T)),Ge.createElement(hP,{disabled:y?.restoreFocus===!1})),Ge.createElement(uI,{...y,hiddenTextDescribedById:je}));function Lt(){const dt=$e?.autoScrollEnabled===!1,mt=typeof S=="object"?S.enabled===!1:S===!1,zt=ue&&!dt&&!mt;return typeof S=="object"?{...S,enabled:zt}:{enabled:zt}}}),yP=G.createContext(null),YA="button",vP="Draggable";function fT(e){let{id:t,data:n,disabled:a=!1,attributes:l}=e;const d=sm(vP),{activators:p,activatorEvent:y,active:S,activeNodeRect:T,ariaDescribedById:_,draggableNodes:O,over:L}=G.useContext(qb),{role:P=YA,roleDescription:H="draggable",tabIndex:B=0}=l??{},F=S?.id===t,W=G.useContext(F?hT:yP),[Y,$]=hb(),[K,re]=hb(),ue=nP(p,t),X=Yg(n);oo(()=>(O.set(t,{id:t,key:d,node:Y,activatorNode:K,data:X}),()=>{const pe=O.get(t);pe&&pe.key===d&&O.delete(t)}),[O,t]);const ie=G.useMemo(()=>({role:P,tabIndex:B,"aria-disabled":a,"aria-pressed":F&&P===YA?!0:void 0,"aria-roledescription":H,"aria-describedby":_.draggable}),[a,P,B,F,H,_.draggable]);return{active:S,activatorEvent:y,activeNodeRect:T,attributes:ie,isDragging:F,listeners:a?void 0:ue,node:Y,over:L,setNodeRef:$,setActivatorNodeRef:re,transform:W}}function bP(){return G.useContext(dT)}const xP="Droppable",wP={timeout:25};function Vw(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:l}=e;const d=sm(xP),{active:p,dispatch:y,over:S,measureDroppableContainers:T}=G.useContext(qb),_=G.useRef({disabled:n}),O=G.useRef(!1),L=G.useRef(null),P=G.useRef(null),{disabled:H,updateMeasurementsFor:B,timeout:F}={...wP,...l},W=Yg(B??a),Y=G.useCallback(()=>{if(!O.current){O.current=!0;return}P.current!=null&&clearTimeout(P.current),P.current=setTimeout(()=>{T(Array.isArray(W.current)?W.current:[W.current]),P.current=null},F)},[F]),$=$b({callback:Y,disabled:H||!p}),K=G.useCallback((ie,pe)=>{$&&(pe&&($.unobserve(pe),O.current=!1),ie&&$.observe(ie))},[$]),[re,ue]=hb(K),X=Yg(t);return G.useEffect(()=>{!$||!re.current||($.disconnect(),O.current=!1,$.observe(re.current))},[re,$]),G.useEffect(()=>(y({type:Pi.RegisterDroppable,element:{id:a,key:d,disabled:n,node:re,rect:L,data:X}}),()=>y({type:Pi.UnregisterDroppable,key:d,id:a})),[a]),G.useEffect(()=>{n!==_.current.disabled&&(y({type:Pi.SetDroppableDisabled,id:a,key:d,disabled:n}),_.current.disabled=n)},[a,d,n,y]),{active:p,rect:L,isOver:S?.id===a,node:re,over:S,setNodeRef:ue}}function zS(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function SP(e,t){return e.reduce((n,a,l)=>{const d=t.get(a);return d&&(n[l]=d),n},Array(e.length))}function Nv(e){return e!==null&&e>=0}function EP(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function AP(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const pT=e=>{let{rects:t,activeIndex:n,overIndex:a,index:l}=e;const d=zS(t,a,n),p=t[l],y=d[l];return!y||!p?null:{x:y.left-p.left,y:y.top-p.top,scaleX:y.width/p.width,scaleY:y.height/p.height}},Lv={scaleX:1,scaleY:1},CP=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:l,rects:d,overIndex:p}=e;const y=(t=d[n])!=null?t:a;if(!y)return null;if(l===n){const T=d[p];return T?{x:0,y:n<p?T.top+T.height-(y.top+y.height):T.top-y.top,...Lv}:null}const S=DP(d,l,n);return l>n&&l<=p?{x:0,y:-y.height-S,...Lv}:l<n&&l>=p?{x:0,y:y.height+S,...Lv}:{x:0,y:0,...Lv}};function DP(e,t,n){const a=e[t],l=e[t-1],d=e[t+1];return a?n<t?l?a.top-(l.top+l.height):d?d.top-(a.top+a.height):0:d?d.top-(a.top+a.height):l?a.top-(l.top+l.height):0:0}const gT="Sortable",mT=Ge.createContext({activeIndex:-1,containerId:gT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:pT,disabled:{draggable:!1,droppable:!1}});function TP(e){let{children:t,id:n,items:a,strategy:l=pT,disabled:d=!1}=e;const{active:p,dragOverlay:y,droppableRects:S,over:T,measureDroppableContainers:_}=bP(),O=sm(gT,n),L=y.rect!==null,P=G.useMemo(()=>a.map(ue=>typeof ue=="object"&&"id"in ue?ue.id:ue),[a]),H=p!=null,B=p?P.indexOf(p.id):-1,F=T?P.indexOf(T.id):-1,W=G.useRef(P),Y=!EP(P,W.current),$=F!==-1&&B===-1||Y,K=AP(d);oo(()=>{Y&&H&&_(P)},[Y,P,H,_]),G.useEffect(()=>{W.current=P},[P]);const re=G.useMemo(()=>({activeIndex:B,containerId:O,disabled:K,disableTransforms:$,items:P,overIndex:F,useDragOverlay:L,sortedRects:SP(P,S),strategy:l}),[B,O,K.draggable,K.droppable,$,P,F,S,L,l]);return Ge.createElement(mT.Provider,{value:re},t)}const MP=e=>{let{id:t,items:n,activeIndex:a,overIndex:l}=e;return zS(n,a,l).indexOf(t)},_P=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:l,items:d,newIndex:p,previousItems:y,previousContainerId:S,transition:T}=e;return!T||!a||y!==d&&l===p?!1:n?!0:p!==l&&t===S},RP={duration:200,easing:"ease"},yT="transform",kP=af.Transition.toString({property:yT,duration:0,easing:"linear"}),OP={roleDescription:"sortable"};function NP(e){let{disabled:t,index:n,node:a,rect:l}=e;const[d,p]=G.useState(null),y=G.useRef(n);return oo(()=>{if(!t&&n!==y.current&&a.current){const S=l.current;if(S){const T=hf(a.current,{ignoreTransform:!0}),_={x:S.left-T.left,y:S.top-T.top,scaleX:S.width/T.width,scaleY:S.height/T.height};(_.x||_.y)&&p(_)}}n!==y.current&&(y.current=n)},[t,n,a,l]),G.useEffect(()=>{d&&p(null)},[d]),d}function LP(e){let{animateLayoutChanges:t=_P,attributes:n,disabled:a,data:l,getNewIndex:d=MP,id:p,strategy:y,resizeObserverConfig:S,transition:T=RP}=e;const{items:_,containerId:O,activeIndex:L,disabled:P,disableTransforms:H,sortedRects:B,overIndex:F,useDragOverlay:W,strategy:Y}=G.useContext(mT),$=IP(a,P),K=_.indexOf(p),re=G.useMemo(()=>({sortable:{containerId:O,index:K,items:_},...l}),[O,l,K,_]),ue=G.useMemo(()=>_.slice(_.indexOf(p)),[_,p]),{rect:X,node:ie,isOver:pe,setNodeRef:be}=Vw({id:p,data:re,disabled:$.droppable,resizeObserverConfig:{updateMeasurementsFor:ue,...S}}),{active:le,activatorEvent:ye,activeNodeRect:De,attributes:Fe,setNodeRef:$e,listeners:oe,isDragging:Ee,over:Ie,setActivatorNodeRef:Ye,transform:je}=fT({id:p,data:re,attributes:{...OP,...n},disabled:$.draggable}),Re=QL(be,$e),ge=!!le,Ae=ge&&!H&&Nv(L)&&Nv(F),Be=!W&&Ee,Xe=Be&&Ae?je:null,Ze=Ae?Xe??(y??Y)({rects:B,activeNodeRect:De,activeIndex:L,overIndex:F,index:K}):null,Ve=Nv(L)&&Nv(F)?d({id:p,items:_,activeIndex:L,overIndex:F}):K,tt=le?.id,Qe=G.useRef({activeId:tt,items:_,newIndex:Ve,containerId:O}),_t=_!==Qe.current.items,ce=t({active:le,containerId:O,isDragging:Ee,isSorting:ge,id:p,index:K,items:_,newIndex:Qe.current.newIndex,previousItems:Qe.current.items,previousContainerId:Qe.current.containerId,transition:T,wasDragging:Qe.current.activeId!=null}),hn=NP({disabled:!ce,index:K,node:ie,rect:X});return G.useEffect(()=>{ge&&Qe.current.newIndex!==Ve&&(Qe.current.newIndex=Ve),O!==Qe.current.containerId&&(Qe.current.containerId=O),_!==Qe.current.items&&(Qe.current.items=_)},[ge,Ve,O,_]),G.useEffect(()=>{if(tt===Qe.current.activeId)return;if(tt!=null&&Qe.current.activeId==null){Qe.current.activeId=tt;return}const kt=setTimeout(()=>{Qe.current.activeId=tt},50);return()=>clearTimeout(kt)},[tt]),{active:le,activeIndex:L,attributes:Fe,data:re,rect:X,index:K,newIndex:Ve,items:_,isOver:pe,isSorting:ge,isDragging:Ee,listeners:oe,node:ie,overIndex:F,over:Ie,setNodeRef:Re,setActivatorNodeRef:Ye,setDroppableNodeRef:be,setDraggableNodeRef:$e,transform:hn??Ze,transition:Je()};function Je(){if(hn||_t&&Qe.current.newIndex===K)return kP;if(!(Be&&!NS(ye)||!T)&&(ge||ce))return af.Transition.toString({...T,property:yT})}}function IP(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(a=e?.droppable)!=null?a:t.droppable}}yn.Down,yn.Right,yn.Up,yn.Left;function PP(e){return Ct({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"},child:[]}]})(e)}function jP(e){return Ct({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"},child:[]}]})(e)}function vT(e){return Ct({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0"},child:[]}]})(e)}function zP(e,t){return t.top<=e.y&&e.y<=t.bottom&&t.left<=e.x&&e.x<=t.right}function BP(e){const t=xI(e),n=e.pointerCoordinates;if(!n)return t;const a=e.droppableRects.get(Yh),l=a&&zP(n,a),d=e.droppableContainers.find(p=>p.id===Yh);return l&&d?[{id:Yh,data:{droppableContainer:d,value:0}},...t.filter(y=>y.id!==Yh)]:t}const $A="charts-visible",Yh="charts-hidden";function FP({chart:e,section:t,isHidden:n,onMoveToHidden:a,moveToHiddenLabel:l}){const{attributes:d,listeners:p,setNodeRef:y,transform:S,transition:T,isDragging:_}=LP({id:e,data:{chart:e,section:t}}),O={transform:af.Transform.toString(S),transition:T};return D.jsxs("div",{ref:y,style:O,className:`flex items-center gap-2 py-2 px-3 rounded-lg border cursor-grab active:cursor-grabbing touch-none select-none transition-colors ${_?"opacity-90 shadow-lg z-50 bg-app-surface border-[var(--color-app-accent)]/50":n?"bg-app-surface border-app-subtle hover:border-white/20":"bg-app-surface border-app-subtle hover:border-[var(--color-app-accent)]/40"}`,...d,...p,children:[D.jsx(vT,{className:"text-app-muted shrink-0","aria-hidden":!0}),D.jsx("span",{className:`text-sm truncate flex-1 min-w-0 ${n?"text-app-secondary":"text-app-primary"}`,children:e}),a&&l&&D.jsx("button",{type:"button",onClick:L=>{L.stopPropagation(),a(e)},className:"shrink-0 p-1 rounded text-app-muted hover:text-app-primary hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-[var(--color-app-accent)]",title:l,"aria-label":l,children:D.jsx(jP,{size:18})})]})}function HP({chart:e,onMoveToVisible:t,moveToVisibleLabel:n}){const{attributes:a,listeners:l,setNodeRef:d,transform:p,isDragging:y}=fT({id:`hidden-${e}`,data:{chart:e,section:"hidden"}}),S={transform:af.Transform.toString(p),transition:void 0};return D.jsxs("div",{ref:d,style:S,className:`flex items-center gap-2 py-2 px-3 rounded-lg border cursor-grab active:cursor-grabbing touch-none select-none transition-colors ${y?"opacity-90 shadow-lg z-50 bg-app-surface border-[var(--color-app-accent)]/50":"bg-app-surface border-app-subtle hover:border-white/20"}`,...a,...l,children:[D.jsx(vT,{className:"text-app-muted shrink-0","aria-hidden":!0}),D.jsx("span",{className:"text-sm text-app-secondary truncate flex-1 min-w-0",children:e}),t&&n&&D.jsx("button",{type:"button",onClick:T=>{T.stopPropagation(),t(e)},className:"shrink-0 p-1 rounded text-app-muted hover:text-app-primary hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-[var(--color-app-accent)]",title:n,"aria-label":n,children:D.jsx(PP,{size:18})})]})}function UP({visibleCharts:e,hiddenCharts:t,onVisibleChartsChange:n,t:a}){const l=G.useRef(null),d=dI(PA(jS,{activationConstraint:{distance:5}}),PA(lT,{activationConstraint:{delay:120,tolerance:5}})),p=L=>{l.current=L.over?.id??null},y=L=>{const{active:P,over:H}=L,B=H?.id??l.current;if(l.current=null,B==null)return;const F=String(P.id),W=P.data.current,Y=W?.chart??(F.startsWith("hidden-")?F.replace("hidden-",""):F),$=W?.section==="visible"||!F.startsWith("hidden-")&&e.includes(F),K=String(B);if(K===Yh){$&&n(e.filter(X=>X!==Y));return}if(K===$A){!$&&!e.includes(Y)&&n([...e,Y]);return}const re=e.includes(K),ue=String(K).startsWith("hidden-");if(re){if($){const X=e.indexOf(Y),ie=e.indexOf(K);X!==-1&&ie!==-1&&X!==ie&&n(zS(e,X,ie))}else if(!e.includes(Y)){const X=e.indexOf(K),ie=[...e];ie.splice(X,0,Y),n(ie)}return}ue&&$&&n(e.filter(X=>X!==Y))},{setNodeRef:S,isOver:T}=Vw({id:$A}),{setNodeRef:_,isOver:O}=Vw({id:Yh});return D.jsx(mP,{sensors:d,collisionDetection:BP,onDragOver:p,onDragEnd:y,children:D.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[D.jsxs("div",{ref:S,className:`rounded-xl border p-3 min-h-[140px] transition-colors flex flex-col w-full ${T?"border-[var(--color-app-accent)] bg-[var(--color-app-accent)]/15":"border-[var(--color-app-accent)]/25 bg-[var(--color-app-accent)]/5"}`,children:[D.jsx("div",{className:"text-xs font-semibold text-[var(--color-app-accent)] mb-2 uppercase tracking-wider shrink-0",children:a("profile.chartsVisible")}),D.jsx(TP,{items:e,strategy:CP,children:D.jsxs("div",{className:"space-y-1.5",children:[e.map(L=>D.jsx(FP,{chart:L,section:"visible",isHidden:!1,onMoveToHidden:P=>n(e.filter(H=>H!==P)),moveToHiddenLabel:a("profile.chartsMoveToHidden")},L)),e.length===0&&D.jsx("div",{className:"py-6 text-center text-xs text-app-muted rounded-lg border border-dashed border-app-subtle",children:a("profile.chartsDropHere")})]})})]}),D.jsxs("div",{ref:_,className:`rounded-xl border p-3 min-h-[140px] transition-colors flex flex-col w-full ${O?"border-[var(--color-app-accent)] bg-[var(--color-app-accent)]/10":"border-white/[0.08] bg-white/[0.02]"}`,children:[D.jsx("div",{className:"text-xs font-semibold text-app-muted mb-2 uppercase tracking-wider shrink-0",children:a("profile.chartsHidden")}),D.jsxs("div",{className:"space-y-1.5",children:[t.map(L=>D.jsx(HP,{chart:L,onMoveToVisible:P=>n([...e,P]),moveToVisibleLabel:a("profile.chartsMoveToVisible")},L)),t.length===0&&D.jsx("div",{className:"py-6 text-center text-xs text-app-muted rounded-lg border border-dashed border-app-subtle",children:a("profile.chartsAllVisible")})]})]})]})})}const GP=()=>{const e=wc(),{language:t,setLanguage:n,t:a}=bn(),l=cf(),{dataDispatch:d}=xs(),{userDetails:p,token:y}=nl(),S=em(),T=Nk(),_=Lk(),O=k1(),L=Rb(),[P,H]=G.useState({visibleCharts:JSON.parse(localStorage.getItem("visibleCharts"))||wx}),[B,F]=G.useState(!1),[W,Y]=G.useState(!1),$=c1(),K=Re=>{const ge=Re.target.value;n(ge),e(a("notification.profileUpdated"),Cn.SUCCESS)},re=Re=>{Re.preventDefault(),Jk(),sb(l,d),$({to:"/expenses/login"})},ue=Re=>{const ge={method:"PATCH",headers:new Headers({Accept:"application/json","Content-Type":"application/json","JWT-Authorization":"Bearer "+y}),body:JSON.stringify({field_currency:[Re.target.value]})},Ae=`${Qn}/user/${p.current_user.uid}?_format=json`;pS(Ae,ge,d,l,Be=>{if(Be.uid&&Be.field_currency?.[0]){const Xe=Be.field_currency[0].value;p.current_user.currency=Xe,localStorage.setItem("currentUser",JSON.stringify(p)),Ik(Xe),l({type:"UPDATE_USER",payload:{currency:Xe}}),Ee(!0),setTimeout(()=>Ee(!1),2e3)}else e(a("error.unknown"),Cn.ERROR)})},X=Re=>{const{name:ge,checked:Ae}=Re.target;ge==="useChartsBackgroundColor"?(jk(Ae),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:ge,value:Ae}}))):ge==="quickAddSuggestionEnabled"?(Bh({...O,enabled:Ae}),e(a("notification.profileUpdated"),Cn.SUCCESS)):(H({...P,[ge]:Ae}),localStorage.setItem(ge,JSON.stringify(Ae))),l({type:"UPDATE_USER",payload:{[ge]:Ae}})},ie=(Re,ge)=>{Bh({...O,[Re]:ge})},pe=O.daysOfWeek??[],be=O.timeSlots??[],le=(Re,ge)=>{const Ae=ge?[...pe,Re].sort((Be,Xe)=>Be-Xe):pe.filter(Be=>Be!==Re);Bh({...O,daysOfWeek:Ae})},ye=(Re,ge,Ae)=>{const Be=be.map((Xe,Ke)=>Ke===Re?{...Xe,[ge]:Ae}:Xe);Bh({...O,timeSlots:Be})},De=()=>{Bh({...O,timeSlots:[...be,{start:"08:00",end:"09:00"}]})},Fe=Re=>{Bh({...O,timeSlots:be.filter((ge,Ae)=>Ae!==Re)})},$e=Object.entries(ok).sort((Re,ge)=>Re[1]<ge[1]?-1:1),[oe,Ee]=G.useState(!1);G.useEffect(()=>{localStorage.setItem("visibleCharts",JSON.stringify(P.visibleCharts))},[P.visibleCharts]);const Ie=P.visibleCharts.filter(Re=>wx.includes(Re)),Ye=wx.filter(Re=>!P.visibleCharts.includes(Re)),je=Re=>{H(ge=>({...ge,visibleCharts:Re}))};return D.jsxs("div",{className:`${mc} flex flex-col items-center pt-5 md:pt-4`,children:[D.jsx("div",{className:"text-left mb-6 w-full max-w-[600px] md:mb-5",children:D.jsx("h1",{className:"text-2xl md:text-xl font-semibold text-app-primary m-0 tracking-tight",children:a("profile.title")})}),D.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-[600px] md:gap-3.5",children:[D.jsxs("div",{className:"bg-white/[0.02] border border-white/[0.06] rounded-xl py-5 px-5 md:py-4 md:px-4 md:rounded-[10px] transition-colors active:border-white/10",children:[D.jsxs("div",{className:"flex items-center gap-2.5 mb-4 md:mb-3.5 [&_svg]:text-lg md:[&_svg]:text-base [&_svg]:text-[var(--color-app-accent)]",children:[D.jsx(Y1,{}),D.jsx("h3",{className:"text-base md:text-sm font-semibold text-app-primary m-0 tracking-tight",children:a("profile.account")})]}),D.jsxs("div",{className:"flex items-center gap-3 py-3 md:py-2.5",children:[D.jsx("div",{className:"w-10 h-10 md:w-9 md:h-9 rounded-full bg-gradient-to-br from-[var(--color-app-accent)] to-[var(--color-app-accent-hover)] shrink-0"}),D.jsx("div",{className:"text-[0.9rem] md:text-sm text-app-secondary font-medium tracking-tight",children:p.current_user.name})]})]}),D.jsxs("div",{className:"bg-white/[0.02] border border-white/[0.06] rounded-xl py-5 px-5 md:py-4 md:px-4 md:rounded-[10px] transition-colors active:border-white/10",children:[D.jsxs("div",{className:"flex items-center gap-2.5 mb-4 md:mb-3.5 [&_svg]:text-lg md:[&_svg]:text-base [&_svg]:text-[var(--color-app-accent)]",children:[D.jsx(mO,{}),D.jsx("h3",{className:"text-base md:text-sm font-semibold text-app-primary m-0 tracking-tight",children:a("profile.theme")})]}),D.jsx("div",{className:"grid grid-cols-4 gap-2 sm:grid-cols-2",children:T1.map(Re=>{const ge=T===Re.id;return D.jsxs("button",{type:"button",onClick:()=>{Pk(Re.id),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:"theme",value:Re.id}})),e(a("notification.profileUpdated"),Cn.SUCCESS)},className:`flex flex-col items-center gap-2 p-3 rounded-xl border-2 transition-all cursor-pointer ${ge?"border-[var(--color-app-accent)] bg-[var(--color-app-accent)]/10":"border-white/10 bg-white/[0.03] hover:border-white/20 hover:bg-white/[0.06]"}`,children:[D.jsx("div",{className:"w-10 h-10 rounded-lg shrink-0",style:{background:Re.bg,boxShadow:`inset 0 0 0 2px ${Re.accent}`}}),D.jsx("span",{className:"text-xs font-medium text-app-secondary truncate w-full text-center",children:a(Re.labelKey)})]},Re.id)})})]}),D.jsxs("div",{className:"bg-white/[0.02] border border-white/[0.06] rounded-xl py-5 px-5 md:py-4 md:px-4 md:rounded-[10px] transition-colors active:border-white/10",children:[D.jsxs("div",{className:"flex items-center gap-2.5 mb-4 md:mb-3.5 [&_svg]:text-lg md:[&_svg]:text-base [&_svg]:text-[var(--color-app-accent)]",children:[D.jsx(TO,{}),D.jsx("h3",{className:"text-base md:text-sm font-semibold text-app-primary m-0 tracking-tight",children:a("profile.personalInfo")})]}),D.jsxs("div",{className:"mb-4 last:mb-0 md:mb-3.5",children:[D.jsx("label",{htmlFor:"language",className:"block text-xs text-app-muted mb-2 md:mb-1.5 font-medium uppercase tracking-wider",children:a("profile.language")}),D.jsxs("select",{id:"language",value:t,name:"language",onChange:K,className:"w-full py-3 px-4 bg-app-surface border border-app-subtle rounded-lg text-app-primary text-sm md:text-[0.875rem] font-normal transition-all outline-none focus:border-[var(--color-app-accent)]/50 focus:bg-[var(--color-app-accent)]/5 [&_option]:bg-[var(--color-app-bg)] [&_option]:text-app-primary [&_option]:p-2",children:[D.jsx("option",{value:"en",children:a("profile.english")}),D.jsx("option",{value:"ro",children:a("profile.romanian")})]})]}),D.jsxs("div",{className:"mb-4 last:mb-0 md:mb-3.5",children:[D.jsx("label",{htmlFor:"currency",className:"block text-xs text-app-muted mb-2 md:mb-1.5 font-medium uppercase tracking-wider",children:a("profile.currency")}),D.jsx("select",{id:"currency",value:S,name:"currency",onChange:ue,className:"w-full py-3 px-4 bg-app-surface border border-app-subtle rounded-lg text-app-primary text-sm md:text-[0.875rem] font-normal transition-all outline-none focus:border-[var(--color-app-accent)]/50 focus:bg-[var(--color-app-accent)]/5 [&_option]:bg-[var(--color-app-bg)] [&_option]:text-app-primary [&_option]:p-2",children:$e.map(([Re,ge])=>D.jsx("option",{value:Re,children:ge},Re))})]})]}),D.jsxs("div",{className:"bg-white/[0.02] border border-white/[0.06] rounded-xl overflow-hidden md:rounded-[10px] transition-colors active:border-white/10",children:[D.jsxs("button",{type:"button",onClick:()=>Y(Re=>!Re),className:"w-full flex items-center justify-between gap-2.5 py-5 px-5 md:py-4 md:px-4 text-left bg-transparent border-none cursor-pointer [&_svg]:text-lg md:[&_svg]:text-base [&_svg]:shrink-0","aria-expanded":W,children:[D.jsxs("div",{className:"flex items-center gap-2.5 [&_svg]:text-[var(--color-app-accent)]",children:[D.jsx(bS,{}),D.jsx("h3",{className:"text-base md:text-sm font-semibold text-app-primary m-0 tracking-tight",children:a("profile.chartsSettings")})]}),W?D.jsx(rA,{className:"text-app-muted","aria-hidden":!0}):D.jsx(cb,{className:"text-app-muted","aria-hidden":!0})]}),W&&D.jsxs("div",{className:"px-5 pb-5 pt-0 md:px-4 md:pb-4 border-t border-white/[0.06]",children:[D.jsxs("div",{className:"flex items-center gap-2.5 mb-2 py-2 md:py-1.5 relative [&_input]:w-[18px] [&_input]:h-[18px] [&_input]:min-w-[18px] [&_input]:min-h-[18px] [&_input]:accent-[var(--color-app-accent)] [&_input]:cursor-pointer [&_input]:shrink-0 [&_input]:inline-block [&_input]:opacity-100 [&_input]:visible [&_label]:text-sm md:[&_label]:text-xs [&_label]:text-app-secondary [&_label]:cursor-pointer [&_label]:flex-1 [&_label]:select-none [&_label]:m-0",children:[D.jsx("input",{type:"checkbox",name:"useChartsBackgroundColor",id:"useChartsBackgroundColor",checked:_,onChange:X}),D.jsx("label",{htmlFor:"useChartsBackgroundColor",children:a("profile.useChartsBackgroundColor")})]}),D.jsxs("div",{className:"mt-4 pt-4 border-t border-white/[0.05] md:mt-4 md:pt-4",children:[D.jsx("h4",{className:"text-xs font-semibold text-app-muted m-0 mb-3 md:mb-2.5 uppercase tracking-wider",children:a("profile.chartsVisibility")}),D.jsx("p",{className:"text-xs text-app-muted mb-3",children:a("profile.chartsDragHint")}),D.jsx(UP,{visibleCharts:Ie,hiddenCharts:Ye,onVisibleChartsChange:je,t:a})]})]})]}),D.jsxs("div",{className:"bg-white/[0.02] border border-white/[0.06] rounded-xl overflow-hidden md:rounded-[10px] transition-colors active:border-white/10",children:[D.jsxs("button",{type:"button",onClick:()=>F(Re=>!Re),className:"w-full flex items-center justify-between gap-2.5 py-5 px-5 md:py-4 md:px-4 text-left bg-transparent border-none cursor-pointer [&_svg]:text-lg md:[&_svg]:text-base [&_svg]:shrink-0","aria-expanded":B,children:[D.jsxs("div",{className:"flex items-center gap-2.5 [&_svg]:text-[var(--color-app-accent)]",children:[D.jsx(kO,{}),D.jsx("h3",{className:"text-base md:text-sm font-semibold text-app-primary m-0 tracking-tight",children:a("profile.quickAddSuggestion")})]}),B?D.jsx(rA,{className:"text-app-muted","aria-hidden":!0}):D.jsx(cb,{className:"text-app-muted","aria-hidden":!0})]}),B&&D.jsxs("div",{className:"px-5 pb-5 pt-0 md:px-4 md:pb-4 border-t border-white/[0.06]",children:[D.jsx("p",{className:"text-xs text-app-muted mb-4 md:mb-3.5",children:a("profile.quickAddSuggestionDesc")}),D.jsxs("div",{className:"flex items-center gap-2.5 mb-4 py-2 md:py-1.5 relative [&_input]:w-[18px] [&_input]:h-[18px] [&_input]:min-w-[18px] [&_input]:min-h-[18px] [&_input]:accent-[var(--color-app-accent)] [&_input]:cursor-pointer [&_input]:shrink-0 [&_input]:inline-block [&_input]:opacity-100 [&_input]:visible [&_label]:text-sm md:[&_label]:text-xs [&_label]:text-app-secondary [&_label]:cursor-pointer [&_label]:flex-1 [&_label]:select-none [&_label]:m-0",children:[D.jsx("input",{type:"checkbox",name:"quickAddSuggestionEnabled",id:"quickAddSuggestionEnabled",checked:O.enabled,onChange:X}),D.jsx("label",{htmlFor:"quickAddSuggestionEnabled",children:a("profile.quickAddSuggestionEnabled")})]}),O.enabled&&D.jsxs("div",{className:"space-y-4 pt-2 border-t border-white/[0.05]",children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"quickAddAmount",className:"block text-xs text-app-muted mb-2 md:mb-1.5 font-medium uppercase tracking-wider",children:a("profile.quickAddAmount")}),D.jsx("input",{id:"quickAddAmount",type:"number",min:0,step:.01,value:O.amount,onChange:Re=>ie("amount",Re.target.value),placeholder:"0",className:"w-full py-3 px-4 bg-app-surface border border-app-subtle rounded-lg text-app-primary text-sm md:text-[0.875rem] font-normal transition-all outline-none focus:border-[var(--color-app-accent)]/50 focus:bg-[var(--color-app-accent)]/5"})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"quickAddCategory",className:"block text-xs text-app-muted mb-2 md:mb-1.5 font-medium uppercase tracking-wider",children:a("profile.quickAddCategory")}),D.jsxs("select",{id:"quickAddCategory",value:O.category,onChange:Re=>ie("category",Re.target.value),className:"w-full py-3 px-4 bg-app-surface border border-app-subtle rounded-lg text-app-primary text-sm md:text-[0.875rem] font-normal transition-all outline-none focus:border-[var(--color-app-accent)]/50 focus:bg-[var(--color-app-accent)]/5 [&_option]:bg-[var(--color-app-bg)] [&_option]:text-app-primary [&_option]:p-2",children:[D.jsx("option",{value:"",children:a("form.selectCategory")}),L.map(Re=>D.jsx("option",{value:Re.value,children:Re.label},Re.value))]})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"quickAddDescription",className:"block text-xs text-app-muted mb-2 md:mb-1.5 font-medium uppercase tracking-wider",children:a("profile.quickAddDescription")}),D.jsx("input",{id:"quickAddDescription",type:"text",value:O.description,onChange:Re=>ie("description",Re.target.value),placeholder:a("transactionForm.description"),className:"w-full py-3 px-4 bg-app-surface border border-app-subtle rounded-lg text-app-primary text-sm md:text-[0.875rem] font-normal transition-all outline-none focus:border-[var(--color-app-accent)]/50 focus:bg-[var(--color-app-accent)]/5"})]}),D.jsxs("div",{className:"pt-2 border-t border-white/[0.05]",children:[D.jsx("h4",{className:"text-xs font-semibold text-app-muted m-0 mb-2 uppercase tracking-wider",children:a("profile.quickAddDaysOfWeek")}),D.jsx("p",{className:"text-xs text-app-muted mb-3",children:a("profile.quickAddDaysHint")}),D.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(Re=>D.jsxs("label",{className:"flex items-center gap-2 py-2 px-3 rounded-lg border border-app-subtle cursor-pointer hover:border-[var(--color-app-accent)]/30 [&_input]:accent-[var(--color-app-accent)]",children:[D.jsx("input",{type:"checkbox",checked:pe.includes(Re),onChange:ge=>le(Re,ge.target.checked)}),D.jsx("span",{className:"text-sm text-app-secondary",children:a(`profile.quickAddDay${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][Re]}`)})]},Re))})]}),D.jsxs("div",{className:"pt-2 border-t border-white/[0.05]",children:[D.jsx("h4",{className:"text-xs font-semibold text-app-muted m-0 mb-2 uppercase tracking-wider",children:a("profile.quickAddTimeSlots")}),D.jsx("p",{className:"text-xs text-app-muted mb-3",children:a("profile.quickAddTimeSlotsHint")}),D.jsxs("div",{className:"space-y-3",children:[be.map((Re,ge)=>D.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[D.jsx("input",{type:"time",value:Re.start,onChange:Ae=>ye(ge,"start",Ae.target.value),className:"py-2.5 px-3 bg-app-surface border border-app-subtle rounded-lg text-app-primary text-sm outline-none focus:border-[var(--color-app-accent)]/50"}),D.jsx("span",{className:"text-app-muted text-sm",children:""}),D.jsx("input",{type:"time",value:Re.end,onChange:Ae=>ye(ge,"end",Ae.target.value),className:"py-2.5 px-3 bg-app-surface border border-app-subtle rounded-lg text-app-primary text-sm outline-none focus:border-[var(--color-app-accent)]/50"}),D.jsx("button",{type:"button",onClick:()=>Fe(ge),className:"py-2 px-3 text-xs font-medium text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:a("profile.quickAddRemoveSlot")})]},ge)),D.jsx("button",{type:"button",onClick:De,className:"py-2.5 px-4 text-sm font-medium text-[var(--color-app-accent)] border border-[var(--color-app-accent)]/40 rounded-lg hover:bg-[var(--color-app-accent)]/10 transition-colors",children:a("profile.quickAddAddSlot")})]})]})]})]})]}),D.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2.5 w-full py-3.5 px-5 md:py-3 md:px-4 bg-transparent border border-red-500/30 rounded-xl text-red-400 text-sm md:text-[0.875rem] font-medium cursor-pointer transition-all active:bg-red-500/5 active:border-red-500/50 [&_svg]:text-lg md:[&_svg]:text-base",onClick:re,children:[D.jsx(CO,{}),a("profile.signOut")]})]})]})},VP=()=>{const e=cf(),t=c1(),{t:n}=bn(),{loading:a,errorMessage:l,userIsLoggedIn:d}=nl(),{clearAllNotifications:p}=OO();Ge.useEffect(()=>{d&&(p(),t({to:"/expenses"}))},[d,t,p]);const y=async _=>{if("access_token"in _){const O={access_token:_.access_token};try{const L=await zk(e,O);if(L&&!L.current_user)return;L?.current_user?.currency&&yS({currency:L.current_user.currency}),p(),t({to:"/expenses"})}catch(L){xt.error("Login error:",L)}}},S=_=>{xt.log("Login response:",_)},T=eO({onSuccess:y,onError:S,onNonOAuthError:S});return D.jsxs("div",{className:"flex flex-col items-center justify-center min-h-full w-full p-6 md:p-8 text-center relative box-border overflow-hidden bg-[var(--color-app-bg)] bg-gradient-to-b from-[var(--color-app-bg)] via-[color-mix(in_srgb,var(--color-app-accent)_6%,var(--color-app-bg))] to-[var(--color-app-bg)]",children:[D.jsx("div",{className:"absolute top-[-20%] left-1/2 -translate-x-1/2 w-[80%] max-w-[400px] h-[300px] rounded-full bg-[var(--color-app-accent)] opacity-[0.08] blur-[80px] pointer-events-none","aria-hidden":!0}),D.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] max-w-[280px] h-[200px] rounded-full bg-[var(--color-app-accent)] opacity-[0.05] blur-[60px] pointer-events-none","aria-hidden":!0}),D.jsx("div",{className:"relative z-10 w-full max-w-[420px] flex flex-col items-center",children:D.jsxs("div",{className:"w-full rounded-3xl border border-[var(--color-border-subtle)] bg-[var(--color-surface)]/80 backdrop-blur-xl shadow-[0_24px_48px_-12px_rgba(0,0,0,0.45)] p-8 md:p-10 flex flex-col items-center gap-6 text-center",children:[D.jsx("div",{className:"flex h-14 w-14 shrink-0 items-center justify-center rounded-2xl bg-[var(--color-app-accent)]/15 border border-[var(--color-app-accent)]/25 text-[var(--color-app-accent)]",children:D.jsx(EO,{className:"text-2xl","aria-hidden":!0})}),D.jsxs("div",{className:"flex flex-col gap-2",children:[D.jsx("h1",{className:"text-[var(--color-text-primary)] text-2xl md:text-[1.75rem] font-semibold tracking-tight",children:n("login.pleaseLogin")}),D.jsx("p",{className:"text-[var(--color-text-muted)] text-sm md:text-base leading-relaxed max-w-[320px] mx-auto",children:n("login.subtitle")})]}),l?D.jsxs("p",{className:"w-full text-red-400 text-sm font-medium py-3 px-4 rounded-xl bg-red-500/10 border border-red-500/20",role:"alert",children:[n("login.errors"),": ",l]}):null,D.jsxs("button",{type:"button",onClick:()=>T(),className:"flex items-center justify-center gap-3 w-full py-4 px-6 text-base font-semibold min-h-[52px] rounded-xl transition-all duration-300 shadow-[0_4px_20px_var(--color-app-accent-shadow)] border border-[var(--color-border-subtle)] bg-gradient-to-br from-[var(--color-app-accent)] to-[var(--color-app-accent-hover)] text-[var(--color-btn-on-accent)] hover:-translate-y-0.5 hover:shadow-[0_8px_28px_var(--color-app-accent-shadow)] hover:border-[var(--color-border-medium)] active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none [&_svg]:shrink-0 [&_svg]:text-xl [&_svg]:drop-shadow-[0_1px_2px_rgba(0,0,0,0.2)]",disabled:a,children:[D.jsx(AO,{"aria-hidden":!0}),n(a?"login.signingIn":"login.signInWithGoogle")]})]})})]})},WP=({searchValue:e,categoryValue:t,selectedTag:n,categories:a,onSearchChange:l,onCategoryChange:d,onTagChange:p,dateRange:y,onDateRangeChange:S,onClearFilters:T,onFilterPanelOpenChange:_})=>{const{t:O}=bn(),{data:L}=xs(),P=G.useRef(null),{isFilterFocused:H,handleFocus:B,handleBlur:F,handleChipClick:W,handleSelection:Y}=qD(),$=G.useCallback(ge=>{const Ae=ge.relatedTarget;if(Ae!=null){if(P.current?.contains(Ae))return;F();return}setTimeout(()=>{const Be=document.activeElement;P.current?.contains(Be)||F()},200)},[F]);G.useEffect(()=>{if(!H)return;const ge=Ae=>{const Be=Ae.target;Be&&P.current&&!P.current.contains(Be)&&F()};return document.addEventListener("pointerdown",ge),()=>document.removeEventListener("pointerdown",ge)},[H,F]),G.useEffect(()=>{_?.(H)},[H,_]);const K=G.useCallback(ge=>{ge===t?d(""):(d(ge),Y())},[t,d,Y]),re=!!(y?.start&&y?.end),ue=e||t||n||re,X=G.useMemo(()=>{if(!y?.start||!y?.end)return"";const ge=Ae=>new Date(Ae+"T12:00:00").toLocaleDateString(void 0,{day:"numeric",month:"short",year:"numeric"});return`${ge(y.start)}  ${ge(y.end)}`},[y]),ie=G.useMemo(()=>{if(!L.raw||L.raw.length===0)return[];const ge={},Ae=new Set;L.raw.forEach(Ke=>{if(Ke.type==="transaction"){const Ze=Ke.field_description||Ke.dsc||"";Ze&&m1(Ze).forEach(tt=>{Ae.add(tt),ge[tt]=(ge[tt]||0)+1})}});const Be=new Set,Xe=rb();return Object.values(Xe).forEach(Ke=>{Ke.forEach(Ze=>{Be.add(Ze)})}),Array.from(Ae).sort((Ke,Ze)=>(ge[Ze]||0)-(ge[Ke]||0))},[L.raw]),pe=ge=>{const Ae=rb();for(const[Be,Xe]of Object.entries(Ae))for(const Ke of Xe)if(Zu(Ke)===ge)return{suggestion:Ke,category:Be};return null},be=n?(()=>{const ge=pe(n);if(ge){const Ae=ab(ge.suggestion,ge.category);return O(Ae)!==Ae?O(Ae):ge.suggestion}return n.replace(/-/g," ")})():"",le=G.useCallback(ge=>{ge===n?p(""):(p(ge),Y())},[n,p,Y]),ye=a.filter(ge=>ge.value!==""),De=t?a.find(ge=>ge.value===t)?.label:"",Fe="flex items-center bg-white/[0.05] rounded-2xl px-4 gap-3 w-full transition-all duration-200 focus-within:bg-white/[0.08] focus-within:ring-2 focus-within:ring-white/20 focus-within:ring-inset border border-white/[0.08] focus-within:border-white/20",$e="flex items-center gap-1.5 text-xs font-medium py-2 px-3 rounded-2xl whitespace-nowrap shrink-0 cursor-pointer transition-all duration-200 border border-white/20",oe="bg-gradient-to-br from-[var(--color-app-accent)] to-[var(--color-app-accent-hover)] text-[var(--color-btn-on-accent)] [&_svg]:text-[0.75rem] hover:opacity-90 hover:scale-[1.02] active:scale-[0.98]",Ee="bg-gradient-to-br from-[var(--color-app-accent)] to-[var(--color-app-accent-hover)] text-[var(--color-btn-on-accent)] hover:opacity-90 hover:scale-[1.02] active:scale-[0.98]",Ie="bg-gradient-to-br from-[var(--color-app-accent)] to-[var(--color-app-accent-hover)] text-[var(--color-btn-on-accent)] hover:opacity-90 hover:scale-[1.02] active:scale-[0.98]",Ye="rounded-xl py-2.5 px-4 text-sm font-medium cursor-pointer transition-all duration-200 border-0 bg-gradient-to-br from-[var(--color-app-accent)] to-[var(--color-app-accent-hover)] text-[var(--color-btn-on-accent)] shadow-[0_2px_8px_var(--color-app-accent-shadow)] hover:opacity-95 hover:shadow-[0_2px_12px_var(--color-app-accent-shadow)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/40 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--color-app-bg)]",je="rounded-xl py-2.5 px-4 text-sm cursor-pointer transition-all duration-200 border border-white/[0.12] bg-white/[0.06] text-app-secondary hover:bg-white/[0.1] hover:text-app-primary hover:border-white/[0.18] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-app-accent)]/30 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--color-app-bg)]",Re=Ye;return D.jsxs("div",{ref:P,className:"relative z-[1100] w-full flex flex-col gap-3 mb-6 overflow-x-hidden max-w-full",role:"search",children:[D.jsxs("div",{className:Fe,children:[D.jsx(G1,{className:"text-app-placeholder text-lg shrink-0","aria-hidden":!0}),t&&!H&&D.jsx("div",{className:`${$e} ${Ee}`,onClick:W,onKeyDown:ge=>ge.key==="Enter"&&W(),role:"button",tabIndex:0,"aria-label":De,children:De}),n&&!H&&D.jsx("div",{className:`${$e} ${Ie}`,onClick:W,onKeyDown:ge=>ge.key==="Enter"&&W(),role:"button",tabIndex:0,"aria-label":be,children:be}),re&&!H&&D.jsxs("div",{className:`${$e} ${oe}`,onClick:W,onKeyDown:ge=>ge.key==="Enter"&&W(),role:"button",tabIndex:0,"aria-label":X,title:X,children:[D.jsx(fc,{"aria-hidden":!0}),D.jsx("span",{className:"truncate max-w-[140px]",children:X})]}),D.jsx("input",{type:"search",value:e,onChange:ge=>{const Ae=db(ge.target.value);l(Ae)},onFocus:B,onBlur:$,placeholder:O(t||n||re?"filters.searchInMonthCategory":"filters.search"),className:"flex-1 bg-transparent border-none py-4 text-app-primary text-[0.95rem] outline-none min-w-0 placeholder:text-app-placeholder focus:outline-none","aria-label":O("filters.search"),autoComplete:"off"}),ue&&D.jsxs("button",{type:"button",onClick:T,className:"flex items-center gap-1.5 shrink-0 py-2 px-3 rounded-xl border border-transparent text-app-muted hover:text-app-primary hover:bg-app-surface-hover transition-colors cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-app-accent)]/30 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--color-app-bg)]",title:O("filters.clearAll"),"aria-label":O("filters.clearAll"),children:[D.jsx(tm,{className:"text-lg","aria-hidden":!0}),D.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:O("filters.clear")})]})]}),H&&D.jsxs("div",{className:`flex flex-col gap-0 min-h-0 max-h-[min(480px,65vh)] overflow-x-hidden w-full max-w-full overflow-y-auto rounded-2xl border border-white/[0.1] bg-white/[0.06] shadow-[0_8px_32px_rgba(0,0,0,0.4)] animate-[slideDown_0.2s_ease-out]
            [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-track]:bg-white/[0.04] [&::-webkit-scrollbar-thumb]:bg-white/20 [&::-webkit-scrollbar-thumb]:rounded-full hover:[&::-webkit-scrollbar-thumb]:bg-white/30`,role:"region","aria-label":O("filters.categories"),children:[ye.length>0&&D.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 px-4 py-4 border-b border-white/[0.06]",children:[D.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-semibold uppercase tracking-widest text-app-muted [&_svg]:size-3.5 [&_svg]:text-[var(--color-app-accent)]",children:[D.jsx(yO,{"aria-hidden":!0}),O("filters.categories")]}),D.jsx("div",{className:"flex flex-wrap gap-2 overflow-x-hidden w-full max-w-full",children:ye.map(ge=>D.jsx("button",{type:"button",onClick:()=>K(ge.value),className:ge.value===t?Ye:je,"aria-pressed":ge.value===t,children:ge.label},ge.value))})]}),ie.length>0&&D.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 px-4 py-4 border-b border-white/[0.06]",children:[D.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-semibold uppercase tracking-widest text-app-muted [&_svg]:size-3.5 [&_svg]:text-[var(--color-app-accent)]",children:[D.jsx(wS,{"aria-hidden":!0}),O("filters.tags")||"Tags"]}),D.jsxs("div",{className:"flex flex-wrap gap-2 overflow-x-hidden w-full max-w-full",children:[D.jsx("button",{type:"button",onClick:()=>le(""),className:n?je:Re,"aria-pressed":!n,children:O("filters.all")||"All"}),ie.map(ge=>{const Ae=n===ge,Be=pe(ge);let Xe=ge;if(Be){const Ke=ab(Be.suggestion,Be.category);Xe=O(Ke)!==Ke?O(Ke):Be.suggestion}else Xe=ge.replace(/-/g," ");return D.jsx("button",{type:"button",onClick:()=>le(ge),className:Ae?Re:je,"aria-pressed":Ae,children:Xe},ge)})]})]}),D.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 px-4 py-4 border-b border-white/[0.06]",children:[D.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-semibold uppercase tracking-widest text-app-muted [&_svg]:size-3.5 [&_svg]:text-[var(--color-app-accent)]",children:[D.jsx(fc,{"aria-hidden":!0}),O("filters.dateRange")]}),D.jsxs("div",{className:"flex flex-col gap-3",children:[D.jsxs("div",{className:"flex flex-col gap-1.5",children:[D.jsx("label",{className:"text-app-secondary text-sm font-medium",children:O("filters.dateFrom")}),D.jsx("input",{type:"date",value:y?.start??"",onChange:ge=>{const Ae=ge.target.value,Be=y?.end??"";if(!Ae&&!Be)S(null);else{const Xe=Ae?Ae>new Date().toISOString().slice(0,10)?Ae:new Date().toISOString().slice(0,10):"";S({start:Ae,end:Be||Xe})}},className:"min-h-11 w-full rounded-xl border border-white/[0.12] bg-white/[0.06] px-3 py-2.5 text-app-primary text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-app-accent)]/40 focus:border-white/20","aria-label":O("filters.dateFrom")})]}),D.jsxs("div",{className:"flex flex-col gap-1.5",children:[D.jsx("label",{className:"text-app-secondary text-sm font-medium",children:O("filters.dateTo")}),D.jsx("input",{type:"date",value:y?.end??"",onChange:ge=>{const Ae=ge.target.value,Be=y?.start??"";S(!Be&&!Ae?null:{start:Be||Ae,end:Ae})},min:y?.start,className:"min-h-11 w-full rounded-xl border border-white/[0.12] bg-white/[0.06] px-3 py-2.5 text-app-primary text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-app-accent)]/40 focus:border-white/20","aria-label":O("filters.dateTo")})]})]})]})]})]})},YP=Ge.memo(WP),$P=({transactions:e,categoryLabels:t,onEdit:n,onDelete:a,pendingSyncIds:l})=>{const d=G.useRef(null),[p,y]=G.useState(null),[S,T]=G.useState("desc"),{language:_,t:O}=bn(),{handleTouchStart:L,handleTouchMove:P,handleTouchEnd:H,deleteVisible:B,editVisible:F,swipedItemId:W}=Vb(),Y=ie=>t.find(pe=>pe.value===ie)?.label||ie,$=ie=>{p===ie?T(S==="asc"?"desc":"asc"):(y(ie),T("desc"))},K=[...e].sort((ie,pe)=>{if(!p)return 0;if(p==="date"){const be=new Date(ie.dt).getTime(),le=new Date(pe.dt).getTime();return S==="asc"?be-le:le-be}if(p==="amount"){const be=typeof ie.sum=="string"?parseFloat(ie.sum):ie.sum,le=typeof pe.sum=="string"?parseFloat(pe.sum):pe.sum;return S==="asc"?be-le:le-be}return 0}),re=ie=>p!==ie?D.jsx(Pb,{}):S==="asc"?D.jsx(Lb,{}):D.jsx(Nb,{}),ue="rounded-lg py-2 px-4 text-app-muted text-sm cursor-pointer flex items-center gap-2 transition-all duration-200 bg-app-surface border-none hover:bg-app-surface-hover hover:text-app-secondary [&_svg]:text-sm",X="bg-[var(--color-app-accent)]/20 text-[var(--color-app-accent)] font-medium";return D.jsxs("div",{className:"flex flex-col gap-2 w-full relative overflow-x-hidden overflow-y-auto touch-pan-y",style:{WebkitOverflowScrolling:"touch"},ref:d,children:[D.jsxs("div",{className:"flex gap-2 mb-3",children:[D.jsxs("button",{type:"button",className:`${ue} ${p==="date"?X:""}`,onClick:()=>$("date"),children:["Date ",re("date")]}),D.jsxs("button",{type:"button",className:`${ue} ${p==="amount"?X:""}`,onClick:()=>$("amount"),children:["Amount ",re("amount")]})]}),K.map(ie=>{const pe=Y(ie.cat),be=new Date(ie.dt),le=be.getDate(),ye=kb(_),De=be.toLocaleDateString(ye,{month:"short"}).toUpperCase(),Fe=W===ie.id,$e=!!l?.[ie.id]||typeof ie.id=="string"&&ie.id.startsWith("temp_");return D.jsxs("div",{className:"relative w-full rounded-2xl overflow-hidden",children:[D.jsxs("div",{className:`swipe-actions-background rounded-2xl ${Fe&&(B||F)?"visible":""}`,children:[Fe&&B&&D.jsx("div",{className:"delete-action-bg",children:D.jsx(nf,{})}),Fe&&F&&D.jsx("div",{className:"edit-action-bg",children:D.jsx(ys,{})})]}),D.jsxs("div",{"data-id":ie.id,className:"bg-white/[0.05] rounded-2xl py-4 pr-6 pl-4 flex items-start gap-4 cursor-pointer transition-all duration-200 relative z-[1] w-full min-h-0 touch-pan-y overflow-hidden hover:bg-white/10 hover:translate-x-1 active:scale-[0.98]",style:{touchAction:"pan-y pan-x pinch-zoom"},onTouchStart:oe=>L(oe,ie.id,d),onTouchMove:oe=>P(oe,d),onTouchEnd:oe=>H(oe,d,ie.id,n||(()=>{}),a||(()=>{})),children:[D.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[50px] shrink-0",children:[D.jsx("div",{className:"text-2xl font-bold text-app-primary leading-none",children:le}),D.jsx("div",{className:"text-xs font-semibold text-app-muted mt-1 tracking-wide",children:De})]}),D.jsx("div",{className:"flex items-center justify-center min-w-[80px] max-w-[100px] bg-app-surface-hover rounded-xl py-2 px-3 shrink-0",children:D.jsx("div",{className:"text-xs font-medium text-app-secondary text-center whitespace-nowrap overflow-hidden text-ellipsis",children:pe})}),D.jsx("div",{className:"flex-1 min-w-0",children:D.jsx("div",{className:"text-base font-medium text-app-secondary leading-snug break-words",children:D.jsx($D,{description:ie.dsc||"",suggestions:rb()[ie.cat]||[],normalizeTag:Zu,getTagLabel:oe=>{const Ee=ab(oe,ie.cat),Ie=O(Ee);return Ie!==Ee?Ie:oe}})})}),D.jsxs("div",{className:"text-lg font-bold text-app-primary whitespace-nowrap pr-2 shrink-0 flex items-center gap-1",children:[Tt(ie.sum),D.jsx(Wb,{status:$e?"pending":void 0})]})]})]},ie.id)})]})},bT=Ge.memo($P);var Xb,bt,xT,wT,sf,Wu,qA,ST,ET,mb={},AT=[],qP=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function lc(e,t){for(var n in t)e[n]=t[n];return e}function CT(e){var t=e.parentNode;t&&t.removeChild(e)}function ke(e,t,n){var a,l,d,p={};for(d in t)d=="key"?a=t[d]:d=="ref"?l=t[d]:p[d]=t[d];if(arguments.length>2&&(p.children=arguments.length>3?Xb.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(d in e.defaultProps)p[d]===void 0&&(p[d]=e.defaultProps[d]);return Jv(e,p,a,l,null)}function Jv(e,t,n,a,l){var d={type:e,props:t,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++xT};return l==null&&bt.vnode!=null&&bt.vnode(d),d}function tl(){return{current:null}}function gi(e){return e.children}function XP(e,t,n,a,l){var d;for(d in n)d==="children"||d==="key"||d in t||yb(e,d,null,n[d],a);for(d in t)l&&typeof t[d]!="function"||d==="children"||d==="key"||d==="value"||d==="checked"||n[d]===t[d]||yb(e,d,t[d],n[d],a)}function XA(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||qP.test(t)?n:n+"px"}function yb(e,t,n,a,l){var d;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof a=="string"&&(e.style.cssText=a=""),a)for(t in a)n&&t in n||XA(e.style,t,"");if(n)for(t in n)a&&n[t]===a[t]||XA(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")d=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+d]=n,n?a||e.addEventListener(t,d?QA:ZA,d):e.removeEventListener(t,d?QA:ZA,d);else if(t!=="dangerouslySetInnerHTML"){if(l)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,n))}}function ZA(e){sf=!0;try{return this.l[e.type+!1](bt.event?bt.event(e):e)}finally{sf=!1}}function QA(e){sf=!0;try{return this.l[e.type+!0](bt.event?bt.event(e):e)}finally{sf=!1}}function ba(e,t){this.props=e,this.context=t}function qg(e,t){if(t==null)return e.__?qg(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?qg(e):null}function DT(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return DT(e)}}function ZP(e){sf?setTimeout(e):ST(e)}function Ww(e){(!e.__d&&(e.__d=!0)&&Wu.push(e)&&!vb.__r++||qA!==bt.debounceRendering)&&((qA=bt.debounceRendering)||ZP)(vb)}function vb(){var e,t,n,a,l,d,p,y;for(Wu.sort(function(S,T){return S.__v.__b-T.__v.__b});e=Wu.shift();)e.__d&&(t=Wu.length,a=void 0,l=void 0,p=(d=(n=e).__v).__e,(y=n.__P)&&(a=[],(l=lc({},d)).__v=d.__v+1,BS(y,d,l,n.__n,y.ownerSVGElement!==void 0,d.__h!=null?[p]:null,a,p??qg(d),d.__h),kT(a,d),d.__e!=p&&DT(d)),Wu.length>t&&Wu.sort(function(S,T){return S.__v.__b-T.__v.__b}));vb.__r=0}function TT(e,t,n,a,l,d,p,y,S,T){var _,O,L,P,H,B,F,W=a&&a.__k||AT,Y=W.length;for(n.__k=[],_=0;_<t.length;_++)if((P=n.__k[_]=(P=t[_])==null||typeof P=="boolean"?null:typeof P=="string"||typeof P=="number"||typeof P=="bigint"?Jv(null,P,null,null,P):Array.isArray(P)?Jv(gi,{children:P},null,null,null):P.__b>0?Jv(P.type,P.props,P.key,P.ref?P.ref:null,P.__v):P)!=null){if(P.__=n,P.__b=n.__b+1,(L=W[_])===null||L&&P.key==L.key&&P.type===L.type)W[_]=void 0;else for(O=0;O<Y;O++){if((L=W[O])&&P.key==L.key&&P.type===L.type){W[O]=void 0;break}L=null}BS(e,P,L=L||mb,l,d,p,y,S,T),H=P.__e,(O=P.ref)&&L.ref!=O&&(F||(F=[]),L.ref&&F.push(L.ref,null,P),F.push(O,P.__c||H,P)),H!=null?(B==null&&(B=H),typeof P.type=="function"&&P.__k===L.__k?P.__d=S=MT(P,S,e):S=_T(e,P,L,W,H,S),typeof n.type=="function"&&(n.__d=S)):S&&L.__e==S&&S.parentNode!=e&&(S=qg(L))}for(n.__e=B,_=Y;_--;)W[_]!=null&&(typeof n.type=="function"&&W[_].__e!=null&&W[_].__e==n.__d&&(n.__d=RT(a).nextSibling),NT(W[_],W[_]));if(F)for(_=0;_<F.length;_++)OT(F[_],F[++_],F[++_])}function MT(e,t,n){for(var a,l=e.__k,d=0;l&&d<l.length;d++)(a=l[d])&&(a.__=e,t=typeof a.type=="function"?MT(a,t,n):_T(n,a,a,l,a.__e,t));return t}function bb(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(n){bb(n,t)}):t.push(e)),t}function _T(e,t,n,a,l,d){var p,y,S;if(t.__d!==void 0)p=t.__d,t.__d=void 0;else if(n==null||l!=d||l.parentNode==null)e:if(d==null||d.parentNode!==e)e.appendChild(l),p=null;else{for(y=d,S=0;(y=y.nextSibling)&&S<a.length;S+=1)if(y==l)break e;e.insertBefore(l,d),p=d}return p!==void 0?p:l.nextSibling}function RT(e){var t,n,a;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(a=RT(n)))return a}return null}function BS(e,t,n,a,l,d,p,y,S){var T,_,O,L,P,H,B,F,W,Y,$,K,re,ue,X,ie=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(S=n.__h,y=t.__e=n.__e,t.__h=null,d=[y]),(T=bt.__b)&&T(t);try{e:if(typeof ie=="function"){if(F=t.props,W=(T=ie.contextType)&&a[T.__c],Y=T?W?W.props.value:T.__:a,n.__c?B=(_=t.__c=n.__c).__=_.__E:("prototype"in ie&&ie.prototype.render?t.__c=_=new ie(F,Y):(t.__c=_=new ba(F,Y),_.constructor=ie,_.render=KP),W&&W.sub(_),_.props=F,_.state||(_.state={}),_.context=Y,_.__n=a,O=_.__d=!0,_.__h=[],_._sb=[]),_.__s==null&&(_.__s=_.state),ie.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=lc({},_.__s)),lc(_.__s,ie.getDerivedStateFromProps(F,_.__s))),L=_.props,P=_.state,_.__v=t,O)ie.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(ie.getDerivedStateFromProps==null&&F!==L&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(F,Y),!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(F,_.__s,Y)===!1||t.__v===n.__v){for(t.__v!==n.__v&&(_.props=F,_.state=_.__s,_.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(pe){pe&&(pe.__=t)}),$=0;$<_._sb.length;$++)_.__h.push(_._sb[$]);_._sb=[],_.__h.length&&p.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(F,_.__s,Y),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(L,P,H)})}if(_.context=Y,_.props=F,_.__P=e,K=bt.__r,re=0,"prototype"in ie&&ie.prototype.render){for(_.state=_.__s,_.__d=!1,K&&K(t),T=_.render(_.props,_.state,_.context),ue=0;ue<_._sb.length;ue++)_.__h.push(_._sb[ue]);_._sb=[]}else do _.__d=!1,K&&K(t),T=_.render(_.props,_.state,_.context),_.state=_.__s;while(_.__d&&++re<25);_.state=_.__s,_.getChildContext!=null&&(a=lc(lc({},a),_.getChildContext())),O||_.getSnapshotBeforeUpdate==null||(H=_.getSnapshotBeforeUpdate(L,P)),X=T!=null&&T.type===gi&&T.key==null?T.props.children:T,TT(e,Array.isArray(X)?X:[X],t,n,a,l,d,p,y,S),_.base=t.__e,t.__h=null,_.__h.length&&p.push(_),B&&(_.__E=_.__=null),_.__e=!1}else d==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=QP(n.__e,t,n,a,l,d,p,S);(T=bt.diffed)&&T(t)}catch(pe){t.__v=null,(S||d!=null)&&(t.__e=y,t.__h=!!S,d[d.indexOf(y)]=null),bt.__e(pe,t,n)}}function kT(e,t){bt.__c&&bt.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(a){a.call(n)})}catch(a){bt.__e(a,n.__v)}})}function QP(e,t,n,a,l,d,p,y){var S,T,_,O=n.props,L=t.props,P=t.type,H=0;if(P==="svg"&&(l=!0),d!=null){for(;H<d.length;H++)if((S=d[H])&&"setAttribute"in S==!!P&&(P?S.localName===P:S.nodeType===3)){e=S,d[H]=null;break}}if(e==null){if(P===null)return document.createTextNode(L);e=l?document.createElementNS("http://www.w3.org/2000/svg",P):document.createElement(P,L.is&&L),d=null,y=!1}if(P===null)O===L||y&&e.data===L||(e.data=L);else{if(d=d&&Xb.call(e.childNodes),T=(O=n.props||mb).dangerouslySetInnerHTML,_=L.dangerouslySetInnerHTML,!y){if(d!=null)for(O={},H=0;H<e.attributes.length;H++)O[e.attributes[H].name]=e.attributes[H].value;(_||T)&&(_&&(T&&_.__html==T.__html||_.__html===e.innerHTML)||(e.innerHTML=_&&_.__html||""))}if(XP(e,L,O,l,y),_)t.__k=[];else if(H=t.props.children,TT(e,Array.isArray(H)?H:[H],t,n,a,l&&P!=="foreignObject",d,p,d?d[0]:n.__k&&qg(n,0),y),d!=null)for(H=d.length;H--;)d[H]!=null&&CT(d[H]);y||("value"in L&&(H=L.value)!==void 0&&(H!==e.value||P==="progress"&&!H||P==="option"&&H!==O.value)&&yb(e,"value",H,O.value,!1),"checked"in L&&(H=L.checked)!==void 0&&H!==e.checked&&yb(e,"checked",H,O.checked,!1))}return e}function OT(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(a){bt.__e(a,n)}}function NT(e,t,n){var a,l;if(bt.unmount&&bt.unmount(e),(a=e.ref)&&(a.current&&a.current!==e.__e||OT(a,null,t)),(a=e.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(d){bt.__e(d,t)}a.base=a.__P=null,e.__c=void 0}if(a=e.__k)for(l=0;l<a.length;l++)a[l]&&NT(a[l],t,n||typeof e.type!="function");n||e.__e==null||CT(e.__e),e.__=e.__e=e.__d=void 0}function KP(e,t,n){return this.constructor(e,n)}function Xg(e,t,n){var a,l,d;bt.__&&bt.__(e,t),l=(a=!1)?null:t.__k,d=[],BS(t,e=t.__k=ke(gi,null,[e]),l||mb,mb,t.ownerSVGElement!==void 0,l?null:t.firstChild?Xb.call(t.childNodes):null,d,l?l.__e:t.firstChild,a),kT(d,e)}function JP(e,t){var n={__c:t="__cC"+ET++,__:e,Consumer:function(a,l){return a.children(l)},Provider:function(a){var l,d;return this.getChildContext||(l=[],(d={})[t]=this,this.getChildContext=function(){return d},this.shouldComponentUpdate=function(p){this.props.value!==p.value&&l.some(function(y){y.__e=!0,Ww(y)})},this.sub=function(p){l.push(p);var y=p.componentWillUnmount;p.componentWillUnmount=function(){l.splice(l.indexOf(p),1),y&&y.call(p)}}),a.children}};return n.Provider.__=n.Consumer.contextType=n}Xb=AT.slice,bt={__e:function(e,t,n,a){for(var l,d,p;t=t.__;)if((l=t.__c)&&!l.__)try{if((d=l.constructor)&&d.getDerivedStateFromError!=null&&(l.setState(d.getDerivedStateFromError(e)),p=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(e,a||{}),p=l.__d),p)return l.__E=l}catch(y){e=y}throw e}},xT=0,wT=function(e){return e!=null&&e.constructor===void 0},sf=!1,ba.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=lc({},this.state),typeof e=="function"&&(e=e(lc({},n),this.props)),e&&lc(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Ww(this))},ba.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ww(this))},ba.prototype.render=gi,Wu=[],ST=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vb.__r=0,ET=0;var no,$x,KA,LT=[],qx=[],JA=bt.__b,eC=bt.__r,tC=bt.diffed,nC=bt.__c,iC=bt.unmount;function ej(){for(var e;e=LT.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(eb),e.__H.__h.forEach(Yw),e.__H.__h=[]}catch(t){e.__H.__h=[],bt.__e(t,e.__v)}}bt.__b=function(e){no=null,JA&&JA(e)},bt.__r=function(e){eC&&eC(e);var t=(no=e.__c).__H;t&&($x===no?(t.__h=[],no.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=qx,n.__N=n.i=void 0})):(t.__h.forEach(eb),t.__h.forEach(Yw),t.__h=[])),$x=no},bt.diffed=function(e){tC&&tC(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(LT.push(t)!==1&&KA===bt.requestAnimationFrame||((KA=bt.requestAnimationFrame)||tj)(ej)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==qx&&(n.__=n.__V),n.i=void 0,n.__V=qx})),$x=no=null},bt.__c=function(e,t){t.some(function(n){try{n.__h.forEach(eb),n.__h=n.__h.filter(function(a){return!a.__||Yw(a)})}catch(a){t.some(function(l){l.__h&&(l.__h=[])}),t=[],bt.__e(a,n.__v)}}),nC&&nC(e,t)},bt.unmount=function(e){iC&&iC(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(a){try{eb(a)}catch(l){t=l}}),n.__H=void 0,t&&bt.__e(t,n.__v))};var rC=typeof requestAnimationFrame=="function";function tj(e){var t,n=function(){clearTimeout(a),rC&&cancelAnimationFrame(t),setTimeout(e)},a=setTimeout(n,100);rC&&(t=requestAnimationFrame(n))}function eb(e){var t=no,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),no=t}function Yw(e){var t=no;e.__c=e.__(),no=t}function nj(e,t){for(var n in t)e[n]=t[n];return e}function aC(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var a in t)if(a!=="__source"&&e[a]!==t[a])return!0;return!1}function sC(e){this.props=e}(sC.prototype=new ba).isPureReactComponent=!0,sC.prototype.shouldComponentUpdate=function(e,t){return aC(this.props,e)||aC(this.state,t)};var oC=bt.__b;bt.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),oC&&oC(e)};var ij=bt.__e;bt.__e=function(e,t,n,a){if(e.then){for(var l,d=t;d=d.__;)if((l=d.__c)&&l.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),l.__c(e,t)}ij(e,t,n,a)};var lC=bt.unmount;function IT(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(a){typeof a.__c=="function"&&a.__c()}),e.__c.__H=null),(e=nj({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(a){return IT(a,t,n)})),e}function PT(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(a){return PT(a,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function Xx(){this.__u=0,this.t=null,this.__b=null}function jT(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Iv(){this.u=null,this.o=null}bt.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&e.__h===!0&&(e.type=null),lC&&lC(e)},(Xx.prototype=new ba).__c=function(e,t){var n=t.__c,a=this;a.t==null&&(a.t=[]),a.t.push(n);var l=jT(a.__v),d=!1,p=function(){d||(d=!0,n.__R=null,l?l(y):y())};n.__R=p;var y=function(){if(!--a.__u){if(a.state.__a){var T=a.state.__a;a.__v.__k[0]=PT(T,T.__c.__P,T.__c.__O)}var _;for(a.setState({__a:a.__b=null});_=a.t.pop();)_.forceUpdate()}},S=t.__h===!0;a.__u++||S||a.setState({__a:a.__b=a.__v.__k[0]}),e.then(p,p)},Xx.prototype.componentWillUnmount=function(){this.t=[]},Xx.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),a=this.__v.__k[0].__c;this.__v.__k[0]=IT(this.__b,n,a.__O=a.__P)}this.__b=null}var l=t.__a&&ke(gi,null,e.fallback);return l&&(l.__h=null),[ke(gi,null,t.__a?null:e.children),l]};var cC=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function rj(e){return this.getChildContext=function(){return e.context},e.children}function aj(e){var t=this,n=e.i;t.componentWillUnmount=function(){Xg(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(a){this.childNodes.push(a),t.i.appendChild(a)},insertBefore:function(a,l){this.childNodes.push(a),t.i.appendChild(a)},removeChild:function(a){this.childNodes.splice(this.childNodes.indexOf(a)>>>1,1),t.i.removeChild(a)}}),Xg(ke(rj,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function sj(e,t){var n=ke(aj,{__v:e,i:t});return n.containerInfo=t,n}(Iv.prototype=new ba).__a=function(e){var t=this,n=jT(t.__v),a=t.o.get(e);return a[0]++,function(l){var d=function(){t.props.revealOrder?(a.push(l),cC(t,e,a)):l()};n?n(d):d()}},Iv.prototype.render=function(e){this.u=null,this.o=new Map;var t=bb(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},Iv.prototype.componentDidUpdate=Iv.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){cC(e,n,t)})};var oj=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,lj=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,cj=typeof document<"u",uj=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(e)};ba.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ba.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var uC=bt.event;function dj(){}function hj(){return this.cancelBubble}function fj(){return this.defaultPrevented}bt.event=function(e){return uC&&(e=uC(e)),e.persist=dj,e.isPropagationStopped=hj,e.isDefaultPrevented=fj,e.nativeEvent=e};var dC={configurable:!0,get:function(){return this.class}},hC=bt.vnode;bt.vnode=function(e){var t=e.type,n=e.props,a=n;if(typeof t=="string"){var l=t.indexOf("-")===-1;for(var d in a={},n){var p=n[d];cj&&d==="children"&&t==="noscript"||d==="value"&&"defaultValue"in n&&p==null||(d==="defaultValue"&&"value"in n&&n.value==null?d="value":d==="download"&&p===!0?p="":/ondoubleclick/i.test(d)?d="ondblclick":/^onchange(textarea|input)/i.test(d+t)&&!uj(n.type)?d="oninput":/^onfocus$/i.test(d)?d="onfocusin":/^onblur$/i.test(d)?d="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(d)?d=d.toLowerCase():l&&lj.test(d)?d=d.replace(/[A-Z0-9]/g,"-$&").toLowerCase():p===null&&(p=void 0),/^oninput$/i.test(d)&&(d=d.toLowerCase(),a[d]&&(d="oninputCapture")),a[d]=p)}t=="select"&&a.multiple&&Array.isArray(a.value)&&(a.value=bb(n.children).forEach(function(y){y.props.selected=a.value.indexOf(y.props.value)!=-1})),t=="select"&&a.defaultValue!=null&&(a.value=bb(n.children).forEach(function(y){y.props.selected=a.multiple?a.defaultValue.indexOf(y.props.value)!=-1:a.defaultValue==y.props.value})),e.props=a,n.class!=n.className&&(dC.enumerable="className"in n,n.className!=null&&(a.class=n.className),Object.defineProperty(a,"className",dC))}e.$$typeof=oj,hC&&hC(e)};var fC=bt.__r;bt.__r=function(e){fC&&fC(e),e.__c};const zT=[],$w=new Map;function BT(e){zT.push(e),$w.forEach(t=>{HT(t,e)})}function pj(e){e.isConnected&&e.getRootNode&&FT(e.getRootNode())}function FT(e){let t=$w.get(e);if(!t||!t.isConnected){if(t=e.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");const n=mj();n&&(t.nonce=n);const a=e===document?document.head:e,l=e===document?a.querySelector("script,link[rel=stylesheet],link[as=style],style"):a.firstChild;a.insertBefore(t,l)}$w.set(e,t),gj(t)}}function gj(e){for(const t of zT)HT(e,t)}function HT(e,t){const{sheet:n}=e,a=n.cssRules.length;t.split("}").forEach((l,d)=>{l=l.trim(),l&&n.insertRule(l+"}",a+d)})}let Zx;function mj(){return Zx===void 0&&(Zx=yj()),Zx}function yj(){const e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");const t=document.querySelector("script[nonce]");return t&&t.nonce||""}typeof document<"u"&&FT(document);var vj=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';BT(vj);class FS{constructor(t){this.drainedOption=t,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(t){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),t==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),t))}pause(t=""){let{pauseDepths:n}=this;n[t]=(n[t]||0)+1,this.clearTimeout()}resume(t="",n){let{pauseDepths:a}=this;t in a&&(n?delete a[t]:(a[t]-=1,a[t]<=0&&delete a[t]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function HS(e){e.parentNode&&e.parentNode.removeChild(e)}function hr(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(bj(e,t))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1);return null}function bj(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function xj(e,t){let n=e instanceof HTMLElement?[e]:e,a=[];for(let l=0;l<n.length;l+=1){let d=n[l].querySelectorAll(t);for(let p=0;p<d.length;p+=1)a.push(d[p])}return a}const wj=/(top|left|right|bottom|width|height)$/i;function Ig(e,t){for(let n in t)UT(e,n,t[n])}function UT(e,t,n){n==null?e.style[t]="":typeof n=="number"&&wj.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function GT(e){var t,n;return(n=(t=e.composedPath)===null||t===void 0?void 0:t.call(e)[0])!==null&&n!==void 0?n:e.target}let pC=0;function Zb(){return pC+=1,"fc-dom-"+pC}function Qb(e){e.preventDefault()}function Sj(e,t){return n=>{let a=hr(n.target,e);a&&t.call(a,n,a)}}function VT(e,t,n,a){let l=Sj(n,a);return e.addEventListener(t,l),()=>{e.removeEventListener(t,l)}}function Ej(e,t,n,a){let l;return VT(e,"mouseover",t,(d,p)=>{if(p!==l){l=p,n(d,p);let y=S=>{l=null,a(S,p),p.removeEventListener("mouseleave",y)};p.addEventListener("mouseleave",y)}})}const gC=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Aj(e,t){let n=a=>{t(a),gC.forEach(l=>{e.removeEventListener(l,n)})};gC.forEach(a=>{e.addEventListener(a,n)})}function WT(e){return Object.assign({onClick:e},YT(e))}function YT(e){return{tabIndex:0,onKeyDown(t){(t.key==="Enter"||t.key===" ")&&(e(t),t.preventDefault())}}}let mC=0;function ad(){return mC+=1,String(mC)}function US(){document.body.classList.add("fc-not-allowed")}function GS(){document.body.classList.remove("fc-not-allowed")}function Cj(e){e.style.userSelect="none",e.style.webkitUserSelect="none",e.addEventListener("selectstart",Qb)}function Dj(e){e.style.userSelect="",e.style.webkitUserSelect="",e.removeEventListener("selectstart",Qb)}function Tj(e){e.addEventListener("contextmenu",Qb)}function Mj(e){e.removeEventListener("contextmenu",Qb)}function _j(e){let t=[],n=[],a,l;for(typeof e=="string"?n=e.split(/\s*,\s*/):typeof e=="function"?n=[e]:Array.isArray(e)&&(n=e),a=0;a<n.length;a+=1)l=n[a],typeof l=="string"?t.push(l.charAt(0)==="-"?{field:l.substring(1),order:-1}:{field:l,order:1}):typeof l=="function"&&t.push({func:l});return t}function Rj(e,t,n){let a,l;for(a=0;a<n.length;a+=1)if(l=kj(e,t,n[a]),l)return l;return 0}function kj(e,t,n){return n.func?n.func(e,t):Oj(e[n.field],t[n.field])*(n.order||1)}function Oj(e,t){return!e&&!t?0:t==null?-1:e==null?1:typeof e=="string"||typeof t=="string"?String(e).localeCompare(String(t)):e-t}function Qx(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function Pg(e,t,n){return typeof e=="function"?e(...t):typeof e=="string"?t.reduce((a,l,d)=>a.replace("$"+d,l||""),e):n}function Nj(e,t){return e-t}function Kx(e){return e%1===0}function Lj(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}const Ij=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function vn(e,t){return typeof e=="string"?Pj(e):typeof e=="object"&&e?yC(e):typeof e=="number"?yC({[t||"milliseconds"]:e}):null}function Pj(e){let t=Ij.exec(e);if(t){let n=t[1]?-1:1;return{years:0,months:0,days:n*(t[2]?parseInt(t[2],10):0),milliseconds:n*((t[3]?parseInt(t[3],10):0)*60*60*1e3+(t[4]?parseInt(t[4],10):0)*60*1e3+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}function yC(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:(e.hours||e.hour||0)*60*60*1e3+(e.minutes||e.minute||0)*60*1e3+(e.seconds||e.second||0)*1e3+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=n*7,t.specifiedWeeks=!0),t}function jj(e,t){return e.years===t.years&&e.months===t.months&&e.days===t.days&&e.milliseconds===t.milliseconds}function zj(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function Bj(e){return Jh(e)/365}function Fj(e){return Jh(e)/30}function Jh(e){return Zg(e)/864e5}function Zg(e){return e.years*(365*864e5)+e.months*(30*864e5)+e.days*864e5+e.milliseconds}function qw(e){let t=e.milliseconds;if(t){if(t%1e3!==0)return{unit:"millisecond",value:t};if(t%(1e3*60)!==0)return{unit:"second",value:t/1e3};if(t%(1e3*60*60)!==0)return{unit:"minute",value:t/(1e3*60)};if(t)return{unit:"hour",value:t/(1e3*60*60)}}return e.days?e.specifiedWeeks&&e.days%7===0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function yc(e,t,n){if(e===t)return!0;let a=e.length,l;if(a!==t.length)return!1;for(l=0;l<a;l+=1)if(!(n?n(e[l],t[l]):e[l]===t[l]))return!1;return!0}const Hj=["sun","mon","tue","wed","thu","fri","sat"];function vC(e,t){let n=cc(e);return n[2]+=t*7,Zr(n)}function Wi(e,t){let n=cc(e);return n[2]+=t,Zr(n)}function vc(e,t){let n=cc(e);return n[6]+=t,Zr(n)}function Uj(e,t){return ff(e,t)/7}function ff(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60*24)}function Gj(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60)}function Vj(e,t){return(t.valueOf()-e.valueOf())/(1e3*60)}function Wj(e,t){return(t.valueOf()-e.valueOf())/1e3}function Yj(e,t){let n=Jn(e),a=Jn(t);return{years:0,months:0,days:Math.round(ff(n,a)),milliseconds:t.valueOf()-a.valueOf()-(e.valueOf()-n.valueOf())}}function $j(e,t){let n=xb(e,t);return n!==null&&n%7===0?n/7:null}function xb(e,t){return uc(e)===uc(t)?Math.round(ff(e,t)):null}function Jn(e){return Zr([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function qj(e){return Zr([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}function Xj(e){return Zr([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}function Zj(e){return Zr([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}function Qj(e,t,n){let a=e.getUTCFullYear(),l=Jx(e,a,t,n);if(l<1)return Jx(e,a-1,t,n);let d=Jx(e,a+1,t,n);return d>=1?Math.min(l,d):l}function Jx(e,t,n,a){let l=Zr([t,0,1+Kj(t,n,a)]),d=Jn(e),p=Math.round(ff(l,d));return Math.floor(p/7)+1}function Kj(e,t,n){let a=7+t-n;return-((7+Zr([e,0,a]).getUTCDay()-t)%7)+a-1}function bC(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function xC(e){return new Date(e[0],e[1]||0,e[2]==null?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function cc(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function Zr(e){return e.length===1&&(e=e.concat([0])),new Date(Date.UTC(...e))}function $T(e){return!isNaN(e.valueOf())}function uc(e){return e.getUTCHours()*1e3*60*60+e.getUTCMinutes()*1e3*60+e.getUTCSeconds()*1e3+e.getUTCMilliseconds()}function Jj(e,t,n=!1){let a=e.toISOString();return a=a.replace(".000",""),n&&(a=a.replace("T00:00:00Z","")),a.length>10&&(t==null?a=a.replace("Z",""):t!==0&&(a=a.replace("Z",WS(t,!0)))),a}function VS(e){return e.toISOString().replace(/T.*$/,"")}function ez(e){return e.toISOString().match(/^\d{4}-\d{2}/)[0]}function WS(e,t=!1){let n=e<0?"-":"+",a=Math.abs(e),l=Math.floor(a/60),d=Math.round(a%60);return t?`${n+Qx(l,2)}:${Qx(d,2)}`:`GMT${n}${l}${d?`:${Qx(d,2)}`:""}`}function pn(e,t,n){let a,l;return function(...d){if(!a)l=e.apply(this,d);else if(!yc(a,d)){let p=e.apply(this,d);(!t||!t(p,l))&&(l=p)}return a=d,l}}function tb(e,t,n){let a,l;return d=>(a?bs(a,d)||(l=e.call(this,d)):l=e.call(this,d),a=d,l)}const ew={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},wb={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Pv=/\s*([ap])\.?m\.?/i,tz=/,/g,nz=/\s+/g,iz=/\u200e/g,rz=/UTC|GMT/;class az{constructor(t){let n={},a={},l=9;for(let d in t)d in ew?(a[d]=t[d],ew[d]<9&&(l=Math.min(ew[d],l))):(n[d]=t[d],d in wb&&(l=Math.min(wb[d],l)));this.standardDateProps=n,this.extendedSettings=a,this.smallestUnitNum=l,this.buildFormattingFunc=pn(wC)}format(t,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(t)}formatRange(t,n,a,l){let{standardDateProps:d,extendedSettings:p}=this,y=dz(t.marker,n.marker,a.calendarSystem);if(!y)return this.format(t,a);let S=y;S>1&&(d.year==="numeric"||d.year==="2-digit")&&(d.month==="numeric"||d.month==="2-digit")&&(d.day==="numeric"||d.day==="2-digit")&&(S=1);let T=this.format(t,a),_=this.format(n,a);if(T===_)return T;let O=hz(d,S),L=wC(O,p,a),P=L(t),H=L(n),B=fz(T,P,_,H),F=p.separator||l||a.defaultSeparator||"";return B?B.before+P+F+H+B.after:T+F+_}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function wC(e,t,n){let a=Object.keys(e).length;return a===1&&e.timeZoneName==="short"?l=>WS(l.timeZoneOffset):a===0&&t.week?l=>uz(n.computeWeekNumber(l.marker),n.weekText,n.weekTextLong,n.locale,t.week):sz(e,t,n)}function sz(e,t,n){e=Object.assign({},e),t=Object.assign({},t),oz(e,t),e.timeZone="UTC";let a=new Intl.DateTimeFormat(n.locale.codes,e),l;if(t.omitZeroMinute){let d=Object.assign({},e);delete d.minute,l=new Intl.DateTimeFormat(n.locale.codes,d)}return d=>{let{marker:p}=d,y;l&&!p.getUTCMinutes()?y=l:y=a;let S=y.format(p);return lz(S,d,e,t,n)}}function oz(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),e.timeZoneName==="long"&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}function lz(e,t,n,a,l){return e=e.replace(iz,""),n.timeZoneName==="short"&&(e=cz(e,l.timeZone==="UTC"||t.timeZoneOffset==null?"UTC":WS(t.timeZoneOffset))),a.omitCommas&&(e=e.replace(tz,"").trim()),a.omitZeroMinute&&(e=e.replace(":00","")),a.meridiem===!1?e=e.replace(Pv,"").trim():a.meridiem==="narrow"?e=e.replace(Pv,(d,p)=>p.toLocaleLowerCase()):a.meridiem==="short"?e=e.replace(Pv,(d,p)=>`${p.toLocaleLowerCase()}m`):a.meridiem==="lowercase"&&(e=e.replace(Pv,d=>d.toLocaleLowerCase())),e=e.replace(nz," "),e=e.trim(),e}function cz(e,t){let n=!1;return e=e.replace(rz,()=>(n=!0,t)),n||(e+=` ${t}`),e}function uz(e,t,n,a,l){let d=[];return l==="long"?d.push(n):(l==="short"||l==="narrow")&&d.push(t),(l==="long"||l==="short")&&d.push(" "),d.push(a.simpleNumberFormat.format(e)),a.options.direction==="rtl"&&d.reverse(),d.join("")}function dz(e,t,n){return n.getMarkerYear(e)!==n.getMarkerYear(t)?5:n.getMarkerMonth(e)!==n.getMarkerMonth(t)?4:n.getMarkerDay(e)!==n.getMarkerDay(t)?2:uc(e)!==uc(t)?1:0}function hz(e,t){let n={};for(let a in e)(!(a in wb)||wb[a]<=t)&&(n[a]=e[a]);return n}function fz(e,t,n,a){let l=0;for(;l<e.length;){let d=e.indexOf(t,l);if(d===-1)break;let p=e.substr(0,d);l=d+t.length;let y=e.substr(l),S=0;for(;S<n.length;){let T=n.indexOf(a,S);if(T===-1)break;let _=n.substr(0,T);S=T+a.length;let O=n.substr(S);if(p===_&&y===O)return{before:p,after:y}}}return null}function SC(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Sb(e,t,n,a){let l=SC(e,n.calendarSystem),d=t?SC(t,n.calendarSystem):null;return{date:l,start:l,end:d,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:a||n.defaultSeparator}}class pz{constructor(t){this.cmdStr=t}format(t,n,a){return n.cmdFormatter(this.cmdStr,Sb(t,null,n,a))}formatRange(t,n,a,l){return a.cmdFormatter(this.cmdStr,Sb(t,n,a,l))}}class gz{constructor(t){this.func=t}format(t,n,a){return this.func(Sb(t,null,n,a))}formatRange(t,n,a,l){return this.func(Sb(t,n,a,l))}}function Vi(e){return typeof e=="object"&&e?new az(e):typeof e=="string"?new pz(e):typeof e=="function"?new gz(e):null}const EC={navLinkDayClick:Me,navLinkWeekClick:Me,duration:vn,bootstrapFontAwesome:Me,buttonIcons:Me,customButtons:Me,defaultAllDayEventDuration:vn,defaultTimedEventDuration:vn,nextDayThreshold:vn,scrollTime:vn,scrollTimeReset:Boolean,slotMinTime:vn,slotMaxTime:vn,dayPopoverFormat:Vi,slotDuration:vn,snapDuration:vn,headerToolbar:Me,footerToolbar:Me,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Vi,dayHeaderClassNames:Me,dayHeaderContent:Me,dayHeaderDidMount:Me,dayHeaderWillUnmount:Me,dayCellClassNames:Me,dayCellContent:Me,dayCellDidMount:Me,dayCellWillUnmount:Me,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Me,weekNumbers:Boolean,weekNumberClassNames:Me,weekNumberContent:Me,weekNumberDidMount:Me,weekNumberWillUnmount:Me,editable:Boolean,viewClassNames:Me,viewDidMount:Me,viewWillUnmount:Me,nowIndicator:Boolean,nowIndicatorSnap:Me,nowIndicatorClassNames:Me,nowIndicatorContent:Me,nowIndicatorDidMount:Me,nowIndicatorWillUnmount:Me,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Me,locale:Me,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Me,eventOrder:_j,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Me,contentHeight:Me,direction:String,weekNumberFormat:Vi,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Me,initialDate:Me,now:Me,eventDataTransform:Me,stickyHeaderDates:Me,stickyFooterScrollbar:Me,viewHeight:Me,defaultAllDay:Boolean,eventSourceFailure:Me,eventSourceSuccess:Me,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Me,eventConstraint:Me,eventAllow:Me,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Me,eventContent:Me,eventDidMount:Me,eventWillUnmount:Me,selectConstraint:Me,selectOverlap:Me,selectAllow:Me,droppable:Boolean,unselectCancel:String,slotLabelFormat:Me,slotLaneClassNames:Me,slotLaneContent:Me,slotLaneDidMount:Me,slotLaneWillUnmount:Me,slotLabelClassNames:Me,slotLabelContent:Me,slotLabelDidMount:Me,slotLabelWillUnmount:Me,dayMaxEvents:Me,dayMaxEventRows:Me,dayMinWidth:Number,slotLabelInterval:vn,allDayText:String,allDayClassNames:Me,allDayContent:Me,allDayDidMount:Me,allDayWillUnmount:Me,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Vi,rerenderDelay:Number,moreLinkText:Me,moreLinkHint:Me,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Me,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:vn,hiddenDays:Me,fixedWeekCount:Boolean,validRange:Me,visibleRange:Me,titleFormat:Me,eventInteractive:Boolean,noEventsText:String,viewHint:Me,navLinkHint:Me,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Me,moreLinkClassNames:Me,moreLinkContent:Me,moreLinkDidMount:Me,moreLinkWillUnmount:Me,monthStartFormat:Vi,handleCustomRendering:Me,customRenderingMetaMap:Me,customRenderingReplaces:Boolean},jg={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},AC={datesSet:Me,eventsSet:Me,eventAdd:Me,eventChange:Me,eventRemove:Me,windowResize:Me,eventClick:Me,eventMouseEnter:Me,eventMouseLeave:Me,select:Me,unselect:Me,loading:Me,_unmount:Me,_beforeprint:Me,_afterprint:Me,_noEventDrop:Me,_noEventResize:Me,_resize:Me,_scrollRequest:Me},CC={buttonText:Me,buttonHints:Me,views:Me,plugins:Me,initialEvents:Me,events:Me,eventSources:Me},Gu={headerToolbar:Vu,footerToolbar:Vu,buttonText:Vu,buttonHints:Vu,buttonIcons:Vu,dateIncrement:Vu,plugins:jv,events:jv,eventSources:jv,resources:jv};function Vu(e,t){return typeof e=="object"&&typeof t=="object"&&e&&t?bs(e,t):e===t}function jv(e,t){return Array.isArray(e)&&Array.isArray(t)?yc(e,t):e===t}const mz={type:String,component:Me,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Me,usesMinMaxTime:Boolean,classNames:Me,content:Me,didMount:Me,willUnmount:Me};function tw(e){return $S(e,Gu)}function YS(e,t){let n={},a={};for(let l in t)l in e&&(n[l]=t[l](e[l]));for(let l in e)l in t||(a[l]=e[l]);return{refined:n,extra:a}}function Me(e){return e}const{hasOwnProperty:Eb}=Object.prototype;function $S(e,t){let n={};if(t){for(let a in t)if(t[a]===Vu){let l=[];for(let d=e.length-1;d>=0;d-=1){let p=e[d][a];if(typeof p=="object"&&p)l.unshift(p);else if(p!==void 0){n[a]=p;break}}l.length&&(n[a]=$S(l))}}for(let a=e.length-1;a>=0;a-=1){let l=e[a];for(let d in l)d in n||(n[d]=l[d])}return n}function Ju(e,t){let n={};for(let a in e)t(e[a],a)&&(n[a]=e[a]);return n}function sd(e,t){let n={};for(let a in e)n[a]=t(e[a],a);return n}function qT(e){let t={};for(let n of e)t[n]=!0;return t}function qS(e){let t=[];for(let n in e)t.push(e[n]);return t}function bs(e,t){if(e===t)return!0;for(let n in e)if(Eb.call(e,n)&&!(n in t))return!1;for(let n in t)if(Eb.call(t,n)&&e[n]!==t[n])return!1;return!0}const yz=/^on[A-Z]/;function vz(e,t){const n=bz(e,t);for(let a of n)if(!yz.test(a))return!1;return!0}function bz(e,t){let n=[];for(let a in e)Eb.call(e,a)&&(a in t||n.push(a));for(let a in t)Eb.call(t,a)&&e[a]!==t[a]&&n.push(a);return n}function nw(e,t,n={}){if(e===t)return!0;for(let a in t)if(!(a in e&&xz(e[a],t[a],n[a])))return!1;for(let a in e)if(!(a in t))return!1;return!0}function xz(e,t,n){return e===t||n===!0?!0:n?n(e,t):!1}function wz(e,t=0,n,a=1){let l=[];n==null&&(n=Object.keys(e).length);for(let d=t;d<n;d+=a){let p=e[d];p!==void 0&&l.push(p)}return l}let XT={};function Sz(e,t){XT[e]=t}function Ez(e){return new XT[e]}class Az{getMarkerYear(t){return t.getUTCFullYear()}getMarkerMonth(t){return t.getUTCMonth()}getMarkerDay(t){return t.getUTCDate()}arrayToMarker(t){return Zr(t)}markerToArray(t){return cc(t)}}Sz("gregory",Az);const Cz=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Dz(e){let t=Cz.exec(e);if(t){let n=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?+`0.${t[12]}`*1e3:0));if($T(n)){let a=null;return t[13]&&(a=(t[15]==="-"?-1:1)*(Number(t[16]||0)*60+Number(t[18]||0))),{marker:n,isTimeUnspecified:!t[6],timeZoneOffset:a}}}return null}class Tz{constructor(t){let n=this.timeZone=t.timeZone,a=n!=="local"&&n!=="UTC";t.namedTimeZoneImpl&&a&&(this.namedTimeZoneImpl=new t.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!a||this.namedTimeZoneImpl),this.calendarSystem=Ez(t.calendarSystem),this.locale=t.locale,this.weekDow=t.locale.week.dow,this.weekDoy=t.locale.week.doy,t.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof t.firstDay=="number"&&(this.weekDow=t.firstDay),typeof t.weekNumberCalculation=="function"&&(this.weekNumberFunc=t.weekNumberCalculation),this.weekText=t.weekText!=null?t.weekText:t.locale.options.weekText,this.weekTextLong=(t.weekTextLong!=null?t.weekTextLong:t.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=t.cmdFormatter,this.defaultSeparator=t.defaultSeparator}createMarker(t){let n=this.createMarkerMeta(t);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Zr(bC(new Date))}createMarkerMeta(t){if(typeof t=="string")return this.parse(t);let n=null;return typeof t=="number"?n=this.timestampToMarker(t):t instanceof Date?(t=t.valueOf(),isNaN(t)||(n=this.timestampToMarker(t))):Array.isArray(t)&&(n=Zr(t)),n===null||!$T(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(t){let n=Dz(t);if(n===null)return null;let{marker:a}=n,l=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?a=this.timestampToMarker(a.valueOf()-n.timeZoneOffset*60*1e3):l=n.timeZoneOffset),{marker:a,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:l}}getYear(t){return this.calendarSystem.getMarkerYear(t)}getMonth(t){return this.calendarSystem.getMarkerMonth(t)}getDay(t){return this.calendarSystem.getMarkerDay(t)}add(t,n){let a=this.calendarSystem.markerToArray(t);return a[0]+=n.years,a[1]+=n.months,a[2]+=n.days,a[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(a)}subtract(t,n){let a=this.calendarSystem.markerToArray(t);return a[0]-=n.years,a[1]-=n.months,a[2]-=n.days,a[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(a)}addYears(t,n){let a=this.calendarSystem.markerToArray(t);return a[0]+=n,this.calendarSystem.arrayToMarker(a)}addMonths(t,n){let a=this.calendarSystem.markerToArray(t);return a[1]+=n,this.calendarSystem.arrayToMarker(a)}diffWholeYears(t,n){let{calendarSystem:a}=this;return uc(t)===uc(n)&&a.getMarkerDay(t)===a.getMarkerDay(n)&&a.getMarkerMonth(t)===a.getMarkerMonth(n)?a.getMarkerYear(n)-a.getMarkerYear(t):null}diffWholeMonths(t,n){let{calendarSystem:a}=this;return uc(t)===uc(n)&&a.getMarkerDay(t)===a.getMarkerDay(n)?a.getMarkerMonth(n)-a.getMarkerMonth(t)+(a.getMarkerYear(n)-a.getMarkerYear(t))*12:null}greatestWholeUnit(t,n){let a=this.diffWholeYears(t,n);return a!==null?{unit:"year",value:a}:(a=this.diffWholeMonths(t,n),a!==null?{unit:"month",value:a}:(a=$j(t,n),a!==null?{unit:"week",value:a}:(a=xb(t,n),a!==null?{unit:"day",value:a}:(a=Gj(t,n),Kx(a)?{unit:"hour",value:a}:(a=Vj(t,n),Kx(a)?{unit:"minute",value:a}:(a=Wj(t,n),Kx(a)?{unit:"second",value:a}:{unit:"millisecond",value:n.valueOf()-t.valueOf()}))))))}countDurationsBetween(t,n,a){let l;return a.years&&(l=this.diffWholeYears(t,n),l!==null)?l/Bj(a):a.months&&(l=this.diffWholeMonths(t,n),l!==null)?l/Fj(a):a.days&&(l=xb(t,n),l!==null)?l/Jh(a):(n.valueOf()-t.valueOf())/Zg(a)}startOf(t,n){return n==="year"?this.startOfYear(t):n==="month"?this.startOfMonth(t):n==="week"?this.startOfWeek(t):n==="day"?Jn(t):n==="hour"?qj(t):n==="minute"?Xj(t):n==="second"?Zj(t):null}startOfYear(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t)])}startOfMonth(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t)])}startOfWeek(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t),t.getUTCDate()-(t.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(t){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(t)):Qj(t,this.weekDow,this.weekDoy)}format(t,n,a={}){return n.format({marker:t,timeZoneOffset:a.forcedTzo!=null?a.forcedTzo:this.offsetForMarker(t)},this)}formatRange(t,n,a,l={}){return l.isEndExclusive&&(n=vc(n,-1)),a.formatRange({marker:t,timeZoneOffset:l.forcedStartTzo!=null?l.forcedStartTzo:this.offsetForMarker(t)},{marker:n,timeZoneOffset:l.forcedEndTzo!=null?l.forcedEndTzo:this.offsetForMarker(n)},this,l.defaultSeparator)}formatIso(t,n={}){let a=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?a=n.forcedTzo:a=this.offsetForMarker(t)),Jj(t,a,n.omitTime)}timestampToMarker(t){return this.timeZone==="local"?Zr(bC(new Date(t))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(t):Zr(this.namedTimeZoneImpl.timestampToArray(t))}offsetForMarker(t){return this.timeZone==="local"?-xC(cc(t)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(cc(t)):null}toDate(t,n){return this.timeZone==="local"?xC(cc(t)):this.timeZone==="UTC"?new Date(t.valueOf()):this.namedTimeZoneImpl?new Date(t.valueOf()-this.namedTimeZoneImpl.offsetForArray(cc(t))*1e3*60):new Date(t.valueOf()-(n||0))}}class om{constructor(t){this.iconOverrideOption&&this.setIconOverride(t[this.iconOverrideOption])}setIconOverride(t){let n,a;if(typeof t=="object"&&t){n=Object.assign({},this.iconClasses);for(a in t)n[a]=this.applyIconOverridePrefix(t[a]);this.iconClasses=n}else t===!1&&(this.iconClasses={})}applyIconOverridePrefix(t){let n=this.iconOverridePrefix;return n&&t.indexOf(n)!==0&&(t=n+t),t}getClass(t){return this.classes[t]||""}getIconClass(t,n){let a;return n&&this.rtlIconClasses?a=this.rtlIconClasses[t]||this.iconClasses[t]:a=this.iconClasses[t],a?`${this.baseIconClass} ${a}`:""}getCustomButtonIconClass(t){let n;return this.iconOverrideCustomButtonOption&&(n=t[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}om.prototype.classes={};om.prototype.iconClasses={};om.prototype.baseIconClass="";om.prototype.iconOverridePrefix="";function Ab(e){e();let t=bt.debounceRendering,n=[];function a(l){n.push(l)}for(bt.debounceRendering=a,Xg(ke(Mz,{}),document.createElement("div"));n.length;)n.shift()();bt.debounceRendering=t}class Mz extends ba{render(){return ke("div",{})}componentDidMount(){this.setState({})}}function ZT(e){let t=JP(e),n=t.Provider;return t.Provider=function(){let a=!this.getChildContext,l=n.apply(this,arguments);if(a){let d=[];this.shouldComponentUpdate=p=>{this.props.value!==p.value&&d.forEach(y=>{y.context=p.value,y.forceUpdate()})},this.sub=p=>{d.push(p);let y=p.componentWillUnmount;p.componentWillUnmount=()=>{d.splice(d.indexOf(p),1),y&&y.call(p)}}}return l},t}class _z{constructor(t,n,a,l){this.execFunc=t,this.emitter=n,this.scrollTime=a,this.scrollTimeReset=l,this.handleScrollRequest=d=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},d),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(t){t&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const od=ZT({});function Rz(e,t,n,a,l,d,p,y,S,T,_,O,L,P){return{dateEnv:l,nowManager:d,options:n,pluginHooks:y,emitter:_,dispatch:S,getCurrentData:T,calendarApi:O,viewSpec:e,viewApi:t,dateProfileGenerator:a,theme:p,isRtl:n.direction==="rtl",addResizeHandler(H){_.on("_resize",H)},removeResizeHandler(H){_.off("_resize",H)},createScrollResponder(H){return new _z(H,_,vn(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:L,unregisterInteractiveComponent:P}}class ld extends ba{shouldComponentUpdate(t,n){return!nw(this.props,t,this.propEquality)||!nw(this.state,n,this.stateEquality)}safeSetState(t){nw(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}ld.addPropsEquality=kz;ld.addStateEquality=Oz;ld.contextType=od;ld.prototype.propEquality={};ld.prototype.stateEquality={};class oi extends ld{}oi.contextType=od;function kz(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t}function Oz(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t}function lo(e,t){typeof e=="function"?e(t):e&&(e.current=t)}class XS extends oi{constructor(){super(...arguments),this.id=ad(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=t=>{const{options:n}=this.context,{generatorName:a}=this.props;(!n.customRenderingReplaces||!Xw(a,n))&&this.updateElRef(t)},this.updateElRef=t=>{this.props.elRef&&lo(this.props.elRef,t)}}render(){const{props:t,context:n}=this,{options:a}=n,{customGenerator:l,defaultGenerator:d,renderProps:p}=t,y=QT(t,[],this.handleEl);let S=!1,T,_=[],O;if(l!=null){const L=typeof l=="function"?l(p,ke):l;if(L===!0)S=!0;else{const P=L&&typeof L=="object";P&&"html"in L?y.dangerouslySetInnerHTML={__html:L.html}:P&&"domNodes"in L?_=Array.prototype.slice.call(L.domNodes):(P?wT(L):typeof L!="function")?T=L:O=L}}else S=!Xw(t.generatorName,a);return S&&d&&(T=d(p)),this.queuedDomNodes=_,this.currentGeneratorMeta=O,ke(t.elTag,y,T)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(t){var n;const{props:a,context:l}=this,{handleCustomRendering:d,customRenderingMetaMap:p}=l.options;if(d){const y=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:p?.[a.generatorName];y&&d(Object.assign(Object.assign({id:this.id,isActive:t,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:y},a),{elClasses:(a.elClasses||[]).filter(Nz)}))}}applyQueueudDomNodes(){const{queuedDomNodes:t,currentDomNodes:n}=this,a=this.base;if(!yc(t,n)){n.forEach(HS);for(let l of t)a.appendChild(l);this.currentDomNodes=t}}}XS.addPropsEquality({elClasses:yc,elStyle:bs,elAttrs:vz,renderProps:bs});function Xw(e,t){var n;return!!(t.handleCustomRendering&&e&&(!((n=t.customRenderingMetaMap)===null||n===void 0)&&n[e]))}function QT(e,t,n){const a=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(a.className=(e.elClasses||[]).concat(t||[]).concat(a.className||[]).filter(Boolean).join(" ")),e.elStyle&&(a.style=e.elStyle),a}function Nz(e){return!!e}const KT=ZT(0);class rl extends ba{constructor(){super(...arguments),this.InnerContent=Lz.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(lo(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:t}=this,n=Iz(t.classNameGenerator,t.renderProps);if(t.children){const a=QT(t,n,this.handleEl),l=t.children(this.InnerContent,t.renderProps,a);return t.elTag?ke(t.elTag,a,l):l}else return ke(XS,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var t,n;this.el?(n=(t=this.props).didMount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,n;(n=(t=this.props).willUnmount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}rl.contextType=KT;function Lz(e,t){const n=e.props;return ke(XS,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}function Iz(e,t){const n=typeof e=="function"?e(t):e||[];return typeof n=="string"?[n]:n}class DC extends oi{render(){let{props:t,context:n}=this,{options:a}=n,l={view:n.viewApi};return ke(rl,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:[...JT(t.viewSpec),...t.elClasses||[]],elStyle:t.elStyle,renderProps:l,classNameGenerator:a.viewClassNames,generatorName:void 0,didMount:a.viewDidMount,willUnmount:a.viewWillUnmount},()=>t.children)}}function JT(e){return[`fc-${e.type}-view`,"fc-view"]}function Pz(e,t){let n=null,a=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(a=t.createMarker(e.end)),!n&&!a||n&&a&&a<n?null:{start:n,end:a}}function TC(e,t){let n=[],{start:a}=t,l,d;for(e.sort(jz),l=0;l<e.length;l+=1)d=e[l],d.start>a&&n.push({start:a,end:d.start}),d.end>a&&(a=d.end);return a<t.end&&n.push({start:a,end:t.end}),n}function jz(e,t){return e.start.valueOf()-t.start.valueOf()}function of(e,t){let{start:n,end:a}=e,l=null;return t.start!==null&&(n===null?n=t.start:n=new Date(Math.max(n.valueOf(),t.start.valueOf()))),t.end!=null&&(a===null?a=t.end:a=new Date(Math.min(a.valueOf(),t.end.valueOf()))),(n===null||a===null||n<a)&&(l={start:n,end:a}),l}function zz(e,t){return(e.start===null?null:e.start.valueOf())===(t.start===null?null:t.start.valueOf())&&(e.end===null?null:e.end.valueOf())===(t.end===null?null:t.end.valueOf())}function ZS(e,t){return(e.end===null||t.start===null||e.end>t.start)&&(e.start===null||t.end===null||e.start<t.end)}function Kb(e,t){return(e.start===null||t.start!==null&&t.start>=e.start)&&(e.end===null||t.end!==null&&t.end<=e.end)}function gc(e,t){return(e.start===null||t>=e.start)&&(e.end===null||t<e.end)}function Bz(e,t){return t.start!=null&&e<t.start?t.start:t.end!=null&&e>=t.end?new Date(t.end.valueOf()-1):e}function eM(e){let t=Math.floor(ff(e.start,e.end))||1,n=Jn(e.start),a=Wi(n,t);return{start:n,end:a}}function tM(e,t=vn(0)){let n=null,a=null;if(e.end){a=Jn(e.end);let l=e.end.valueOf()-a.valueOf();l&&l>=Zg(t)&&(a=Wi(a,1))}return e.start&&(n=Jn(e.start),a&&a<=n&&(a=Wi(n,1))),{start:n,end:a}}function $h(e,t,n,a){return a==="year"?vn(n.diffWholeYears(e,t),"year"):a==="month"?vn(n.diffWholeMonths(e,t),"month"):Yj(e,t)}class nM{constructor(t){this.props=t,this.initHiddenDays()}buildPrev(t,n,a){let{dateEnv:l}=this.props,d=l.subtract(l.startOf(n,t.currentRangeUnit),t.dateIncrement);return this.build(d,-1,a)}buildNext(t,n,a){let{dateEnv:l}=this.props,d=l.add(l.startOf(n,t.currentRangeUnit),t.dateIncrement);return this.build(d,1,a)}build(t,n,a=!0){let{props:l}=this,d,p,y,S,T,_;return d=this.buildValidRange(),d=this.trimHiddenDays(d),a&&(t=Bz(t,d)),p=this.buildCurrentRangeInfo(t,n),y=/^(year|month|week|day)$/.test(p.unit),S=this.buildRenderRange(this.trimHiddenDays(p.range),p.unit,y),S=this.trimHiddenDays(S),T=S,l.showNonCurrentDates||(T=of(T,p.range)),T=this.adjustActiveRange(T),T=of(T,d),_=ZS(p.range,d),gc(S,t)||(t=S.start),{currentDate:t,validRange:d,currentRange:p.range,currentRangeUnit:p.unit,isRangeAllDay:y,activeRange:T,renderRange:S,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,isValid:_,dateIncrement:this.buildDateIncrement(p.duration)}}buildValidRange(){let t=this.props.validRangeInput,n=typeof t=="function"?t.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):t;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(t,n){let{props:a}=this,l=null,d=null,p=null,y;return a.duration?(l=a.duration,d=a.durationUnit,p=this.buildRangeFromDuration(t,n,l,d)):(y=this.props.dayCount)?(d="day",p=this.buildRangeFromDayCount(t,n,y)):(p=this.buildCustomVisibleRange(t))?d=a.dateEnv.greatestWholeUnit(p.start,p.end).unit:(l=this.getFallbackDuration(),d=qw(l).unit,p=this.buildRangeFromDuration(t,n,l,d)),{duration:l,unit:d,range:p}}getFallbackDuration(){return vn({day:1})}adjustActiveRange(t){let{dateEnv:n,usesMinMaxTime:a,slotMinTime:l,slotMaxTime:d}=this.props,{start:p,end:y}=t;return a&&(Jh(l)<0&&(p=Jn(p),p=n.add(p,l)),Jh(d)>1&&(y=Jn(y),y=Wi(y,-1),y=n.add(y,d))),{start:p,end:y}}buildRangeFromDuration(t,n,a,l){let{dateEnv:d,dateAlignment:p}=this.props,y,S,T;if(!p){let{dateIncrement:O}=this.props;O&&Zg(O)<Zg(a)?p=qw(O).unit:p=l}Jh(a)<=1&&this.isHiddenDay(y)&&(y=this.skipHiddenDays(y,n),y=Jn(y));function _(){y=d.startOf(t,p),S=d.add(y,a),T={start:y,end:S}}return _(),this.trimHiddenDays(T)||(t=this.skipHiddenDays(t,n),_()),T}buildRangeFromDayCount(t,n,a){let{dateEnv:l,dateAlignment:d}=this.props,p=0,y=t,S;d&&(y=l.startOf(y,d)),y=Jn(y),y=this.skipHiddenDays(y,n),S=y;do S=Wi(S,1),this.isHiddenDay(S)||(p+=1);while(p<a);return{start:y,end:S}}buildCustomVisibleRange(t){let{props:n}=this,a=n.visibleRangeInput,l=typeof a=="function"?a.call(n.calendarApi,n.dateEnv.toDate(t)):a,d=this.refineRange(l);return d&&(d.start==null||d.end==null)?null:d}buildRenderRange(t,n,a){return t}buildDateIncrement(t){let{dateIncrement:n}=this.props,a;return n||((a=this.props.dateAlignment)?vn(1,a):t||vn({days:1}))}refineRange(t){if(t){let n=Pz(t,this.props.dateEnv);return n&&(n=tM(n)),n}return null}initHiddenDays(){let t=this.props.hiddenDays||[],n=[],a=0,l;for(this.props.weekends===!1&&t.push(0,6),l=0;l<7;l+=1)(n[l]=t.indexOf(l)!==-1)||(a+=1);if(!a)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(t){let{start:n,end:a}=t;return n&&(n=this.skipHiddenDays(n)),a&&(a=this.skipHiddenDays(a,-1,!0)),n==null||a==null||n<a?{start:n,end:a}:null}isHiddenDay(t){return t instanceof Date&&(t=t.getUTCDay()),this.isHiddenDayHash[t]}skipHiddenDays(t,n=1,a=!1){for(;this.isHiddenDayHash[(t.getUTCDay()+(a?n:0)+7)%7];)t=Wi(t,n);return t}}function QS(e,t,n,a){return{instanceId:ad(),defId:e,range:t,forcedStartTzo:n??null,forcedEndTzo:a??null}}function Fz(e,t,n,a){for(let l=0;l<a.length;l+=1){let d=a[l].parse(e,n);if(d){let{allDay:p}=e;return p==null&&(p=t,p==null&&(p=d.allDayGuess,p==null&&(p=!1))),{allDay:p,duration:d.duration,typeData:d.typeData,typeId:l}}}return null}function ed(e,t,n){let{dateEnv:a,pluginHooks:l,options:d}=n,{defs:p,instances:y}=e;y=Ju(y,S=>!p[S.defId].recurringDef);for(let S in p){let T=p[S];if(T.recurringDef){let{duration:_}=T.recurringDef;_||(_=T.allDay?d.defaultAllDayEventDuration:d.defaultTimedEventDuration);let O=Hz(T,_,t,a,l.recurringTypes);for(let L of O){let P=QS(S,{start:L,end:a.add(L,_)});y[P.instanceId]=P}}}return{defs:p,instances:y}}function Hz(e,t,n,a,l){let p=l[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:a.subtract(n.start,t),end:n.end},a);return e.allDay&&(p=p.map(Jn)),p}const nb={id:String,groupId:String,title:String,url:String,interactive:Boolean},iM={start:Me,end:Me,date:Me,allDay:Boolean},Uz=Object.assign(Object.assign(Object.assign({},nb),iM),{extendedProps:Me});function rM(e,t,n,a,l=KS(n),d,p){let{refined:y,extra:S}=aM(e,n,l),T=Vz(t,n),_=Fz(y,T,n.dateEnv,n.pluginHooks.recurringTypes);if(_){let L=Zw(y,S,t?t.sourceId:"",_.allDay,!!_.duration,n,d);return L.recurringDef={typeId:_.typeId,typeData:_.typeData,duration:_.duration},{def:L,instance:null}}let O=Gz(y,T,n,a);if(O){let L=Zw(y,S,t?t.sourceId:"",O.allDay,O.hasEnd,n,d),P=QS(L.defId,O.range,O.forcedStartTzo,O.forcedEndTzo);return p&&L.publicId&&p[L.publicId]&&(P.instanceId=p[L.publicId]),{def:L,instance:P}}return null}function aM(e,t,n=KS(t)){return YS(e,n)}function KS(e){return Object.assign(Object.assign(Object.assign({},Cb),Uz),e.pluginHooks.eventRefiners)}function Zw(e,t,n,a,l,d,p){let y={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(p&&e.id?p[e.id]:"")||ad(),sourceId:n,allDay:a,hasEnd:l,interactive:e.interactive,ui:Db(e,d),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let S of d.pluginHooks.eventDefMemberAdders)Object.assign(y,S(e));return Object.freeze(y.ui.classNames),Object.freeze(y.extendedProps),y}function Gz(e,t,n,a){let{allDay:l}=e,d,p=null,y=!1,S,T=null,_=e.start!=null?e.start:e.date;if(d=n.dateEnv.createMarkerMeta(_),d)p=d.marker;else if(!a)return null;return e.end!=null&&(S=n.dateEnv.createMarkerMeta(e.end)),l==null&&(t!=null?l=t:l=(!d||d.isTimeUnspecified)&&(!S||S.isTimeUnspecified)),l&&p&&(p=Jn(p)),S&&(T=S.marker,l&&(T=Jn(T)),p&&T<=p&&(T=null)),T?y=!0:a||(y=n.options.forceEventDuration||!1,T=n.dateEnv.add(p,l?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:l,hasEnd:y,range:{start:p,end:T},forcedStartTzo:d?d.forcedTzo:null,forcedEndTzo:S?S.forcedTzo:null}}function Vz(e,t){let n=null;return e&&(n=e.defaultAllDay),n==null&&(n=t.options.defaultAllDay),n}function Qg(e,t,n,a,l,d){let p=gs(),y=KS(n);for(let S of e){let T=rM(S,t,n,a,y,l,d);T&&Qw(T,p)}return p}function Qw(e,t=gs()){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function JS(e,t){let n=e.instances[t];if(n){let a=e.defs[n.defId],l=Jb(e,d=>Wz(a,d));return l.defs[a.defId]=a,l.instances[n.instanceId]=n,l}return gs()}function Wz(e,t){return!!(e.groupId&&e.groupId===t.groupId)}function gs(){return{defs:{},instances:{}}}function eE(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function Jb(e,t){let n=Ju(e.defs,t),a=Ju(e.instances,l=>n[l.defId]);return{defs:n,instances:a}}function Yz(e,t){let{defs:n,instances:a}=e,l={},d={};for(let p in n)t.defs[p]||(l[p]=n[p]);for(let p in a)!t.instances[p]&&l[a[p].defId]&&(d[p]=a[p]);return{defs:l,instances:d}}function $z(e,t){return Array.isArray(e)?Qg(e,null,t,!0):typeof e=="object"&&e?Qg([e],null,t,!0):e!=null?String(e):null}function MC(e){return Array.isArray(e)?e:typeof e=="string"?e.split(/\s+/):[]}const Cb={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Me,overlap:Me,allow:Me,className:MC,classNames:MC,color:String,backgroundColor:String,borderColor:String,textColor:String},qz={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Db(e,t){let n=$z(e.constraint,t);return{display:e.display||null,startEditable:e.startEditable!=null?e.startEditable:e.editable,durationEditable:e.durationEditable!=null?e.durationEditable:e.editable,constraints:n!=null?[n]:[],overlap:e.overlap!=null?e.overlap:null,allows:e.allow!=null?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function Xz(e){return e.reduce(Zz,qz)}function Zz(e,t){return{display:t.display!=null?t.display:e.display,startEditable:t.startEditable!=null?t.startEditable:e.startEditable,durationEditable:t.durationEditable!=null?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:typeof t.overlap=="boolean"?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const Qz={id:String,defaultAllDay:Boolean,url:String,format:String,events:Me,eventDataTransform:Me,success:Me,failure:Me};function sM(e,t,n=oM(t)){let a;if(typeof e=="string"?a={url:e}:typeof e=="function"||Array.isArray(e)?a={events:e}:typeof e=="object"&&e&&(a=e),a){let{refined:l,extra:d}=YS(a,n),p=Kz(l,t);if(p)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:l.defaultAllDay,eventDataTransform:l.eventDataTransform,success:l.success,failure:l.failure,publicId:l.id||"",sourceId:ad(),sourceDefId:p.sourceDefId,meta:p.meta,ui:Db(l,t),extendedProps:d}}return null}function oM(e){return Object.assign(Object.assign(Object.assign({},Cb),Qz),e.pluginHooks.eventSourceRefiners)}function Kz(e,t){let n=t.pluginHooks.eventSourceDefs;for(let a=n.length-1;a>=0;a-=1){let d=n[a].parseMeta(e);if(d)return{sourceDefId:a,meta:d}}return null}function Jz(e,t,n,a,l){switch(t.type){case"RECEIVE_EVENTS":return eB(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,l);case"RESET_RAW_EVENTS":return tB(e,n[t.sourceId],t.rawEvents,a.activeRange,l);case"ADD_EVENTS":return nB(e,t.eventStore,a?a.activeRange:null,l);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return eE(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return a?ed(e,a.activeRange,l):e;case"REMOVE_EVENTS":return Yz(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return cM(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Jb(e,d=>!d.sourceId);case"REMOVE_ALL_EVENTS":return gs();default:return e}}function eB(e,t,n,a,l,d){if(t&&n===t.latestFetchId){let p=Qg(lM(l,t,d),t,d);return a&&(p=ed(p,a,d)),eE(cM(e,t.sourceId),p)}return e}function tB(e,t,n,a,l){const{defIdMap:d,instanceIdMap:p}=rB(e);let y=Qg(lM(n,t,l),t,l,!1,d,p);return ed(y,a,l)}function lM(e,t,n){let a=n.options.eventDataTransform,l=t?t.eventDataTransform:null;return l&&(e=_C(e,l)),a&&(e=_C(e,a)),e}function _C(e,t){let n;if(!t)n=e;else{n=[];for(let a of e){let l=t(a);l?n.push(l):l==null&&n.push(a)}}return n}function nB(e,t,n,a){return n&&(t=ed(t,n,a)),eE(e,t)}function RC(e,t,n){let{defs:a}=e,l=sd(e.instances,d=>a[d.defId].allDay?d:Object.assign(Object.assign({},d),{range:{start:n.createMarker(t.toDate(d.range.start,d.forcedStartTzo)),end:n.createMarker(t.toDate(d.range.end,d.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:d.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:d.forcedEndTzo}));return{defs:a,instances:l}}function cM(e,t){return Jb(e,n=>n.sourceId!==t)}function iB(e,t){return{defs:e.defs,instances:Ju(e.instances,n=>!t[n.instanceId])}}function rB(e){const{defs:t,instances:n}=e,a={},l={};for(let d in t){const p=t[d],{publicId:y}=p;y&&(a[y]=d)}for(let d in n){const p=n[d],y=t[p.defId],{publicId:S}=y;S&&(l[S]=d)}return{defIdMap:a,instanceIdMap:l}}class e0{constructor(){this.handlers={},this.thisContext=null}setThisContext(t){this.thisContext=t}setOptions(t){this.options=t}on(t,n){aB(this.handlers,t,n)}off(t,n){sB(this.handlers,t,n)}trigger(t,...n){let a=this.handlers[t]||[],l=this.options&&this.options[t],d=[].concat(l||[],a);for(let p of d)p.apply(this.thisContext,n)}hasHandlers(t){return!!(this.handlers[t]&&this.handlers[t].length||this.options&&this.options[t])}}function aB(e,t,n){(e[t]||(e[t]=[])).push(n)}function sB(e,t,n){n?e[t]&&(e[t]=e[t].filter(a=>a!==n)):delete e[t]}const oB={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function lB(e,t){return Qg(cB(e),null,t)}function cB(e){let t;return e===!0?t=[{}]:Array.isArray(e)?t=e.filter(n=>n.daysOfWeek):typeof e=="object"&&e?t=[e]:t=[],t=t.map(n=>Object.assign(Object.assign({},oB),n)),t}function uM(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},tE(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function uB(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}function tE(e,t){let n={};for(let a of t.pluginHooks.dateSpanTransforms)Object.assign(n,a(e,t));return Object.assign(n,CB(e,t.dateEnv)),n}function kC(e,t,n){let{dateEnv:a,options:l}=n,d=t;return e?(d=Jn(d),d=a.add(d,l.defaultAllDayEventDuration)):d=a.add(d,l.defaultTimedEventDuration),d}function nE(e,t,n,a){let l=Tb(e.defs,t),d=gs();for(let p in e.defs){let y=e.defs[p];d.defs[p]=dB(y,l[p],n,a)}for(let p in e.instances){let y=e.instances[p],S=d.defs[y.defId];d.instances[p]=hB(y,S,l[y.defId],n,a)}return d}function dB(e,t,n,a){let l=n.standardProps||{};l.hasEnd==null&&t.durationEditable&&(n.startDelta||n.endDelta)&&(l.hasEnd=!0);let d=Object.assign(Object.assign(Object.assign({},e),l),{ui:Object.assign(Object.assign({},e.ui),l.ui)});n.extendedProps&&(d.extendedProps=Object.assign(Object.assign({},d.extendedProps),n.extendedProps));for(let p of a.pluginHooks.eventDefMutationAppliers)p(d,n,a);return!d.hasEnd&&a.options.forceEventDuration&&(d.hasEnd=!0),d}function hB(e,t,n,a,l){let{dateEnv:d}=l,p=a.standardProps&&a.standardProps.allDay===!0,y=a.standardProps&&a.standardProps.hasEnd===!1,S=Object.assign({},e);return p&&(S.range=eM(S.range)),a.datesDelta&&n.startEditable&&(S.range={start:d.add(S.range.start,a.datesDelta),end:d.add(S.range.end,a.datesDelta)}),a.startDelta&&n.durationEditable&&(S.range={start:d.add(S.range.start,a.startDelta),end:S.range.end}),a.endDelta&&n.durationEditable&&(S.range={start:S.range.start,end:d.add(S.range.end,a.endDelta)}),y&&(S.range={start:S.range.start,end:kC(t.allDay,S.range.start,l)}),t.allDay&&(S.range={start:Jn(S.range.start),end:Jn(S.range.end)}),S.range.end<S.range.start&&(S.range.end=kC(t.allDay,S.range.start,l)),S}class Wh{constructor(t,n){this.context=t,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ei{constructor(t,n,a){this._context=t,this._def=n,this._instance=a||null}setProp(t,n){if(t in iM)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(t==="id")n=nb[t](n),this.mutate({standardProps:{publicId:n}});else if(t in nb)n=nb[t](n),this.mutate({standardProps:{[t]:n}});else if(t in Cb){let a=Cb[t](n);t==="color"?a={backgroundColor:n,borderColor:n}:t==="editable"?a={startEditable:n,durationEditable:n}:a={[t]:n},this.mutate({standardProps:{ui:a}})}else console.warn(`Could not set prop '${t}'. Use setExtendedProp instead.`)}setExtendedProp(t,n){this.mutate({extendedProps:{[t]:n}})}setStart(t,n={}){let{dateEnv:a}=this._context,l=a.createMarker(t);if(l&&this._instance){let d=this._instance.range,p=$h(d.start,l,a,n.granularity);n.maintainDuration?this.mutate({datesDelta:p}):this.mutate({startDelta:p})}}setEnd(t,n={}){let{dateEnv:a}=this._context,l;if(!(t!=null&&(l=a.createMarker(t),!l))&&this._instance)if(l){let d=$h(this._instance.range.end,l,a,n.granularity);this.mutate({endDelta:d})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(t,n,a={}){let{dateEnv:l}=this._context,d={allDay:a.allDay},p=l.createMarker(t),y;if(p&&!(n!=null&&(y=l.createMarker(n),!y))&&this._instance){let S=this._instance.range;a.allDay===!0&&(S=eM(S));let T=$h(S.start,p,l,a.granularity);if(y){let _=$h(S.end,y,l,a.granularity);jj(T,_)?this.mutate({datesDelta:T,standardProps:d}):this.mutate({startDelta:T,endDelta:_,standardProps:d})}else d.hasEnd=!1,this.mutate({datesDelta:T,standardProps:d})}}moveStart(t){let n=vn(t);n&&this.mutate({startDelta:n})}moveEnd(t){let n=vn(t);n&&this.mutate({endDelta:n})}moveDates(t){let n=vn(t);n&&this.mutate({datesDelta:n})}setAllDay(t,n={}){let a={allDay:t},{maintainDuration:l}=n;l==null&&(l=this._context.options.allDayMaintainDuration),this._def.allDay!==t&&(a.hasEnd=l),this.mutate({standardProps:a})}formatRange(t){let{dateEnv:n}=this._context,a=this._instance,l=Vi(t);return this._def.hasEnd?n.formatRange(a.range.start,a.range.end,l,{forcedStartTzo:a.forcedStartTzo,forcedEndTzo:a.forcedEndTzo}):n.format(a.range.start,l,{forcedTzo:a.forcedStartTzo})}mutate(t){let n=this._instance;if(n){let a=this._def,l=this._context,{eventStore:d}=l.getCurrentData(),p=JS(d,n.instanceId);p=nE(p,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,l);let S=new ei(l,a,n);this._def=p.defs[a.defId],this._instance=p.instances[n.instanceId],l.dispatch({type:"MERGE_EVENTS",eventStore:p}),l.emitter.trigger("eventChange",{oldEvent:S,event:this,relatedEvents:Qu(p,l,n),revert(){l.dispatch({type:"RESET_EVENTS",eventStore:d})}})}}remove(){let t=this._context,n=dM(this);t.dispatch({type:"REMOVE_EVENTS",eventStore:n}),t.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:t}=this._def;return t?new Wh(this._context,this._context.getCurrentData().eventSources[t]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let t=this._instance;return t?this._context.dateEnv.formatIso(t.range.start,{omitTime:this._def.allDay,forcedTzo:t.forcedStartTzo}):""}get endStr(){let t=this._instance;return t&&this._def.hasEnd?this._context.dateEnv.formatIso(t.range.end,{omitTime:this._def.allDay,forcedTzo:t.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(t={}){let n=this._def,{ui:a}=n,{startStr:l,endStr:d}=this,p={allDay:n.allDay};return n.title&&(p.title=n.title),l&&(p.start=l),d&&(p.end=d),n.publicId&&(p.id=n.publicId),n.groupId&&(p.groupId=n.groupId),n.url&&(p.url=n.url),a.display&&a.display!=="auto"&&(p.display=a.display),t.collapseColor&&a.backgroundColor&&a.backgroundColor===a.borderColor?p.color=a.backgroundColor:(a.backgroundColor&&(p.backgroundColor=a.backgroundColor),a.borderColor&&(p.borderColor=a.borderColor)),a.textColor&&(p.textColor=a.textColor),a.classNames.length&&(p.classNames=a.classNames),Object.keys(n.extendedProps).length&&(t.collapseExtendedProps?Object.assign(p,n.extendedProps):p.extendedProps=n.extendedProps),p}toJSON(){return this.toPlainObject()}}function dM(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function Qu(e,t,n){let{defs:a,instances:l}=e,d=[],p=n?n.instanceId:"";for(let y in l){let S=l[y],T=a[S.defId];S.instanceId!==p&&d.push(new ei(t,T,S))}return d}function OC(e,t,n,a){let l={},d={},p={},y=[],S=[],T=Tb(e.defs,t);for(let _ in e.defs){let O=e.defs[_];T[O.defId].display==="inverse-background"&&(O.groupId?(l[O.groupId]=[],p[O.groupId]||(p[O.groupId]=O)):d[_]=[])}for(let _ in e.instances){let O=e.instances[_],L=e.defs[O.defId],P=T[L.defId],H=O.range,B=!L.allDay&&a?tM(H,a):H,F=of(B,n);F&&(P.display==="inverse-background"?L.groupId?l[L.groupId].push(F):d[O.defId].push(F):P.display!=="none"&&(P.display==="background"?y:S).push({def:L,ui:P,instance:O,range:F,isStart:B.start&&B.start.valueOf()===F.start.valueOf(),isEnd:B.end&&B.end.valueOf()===F.end.valueOf()}))}for(let _ in l){let O=l[_],L=TC(O,n);for(let P of L){let H=p[_],B=T[H.defId];y.push({def:H,ui:B,instance:null,range:P,isStart:!1,isEnd:!1})}}for(let _ in d){let O=d[_],L=TC(O,n);for(let P of L)y.push({def:e.defs[_],ui:T[_],instance:null,range:P,isStart:!1,isEnd:!1})}return{bg:y,fg:S}}function NC(e,t){e.fcSeg=t}function lf(e){return e.fcSeg||e.parentNode.fcSeg||null}function Tb(e,t){return sd(e,n=>hM(n,t))}function hM(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),Xz(n)}function fB(e,t){let n=e.map(pB);return n.sort((a,l)=>Rj(a,l,t)),n.map(a=>a._seg)}function pB(e){let{eventRange:t}=e,n=t.def,a=t.instance?t.instance.range:t.range,l=a.start?a.start.valueOf():0,d=a.end?a.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:l,end:d,duration:d-l,allDay:Number(n.allDay),_seg:e})}function gB(e,t){let{pluginHooks:n}=t,a=n.isDraggableTransformers,{def:l,ui:d}=e.eventRange,p=d.startEditable;for(let y of a)p=y(p,l,d,t);return p}function mB(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function yB(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function fM(e,t,n,a,l,d,p){let{dateEnv:y,options:S}=n,{displayEventTime:T,displayEventEnd:_}=S,O=e.eventRange.def,L=e.eventRange.instance;T==null&&(T=a!==!1),_==null&&(_=l!==!1);let P=L.range.start,H=L.range.end,B=e.start||e.eventRange.range.start,F=e.end||e.eventRange.range.end,W=Jn(P).valueOf()===Jn(B).valueOf(),Y=Jn(vc(H,-1)).valueOf()===Jn(vc(F,-1)).valueOf();return T&&!O.allDay&&(W||Y)?(B=W?P:B,F=Y?H:F,_&&O.hasEnd?y.formatRange(B,F,t,{forcedStartTzo:L.forcedStartTzo,forcedEndTzo:L.forcedEndTzo}):y.format(B,t,{forcedTzo:L.forcedStartTzo})):""}function zg(e,t,n){let a=e.eventRange.range;return{isPast:a.end<=t.start,isFuture:a.start>=t.end,isToday:t&&gc(t,a.start)}}function vB(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function bB(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function pM(e,t){let{def:n,instance:a}=e.eventRange,{url:l}=n;if(l)return{href:l};let{emitter:d,options:p}=t,{eventInteractive:y}=p;return y==null&&(y=n.interactive,y==null&&(y=!!d.hasHandlers("eventClick"))),y?YT(S=>{d.trigger("eventClick",{el:S.target,event:new ei(t,n,a),jsEvent:S,view:t.viewApi})}):{}}const xB={start:Me,end:Me,allDay:Boolean};function wB(e,t,n){let a=SB(e,t),{range:l}=a;if(!l.start)return null;if(!l.end){if(n==null)return null;l.end=t.add(l.start,n)}return a}function SB(e,t){let{refined:n,extra:a}=YS(e,xB),l=n.start?t.createMarkerMeta(n.start):null,d=n.end?t.createMarkerMeta(n.end):null,{allDay:p}=n;return p==null&&(p=l&&l.isTimeUnspecified&&(!d||d.isTimeUnspecified)),Object.assign({range:{start:l?l.marker:null,end:d?d.marker:null},allDay:p},a)}function EB(e,t){return zz(e.range,t.range)&&e.allDay===t.allDay&&AB(e,t)}function AB(e,t){for(let n in t)if(n!=="range"&&n!=="allDay"&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}function CB(e,t){return Object.assign(Object.assign({},mM(e.range,t,e.allDay)),{allDay:e.allDay})}function gM(e,t,n){return Object.assign(Object.assign({},mM(e,t,n)),{timeZone:t.timeZone})}function mM(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function DB(e,t,n){let a=aM({editable:!1},n),l=Zw(a.refined,a.extra,"",e.allDay,!0,n);return{def:l,ui:hM(l,t),instance:QS(l.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function TB(e,t,n){let a=!1,l=function(y){a||(a=!0,t(y))},d=function(y){a||(a=!0,n(y))},p=e(l,d);p&&typeof p.then=="function"&&p.then(l,d)}class LC extends Error{constructor(t,n){super(t),this.response=n}}function MB(e,t,n){e=e.toUpperCase();const a={method:e};return e==="GET"?t+=(t.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(a.body=new URLSearchParams(n),a.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,a).then(l=>{if(l.ok)return l.json().then(d=>[d,l],()=>{throw new LC("Failure parsing JSON",l)});throw new LC("Request failed",l)})}let iw;function yM(){return iw==null&&(iw=_B()),iw}function _B(){if(typeof document>"u")return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let n=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),n}class RB extends oi{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Ab(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Ab(()=>{this.setState({forPrint:!1})})}}render(){let{props:t}=this,{options:n}=t,{forPrint:a}=this.state,l=a||n.height==="auto"||n.contentHeight==="auto",d=!l&&n.height!=null?n.height:"",p=["fc",a?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,t.theme.getClass("root")];return yM()||p.push("fc-liquid-hack"),t.children(p,d,l,a)}componentDidMount(){let{emitter:t}=this.props;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:t}=this.props;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)}}class pf{constructor(t){this.component=t.component,this.isHitComboAllowed=t.isHitComboAllowed||null}destroy(){}}function kB(e,t){return{component:e,el:t.el,useEventCenter:t.useEventCenter!=null?t.useEventCenter:!0,isHitComboAllowed:t.isHitComboAllowed||null}}function iE(e){return{[e.component.uid]:e}}const Kw={};class t0 extends ba{constructor(t,n){super(t,n),this.handleRefresh=()=>{let a=this.computeTiming();a.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(a.state),this.clearTimeout(),this.setTimeout(a.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:t,state:n}=this;return t.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:t,context:n}=this,a=n.nowManager.getDateMarker(),{nowIndicatorSnap:l}=n.options;l==="auto"&&(l=/year|month|week|day/.test(t.unit)||(t.unitValue||1)===1);let d,p;return l?(d=n.dateEnv.startOf(a,t.unit),p=n.dateEnv.add(d,vn(1,t.unit)).valueOf()-a.valueOf()):(d=a,p=1e3*60),p=Math.min(1e3*60*60*24,p),{state:{nowDate:d,todayRange:OB(d)},waitMs:p}}setTimeout(t=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}t0.contextType=od;function OB(e){let t=Jn(e),n=Wi(t,1);return{start:t,end:n}}class NB{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(t){this.currentDataManager.dispatch(t)}get view(){return this.getCurrentData().viewApi}batchRendering(t){t()}updateSize(){this.trigger("_resize",!0)}setOption(t,n){this.dispatch({type:"SET_OPTION",optionName:t,rawOptionValue:n})}getOption(t){return this.currentDataManager.currentCalendarOptionsInput[t]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(t,n){let{currentDataManager:a}=this;a.currentCalendarOptionsRefiners[t]?a.emitter.on(t,n):console.warn(`Unknown listener name '${t}'`)}off(t,n){this.currentDataManager.emitter.off(t,n)}trigger(t,...n){this.currentDataManager.emitter.trigger(t,...n)}changeView(t,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:a}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t,dateMarker:a.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t})})}zoomTo(t,n){let a=this.getCurrentData(),l;n=n||"day",l=a.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),l?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:l.type,dateMarker:t}):this.dispatch({type:"CHANGE_DATE",dateMarker:t})}getUnitViewSpec(t){let{viewSpecs:n,toolbarConfig:a}=this.getCurrentData(),l=[].concat(a.header?a.header.viewsWithButtons:[],a.footer?a.footer.viewsWithButtons:[]),d,p;for(let y in n)l.push(y);for(d=0;d<l.length;d+=1)if(p=n[l[d]],p&&p.singleUnit===t)return p;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,-1)})}nextYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,1)})}today(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.nowManager.getDateMarker()})}gotoDate(t){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(t)})}incrementDate(t){let n=this.getCurrentData(),a=vn(t);a&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,a)}))}getDate(){let t=this.getCurrentData();return t.dateEnv.toDate(t.currentDate)}formatDate(t,n){let{dateEnv:a}=this.getCurrentData();return a.format(a.createMarker(t),Vi(n))}formatRange(t,n,a){let{dateEnv:l}=this.getCurrentData();return l.formatRange(l.createMarker(t),l.createMarker(n),Vi(a),a)}formatIso(t,n){let{dateEnv:a}=this.getCurrentData();return a.formatIso(a.createMarker(t),{omitTime:n})}select(t,n){let a;n==null?t.start!=null?a=t:a={start:t,end:null}:a={start:t,end:n};let l=this.getCurrentData(),d=wB(a,l.dateEnv,vn({days:1}));d&&(this.dispatch({type:"SELECT_DATES",selection:d}),uM(d,null,l))}unselect(t){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),uB(t,n))}addEvent(t,n){if(t instanceof ei){let p=t._def,y=t._instance;return this.getCurrentData().eventStore.defs[p.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Qw({def:p,instance:y})}),this.triggerEventAdd(t)),t}let a=this.getCurrentData(),l;if(n instanceof Wh)l=n.internalEventSource;else if(typeof n=="boolean")n&&([l]=qS(a.eventSources));else if(n!=null){let p=this.getEventSourceById(n);if(!p)return console.warn(`Could not find an event source with ID "${n}"`),null;l=p.internalEventSource}let d=rM(t,l,a,!1);if(d){let p=new ei(a,d.def,d.def.recurringDef?null:d.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Qw(d)}),this.triggerEventAdd(p),p}return null}triggerEventAdd(t){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:t,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:dM(t)})}})}getEventById(t){let n=this.getCurrentData(),{defs:a,instances:l}=n.eventStore;t=String(t);for(let d in a){let p=a[d];if(p.publicId===t){if(p.recurringDef)return new ei(n,p,null);for(let y in l){let S=l[y];if(S.defId===p.defId)return new ei(n,p,S)}}}return null}getEvents(){let t=this.getCurrentData();return Qu(t.eventStore,t)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let t=this.getCurrentData(),n=t.eventSources,a=[];for(let l in n)a.push(new Wh(t,n[l]));return a}getEventSourceById(t){let n=this.getCurrentData(),a=n.eventSources;t=String(t);for(let l in a)if(a[l].publicId===t)return new Wh(n,a[l]);return null}addEventSource(t){let n=this.getCurrentData();if(t instanceof Wh)return n.eventSources[t.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t.internalEventSource]}),t;let a=sM(t,n);return a?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[a]}),new Wh(n,a)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(t){let n=vn(t);n&&this.trigger("_scrollRequest",{time:n})}}function LB(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function vM(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function IB(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function PB(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function jB(e,t){return{left:e.left-t.left,top:e.top-t.top}}function bM(e,t,n,a){return{dow:e.getUTCDay(),isDisabled:!!(a&&(!a.activeRange||!gc(a.activeRange,e))),isOther:!!(a&&!gc(a.currentRange,e)),isToday:!!(t&&gc(t,e)),isPast:!!(t&&e<t.start),isFuture:!!(t&&e>=t.end)}}function rE(e,t){let n=["fc-day",`fc-day-${Hj[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}const zB=Vi({year:"numeric",month:"long",day:"numeric"}),BB=Vi({week:"long"});function Jw(e,t,n="day",a=!0){const{dateEnv:l,options:d,calendarApi:p}=e;let y=l.format(t,n==="week"?BB:zB);if(d.navLinks){let S=l.toDate(t);const T=_=>{let O=n==="day"?d.navLinkDayClick:n==="week"?d.navLinkWeekClick:null;typeof O=="function"?O.call(p,l.toDate(t),_):(typeof O=="string"&&(n=O),p.zoomTo(t,n))};return Object.assign({title:Pg(d.navLinkHint,[y,S],y),"data-navlink":""},a?WT(T):{onClick:T})}return{"aria-label":y}}let rw=null;function FB(){return rw===null&&(rw=HB()),rw}function HB(){let e=document.createElement("div");Ig(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let n=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return HS(e),n}let aw;function UB(){return aw||(aw=GB()),aw}function GB(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=xM(e);return document.body.removeChild(e),t}function xM(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function VB(e,t=!1){let n=window.getComputedStyle(e),a=parseInt(n.borderLeftWidth,10)||0,l=parseInt(n.borderRightWidth,10)||0,d=parseInt(n.borderTopWidth,10)||0,p=parseInt(n.borderBottomWidth,10)||0,y=xM(e),S=y.y-a-l,T=y.x-d-p,_={borderLeft:a,borderRight:l,borderTop:d,borderBottom:p,scrollbarBottom:T,scrollbarLeft:0,scrollbarRight:0};return FB()&&n.direction==="rtl"?_.scrollbarLeft=S:_.scrollbarRight=S,t&&(_.paddingLeft=parseInt(n.paddingLeft,10)||0,_.paddingRight=parseInt(n.paddingRight,10)||0,_.paddingTop=parseInt(n.paddingTop,10)||0,_.paddingBottom=parseInt(n.paddingBottom,10)||0),_}function WB(e,t=!1,n){let a=aE(e),l=VB(e,t),d={left:a.left+l.borderLeft+l.scrollbarLeft,right:a.right-l.borderRight-l.scrollbarRight,top:a.top+l.borderTop,bottom:a.bottom-l.borderBottom-l.scrollbarBottom};return t&&(d.left+=l.paddingLeft,d.right-=l.paddingRight,d.top+=l.paddingTop,d.bottom-=l.paddingBottom),d}function aE(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function YB(e){let t=wM(e),n=e.getBoundingClientRect();for(let a of t){let l=vM(n,a.getBoundingClientRect());if(l)n=l;else return null}return n}function wM(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}class Mb{constructor(t,n,a,l){this.els=n;let d=this.originClientRect=t.getBoundingClientRect();a&&this.buildElHorizontals(d.left),l&&this.buildElVerticals(d.top)}buildElHorizontals(t){let n=[],a=[];for(let l of this.els){let d=l.getBoundingClientRect();n.push(d.left-t),a.push(d.right-t)}this.lefts=n,this.rights=a}buildElVerticals(t){let n=[],a=[];for(let l of this.els){let d=l.getBoundingClientRect();n.push(d.top-t),a.push(d.bottom-t)}this.tops=n,this.bottoms=a}leftToIndex(t){let{lefts:n,rights:a}=this,l=n.length,d;for(d=0;d<l;d+=1)if(t>=n[d]&&t<a[d])return d}topToIndex(t){let{tops:n,bottoms:a}=this,l=n.length,d;for(d=0;d<l;d+=1)if(t>=n[d]&&t<a[d])return d}getWidth(t){return this.rights[t]-this.lefts[t]}getHeight(t){return this.bottoms[t]-this.tops[t]}similarTo(t){return zv(this.tops||[],t.tops||[])&&zv(this.bottoms||[],t.bottoms||[])&&zv(this.lefts||[],t.lefts||[])&&zv(this.rights||[],t.rights||[])}}function zv(e,t){const n=e.length;if(n!==t.length)return!1;for(let a=0;a<n;a++)if(Math.round(e[a])!==Math.round(t[a]))return!1;return!0}class sE{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class $B extends sE{constructor(t){super(),this.el=t}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(t){this.el.scrollTop=t}setScrollLeft(t){this.el.scrollLeft=t}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class qB extends sE{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(t){window.scroll(window.scrollX,t)}setScrollLeft(t){window.scroll(t,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class cd extends oi{constructor(){super(...arguments),this.uid=ad()}prepareHits(){}queryHit(t,n,a,l){return null}isValidSegDownEl(t){return!this.props.eventDrag&&!this.props.eventResize&&!hr(t,".fc-event-mirror")}isValidDateDownEl(t){return!hr(t,".fc-event:not(.fc-bg-event)")&&!hr(t,".fc-more-link")&&!hr(t,"a[data-navlink]")&&!hr(t,".fc-popover")}}class XB{constructor(t=n=>n.thickness||1){this.getEntryThickness=t,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(t){let n=[];for(let a of t)this.insertEntry(a,n);return n}insertEntry(t,n){let a=this.findInsertion(t);this.isInsertionValid(a,t)?this.insertEntryAt(t,a):this.handleInvalidInsertion(a,t,n)}isInsertionValid(t,n){return(this.maxCoord===-1||t.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||t.stackCnt<this.maxStackCnt)}handleInvalidInsertion(t,n,a){if(this.allowReslicing&&t.touchingEntry){const l=Object.assign(Object.assign({},n),{span:SM(n.span,t.touchingEntry.span)});a.push(l),this.splitEntry(n,t.touchingEntry,a)}else a.push(n)}splitEntry(t,n,a){let l=t.span,d=n.span;l.start<d.start&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:l.start,end:d.start}},a),l.end>d.end&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:d.end,end:l.end}},a)}insertEntryAt(t,n){let{entriesByLevel:a,levelCoords:l}=this;n.lateral===-1?(sw(l,n.level,n.levelCoord),sw(a,n.level,[t])):sw(a[n.level],n.lateral,t),this.stackCnts[Bg(t)]=n.stackCnt}findInsertion(t){let{levelCoords:n,entriesByLevel:a,strictOrder:l,stackCnts:d}=this,p=n.length,y=0,S=-1,T=-1,_=null,O=0;for(let H=0;H<p;H+=1){const B=n[H];if(!l&&B>=y+this.getEntryThickness(t))break;let F=a[H],W,Y=PC(F,t.span.start,IC),$=Y[0]+Y[1];for(;(W=F[$])&&W.span.start<t.span.end;){let K=B+this.getEntryThickness(W);K>y&&(y=K,_=W,S=H,T=$),K===y&&(O=Math.max(O,d[Bg(W)]+1)),$+=1}}let L=0;if(_)for(L=S+1;L<p&&n[L]<y;)L+=1;let P=-1;return L<p&&n[L]===y&&(P=PC(a[L],t.span.end,IC)[0]),{touchingLevel:S,touchingLateral:T,touchingEntry:_,stackCnt:O,levelCoord:y,level:L,lateral:P}}toRects(){let{entriesByLevel:t,levelCoords:n}=this,a=t.length,l=[];for(let d=0;d<a;d+=1){let p=t[d],y=n[d];for(let S of p)l.push(Object.assign(Object.assign({},S),{thickness:this.getEntryThickness(S),levelCoord:y}))}return l}}function IC(e){return e.span.end}function Bg(e){return e.index+":"+e.span.start}function SM(e,t){let n=Math.max(e.start,t.start),a=Math.min(e.end,t.end);return n<a?{start:n,end:a}:null}function sw(e,t,n){e.splice(t,0,n)}function PC(e,t,n){let a=0,l=e.length;if(!l||t<n(e[a]))return[0,0];if(t>n(e[l-1]))return[l,0];for(;a<l;){let d=Math.floor(a+(l-a)/2),p=n(e[d]);if(t<p)l=d;else if(t>p)a=d+1;else return[d,1]}return[a,0]}class ZB{constructor(t,n){this.emitter=new e0}destroy(){}setMirrorIsVisible(t){}setMirrorNeedsRevert(t){}setAutoScrollEnabled(t){}}const oE={};function QB(e,t){return!e||t>10?Vi({weekday:"short"}):t>1?Vi({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Vi({weekday:"long"})}const EM="fc-col-header-cell";function AM(e){return e.text}class KB extends oi{render(){let{dateEnv:t,options:n,theme:a,viewApi:l}=this.context,{props:d}=this,{date:p,dateProfile:y}=d,S=bM(p,d.todayRange,null,y),T=[EM].concat(rE(S,a)),_=t.format(p,d.dayHeaderFormat),O=!S.isDisabled&&d.colCnt>1?Jw(this.context,p):{},L=t.toDate(p);t.namedTimeZoneImpl&&(L=vc(L,36e5));let P=Object.assign(Object.assign(Object.assign({date:L,view:l},d.extraRenderProps),{text:_}),S);return ke(rl,{elTag:"th",elClasses:T,elAttrs:Object.assign({role:"columnheader",colSpan:d.colSpan,"data-date":S.isDisabled?void 0:VS(p)},d.extraDataAttrs),renderProps:P,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:AM,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},H=>ke("div",{className:"fc-scrollgrid-sync-inner"},!S.isDisabled&&ke(H,{elTag:"a",elAttrs:O,elClasses:["fc-col-header-cell-cushion",d.isSticky&&"fc-sticky"]})))}}const JB=Vi({weekday:"long"});class eF extends oi{render(){let{props:t}=this,{dateEnv:n,theme:a,viewApi:l,options:d}=this.context,p=Wi(new Date(2592e5),t.dow),y={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},S=n.format(p,t.dayHeaderFormat),T=Object.assign(Object.assign(Object.assign(Object.assign({date:p},y),{view:l}),t.extraRenderProps),{text:S});return ke(rl,{elTag:"th",elClasses:[EM,...rE(y,a),...t.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:t.colSpan},t.extraDataAttrs),renderProps:T,generatorName:"dayHeaderContent",customGenerator:d.dayHeaderContent,defaultGenerator:AM,classNameGenerator:d.dayHeaderClassNames,didMount:d.dayHeaderDidMount,willUnmount:d.dayHeaderWillUnmount},_=>ke("div",{className:"fc-scrollgrid-sync-inner"},ke(_,{elTag:"a",elClasses:["fc-col-header-cell-cushion",t.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(p,JB)}})))}}class tF extends oi{constructor(){super(...arguments),this.createDayHeaderFormatter=pn(nF)}render(){let{context:t}=this,{dates:n,dateProfile:a,datesRepDistinctDays:l,renderIntro:d}=this.props,p=this.createDayHeaderFormatter(t.options.dayHeaderFormat,l,n.length);return ke(t0,{unit:"day"},(y,S)=>ke("tr",{role:"row"},d&&d("day"),n.map(T=>l?ke(KB,{key:T.toISOString(),date:T,dateProfile:a,todayRange:S,colCnt:n.length,dayHeaderFormat:p}):ke(eF,{key:T.getUTCDay(),dow:T.getUTCDay(),dayHeaderFormat:p}))))}}function nF(e,t,n){return e||QB(t,n)}class iF{constructor(t,n){let a=t.start,{end:l}=t,d=[],p=[],y=-1;for(;a<l;)n.isHiddenDay(a)?d.push(y+.5):(y+=1,d.push(y),p.push(a)),a=Wi(a,1);this.dates=p,this.indices=d,this.cnt=p.length}sliceRange(t){let n=this.getDateDayIndex(t.start),a=this.getDateDayIndex(Wi(t.end,-1)),l=Math.max(0,n),d=Math.min(this.cnt-1,a);return l=Math.ceil(l),d=Math.floor(d),l<=d?{firstIndex:l,lastIndex:d,isStart:n===l,isEnd:a===d}:null}getDateDayIndex(t){let{indices:n}=this,a=Math.floor(ff(this.dates[0],t));return a<0?n[0]-1:a>=n.length?n[n.length-1]+1:n[a]}}class rF{constructor(t,n){let{dates:a}=t,l,d,p;if(n){for(d=a[0].getUTCDay(),l=1;l<a.length&&a[l].getUTCDay()!==d;l+=1);p=Math.ceil(a.length/l)}else p=1,l=a.length;this.rowCnt=p,this.colCnt=l,this.daySeries=t,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let t=[];for(let n=0;n<this.rowCnt;n+=1){let a=[];for(let l=0;l<this.colCnt;l+=1)a.push(this.buildCell(n,l));t.push(a)}return t}buildCell(t,n){let a=this.daySeries.dates[t*this.colCnt+n];return{key:a.toISOString(),date:a}}buildHeaderDates(){let t=[];for(let n=0;n<this.colCnt;n+=1)t.push(this.cells[0][n].date);return t}sliceRange(t){let{colCnt:n}=this,a=this.daySeries.sliceRange(t),l=[];if(a){let{firstIndex:d,lastIndex:p}=a,y=d;for(;y<=p;){let S=Math.floor(y/n),T=Math.min((S+1)*n,p+1);l.push({row:S,firstCol:y%n,lastCol:(T-1)%n,isStart:a.isStart&&y===d,isEnd:a.isEnd&&T-1===p}),y=T}}return l}}class aF{constructor(){this.sliceBusinessHours=pn(this._sliceBusinessHours),this.sliceDateSelection=pn(this._sliceDateSpan),this.sliceEventStore=pn(this._sliceEventStore),this.sliceEventDrag=pn(this._sliceInteraction),this.sliceEventResize=pn(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(t,n,a,l,...d){let{eventUiBases:p}=t,y=this.sliceEventStore(t.eventStore,p,n,a,...d);return{dateSelectionSegs:this.sliceDateSelection(t.dateSelection,n,a,p,l,...d),businessHourSegs:this.sliceBusinessHours(t.businessHours,n,a,l,...d),fgEventSegs:y.fg,bgEventSegs:y.bg,eventDrag:this.sliceEventDrag(t.eventDrag,p,n,a,...d),eventResize:this.sliceEventResize(t.eventResize,p,n,a,...d),eventSelection:t.eventSelection}}sliceNowDate(t,n,a,l,...d){return this._sliceDateSpan({range:{start:t,end:vc(t,1)},allDay:!1},n,a,{},l,...d)}_sliceBusinessHours(t,n,a,l,...d){return t?this._sliceEventStore(ed(t,Bv(n,!!a),l),{},n,a,...d).bg:[]}_sliceEventStore(t,n,a,l,...d){if(t){let p=OC(t,n,Bv(a,!!l),l);return{bg:this.sliceEventRanges(p.bg,d),fg:this.sliceEventRanges(p.fg,d)}}return{bg:[],fg:[]}}_sliceInteraction(t,n,a,l,...d){if(!t)return null;let p=OC(t.mutatedEvents,n,Bv(a,!!l),l);return{segs:this.sliceEventRanges(p.fg,d),affectedInstances:t.affectedEvents.instances,isEvent:t.isEvent}}_sliceDateSpan(t,n,a,l,d,...p){if(!t)return[];let y=Bv(n,!!a),S=of(t.range,y);if(S){t=Object.assign(Object.assign({},t),{range:S});let T=DB(t,l,d),_=this.sliceRange(t.range,...p);for(let O of _)O.eventRange=T;return _}return[]}sliceEventRanges(t,n){let a=[];for(let l of t)a.push(...this.sliceEventRange(l,n));return a}sliceEventRange(t,n){let a=t.range;this.forceDayIfListItem&&t.ui.display==="list-item"&&(a={start:a.start,end:Wi(a.start,1)});let l=this.sliceRange(a,...n);for(let d of l)d.eventRange=t,d.isStart=t.isStart&&d.isStart,d.isEnd=t.isEnd&&d.isEnd;return l}}function Bv(e,t){let n=e.activeRange;return t?n:{start:vc(n.start,e.slotMinTime.milliseconds),end:vc(n.end,e.slotMaxTime.milliseconds-864e5)}}function CM(e,t,n){let{instances:a}=e.mutatedEvents;for(let l in a)if(!Kb(t.validRange,a[l].range))return!1;return DM({eventDrag:e},n)}function sF(e,t,n){return Kb(t.validRange,e.range)?DM({dateSelection:e},n):!1}function DM(e,t){let n=t.getCurrentData(),a=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||oF)(a,t)}function oF(e,t,n={},a){return!(e.eventDrag&&!lF(e,t,n,a)||e.dateSelection&&!cF(e,t,n,a))}function lF(e,t,n,a){let l=t.getCurrentData(),d=e.eventDrag,p=d.mutatedEvents,y=p.defs,S=p.instances,T=Tb(y,d.isEvent?e.eventUiBases:{"":l.selectionConfig});a&&(T=sd(T,a));let _=iB(e.eventStore,d.affectedEvents.instances),O=_.defs,L=_.instances,P=Tb(O,e.eventUiBases);for(let H in S){let B=S[H],F=B.range,W=T[B.defId],Y=y[B.defId];if(!TM(W.constraints,F,_,e.businessHours,t))return!1;let{eventOverlap:$}=t.options,K=typeof $=="function"?$:null;for(let ue in L){let X=L[ue];if(ZS(F,X.range)&&(P[X.defId].overlap===!1&&d.isEvent||W.overlap===!1||K&&!K(new ei(t,O[X.defId],X),new ei(t,Y,B))))return!1}let re=l.eventStore;for(let ue of W.allows){let X=Object.assign(Object.assign({},n),{range:B.range,allDay:Y.allDay}),ie=re.defs[Y.defId],pe=re.instances[H],be;if(ie?be=new ei(t,ie,pe):be=new ei(t,Y),!ue(tE(X,t),be))return!1}}return!0}function cF(e,t,n,a){let l=e.eventStore,d=l.defs,p=l.instances,y=e.dateSelection,S=y.range,{selectionConfig:T}=t.getCurrentData();if(a&&(T=a(T)),!TM(T.constraints,S,l,e.businessHours,t))return!1;let{selectOverlap:_}=t.options,O=typeof _=="function"?_:null;for(let L in p){let P=p[L];if(ZS(S,P.range)&&(T.overlap===!1||O&&!O(new ei(t,d[P.defId],P),null)))return!1}for(let L of T.allows){let P=Object.assign(Object.assign({},n),y);if(!L(tE(P,t),null))return!1}return!0}function TM(e,t,n,a,l){for(let d of e)if(!dF(uF(d,t,n,a,l),t))return!1;return!0}function uF(e,t,n,a,l){return e==="businessHours"?ow(ed(a,t,l)):typeof e=="string"?ow(Jb(n,d=>d.groupId===e)):typeof e=="object"&&e?ow(ed(e,t,l)):[]}function ow(e){let{instances:t}=e,n=[];for(let a in t)n.push(t[a].range);return n}function dF(e,t){for(let n of e)if(Kb(n,t))return!0;return!1}const Fv=/^(visible|hidden)$/;class hF extends oi{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,lo(this.props.elRef,t)}}render(){let{props:t}=this,{liquid:n,liquidIsAbsolute:a}=t,l=n&&a,d=["fc-scroller"];return n&&(a?d.push("fc-scroller-liquid-absolute"):d.push("fc-scroller-liquid")),ke("div",{ref:this.handleEl,className:d.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:l&&-(t.overcomeLeft||0)||"",right:l&&-(t.overcomeRight||0)||"",bottom:l&&-(t.overcomeBottom||0)||"",marginLeft:!l&&-(t.overcomeLeft||0)||"",marginRight:!l&&-(t.overcomeRight||0)||"",marginBottom:!l&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)}needsXScrolling(){if(Fv.test(this.props.overflowX))return!1;let{el:t}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:a}=t;for(let l=0;l<a.length;l+=1)if(a[l].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Fv.test(this.props.overflowY))return!1;let{el:t}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:a}=t;for(let l=0;l<a.length;l+=1)if(a[l].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Fv.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Fv.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class $u{constructor(t){this.masterCallback=t,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,a)=>{let{depths:l,currentMap:d}=this,p=!1,y=!1;n!==null?(p=a in d,d[a]=n,l[a]=(l[a]||0)+1,y=!0):(l[a]-=1,l[a]||(delete d[a],delete this.callbackMap[a],p=!0)),this.masterCallback&&(p&&this.masterCallback(null,String(a)),y&&this.masterCallback(n,String(a)))}}createRef(t){let n=this.callbackMap[t];return n||(n=this.callbackMap[t]=a=>{this.handleValue(a,String(t))}),n}collect(t,n,a){return wz(this.currentMap,t,n,a)}getAll(){return qS(this.currentMap)}}function fF(e){let t=xj(e,".fc-scrollgrid-shrink"),n=0;for(let a of t)n=Math.max(n,Lj(a));return Math.ceil(n)}function MM(e,t){return e.liquid&&t.liquid}function pF(e,t){return t.maxHeight!=null||MM(e,t)}function gF(e,t,n,a){let{expandRows:l}=n;return typeof t.content=="function"?t.content(n):ke("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:l?n.clientHeight:""}},n.tableColGroupNode,ke(a?"thead":"tbody",{role:"presentation"},typeof t.rowContent=="function"?t.rowContent(n):t.rowContent))}function mF(e,t){return yc(e,t,bs)}function yF(e,t){let n=[];for(let a of e){let l=a.span||1;for(let d=0;d<l;d+=1)n.push(ke("col",{style:{width:a.width==="shrink"?vF(t):a.width||"",minWidth:a.minWidth||""}}))}return ke("colgroup",{},...n)}function vF(e){return e??4}function bF(e){for(let t of e)if(t.width==="shrink")return!0;return!1}function xF(e,t){let n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}function wF(e,t){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&e.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function SF(e){return ke("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function jC(e){let{stickyHeaderDates:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}function EF(e){let{stickyFooterScrollbar:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}class _M extends oi{constructor(){super(...arguments),this.processCols=pn(t=>t,mF),this.renderMicroColGroup=pn(yF),this.scrollerRefs=new $u,this.scrollerElRefs=new $u(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:t,state:n,context:a}=this,l=t.sections||[],d=this.processCols(t.cols),p=this.renderMicroColGroup(d,n.shrinkWidth),y=xF(t.liquid,a);t.collapsibleWidth&&y.push("fc-scrollgrid-collapsible");let S=l.length,T=0,_,O=[],L=[],P=[];for(;T<S&&(_=l[T]).type==="header";)O.push(this.renderSection(_,p,!0)),T+=1;for(;T<S&&(_=l[T]).type==="body";)L.push(this.renderSection(_,p,!1)),T+=1;for(;T<S&&(_=l[T]).type==="footer";)P.push(this.renderSection(_,p,!0)),T+=1;let H=!yM();const B={role:"rowgroup"};return ke("table",{role:"grid",className:y.join(" "),style:{height:t.height}},!!(!H&&O.length)&&ke("thead",B,...O),!!(!H&&L.length)&&ke("tbody",B,...L),!!(!H&&P.length)&&ke("tfoot",B,...P),H&&ke("tbody",B,...O,...L,...P))}renderSection(t,n,a){return"outerContent"in t?ke(gi,{key:t.key},t.outerContent):ke("tr",{key:t.key,role:"presentation",className:wF(t,this.props.liquid).join(" ")},this.renderChunkTd(t,n,t.chunk,a))}renderChunkTd(t,n,a,l){if("outerContent"in a)return a.outerContent;let{props:d}=this,{forceYScrollbars:p,scrollerClientWidths:y,scrollerClientHeights:S}=this.state,T=pF(d,t),_=MM(d,t),O=d.liquid?p?"scroll":T?"auto":"hidden":"visible",L=t.key,P=gF(t,a,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!d.collapsibleWidth&&y[L]!==void 0?y[L]:null,clientHeight:S[L]!==void 0?S[L]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},l);return ke(l?"th":"td",{ref:a.elRef,role:"presentation"},ke("div",{className:`fc-scroller-harness${_?" fc-scroller-harness-liquid":""}`},ke(hF,{ref:this.scrollerRefs.createRef(L),elRef:this.scrollerElRefs.createRef(L),overflowY:O,overflowX:d.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:_,liquidIsAbsolute:!0},P)))}_handleScrollerEl(t,n){let a=AF(this.props.sections,n);a&&lo(a.chunk.scrollerElRef,t)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return bF(this.props.cols)?fF(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let t=UB(),{scrollerRefs:n,scrollerElRefs:a}=this,l=!1,d={},p={};for(let y in n.currentMap){let S=n.currentMap[y];if(S&&S.needsYScrolling()){l=!0;break}}for(let y of this.props.sections){let S=y.key,T=a.currentMap[S];if(T){let _=T.parentNode;d[S]=Math.floor(_.getBoundingClientRect().width-(l?t.y:0)),p[S]=Math.floor(_.getBoundingClientRect().height)}}return{forceYScrollbars:l,scrollerClientWidths:d,scrollerClientHeights:p}}}_M.addStateEquality({scrollerClientWidths:bs,scrollerClientHeights:bs});function AF(e,t){for(let n of e)if(n.key===t)return n;return null}class lE extends oi{constructor(){super(...arguments),this.buildPublicEvent=pn((t,n,a)=>new ei(t,n,a)),this.handleEl=t=>{this.el=t,lo(this.props.elRef,t),t&&NC(t,this.props.seg)}}render(){const{props:t,context:n}=this,{options:a}=n,{seg:l}=t,{eventRange:d}=l,{ui:p}=d,y={event:this.buildPublicEvent(n,d.def,d.instance),view:n.viewApi,timeText:t.timeText,textColor:p.textColor,backgroundColor:p.backgroundColor,borderColor:p.borderColor,isDraggable:!t.disableDragging&&gB(l,n),isStartResizable:!t.disableResizing&&mB(l,n),isEndResizable:!t.disableResizing&&yB(l),isMirror:!!(t.isDragging||t.isResizing||t.isDateSelecting),isStart:!!l.isStart,isEnd:!!l.isEnd,isPast:!!t.isPast,isFuture:!!t.isFuture,isToday:!!t.isToday,isSelected:!!t.isSelected,isDragging:!!t.isDragging,isResizing:!!t.isResizing};return ke(rl,{elRef:this.handleEl,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:[...vB(y),...l.eventRange.ui.classNames,...t.elClasses||[]],elStyle:t.elStyle,renderProps:y,generatorName:"eventContent",customGenerator:a.eventContent,defaultGenerator:t.defaultGenerator,classNameGenerator:a.eventClassNames,didMount:a.eventDidMount,willUnmount:a.eventWillUnmount},t.children)}componentDidUpdate(t){this.el&&this.props.seg!==t.seg&&NC(this.el,this.props.seg)}}class RM extends oi{render(){let{props:t,context:n}=this,{options:a}=n,{seg:l}=t,{ui:d}=l.eventRange,p=a.eventTimeFormat||t.defaultTimeFormat,y=fM(l,p,n,t.defaultDisplayEventTime,t.defaultDisplayEventEnd);return ke(lE,Object.assign({},t,{elTag:"a",elStyle:{borderColor:d.borderColor,backgroundColor:d.backgroundColor},elAttrs:pM(l,n),defaultGenerator:CF,timeText:y}),(S,T)=>ke(gi,null,ke(S,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:T.textColor}}),!!T.isStartResizable&&ke("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!T.isEndResizable&&ke("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}RM.addPropsEquality({seg:bs});function CF(e){return ke("div",{className:"fc-event-main-frame"},e.timeText&&ke("div",{className:"fc-event-time"},e.timeText),ke("div",{className:"fc-event-title-container"},ke("div",{className:"fc-event-title fc-sticky"},e.event.title||ke(gi,null,""))))}const DF=Vi({day:"numeric"});class kM extends oi{constructor(){super(...arguments),this.refineRenderProps=tb(TF)}render(){let{props:t,context:n}=this,{options:a}=n,l=this.refineRenderProps({date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,isMonthStart:t.isMonthStart||!1,showDayNumber:t.showDayNumber,extraRenderProps:t.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:a.monthStartFormat});return ke(rl,{elRef:t.elRef,elTag:t.elTag,elAttrs:Object.assign(Object.assign({},t.elAttrs),l.isDisabled?{}:{"data-date":VS(t.date)}),elClasses:[...rE(l,n.theme),...t.elClasses||[]],elStyle:t.elStyle,renderProps:l,generatorName:"dayCellContent",customGenerator:a.dayCellContent,defaultGenerator:t.defaultGenerator,classNameGenerator:l.isDisabled?void 0:a.dayCellClassNames,didMount:a.dayCellDidMount,willUnmount:a.dayCellWillUnmount},t.children)}}function OM(e){return!!(e.dayCellContent||Xw("dayCellContent",e))}function TF(e){let{date:t,dateEnv:n,dateProfile:a,isMonthStart:l}=e,d=bM(t,e.todayRange,null,a),p=e.showDayNumber?n.format(t,l?e.monthStartFormat:DF):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},d),{isMonthStart:l,dayNumberText:p}),e.extraRenderProps)}class MF extends oi{render(){let{props:t}=this,{seg:n}=t;return ke(lE,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:_F,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday,disableDragging:!0,disableResizing:!0})}}function _F(e){let{title:t}=e.event;return t&&ke("div",{className:"fc-event-title"},e.event.title)}function RF(e){return ke("div",{className:`fc-${e}`})}const kF=e=>ke(od.Consumer,null,t=>{let{dateEnv:n,options:a}=t,{date:l}=e,d=a.weekNumberFormat||e.defaultFormat,p=n.computeWeekNumber(l),y=n.format(l,d),S={num:p,text:y,date:l};return ke(rl,{elRef:e.elRef,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:S,generatorName:"weekNumberContent",customGenerator:a.weekNumberContent,defaultGenerator:OF,classNameGenerator:a.weekNumberClassNames,didMount:a.weekNumberDidMount,willUnmount:a.weekNumberWillUnmount},e.children)});function OF(e){return e.text}const lw=10;class NF extends oi{constructor(){super(...arguments),this.state={titleId:Zb()},this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&lo(this.props.elRef,t)},this.handleDocumentMouseDown=t=>{const n=GT(t);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=t=>{t.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:t}=this.props;t&&t()}}render(){let{theme:t,options:n}=this.context,{props:a,state:l}=this,d=["fc-popover",t.getClass("popover")].concat(a.extraClassNames||[]);return sj(ke("div",Object.assign({},a.extraAttrs,{id:a.id,className:d.join(" "),"aria-labelledby":l.titleId,ref:this.handleRootEl}),ke("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},ke("span",{className:"fc-popover-title",id:l.titleId},a.title),ke("span",{className:"fc-popover-close "+t.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),ke("div",{className:"fc-popover-body "+t.getClass("popoverContent")},a.children)),a.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:t}=this.context,{alignmentEl:n,alignGridTop:a}=this.props,{rootEl:l}=this,d=YB(n);if(d){let p=l.getBoundingClientRect(),y=a?hr(n,".fc-scrollgrid").getBoundingClientRect().top:d.top,S=t?d.right-p.width:d.left;y=Math.max(y,lw),S=Math.min(S,document.documentElement.clientWidth-lw-p.width),S=Math.max(S,lw);let T=l.offsetParent.getBoundingClientRect();Ig(l,{top:y-T.top,left:S-T.left})}}}class LF extends cd{constructor(){super(...arguments),this.handleRootEl=t=>{this.rootEl=t,t?this.context.registerInteractiveComponent(this,{el:t,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:t,dateEnv:n}=this.context,{props:a}=this,{startDate:l,todayRange:d,dateProfile:p}=a,y=n.format(l,t.dayPopoverFormat);return ke(kM,{elRef:this.handleRootEl,date:l,dateProfile:p,todayRange:d},(S,T,_)=>ke(NF,{elRef:_.ref,id:a.id,title:y,extraClassNames:["fc-more-popover"].concat(_.className||[]),extraAttrs:_,parentEl:a.parentEl,alignmentEl:a.alignmentEl,alignGridTop:a.alignGridTop,onClose:a.onClose},OM(t)&&ke(S,{elTag:"div",elClasses:["fc-more-popover-misc"]}),a.children))}queryHit(t,n,a,l){let{rootEl:d,props:p}=this;return t>=0&&t<a&&n>=0&&n<l?{dateProfile:p.dateProfile,dateSpan:Object.assign({allDay:!p.forceTimed,range:{start:p.startDate,end:p.endDate}},p.extraDateSpan),dayEl:d,rect:{left:0,top:0,right:a,bottom:l},layer:1}:null}}class IF extends oi{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Zb()},this.handleLinkEl=t=>{this.linkEl=t,this.props.elRef&&lo(this.props.elRef,t)},this.handleClick=t=>{let{props:n,context:a}=this,{moreLinkClick:l}=a.options,d=zC(n).start;function p(y){let{def:S,instance:T,range:_}=y.eventRange;return{event:new ei(a,S,T),start:a.dateEnv.toDate(_.start),end:a.dateEnv.toDate(_.end),isStart:y.isStart,isEnd:y.isEnd}}typeof l=="function"&&(l=l({date:d,allDay:!!n.allDayDate,allSegs:n.allSegs.map(p),hiddenSegs:n.hiddenSegs.map(p),jsEvent:t,view:a.viewApi})),!l||l==="popover"?this.setState({isPopoverOpen:!0}):typeof l=="string"&&a.calendarApi.zoomTo(d,l)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:t,state:n}=this;return ke(od.Consumer,null,a=>{let{viewApi:l,options:d,calendarApi:p}=a,{moreLinkText:y}=d,{moreCnt:S}=t,T=zC(t),_=typeof y=="function"?y.call(p,S):`+${S} ${y}`,O=Pg(d.moreLinkHint,[S],_),L={num:S,shortText:`+${S}`,text:_,view:l};return ke(gi,null,!!t.moreCnt&&ke(rl,{elTag:t.elTag||"a",elRef:this.handleLinkEl,elClasses:[...t.elClasses||[],"fc-more-link"],elStyle:t.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},t.elAttrs),WT(this.handleClick)),{title:O,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:L,generatorName:"moreLinkContent",customGenerator:d.moreLinkContent,defaultGenerator:t.defaultGenerator||PF,classNameGenerator:d.moreLinkClassNames,didMount:d.moreLinkDidMount,willUnmount:d.moreLinkWillUnmount},t.children),n.isPopoverOpen&&ke(LF,{id:n.popoverId,startDate:T.start,endDate:T.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:this.parentEl,alignmentEl:t.alignmentElRef?t.alignmentElRef.current:this.linkEl,alignGridTop:t.alignGridTop,forceTimed:t.forceTimed,onClose:this.handlePopoverClose},t.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=hr(this.linkEl,".fc-view-harness"))}}function PF(e){return e.text}function zC(e){if(e.allDayDate)return{start:e.allDayDate,end:Wi(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:jF(t),end:BF(t)}}function jF(e){return e.reduce(zF).eventRange.range.start}function zF(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function BF(e){return e.reduce(FF).eventRange.range.end}function FF(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}class HF{constructor(){this.handlers=[]}set(t){this.currentValue=t;for(let n of this.handlers)n(t)}subscribe(t){this.handlers.push(t),this.currentValue!==void 0&&t(this.currentValue)}}class UF extends HF{constructor(){super(...arguments),this.map=new Map}handle(t){const{map:n}=this;let a=!1;t.isActive?(n.set(t.id,t),a=!0):n.has(t.id)&&(n.delete(t.id),a=!0),a&&this.set(n)}}const GF=[],NM={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},LM=Object.assign(Object.assign({},NM),{buttonHints:{prev:"Previous $0",next:"Next $0",today(e,t){return t==="day"?"Today":`This ${e}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(e){return`Show ${e} more event${e===1?"":"s"}`}});function VF(e){let t=e.length>0?e[0].code:"en",n=GF.concat(e),a={en:LM};for(let l of n)a[l.code]=l;return{map:a,defaultCode:t}}function IM(e,t){return typeof e=="object"&&!Array.isArray(e)?PM(e.code,[e.code],e):WF(e,t)}function WF(e,t){let n=[].concat(e||[]),a=YF(n,t)||LM;return PM(e,n,a)}function YF(e,t){for(let n=0;n<e.length;n+=1){let a=e[n].toLocaleLowerCase().split("-");for(let l=a.length;l>0;l-=1){let d=a.slice(0,l).join("-");if(t[d])return t[d]}}return null}function PM(e,t,n){let a=$S([NM,n],["buttonText"]);delete a.code;let{week:l}=a;return delete a.week,{codeArg:e,codes:t,week:l,simpleNumberFormat:new Intl.NumberFormat(e),options:a}}function Sc(e){return{id:ad(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function $F(e,t){let n={},a={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function l(d){for(let p of d){const y=p.name,S=n[y];S===void 0?(n[y]=p.id,l(p.deps),a=XF(a,p)):S!==p.id&&console.warn(`Duplicate plugin '${y}'`)}}return e&&l(e),l(t),a}function qF(){let e=[],t=[],n;return(a,l)=>((!n||!yc(a,e)||!yc(l,t))&&(n=$F(a,l)),e=a,t=l,n)}function XF(e,t){return{premiumReleaseDate:ZF(e.premiumReleaseDate,t.premiumReleaseDate),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}function ZF(e,t){return e===void 0?t:t===void 0?e:new Date(Math.max(e.valueOf(),t.valueOf()))}class Ec extends om{}Ec.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Ec.prototype.baseIconClass="fc-icon";Ec.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Ec.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Ec.prototype.iconOverrideOption="buttonIcons";Ec.prototype.iconOverrideCustomButtonOption="icon";Ec.prototype.iconOverridePrefix="fc-icon-";function QF(e,t){let n={},a;for(a in e)eS(a,n,e,t);for(a in t)eS(a,n,e,t);return n}function eS(e,t,n,a){if(t[e])return t[e];let l=KF(e,t,n,a);return l&&(t[e]=l),l}function KF(e,t,n,a){let l=n[e],d=a[e],p=_=>l&&l[_]!==null?l[_]:d&&d[_]!==null?d[_]:null,y=p("component"),S=p("superType"),T=null;if(S){if(S===e)throw new Error("Can't have a custom view type that references itself");T=eS(S,t,n,a)}return!y&&T&&(y=T.component),y?{type:e,component:y,defaults:Object.assign(Object.assign({},T?T.defaults:{}),l?l.rawOptions:{}),overrides:Object.assign(Object.assign({},T?T.overrides:{}),d?d.rawOptions:{})}:null}function BC(e){return sd(e,JF)}function JF(e){let t=typeof e=="function"?{component:e}:e,{component:n}=t;return t.content?n=FC(t):n&&!(n.prototype instanceof oi)&&(n=FC(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function FC(e){return t=>ke(od.Consumer,null,n=>ke(rl,{elTag:"div",elClasses:JT(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function eH(e,t,n,a){let l=BC(e),d=BC(t.views),p=QF(l,d);return sd(p,y=>tH(y,d,t,n,a))}function tH(e,t,n,a,l){let d=e.overrides.duration||e.defaults.duration||a.duration||n.duration,p=null,y="",S="",T={};if(d&&(p=nH(d),p)){let L=qw(p);y=L.unit,L.value===1&&(S=y,T=t[y]?t[y].rawOptions:{})}let _=L=>{let P=L.buttonText||{},H=e.defaults.buttonTextKey;return H!=null&&P[H]!=null?P[H]:P[e.type]!=null?P[e.type]:P[S]!=null?P[S]:null},O=L=>{let P=L.buttonHints||{},H=e.defaults.buttonTextKey;return H!=null&&P[H]!=null?P[H]:P[e.type]!=null?P[e.type]:P[S]!=null?P[S]:null};return{type:e.type,component:e.component,duration:p,durationUnit:y,singleUnit:S,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},T),e.overrides),buttonTextOverride:_(a)||_(n)||e.overrides.buttonText,buttonTextDefault:_(l)||e.defaults.buttonText||_(jg)||e.type,buttonTitleOverride:O(a)||O(n)||e.overrides.buttonHint,buttonTitleDefault:O(l)||e.defaults.buttonHint||O(jg)}}let HC={};function nH(e){let t=JSON.stringify(e),n=HC[t];return n===void 0&&(n=vn(e),HC[t]=n),n}function iH(e,t){return t.type==="CHANGE_VIEW_TYPE"&&(e=t.viewType),e}function rH(e,t){return t.type==="CHANGE_DATE"?t.dateMarker:e}function aH(e,t,n){let a=e.initialDate;return a!=null?t.createMarker(a):n.getDateMarker()}function sH(e,t){return t.type==="SET_OPTION"?Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue}):e}function oH(e,t,n,a){let l;switch(t.type){case"CHANGE_VIEW_TYPE":return a.build(t.dateMarker||n);case"CHANGE_DATE":return a.build(t.dateMarker);case"PREV":if(l=a.buildPrev(e,n),l.isValid)return l;break;case"NEXT":if(l=a.buildNext(e,n),l.isValid)return l;break}return e}function lH(e,t,n){let a=t?t.activeRange:null;return zM({},gH(e,n),a,n)}function cH(e,t,n,a){let l=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return zM(e,t.sources,l,a);case"REMOVE_EVENT_SOURCE":return dH(e,t.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?BM(e,l,a):e;case"FETCH_EVENT_SOURCES":return cE(e,t.sourceIds?qT(t.sourceIds):FM(e,a),l,t.isRefetch||!1,a);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return pH(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}function uH(e,t,n){let a=t?t.activeRange:null;return cE(e,FM(e,n),a,!0,n)}function jM(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function zM(e,t,n,a){let l={};for(let d of t)l[d.sourceId]=d;return n&&(l=BM(l,n,a)),Object.assign(Object.assign({},e),l)}function dH(e,t){return Ju(e,n=>n.sourceId!==t)}function BM(e,t,n){return cE(e,Ju(e,a=>hH(a,t,n)),t,!1,n)}function hH(e,t,n){return HM(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}function cE(e,t,n,a,l){let d={};for(let p in e){let y=e[p];t[p]?d[p]=fH(y,n,a,l):d[p]=y}return d}function fH(e,t,n,a){let{options:l,calendarApi:d}=a,p=a.pluginHooks.eventSourceDefs[e.sourceDefId],y=ad();return p.fetch({eventSource:e,range:t,isRefetch:n,context:a},S=>{let{rawEvents:T}=S;l.eventSourceSuccess&&(T=l.eventSourceSuccess.call(d,T,S.response)||T),e.success&&(T=e.success.call(d,T,S.response)||T),a.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:y,fetchRange:t,rawEvents:T})},S=>{let T=!1;l.eventSourceFailure&&(l.eventSourceFailure.call(d,S),T=!0),e.failure&&(e.failure(S),T=!0),T||console.warn(S.message,S),a.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:y,fetchRange:t,error:S})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:y})}function pH(e,t,n,a){let l=e[t];return l&&n===l.latestFetchId?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},l),{isFetching:!1,fetchRange:a})}):e}function FM(e,t){return Ju(e,n=>HM(n,t))}function gH(e,t){let n=oM(t),a=[].concat(e.eventSources||[]),l=[];e.initialEvents&&a.unshift(e.initialEvents),e.events&&a.unshift(e.events);for(let d of a){let p=sM(d,t,n);p&&l.push(p)}return l}function HM(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function mH(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function yH(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function vH(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function bH(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function xH(e,t,n,a,l){let d=e.headerToolbar?UC(e.headerToolbar,e,t,n,a,l):null,p=e.footerToolbar?UC(e.footerToolbar,e,t,n,a,l):null;return{header:d,footer:p}}function UC(e,t,n,a,l,d){let p={},y=[],S=!1;for(let T in e){let _=e[T],O=wH(_,t,n,a,l,d);p[T]=O.widgets,y.push(...O.viewsWithButtons),S=S||O.hasTitle}return{sectionWidgets:p,viewsWithButtons:y,hasTitle:S}}function wH(e,t,n,a,l,d){let p=t.direction==="rtl",y=t.customButtons||{},S=n.buttonText||{},T=t.buttonText||{},_=n.buttonHints||{},O=t.buttonHints||{},L=e?e.split(" "):[],P=[],H=!1;return{widgets:L.map(F=>F.split(",").map(W=>{if(W==="title")return H=!0,{buttonName:W};let Y,$,K,re,ue,X;if(Y=y[W])K=ie=>{Y.click&&Y.click.call(ie.target,ie,ie.target)},(re=a.getCustomButtonIconClass(Y))||(re=a.getIconClass(W,p))||(ue=Y.text),X=Y.hint||Y.text;else if($=l[W]){P.push(W),K=()=>{d.changeView(W)},(ue=$.buttonTextOverride)||(re=a.getIconClass(W,p))||(ue=$.buttonTextDefault);let ie=$.buttonTextOverride||$.buttonTextDefault;X=Pg($.buttonTitleOverride||$.buttonTitleDefault||t.viewHint,[ie,W],ie)}else if(d[W])if(K=()=>{d[W]()},(ue=S[W])||(re=a.getIconClass(W,p))||(ue=T[W]),W==="prevYear"||W==="nextYear"){let ie=W==="prevYear"?"prev":"next";X=Pg(_[ie]||O[ie],[T.year||"year","year"],T[W])}else X=ie=>Pg(_[W]||O[W],[T[ie]||ie,ie],T[W]);return{buttonName:W,buttonClick:K,buttonIcon:re,buttonText:ue,buttonHint:X}})),viewsWithButtons:P,hasTitle:H}}class SH{constructor(t,n,a){this.type=t,this.getCurrentData=n,this.dateEnv=a}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(t){return this.getCurrentData().options[t]}}let EH={ignoreRange:!0,parseMeta(e){return Array.isArray(e.events)?e.events:null},fetch(e,t){t({rawEvents:e.eventSource.meta})}};const AH=Sc({name:"array-event-source",eventSourceDefs:[EH]});let CH={parseMeta(e){return typeof e.events=="function"?e.events:null},fetch(e,t,n){const{dateEnv:a}=e.context,l=e.eventSource.meta;TB(l.bind(null,gM(e.range,a)),d=>t({rawEvents:d}),n)}};const DH=Sc({name:"func-event-source",eventSourceDefs:[CH]}),TH={method:String,extraParams:Me,startParam:String,endParam:String,timeZoneParam:String};let MH={parseMeta(e){return e.url&&(e.format==="json"||!e.format)?{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}:null},fetch(e,t,n){const{meta:a}=e.eventSource,l=RH(a,e.range,e.context);MB(a.method,a.url,l).then(([d,p])=>{t({rawEvents:d,response:p})},n)}};const _H=Sc({name:"json-event-source",eventSourceRefiners:TH,eventSourceDefs:[MH]});function RH(e,t,n){let{dateEnv:a,options:l}=n,d,p,y,S,T={};return d=e.startParam,d==null&&(d=l.startParam),p=e.endParam,p==null&&(p=l.endParam),y=e.timeZoneParam,y==null&&(y=l.timeZoneParam),typeof e.extraParams=="function"?S=e.extraParams():S=e.extraParams||{},Object.assign(T,S),T[d]=a.formatIso(t.start),T[p]=a.formatIso(t.end),a.timeZone!=="local"&&(T[y]=a.timeZone),T}const kH={daysOfWeek:Me,startTime:vn,endTime:vn,duration:vn,startRecur:Me,endRecur:Me};let OH={parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let n={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t},a;return e.duration&&(a=e.duration),!a&&e.startTime&&e.endTime&&(a=zj(e.endTime,e.startTime)),{allDayGuess:!e.startTime&&!e.endTime,duration:a,typeData:n}}return null},expand(e,t,n){let a=of(t,{start:e.startRecur,end:e.endRecur});return a?LH(e.daysOfWeek,e.startTime,e.dateEnv,n,a):[]}};const NH=Sc({name:"simple-recurring-event",recurringTypes:[OH],eventRefiners:kH});function LH(e,t,n,a,l){let d=e?qT(e):null,p=Jn(l.start),y=l.end,S=[];for(t&&(t.milliseconds<0?y=Wi(y,1):t.milliseconds>=1e3*60*60*24&&(p=Wi(p,-1)));p<y;){let T;(!d||d[p.getUTCDay()])&&(t?T=a.add(p,t):T=p,S.push(a.createMarker(n.toDate(T)))),p=Wi(p,1)}return S}const IH=Sc({name:"change-handler",optionChangeHandlers:{events(e,t){GC([e],t)},eventSources:GC}});function GC(e,t){let n=qS(t.getCurrentData().eventSources);if(n.length===1&&e.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(e[0])){t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});return}let a=[];for(let l of e){let d=!1;for(let p=0;p<n.length;p+=1)if(n[p]._raw===l){n.splice(p,1),d=!0;break}d||a.push(l)}for(let l of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:l.sourceId});for(let l of a)t.calendarApi.addEventSource(l)}function PH(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},gM(e.activeRange,t.dateEnv)),{view:t.viewApi}))}function jH(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Qu(e,t))}const zH=[AH,DH,_H,NH,IH,Sc({name:"misc",isLoadingFuncs:[e=>jM(e.eventSources)],propSetHandlers:{dateProfile:PH,eventStore:jH}})];class BH{constructor(t,n){this.runTaskOption=t,this.drainedOption=n,this.queue=[],this.delayedRunner=new FS(this.drain.bind(this))}request(t,n){this.queue.push(t),this.delayedRunner.request(n)}pause(t){this.delayedRunner.pause(t)}resume(t,n){this.delayedRunner.resume(t,n)}drain(){let{queue:t}=this;for(;t.length;){let n=[],a;for(;a=t.shift();)this.runTask(a),n.push(a);this.drained(n)}}runTask(t){this.runTaskOption&&this.runTaskOption(t)}drained(t){this.drainedOption&&this.drainedOption(t)}}function FH(e,t,n){let a;return/^(year|month)$/.test(e.currentRangeUnit)?a=e.currentRange:a=e.activeRange,n.formatRange(a.start,a.end,Vi(t.titleFormat||HH(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}function HH(e){let{currentRangeUnit:t}=e;if(t==="year")return{year:"numeric"};if(t==="month")return{year:"numeric",month:"long"};let n=xb(e.currentRange.start,e.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class VC{constructor(){this.resetListeners=new Set}handleInput(t,n){const a=this.dateEnv;if(t!==a&&(typeof n=="function"?this.nowFn=n:a||(this.nowAnchorDate=t.toDate(n?t.createMarker(n):t.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=t,a))for(const l of this.resetListeners.values())l()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(t){this.resetListeners.add(t)}removeResetListener(t){this.resetListeners.delete(t)}}class UH{constructor(t){this.computeCurrentViewData=pn(this._computeCurrentViewData),this.organizeRawLocales=pn(VF),this.buildLocale=pn(IM),this.buildPluginHooks=qF(),this.buildDateEnv=pn(GH),this.buildTheme=pn(VH),this.parseToolbars=pn(xH),this.buildViewSpecs=pn(eH),this.buildDateProfileGenerator=tb(WH),this.buildViewApi=pn(YH),this.buildViewUiProps=tb(XH),this.buildEventUiBySource=pn($H,bs),this.buildEventUiBases=pn(qH),this.parseContextBusinessHours=tb(ZH),this.buildTitle=pn(FH),this.nowManager=new VC,this.emitter=new e0,this.actionRunner=new BH(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=L=>{this.actionRunner.request(L)},this.props=t,this.actionRunner.pause(),this.nowManager=new VC;let n={},a=this.computeOptionsData(t.optionOverrides,n,t.calendarApi),l=a.calendarOptions.initialView||a.pluginHooks.initialView,d=this.computeCurrentViewData(l,a,t.optionOverrides,n);t.calendarApi.currentDataManager=this,this.emitter.setThisContext(t.calendarApi),this.emitter.setOptions(d.options);let p={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},y=aH(a.calendarOptions,a.dateEnv,this.nowManager),S=d.dateProfileGenerator.build(y);gc(S.activeRange,y)||(y=S.currentRange.start);for(let L of a.pluginHooks.contextInit)L(p);let T=lH(a.calendarOptions,S,p),_={dynamicOptionOverrides:n,currentViewType:l,currentDate:y,dateProfile:S,businessHours:this.parseContextBusinessHours(p),eventSources:T,eventUiBases:{},eventStore:gs(),renderableEventStore:gs(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(p).selectionConfig},O=Object.assign(Object.assign({},p),_);for(let L of a.pluginHooks.reducers)Object.assign(_,L(null,null,O));cw(_,p)&&this.emitter.trigger("loading",!0),this.state=_,this.updateData(),this.actionRunner.resume()}resetOptions(t,n){let{props:a}=this;n===void 0?a.optionOverrides=t:(a.optionOverrides=Object.assign(Object.assign({},a.optionOverrides||{}),t),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(t){let{props:n,state:a,emitter:l}=this,d=sH(a.dynamicOptionOverrides,t),p=this.computeOptionsData(n.optionOverrides,d,n.calendarApi),y=iH(a.currentViewType,t),S=this.computeCurrentViewData(y,p,n.optionOverrides,d);n.calendarApi.currentDataManager=this,l.setThisContext(n.calendarApi),l.setOptions(S.options);let T={nowManager:this.nowManager,dateEnv:p.dateEnv,options:p.calendarOptions,pluginHooks:p.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:l,getCurrentData:this.getCurrentData},{currentDate:_,dateProfile:O}=a;this.data&&this.data.dateProfileGenerator!==S.dateProfileGenerator&&(O=S.dateProfileGenerator.build(_)),_=rH(_,t),O=oH(O,t,_,S.dateProfileGenerator),(t.type==="PREV"||t.type==="NEXT"||!gc(O.currentRange,_))&&(_=O.currentRange.start);let L=cH(a.eventSources,t,O,T),P=Jz(a.eventStore,t,L,O,T),B=jM(L)&&!S.options.progressiveEventRendering&&a.renderableEventStore||P,{eventUiSingleBase:F,selectionConfig:W}=this.buildViewUiProps(T),Y=this.buildEventUiBySource(L),$=this.buildEventUiBases(B.defs,F,Y),K={dynamicOptionOverrides:d,currentViewType:y,currentDate:_,dateProfile:O,eventSources:L,eventStore:P,renderableEventStore:B,selectionConfig:W,eventUiBases:$,businessHours:this.parseContextBusinessHours(T),dateSelection:mH(a.dateSelection,t),eventSelection:yH(a.eventSelection,t),eventDrag:vH(a.eventDrag,t),eventResize:bH(a.eventResize,t)},re=Object.assign(Object.assign({},T),K);for(let ie of p.pluginHooks.reducers)Object.assign(K,ie(a,t,re));let ue=cw(a,T),X=cw(K,T);!ue&&X?l.trigger("loading",!0):ue&&!X&&l.trigger("loading",!1),this.state=K,n.onAction&&n.onAction(t)}updateData(){let{props:t,state:n}=this,a=this.data,l=this.computeOptionsData(t.optionOverrides,n.dynamicOptionOverrides,t.calendarApi),d=this.computeCurrentViewData(n.currentViewType,l,t.optionOverrides,n.dynamicOptionOverrides),p=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,d.options,l.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l),d),n),y=l.pluginHooks.optionChangeHandlers,S=a&&a.calendarOptions,T=l.calendarOptions;if(S&&S!==T){S.timeZone!==T.timeZone&&(n.eventSources=p.eventSources=uH(p.eventSources,n.dateProfile,p),n.eventStore=p.eventStore=RC(p.eventStore,a.dateEnv,p.dateEnv),n.renderableEventStore=p.renderableEventStore=RC(p.renderableEventStore,a.dateEnv,p.dateEnv));for(let _ in y)(this.optionsForHandling.indexOf(_)!==-1||S[_]!==T[_])&&y[_](T[_],p)}this.optionsForHandling=[],t.onData&&t.onData(p)}computeOptionsData(t,n,a){if(!this.optionsForRefining.length&&t===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:l,pluginHooks:d,localeDefaults:p,availableLocaleData:y,extra:S}=this.processRawCalendarOptions(t,n);WC(S);let T=this.buildDateEnv(l.timeZone,l.locale,l.weekNumberCalculation,l.firstDay,l.weekText,d,y,l.defaultRangeSeparator),_=this.buildViewSpecs(d.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,p),O=this.buildTheme(l,d),L=this.parseToolbars(l,this.stableOptionOverrides,O,_,a);return this.stableCalendarOptionsData={calendarOptions:l,pluginHooks:d,dateEnv:T,viewSpecs:_,theme:O,toolbarConfig:L,localeDefaults:p,availableRawLocales:y.map}}processRawCalendarOptions(t,n){let{locales:a,locale:l}=tw([jg,t,n]),d=this.organizeRawLocales(a),p=d.map,y=this.buildLocale(l||d.defaultCode,p).options,S=this.buildPluginHooks(t.plugins||[],zH),T=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},EC),AC),CC),S.listenerRefiners),S.optionRefiners),_={},O=tw([jg,y,t,n]),L={},P=this.currentCalendarOptionsInput,H=this.currentCalendarOptionsRefined,B=!1;for(let F in O)this.optionsForRefining.indexOf(F)===-1&&(O[F]===P[F]||Gu[F]&&F in P&&Gu[F](P[F],O[F]))?L[F]=H[F]:T[F]?(L[F]=T[F](O[F]),B=!0):_[F]=P[F];return B&&(this.currentCalendarOptionsInput=O,this.currentCalendarOptionsRefined=L,this.stableOptionOverrides=t,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:S,availableLocaleData:d,localeDefaults:y,extra:_}}_computeCurrentViewData(t,n,a,l){let d=n.viewSpecs[t];if(!d)throw new Error(`viewType "${t}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:p,extra:y}=this.processRawViewOptions(d,n.pluginHooks,n.localeDefaults,a,l);WC(y),this.nowManager.handleInput(n.dateEnv,p.now);let S=this.buildDateProfileGenerator({dateProfileGeneratorClass:d.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:d.duration,durationUnit:d.durationUnit,usesMinMaxTime:d.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:p.slotMinTime,slotMaxTime:p.slotMaxTime,showNonCurrentDates:p.showNonCurrentDates,dayCount:p.dayCount,dateAlignment:p.dateAlignment,dateIncrement:p.dateIncrement,hiddenDays:p.hiddenDays,weekends:p.weekends,validRangeInput:p.validRange,visibleRangeInput:p.visibleRange,fixedWeekCount:p.fixedWeekCount}),T=this.buildViewApi(t,this.getCurrentData,n.dateEnv);return{viewSpec:d,options:p,dateProfileGenerator:S,viewApi:T}}processRawViewOptions(t,n,a,l,d){let p=tw([jg,t.optionDefaults,a,l,t.optionOverrides,d]),y=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},EC),AC),CC),mz),n.listenerRefiners),n.optionRefiners),S={},T=this.currentViewOptionsInput,_=this.currentViewOptionsRefined,O=!1,L={};for(let P in p)p[P]===T[P]||Gu[P]&&Gu[P](p[P],T[P])?S[P]=_[P]:(p[P]===this.currentCalendarOptionsInput[P]||Gu[P]&&Gu[P](p[P],this.currentCalendarOptionsInput[P])?P in this.currentCalendarOptionsRefined&&(S[P]=this.currentCalendarOptionsRefined[P]):y[P]?S[P]=y[P](p[P]):L[P]=p[P],O=!0);return O&&(this.currentViewOptionsInput=p,this.currentViewOptionsRefined=S),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:L}}}function GH(e,t,n,a,l,d,p,y){let S=IM(t||p.defaultCode,p.map);return new Tz({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:d.namedTimeZonedImpl,locale:S,weekNumberCalculation:n,firstDay:a,weekText:l,cmdFormatter:d.cmdFormatter,defaultSeparator:y})}function VH(e,t){let n=t.themeClasses[e.themeSystem]||Ec;return new n(e)}function WH(e){let t=e.dateProfileGeneratorClass||nM;return new t(e)}function YH(e,t,n){return new SH(e,t,n)}function $H(e){return sd(e,t=>t.ui)}function qH(e,t,n){let a={"":t};for(let l in e){let d=e[l];d.sourceId&&n[d.sourceId]&&(a[l]=n[d.sourceId])}return a}function XH(e){let{options:t}=e;return{eventUiSingleBase:Db({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:typeof t.eventOverlap=="boolean"?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:Db({constraint:t.selectConstraint,overlap:typeof t.selectOverlap=="boolean"?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function cw(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function ZH(e){return lB(e.options.businessHours,e)}function WC(e,t){for(let n in e)console.warn(`Unknown option '${n}'`)}class QH extends oi{render(){let t=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return ke("div",{className:"fc-toolbar-chunk"},...t)}renderWidgetGroup(t){let{props:n}=this,{theme:a}=this.context,l=[],d=!0;for(let p of t){let{buttonName:y,buttonClick:S,buttonText:T,buttonIcon:_,buttonHint:O}=p;if(y==="title")d=!1,l.push(ke("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let L=y===n.activeButton,P=!n.isTodayEnabled&&y==="today"||!n.isPrevEnabled&&y==="prev"||!n.isNextEnabled&&y==="next",H=[`fc-${y}-button`,a.getClass("button")];L&&H.push(a.getClass("buttonActive")),l.push(ke("button",{type:"button",title:typeof O=="function"?O(n.navUnit):O,disabled:P,"aria-pressed":L,className:H.join(" "),onClick:S},T||(_?ke("span",{className:_,role:"img"}):"")))}}if(l.length>1){let p=d&&a.getClass("buttonGroup")||"";return ke("div",{className:p},...l)}return l[0]}}class YC extends oi{render(){let{model:t,extraClassName:n}=this.props,a=!1,l,d,p=t.sectionWidgets,y=p.center;return p.left?(a=!0,l=p.left):l=p.start,p.right?(a=!0,d=p.right):d=p.end,ke("div",{className:[n||"","fc-toolbar",a?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",l||[]),this.renderSection("center",y||[]),this.renderSection("end",d||[]))}renderSection(t,n){let{props:a}=this;return ke(QH,{key:t,widgetGroups:n,title:a.title,navUnit:a.navUnit,activeButton:a.activeButton,isTodayEnabled:a.isTodayEnabled,isPrevEnabled:a.isPrevEnabled,isNextEnabled:a.isNextEnabled,titleId:a.titleId})}}class KH extends oi{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=t=>{this.el=t,lo(this.props.elRef,t),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:t,state:n}=this,{aspectRatio:a}=t,l=["fc-view-harness",a||t.liquid||t.height?"fc-view-harness-active":"fc-view-harness-passive"],d="",p="";return a?n.availableWidth!==null?d=n.availableWidth/a:p=`${1/a*100}%`:d=t.height||"",ke("div",{"aria-labelledby":t.labeledById,ref:this.handleEl,className:l.join(" "),style:{height:d,paddingBottom:p}},t.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class JH extends pf{constructor(t){super(t),this.handleSegClick=(n,a)=>{let{component:l}=this,{context:d}=l,p=lf(a);if(p&&l.isValidSegDownEl(n.target)){let y=hr(n.target,".fc-event-forced-url"),S=y?y.querySelector("a[href]").href:"";d.emitter.trigger("eventClick",{el:a,event:new ei(l.context,p.eventRange.def,p.eventRange.instance),jsEvent:n,view:d.viewApi}),S&&!n.defaultPrevented&&(window.location.href=S)}},this.destroy=VT(t.el,"click",".fc-event",this.handleSegClick)}}class e3 extends pf{constructor(t){super(t),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,a)=>{lf(a)&&(this.currentSegEl=a,this.triggerEvent("eventMouseEnter",n,a))},this.handleSegLeave=(n,a)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,a))},this.removeHoverListeners=Ej(t.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(t,n,a){let{component:l}=this,{context:d}=l,p=lf(a);(!n||l.isValidSegDownEl(n.target))&&d.emitter.trigger(t,{el:a,event:new ei(d,p.eventRange.def,p.eventRange.instance),jsEvent:n,view:d.viewApi})}}class t3 extends ld{constructor(){super(...arguments),this.buildViewContext=pn(Rz),this.buildViewPropTransformers=pn(i3),this.buildToolbarProps=pn(n3),this.headerRef=tl(),this.footerRef=tl(),this.interactionsStore={},this.state={viewLabelId:Zb()},this.registerInteractiveComponent=(t,n)=>{let a=kB(t,n),p=[JH,e3].concat(this.props.pluginHooks.componentInteractions).map(y=>new y(a));this.interactionsStore[t.uid]=p,Kw[t.uid]=a},this.unregisterInteractiveComponent=t=>{let n=this.interactionsStore[t.uid];if(n){for(let a of n)a.destroy();delete this.interactionsStore[t.uid]}delete Kw[t.uid]},this.resizeRunner=new FS(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=t=>{let{options:n}=this.props;n.handleWindowResize&&t.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:t}=this,{toolbarConfig:n,options:a}=t,l=!1,d="",p;t.isHeightAuto||t.forPrint?d="":a.height!=null?l=!0:a.contentHeight!=null?d=a.contentHeight:p=Math.max(a.aspectRatio,.5);let y=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),S=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return ke(od.Provider,{value:y},ke(t0,{unit:"day"},T=>{let _=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,T,t.viewTitle);return ke(gi,null,n.header&&ke(YC,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:S},_)),ke(KH,{liquid:l,height:d,aspectRatio:p,labeledById:S},this.renderView(t),this.buildAppendContent()),n.footer&&ke(YC,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},_)))}))}componentDidMount(){let{props:t}=this;this.calendarInteractions=t.pluginHooks.calendarInteractions.map(a=>new a(t)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=t.pluginHooks;for(let a in n)n[a](t[a],t)}componentDidUpdate(t){let{props:n}=this,{propSetHandlers:a}=n.pluginHooks;for(let l in a)n[l]!==t[l]&&a[l](n[l],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let t of this.calendarInteractions)t.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:t}=this,n=t.pluginHooks.viewContainerAppends.map(a=>a(t));return ke(gi,{},...n)}renderView(t){let{pluginHooks:n}=t,{viewSpec:a}=t,l={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},d=this.buildViewPropTransformers(n.viewPropsTransformers);for(let y of d)Object.assign(l,y.transform(l,t));let p=a.component;return ke(p,Object.assign({},l))}}function n3(e,t,n,a,l,d){let p=n.build(l,void 0,!1),y=n.buildPrev(t,a,!1),S=n.buildNext(t,a,!1);return{title:d,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:p.isValid&&!gc(t.currentRange,l),isPrevEnabled:y.isValid,isNextEnabled:S.isValid}}function i3(e){return e.map(t=>new t)}class r3 extends NB{constructor(t,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=a=>{switch(a.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=a=>{this.currentData=a,this.renderRunner.request(a.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:a}=this;Ab(()=>{Xg(ke(RB,{options:a.calendarOptions,theme:a.theme,emitter:a.emitter},(l,d,p,y)=>(this.setClassNames(l),this.setHeight(d),ke(KT.Provider,{value:this.customContentRenderId},ke(t3,Object.assign({isHeightAuto:p,forPrint:y},a))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Xg(null,this.el),this.setClassNames([]),this.setHeight(""))},pj(t),this.el=t,this.renderRunner=new FS(this.handleRenderRequest),new UH({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Ab(()=>{super.updateSize()})}batchRendering(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(t,n){this.currentDataManager.resetOptions(t,n)}setClassNames(t){if(!yc(t,this.currentClassNames)){let{classList:n}=this.el;for(let a of this.currentClassNames)n.remove(a);for(let a of t)n.add(a);this.currentClassNames=t}}setHeight(t){UT(this.el,"height",t)}}const a3=parseInt(String(Ge.version).split(".")[0]),s3=a3<18;class UM extends G.Component{constructor(){super(...arguments),this.elRef=G.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const t=[];for(const n of this.state.customRenderingMap.values())t.push(Ge.createElement(o3,{key:n.id,customRendering:n}));return Ge.createElement("div",{ref:this.elRef},t)}componentDidMount(){this.isUnmounting=!1;const t=new UF;this.handleCustomRendering=t.handle.bind(t),this.calendar=new r3(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{ro.flushSync(()=>{})});let n;t.subscribe(a=>{const l=Date.now(),d=!n;(s3||d||this.isUpdating||this.isUnmounting||l-n<100?GM:ro.flushSync)(()=>{this.setState({customRenderingMap:a},()=>{n=l,d?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}UM.act=GM;class o3 extends G.PureComponent{render(){const{customRendering:t}=this.props,{generatorMeta:n}=t,a=typeof n=="function"?n(t.renderProps):n;return ro.createPortal(a,t.containerEl)}}function GM(e){e()}class l3 extends cd{constructor(){super(...arguments),this.headerElRef=tl()}renderSimpleLayout(t,n){let{props:a,context:l}=this,d=[],p=jC(l.options);return t&&d.push({type:"header",key:"header",isSticky:p,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),d.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),ke(DC,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},ke(_M,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[],sections:d}))}renderHScrollLayout(t,n,a,l){let d=this.context.pluginHooks.scrollGridImpl;if(!d)throw new Error("No ScrollGrid implementation");let{props:p,context:y}=this,S=!p.forPrint&&jC(y.options),T=!p.forPrint&&EF(y.options),_=[];return t&&_.push({type:"header",key:"header",isSticky:S,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),_.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),T&&_.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:SF}]}),ke(DC,{elClasses:["fc-daygrid"],viewSpec:y.viewSpec},ke(d,{liquid:!p.isHeightAuto&&!p.forPrint,forPrint:p.forPrint,collapsibleWidth:p.forPrint,colGroups:[{cols:[{span:a,minWidth:l}]}],sections:_}))}}function ib(e,t){let n=[];for(let a=0;a<t;a+=1)n[a]=[];for(let a of e)n[a.row].push(a);return n}function Hv(e,t){let n=[];for(let a=0;a<t;a+=1)n[a]=[];for(let a of e)n[a.firstCol].push(a);return n}function $C(e,t){let n=[];if(e){for(let a=0;a<t;a+=1)n[a]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let a of e.segs)n[a.row].segs.push(a)}else for(let a=0;a<t;a+=1)n[a]=null;return n}const VM=Vi({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function WM(e){let{display:t}=e.eventRange.ui;return t==="list-item"||t==="auto"&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class YM extends oi{render(){let{props:t}=this;return ke(RM,Object.assign({},t,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:VM,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))}}class $M extends oi{render(){let{props:t,context:n}=this,{options:a}=n,{seg:l}=t,d=a.eventTimeFormat||VM,p=fM(l,d,n,!0,t.defaultDisplayEventEnd);return ke(lE,Object.assign({},t,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:pM(t.seg,n),defaultGenerator:c3,timeText:p,isResizing:!1,isDateSelecting:!1}))}}function c3(e){return ke(gi,null,ke("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&ke("div",{className:"fc-event-time"},e.timeText),ke("div",{className:"fc-event-title"},e.event.title||ke(gi,null,"")))}class u3 extends oi{constructor(){super(...arguments),this.compileSegs=pn(d3)}render(){let{props:t}=this,{allSegs:n,invisibleSegs:a}=this.compileSegs(t.singlePlacements);return ke(IF,{elClasses:["fc-daygrid-more-link"],dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:n,hiddenSegs:a,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:()=>{let l=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return ke(gi,null,n.map(d=>{let p=d.eventRange.instance.instanceId;return ke("div",{className:"fc-daygrid-event-harness",key:p,style:{visibility:l[p]?"hidden":""}},WM(d)?ke($M,Object.assign({seg:d,isDragging:!1,isSelected:p===t.eventSelection,defaultDisplayEventEnd:!1},zg(d,t.todayRange))):ke(YM,Object.assign({seg:d,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:p===t.eventSelection,defaultDisplayEventEnd:!1},zg(d,t.todayRange))))}))}})}}function d3(e){let t=[],n=[];for(let a of e)t.push(a.seg),a.isVisible||n.push(a.seg);return{allSegs:t,invisibleSegs:n}}const h3=Vi({week:"narrow"});class f3 extends cd{constructor(){super(...arguments),this.rootElRef=tl(),this.state={dayNumberId:Zb()},this.handleRootEl=t=>{lo(this.rootElRef,t),lo(this.props.elRef,t)}}render(){let{context:t,props:n,state:a,rootElRef:l}=this,{options:d,dateEnv:p}=t,{date:y,dateProfile:S}=n;const T=n.showDayNumber&&g3(y,S.currentRange,p);return ke(kM,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":a.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:p3,date:y,dateProfile:S,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:T,extraRenderProps:n.extraRenderProps},(_,O)=>ke("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&ke(kF,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Jw(t,y,"week"),date:y,defaultFormat:h3}),!O.isDisabled&&(n.showDayNumber||OM(d)||n.forceDayTop)?ke("div",{className:"fc-daygrid-day-top"},ke(_,{elTag:"a",elClasses:["fc-daygrid-day-number",T&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Jw(t,y)),{id:a.dayNumberId})})):n.showDayNumber?ke("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ke("a",{className:"fc-daygrid-day-number"},"")):void 0,ke("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,ke("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},ke(u3,{allDayDate:y,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:l,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),ke("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function p3(e){return e.dayNumberText||ke(gi,null,"")}function g3(e,t,n){const{start:a,end:l}=t,d=vc(l,-1),p=n.getYear(a),y=n.getMonth(a),S=n.getYear(d),T=n.getMonth(d);return!(p===S&&y===T)&&(e.valueOf()===a.valueOf()||n.getDay(e)===1&&e.valueOf()<l.valueOf())}function qM(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function XM(e){return qM(e)+":"+e.lastCol}function m3(e,t,n,a,l,d,p){let y=new b3(W=>{let Y=e[W.index].eventRange.instance.instanceId+":"+W.span.start+":"+(W.span.end-1);return l[Y]||1});y.allowReslicing=!0,y.strictOrder=a,t===!0||n===!0?(y.maxCoord=d,y.hiddenConsumes=!0):typeof t=="number"?y.maxStackCnt=t:typeof n=="number"&&(y.maxStackCnt=n,y.hiddenConsumes=!0);let S=[],T=[];for(let W=0;W<e.length;W+=1){let Y=e[W],$=XM(Y);l[$]!=null?S.push({index:W,span:{start:Y.firstCol,end:Y.lastCol+1}}):T.push(Y)}let _=y.addSegs(S),O=y.toRects(),{singleColPlacements:L,multiColPlacements:P,leftoverMargins:H}=y3(O,e,p),B=[],F=[];for(let W of T){P[W.firstCol].push({seg:W,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let Y=W.firstCol;Y<=W.lastCol;Y+=1)L[Y].push({seg:ef(W,Y,Y+1,p),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let W=0;W<p.length;W+=1)B.push(0);for(let W of _){let Y=e[W.index],$=W.span;P[$.start].push({seg:ef(Y,$.start,$.end,p),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let K=$.start;K<$.end;K+=1)B[K]+=1,L[K].push({seg:ef(Y,K,K+1,p),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let W=0;W<p.length;W+=1)F.push(H[W]);return{singleColPlacements:L,multiColPlacements:P,moreCnts:B,moreMarginTops:F}}function y3(e,t,n){let a=v3(e,n.length),l=[],d=[],p=[];for(let y=0;y<n.length;y+=1){let S=a[y],T=[],_=0,O=0;for(let P of S){let H=t[P.index];T.push({seg:ef(H,y,y+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:P.levelCoord,marginTop:P.levelCoord-_}),_=P.levelCoord+P.thickness}let L=[];_=0,O=0;for(let P of S){let H=t[P.index],B=P.span.end-P.span.start>1,F=P.span.start===y;O+=P.levelCoord-_,_=P.levelCoord+P.thickness,B?(O+=P.thickness,F&&L.push({seg:ef(H,P.span.start,P.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:P.levelCoord,marginTop:0})):F&&(L.push({seg:ef(H,P.span.start,P.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:P.levelCoord,marginTop:O}),O=0)}l.push(T),d.push(L),p.push(O)}return{singleColPlacements:l,multiColPlacements:d,leftoverMargins:p}}function v3(e,t){let n=[];for(let a=0;a<t;a+=1)n.push([]);for(let a of e)for(let l=a.span.start;l<a.span.end;l+=1)n[l].push(a);return n}function ef(e,t,n,a){if(e.firstCol===t&&e.lastCol===n-1)return e;let l=e.eventRange,d=l.range,p=of(d,{start:a[t].date,end:Wi(a[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:l.def,ui:Object.assign(Object.assign({},l.ui),{durationEditable:!1}),instance:l.instance,range:p},isStart:e.isStart&&p.start.valueOf()===d.start.valueOf(),isEnd:e.isEnd&&p.end.valueOf()===d.end.valueOf()})}class b3 extends XB{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(t){const n=super.addSegs(t),{entriesByLevel:a}=this,l=d=>!this.forceHidden[Bg(d)];for(let d=0;d<a.length;d+=1)a[d]=a[d].filter(l);return n}handleInvalidInsertion(t,n,a){const{entriesByLevel:l,forceHidden:d}=this,{touchingEntry:p,touchingLevel:y,touchingLateral:S}=t;if(this.hiddenConsumes&&p){const T=Bg(p);if(!d[T])if(this.allowReslicing){const _=Object.assign(Object.assign({},p),{span:SM(p.span,n.span)}),O=Bg(_);d[O]=!0,l[y][S]=_,a.push(_),this.splitEntry(p,n,a)}else d[T]=!0,a.push(p)}super.handleInvalidInsertion(t,n,a)}}class ZM extends cd{constructor(){super(...arguments),this.cellElRefs=new $u,this.frameElRefs=new $u,this.fgElRefs=new $u,this.segHarnessRefs=new $u,this.rootElRef=tl(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=t=>{t&&this.updateSizing(!0)}}render(){let{props:t,state:n,context:a}=this,{options:l}=a,d=t.cells.length,p=Hv(t.businessHourSegs,d),y=Hv(t.bgEventSegs,d),S=Hv(this.getHighlightSegs(),d),T=Hv(this.getMirrorSegs(),d),{singleColPlacements:_,multiColPlacements:O,moreCnts:L,moreMarginTops:P}=m3(fB(t.fgEventSegs,l.eventOrder),t.dayMaxEvents,t.dayMaxEventRows,l.eventOrderStrict,n.segHeights,n.maxContentHeight,t.cells),H=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return ke("tr",{ref:this.rootElRef,role:"row"},t.renderIntro&&t.renderIntro(),t.cells.map((B,F)=>{let W=this.renderFgSegs(F,t.forPrint?_[F]:O[F],t.todayRange,H),Y=this.renderFgSegs(F,x3(T[F],O),t.todayRange,{},!!t.eventDrag,!!t.eventResize,!1);return ke(f3,{key:B.key,elRef:this.cellElRefs.createRef(B.key),innerElRef:this.frameElRefs.createRef(B.key),dateProfile:t.dateProfile,date:B.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&F===0,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,extraRenderProps:B.extraRenderProps,extraDataAttrs:B.extraDataAttrs,extraClassNames:B.extraClassNames,extraDateSpan:B.extraDateSpan,moreCnt:L[F],moreMarginTop:P[F],singlePlacements:_[F],fgContentElRef:this.fgElRefs.createRef(B.key),fgContent:ke(gi,null,ke(gi,null,W),ke(gi,null,Y)),bgContent:ke(gi,null,this.renderFillSegs(S[F],"highlight"),this.renderFillSegs(p[F],"non-business"),this.renderFillSegs(y[F],"bg-event")),minHeight:t.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(t,n){let a=this.props;this.updateSizing(!bs(t,a))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:t}=this;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs}getMirrorSegs(){let{props:t}=this;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]}renderFgSegs(t,n,a,l,d,p,y){let{context:S}=this,{eventSelection:T}=this.props,{framePositions:_}=this.state,O=this.props.cells.length===1,L=d||p||y,P=[];if(_)for(let H of n){let{seg:B}=H,{instanceId:F}=B.eventRange.instance,W=H.isVisible&&!l[F],Y=H.isAbsolute,$="",K="";Y&&(S.isRtl?(K=0,$=_.lefts[B.lastCol]-_.lefts[B.firstCol]):($=0,K=_.rights[B.firstCol]-_.rights[B.lastCol])),P.push(ke("div",{className:"fc-daygrid-event-harness"+(Y?" fc-daygrid-event-harness-abs":""),key:qM(B),ref:L?null:this.segHarnessRefs.createRef(XM(B)),style:{visibility:W?"":"hidden",marginTop:Y?"":H.marginTop,top:Y?H.absoluteTop:"",left:$,right:K}},WM(B)?ke($M,Object.assign({seg:B,isDragging:d,isSelected:F===T,defaultDisplayEventEnd:O},zg(B,a))):ke(YM,Object.assign({seg:B,isDragging:d,isResizing:p,isDateSelecting:y,isSelected:F===T,defaultDisplayEventEnd:O},zg(B,a)))))}return P}renderFillSegs(t,n){let{isRtl:a}=this.context,{todayRange:l}=this.props,{framePositions:d}=this.state,p=[];if(d)for(let y of t){let S=a?{right:0,left:d.lefts[y.lastCol]-d.lefts[y.firstCol]}:{left:0,right:d.rights[y.firstCol]-d.rights[y.lastCol]};p.push(ke("div",{key:bB(y.eventRange),className:"fc-daygrid-bg-harness",style:S},n==="bg-event"?ke(MF,Object.assign({seg:y},zg(y,l))):RF(n)))}return ke(gi,{},...p)}updateSizing(t){let{props:n,state:a,frameElRefs:l}=this;if(!n.forPrint&&n.clientWidth!==null){if(t){let S=n.cells.map(T=>l.currentMap[T.key]);if(S.length){let T=this.rootElRef.current,_=new Mb(T,S,!0,!1);(!a.framePositions||!a.framePositions.similarTo(_))&&this.setState({framePositions:new Mb(T,S,!0,!1)})}}const d=this.state.segHeights,p=this.querySegHeights(),y=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},d),p),maxContentHeight:y?this.computeMaxContentHeight():null})}}querySegHeights(){let t=this.segHarnessRefs.currentMap,n={};for(let a in t){let l=Math.round(t[a].getBoundingClientRect().height);n[a]=Math.max(n[a]||0,l)}return n}computeMaxContentHeight(){let t=this.props.cells[0].key,n=this.cellElRefs.currentMap[t],a=this.fgElRefs.currentMap[t];return n.getBoundingClientRect().bottom-a.getBoundingClientRect().top}getCellEls(){let t=this.cellElRefs.currentMap;return this.props.cells.map(n=>t[n.key])}}ZM.addStateEquality({segHeights:bs});function x3(e,t){if(!e.length)return[];let n=w3(t);return e.map(a=>({seg:a,isVisible:!0,isAbsolute:!0,absoluteTop:n[a.eventRange.instance.instanceId],marginTop:0}))}function w3(e){let t={};for(let n of e)for(let a of n)t[a.seg.eventRange.instance.instanceId]=a.absoluteTop;return t}class S3 extends cd{constructor(){super(...arguments),this.splitBusinessHourSegs=pn(ib),this.splitBgEventSegs=pn(E3),this.splitFgEventSegs=pn(ib),this.splitDateSelectionSegs=pn(ib),this.splitEventDrag=pn($C),this.splitEventResize=pn($C),this.rowRefs=new $u}render(){let{props:t,context:n}=this,a=t.cells.length,l=this.splitBusinessHourSegs(t.businessHourSegs,a),d=this.splitBgEventSegs(t.bgEventSegs,a),p=this.splitFgEventSegs(t.fgEventSegs,a),y=this.splitDateSelectionSegs(t.dateSelectionSegs,a),S=this.splitEventDrag(t.eventDrag,a),T=this.splitEventResize(t.eventResize,a),_=a>=7&&t.clientWidth?t.clientWidth/n.options.aspectRatio/6:null;return ke(t0,{unit:"day"},(O,L)=>ke(gi,null,t.cells.map((P,H)=>ke(ZM,{ref:this.rowRefs.createRef(H),key:P.length?P[0].date.toISOString():H,showDayNumbers:a>1,showWeekNumbers:t.showWeekNumbers,todayRange:L,dateProfile:t.dateProfile,cells:P,renderIntro:t.renderRowIntro,businessHourSegs:l[H],eventSelection:t.eventSelection,bgEventSegs:d[H],fgEventSegs:p[H],dateSelectionSegs:y[H],eventDrag:S[H],eventResize:T[H],dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,clientWidth:t.clientWidth,clientHeight:t.clientHeight,cellMinHeight:_,forPrint:t.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const t=this.rowRefs.currentMap[0].getCellEls()[0],n=t?t.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Mb(this.rootEl,this.rowRefs.collect().map(t=>t.getCellEls()[0]),!1,!0),this.colPositions=new Mb(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(t,n){let{colPositions:a,rowPositions:l}=this,d=a.leftToIndex(t),p=l.topToIndex(n);if(p!=null&&d!=null){let y=this.props.cells[p][d];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(p,d),allDay:!0},y.extraDateSpan),dayEl:this.getCellEl(p,d),rect:{left:a.lefts[d],right:a.rights[d],top:l.tops[p],bottom:l.bottoms[p]},layer:0}}return null}getCellEl(t,n){return this.rowRefs.currentMap[t].getCellEls()[n]}getCellRange(t,n){let a=this.props.cells[t][n].date,l=Wi(a,1);return{start:a,end:l}}}function E3(e,t){return ib(e.filter(A3),t)}function A3(e){return e.eventRange.def.allDay}class C3 extends cd{constructor(){super(...arguments),this.elRef=tl(),this.needsScrollReset=!1}render(){let{props:t}=this,{dayMaxEventRows:n,dayMaxEvents:a,expandRows:l}=t,d=a===!0||n===!0;d&&!l&&(d=!1,n=null,a=null);let p=["fc-daygrid-body",d?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",l?"":"fc-daygrid-body-natural"];return ke("div",{ref:this.elRef,className:p.join(" "),style:{width:t.clientWidth,minWidth:t.tableMinWidth}},ke("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:l?t.clientHeight:""}},t.colGroupNode,ke("tbody",{role:"presentation"},ke(S3,{dateProfile:t.dateProfile,cells:t.cells,renderRowIntro:t.renderRowIntro,showWeekNumbers:t.showWeekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,dayMaxEvents:a,dayMaxEventRows:n,forPrint:t.forPrint,isHitComboAllowed:t.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(t){t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const t=D3(this.elRef.current,this.props.dateProfile);if(t){const n=t.closest(".fc-daygrid-body"),a=n.closest(".fc-scroller"),l=t.getBoundingClientRect().top-n.getBoundingClientRect().top;a.scrollTop=l?l+1:0}this.needsScrollReset=!1}}}function D3(e,t){let n;return t.currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${ez(t.currentDate)}-01"]`)),n||(n=e.querySelector(`[data-date="${VS(t.currentDate)}"]`)),n}class T3 extends aF{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(t,n){return n.sliceRange(t)}}class M3 extends cd{constructor(){super(...arguments),this.slicer=new T3,this.tableRef=tl()}render(){let{props:t,context:n}=this;return ke(C3,Object.assign({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,n,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))}}class _3 extends l3{constructor(){super(...arguments),this.buildDayTableModel=pn(R3),this.headerRef=tl(),this.tableRef=tl()}render(){let{options:t,dateProfileGenerator:n}=this.context,{props:a}=this,l=this.buildDayTableModel(a.dateProfile,n),d=t.dayHeaders&&ke(tF,{ref:this.headerRef,dateProfile:a.dateProfile,dates:l.headerDates,datesRepDistinctDays:l.rowCnt===1}),p=y=>ke(M3,{ref:this.tableRef,dateProfile:a.dateProfile,dayTableModel:l,businessHours:a.businessHours,dateSelection:a.dateSelection,eventStore:a.eventStore,eventUiBases:a.eventUiBases,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,nextDayThreshold:t.nextDayThreshold,colGroupNode:y.tableColGroupNode,tableMinWidth:y.tableMinWidth,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.weekNumbers,expandRows:!a.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:y.clientWidth,clientHeight:y.clientHeight,forPrint:a.forPrint});return t.dayMinWidth?this.renderHScrollLayout(d,p,l.colCnt,t.dayMinWidth):this.renderSimpleLayout(d,p)}}function R3(e,t){let n=new iF(e.renderRange,t);return new rF(n,/year|month|week/.test(e.currentRangeUnit))}class k3 extends nM{buildRenderRange(t,n,a){let l=super.buildRenderRange(t,n,a),{props:d}=this;return O3({currentRange:l,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:d.fixedWeekCount,dateEnv:d.dateEnv})}}function O3(e){let{dateEnv:t,currentRange:n}=e,{start:a,end:l}=n,d;if(e.snapToWeek&&(a=t.startOfWeek(a),d=t.startOfWeek(l),d.valueOf()!==l.valueOf()&&(l=vC(d,1))),e.fixedWeekCount){let p=t.startOfWeek(t.startOfMonth(Wi(n.end,-1))),y=Math.ceil(Uj(p,l));l=vC(l,6-y)}return{start:a,end:l}}var N3=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';BT(N3);var L3=Sc({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:_3,dateProfileGeneratorClass:k3},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});oE.touchMouseIgnoreWait=500;let tS=0,_b=0,nS=!1;class QM{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&I3(n)&&this.tryStart(n)){let a=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",a),this.initScrollWatch(a),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let a=this.createEventFromMouse(n);this.recordCoords(a),this.emitter.trigger("pointermove",a)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let a=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",a),this.initScrollWatch(a);let l=n.target;this.shouldIgnoreMove||l.addEventListener("touchmove",this.handleTouchMove),l.addEventListener("touchend",this.handleTouchEnd),l.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let a=this.createEventFromTouch(n);this.recordCoords(a),this.emitter.trigger("pointermove",a)},this.handleTouchEnd=n=>{if(this.isDragging){let a=n.target;a.removeEventListener("touchmove",this.handleTouchMove),a.removeEventListener("touchend",this.handleTouchEnd),a.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,P3()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let a=window.scrollX-this.prevScrollX+this.prevPageX,l=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:a,pageY:l,deltaX:a-this.origPageX,deltaY:l-this.origPageY})}},this.containerEl=t,this.emitter=new e0,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),j3()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),z3()}tryStart(t){let n=this.querySubjectEl(t),a=t.target;return n&&(!this.handleSelector||hr(a,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){nS=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?hr(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return tS||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(nS=!0)}initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(t,n){let a=0,l=0;return n?(this.origPageX=t.pageX,this.origPageY=t.pageY):(a=t.pageX-this.origPageX,l=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:a,deltaY:l}}createEventFromTouch(t,n){let a=t.touches,l,d,p=0,y=0;return a&&a.length?(l=a[0].pageX,d=a[0].pageY):(l=t.pageX,d=t.pageY),n?(this.origPageX=l,this.origPageY=d):(p=l-this.origPageX,y=d-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:l,pageY:d,deltaX:p,deltaY:y}}}function I3(e){return e.button===0&&!e.ctrlKey}function P3(){tS+=1,setTimeout(()=>{tS-=1},oE.touchMouseIgnoreWait)}function j3(){_b+=1,_b===1&&window.addEventListener("touchmove",KM,{passive:!1})}function z3(){_b-=1,_b||window.removeEventListener("touchmove",KM,{passive:!1})}function KM(e){nS&&e.preventDefault()}class B3{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,n,a){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=a-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,n){this.deltaX=t-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}stop(t,n){let a=()=>{this.cleanup(),n()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(a,this.revertDuration):setTimeout(a,0)}doRevertAnimation(t,n){let a=this.mirrorEl,l=this.sourceEl.getBoundingClientRect();a.style.transition="top "+n+"ms,left "+n+"ms",Ig(a,{left:l.left,top:l.top}),Aj(a,()=>{a.style.transition="",t()})}cleanup(){this.mirrorEl&&(HS(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Ig(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Ig(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class JM extends sE{constructor(t,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=n,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class e_ extends JM{constructor(t,n){super(new $B(t),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return WB(this.scrollController.el)}}class F3 extends JM{constructor(t){super(new qB,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const qC=typeof performance=="function"?performance.now:Date.now;class H3{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(t){let n=qC();this.handleSide(t,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(t,n,a){this.isEnabled&&(this.scrollCaches=this.buildCaches(a),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,n))}handleMove(t,n){if(this.isEnabled){let a=t-window.scrollX,l=n-window.scrollY,d=this.pointerScreenY===null?0:l-this.pointerScreenY,p=this.pointerScreenX===null?0:a-this.pointerScreenX;d<0?this.everMovedUp=!0:d>0&&(this.everMovedDown=!0),p<0?this.everMovedLeft=!0:p>0&&(this.everMovedRight=!0),this.pointerScreenX=a,this.pointerScreenY=l,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(qC()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,n){let{scrollCache:a}=t,{edgeThreshold:l}=this,d=l-t.distance,p=d*d/(l*l)*this.maxVelocity*n,y=1;switch(t.name){case"left":y=-1;case"right":a.setScrollLeft(a.getScrollLeft()+p*y);break;case"top":y=-1;case"bottom":a.setScrollTop(a.getScrollTop()+p*y);break}}computeBestEdge(t,n){let{edgeThreshold:a}=this,l=null,d=this.scrollCaches||[];for(let p of d){let y=p.clientRect,S=t-y.left,T=y.right-t,_=n-y.top,O=y.bottom-n;S>=0&&T>=0&&_>=0&&O>=0&&(_<=a&&this.everMovedUp&&p.canScrollUp()&&(!l||l.distance>_)&&(l={scrollCache:p,name:"top",distance:_}),O<=a&&this.everMovedDown&&p.canScrollDown()&&(!l||l.distance>O)&&(l={scrollCache:p,name:"bottom",distance:O}),S<=a&&this.everMovedLeft&&p.canScrollLeft()&&(!l||l.distance>S)&&(l={scrollCache:p,name:"left",distance:S}),T<=a&&this.everMovedRight&&p.canScrollRight()&&(!l||l.distance>T)&&(l={scrollCache:p,name:"right",distance:T}))}return l}buildCaches(t){return this.queryScrollEls(t).map(n=>n===window?new F3(!1):new e_(n,!1))}queryScrollEls(t){let n=[];for(let a of this.scrollQuery)typeof a=="object"?n.push(a):n.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(a)));return n}}class lm extends ZB{constructor(t,n){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=l=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,Cj(document.body),Tj(document.body),l.isTouch||l.origEvent.preventDefault(),this.emitter.trigger("pointerdown",l),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(l.subjectEl,l.pageX,l.pageY),this.startDelay(l),this.minDistance||this.handleDistanceSurpassed(l)))},this.onPointerMove=l=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",l),!this.isDistanceSurpassed){let d=this.minDistance,p,{deltaX:y,deltaY:S}=l;p=y*y+S*S,p>=d*d&&this.handleDistanceSurpassed(l)}this.isDragging&&(l.origEvent.type!=="scroll"&&(this.mirror.handleMove(l.pageX,l.pageY),this.autoScroller.handleMove(l.pageX,l.pageY)),this.emitter.trigger("dragmove",l))}},this.onPointerUp=l=>{this.isInteracting&&(this.isInteracting=!1,Dj(document.body),Mj(document.body),this.emitter.trigger("pointerup",l),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(l)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let a=this.pointer=new QM(t);a.emitter.on("pointerdown",this.onPointerDown),a.emitter.on("pointermove",this.onPointerMove),a.emitter.on("pointerup",this.onPointerUp),n&&(a.selector=n),this.mirror=new B3,this.autoScroller=new H3}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}}class U3{constructor(t){this.el=t,this.origRect=aE(t),this.scrollCaches=wM(t).map(n=>new e_(n,!0))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let n of this.scrollCaches)t+=n.origScrollLeft-n.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let n of this.scrollCaches)t+=n.origScrollTop-n.getScrollTop();return t}isWithinClipping(t,n){let a={left:t,top:n};for(let l of this.scrollCaches)if(!G3(l.getEventTarget())&&!LB(a,l.clientRect))return!1;return!0}}function G3(e){let t=e.tagName;return t==="HTML"||t==="BODY"}class n0{constructor(t,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=a=>{let{dragging:l}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(a),this.initialHit||!this.requireInitial?(l.setIgnoreMove(!1),this.emitter.trigger("pointerdown",a)):l.setIgnoreMove(!0)},this.handleDragStart=a=>{this.emitter.trigger("dragstart",a),this.handleMove(a,!0)},this.handleDragMove=a=>{this.emitter.trigger("dragmove",a),this.handleMove(a)},this.handlePointerUp=a=>{this.releaseHits(),this.emitter.trigger("pointerup",a)},this.handleDragEnd=a=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,a),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",a)},this.droppableStore=n,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new e0}processFirstCoord(t){let n={left:t.pageX,top:t.pageY},a=n,l=t.subjectEl,d;l instanceof HTMLElement&&(d=aE(l),a=IB(a,d));let p=this.initialHit=this.queryHitForOffset(a.left,a.top);if(p){if(this.useSubjectCenter&&d){let y=vM(d,p.rect);y&&(a=PB(y))}this.coordAdjust=jB(a,n)}else this.coordAdjust={left:0,top:0}}handleMove(t,n){let a=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(n||!i0(this.movingHit,a))&&(this.movingHit=a,this.emitter.trigger("hitupdate",a,!1,t))}prepareHits(){this.offsetTrackers=sd(this.droppableStore,t=>(t.component.prepareHits(),new U3(t.el)))}releaseHits(){let{offsetTrackers:t}=this;for(let n in t)t[n].destroy();this.offsetTrackers={}}queryHitForOffset(t,n){let{droppableStore:a,offsetTrackers:l}=this,d=null;for(let p in a){let y=a[p].component,S=l[p];if(S&&S.isWithinClipping(t,n)){let T=S.computeLeft(),_=S.computeTop(),O=t-T,L=n-_,{origRect:P}=S,H=P.right-P.left,B=P.bottom-P.top;if(O>=0&&O<H&&L>=0&&L<B){let F=y.queryHit(O,L,H,B);F&&Kb(F.dateProfile.activeRange,F.dateSpan.range)&&(this.disablePointCheck||S.el.contains(S.el.getRootNode().elementFromPoint(O+T-window.scrollX,L+_-window.scrollY)))&&(!d||F.layer>d.layer)&&(F.componentId=p,F.context=y.context,F.rect.left+=T,F.rect.right+=T,F.rect.top+=_,F.rect.bottom+=_,d=F)}}}return d}}function i0(e,t){return!e&&!t?!0:!!e!=!!t?!1:EB(e.dateSpan,t.dateSpan)}function t_(e,t){let n={};for(let a of t.pluginHooks.datePointTransforms)Object.assign(n,a(e,t));return Object.assign(n,V3(e,t.dateEnv)),n}function V3(e,t){return{date:t.toDate(e.range.start),dateStr:t.formatIso(e.range.start,{omitTime:e.allDay}),allDay:e.allDay}}class W3 extends pf{constructor(t){super(t),this.handlePointerDown=a=>{let{dragging:l}=this,d=a.origEvent.target;l.setIgnoreMove(!this.component.isValidDateDownEl(d))},this.handleDragEnd=a=>{let{component:l}=this,{pointer:d}=this.dragging;if(!d.wasTouchScroll){let{initialHit:p,finalHit:y}=this.hitDragging;if(p&&y&&i0(p,y)){let{context:S}=l,T=Object.assign(Object.assign({},t_(p.dateSpan,S)),{dayEl:p.dayEl,jsEvent:a.origEvent,view:S.viewApi||S.calendarApi.view});S.emitter.trigger("dateClick",T)}}},this.dragging=new lm(t.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new n0(this.dragging,iE(t));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Y3 extends pf{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=p=>{let{component:y,dragging:S}=this,{options:T}=y.context,_=T.selectable&&y.isValidDateDownEl(p.origEvent.target);S.setIgnoreMove(!_),S.delay=p.isTouch?$3(y):null},this.handleDragStart=p=>{this.component.context.calendarApi.unselect(p)},this.handleHitUpdate=(p,y)=>{let{context:S}=this.component,T=null,_=!1;if(p){let O=this.hitDragging.initialHit;p.componentId===O.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(O,p)||(T=q3(O,p,S.pluginHooks.dateSelectionTransformers)),(!T||!sF(T,p.dateProfile,S))&&(_=!0,T=null)}T?S.dispatch({type:"SELECT_DATES",selection:T}):y||S.dispatch({type:"UNSELECT_DATES"}),_?US():GS(),y||(this.dragSelection=T)},this.handlePointerUp=p=>{this.dragSelection&&(uM(this.dragSelection,p,this.component.context),this.dragSelection=null)};let{component:n}=t,{options:a}=n.context,l=this.dragging=new lm(t.el);l.touchScrollAllowed=!1,l.minDistance=a.selectMinDistance||0,l.autoScroller.isEnabled=a.dragScroll;let d=this.hitDragging=new n0(this.dragging,iE(t));d.emitter.on("pointerdown",this.handlePointerDown),d.emitter.on("dragstart",this.handleDragStart),d.emitter.on("hitupdate",this.handleHitUpdate),d.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function $3(e){let{options:t}=e.context,n=t.selectLongPressDelay;return n==null&&(n=t.longPressDelay),n}function q3(e,t,n){let a=e.dateSpan,l=t.dateSpan,d=[a.range.start,a.range.end,l.range.start,l.range.end];d.sort(Nj);let p={};for(let y of n){let S=y(e,t);if(S===!1)return null;S&&Object.assign(p,S)}return p.range={start:d[0],end:d[3]},p.allDay=a.allDay,p}class cm extends pf{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=p=>{let y=p.origEvent.target,{component:S,dragging:T}=this,{mirror:_}=T,{options:O}=S.context,L=S.context;this.subjectEl=p.subjectEl;let P=this.subjectSeg=lf(p.subjectEl),B=(this.eventRange=P.eventRange).instance.instanceId;this.relevantEvents=JS(L.getCurrentData().eventStore,B),T.minDistance=p.isTouch?0:O.eventDragMinDistance,T.delay=p.isTouch&&B!==S.props.eventSelection?Z3(S):null,O.fixedMirrorParent?_.parentNode=O.fixedMirrorParent:_.parentNode=hr(y,".fc"),_.revertDuration=O.dragRevertDuration;let F=S.isValidSegDownEl(y)&&!hr(y,".fc-event-resizer");T.setIgnoreMove(!F),this.isDragging=F&&p.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=p=>{let y=this.component.context,S=this.eventRange,T=S.instance.instanceId;p.isTouch?T!==this.component.props.eventSelection&&y.dispatch({type:"SELECT_EVENT",eventInstanceId:T}):y.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(y.calendarApi.unselect(p),y.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ei(y,S.def,S.instance),jsEvent:p.origEvent,view:y.viewApi}))},this.handleHitUpdate=(p,y)=>{if(!this.isDragging)return;let S=this.relevantEvents,T=this.hitDragging.initialHit,_=this.component.context,O=null,L=null,P=null,H=!1,B={affectedEvents:S,mutatedEvents:gs(),isEvent:!0};if(p){O=p.context;let F=O.options;_===O||F.editable&&F.droppable?(L=X3(T,p,this.eventRange.instance.range.start,O.getCurrentData().pluginHooks.eventDragMutationMassagers),L&&(P=nE(S,O.getCurrentData().eventUiBases,L,O),B.mutatedEvents=P,CM(B,p.dateProfile,O)||(H=!0,L=null,P=null,B.mutatedEvents=gs()))):O=null}this.displayDrag(O,B),H?US():GS(),y||(_===O&&i0(T,p)&&(L=null),this.dragging.setMirrorNeedsRevert(!L),this.dragging.setMirrorIsVisible(!p||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=O,this.validMutation=L,this.mutatedRelevantEvents=P)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=p=>{if(this.isDragging){let y=this.component.context,S=y.viewApi,{receivingContext:T,validMutation:_}=this,O=this.eventRange.def,L=this.eventRange.instance,P=new ei(y,O,L),H=this.relevantEvents,B=this.mutatedRelevantEvents,{finalHit:F}=this.hitDragging;if(this.clearDrag(),y.emitter.trigger("eventDragStop",{el:this.subjectEl,event:P,jsEvent:p.origEvent,view:S}),_){if(T===y){let W=new ei(y,B.defs[O.defId],L?B.instances[L.instanceId]:null);y.dispatch({type:"MERGE_EVENTS",eventStore:B});let Y={oldEvent:P,event:W,relatedEvents:Qu(B,y,L),revert(){y.dispatch({type:"MERGE_EVENTS",eventStore:H})}},$={};for(let K of y.getCurrentData().pluginHooks.eventDropTransformers)Object.assign($,K(_,y));y.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},Y),$),{el:p.subjectEl,delta:_.datesDelta,jsEvent:p.origEvent,view:S})),y.emitter.trigger("eventChange",Y)}else if(T){let W={event:P,relatedEvents:Qu(H,y,L),revert(){y.dispatch({type:"MERGE_EVENTS",eventStore:H})}};y.emitter.trigger("eventLeave",Object.assign(Object.assign({},W),{draggedEl:p.subjectEl,view:S})),y.dispatch({type:"REMOVE_EVENTS",eventStore:H}),y.emitter.trigger("eventRemove",W);let Y=B.defs[O.defId],$=B.instances[L.instanceId],K=new ei(T,Y,$);T.dispatch({type:"MERGE_EVENTS",eventStore:B});let re={event:K,relatedEvents:Qu(B,T,$),revert(){T.dispatch({type:"REMOVE_EVENTS",eventStore:B})}};T.emitter.trigger("eventAdd",re),p.isTouch&&T.dispatch({type:"SELECT_EVENT",eventInstanceId:L.instanceId}),T.emitter.trigger("drop",Object.assign(Object.assign({},t_(F.dateSpan,T)),{draggedEl:p.subjectEl,jsEvent:p.origEvent,view:F.context.viewApi})),T.emitter.trigger("eventReceive",Object.assign(Object.assign({},re),{draggedEl:p.subjectEl,view:F.context.viewApi}))}}else y.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:a}=n.context,l=this.dragging=new lm(t.el);l.pointer.selector=cm.SELECTOR,l.touchScrollAllowed=!1,l.autoScroller.isEnabled=a.dragScroll;let d=this.hitDragging=new n0(this.dragging,Kw);d.useSubjectCenter=t.useEventCenter,d.emitter.on("pointerdown",this.handlePointerDown),d.emitter.on("dragstart",this.handleDragStart),d.emitter.on("hitupdate",this.handleHitUpdate),d.emitter.on("pointerup",this.handlePointerUp),d.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,n){let a=this.component.context,l=this.receivingContext;l&&l!==t&&(l===a?l.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:gs(),isEvent:!0}}):l.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let t=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),t!==n&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}cm.SELECTOR=".fc-event-draggable, .fc-event-resizable";function X3(e,t,n,a){let l=e.dateSpan,d=t.dateSpan,p=l.range.start,y=d.range.start,S={};l.allDay!==d.allDay&&(S.allDay=d.allDay,S.hasEnd=t.context.options.allDayMaintainDuration,d.allDay?p=Jn(n):p=n);let T=$h(p,y,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);T.milliseconds&&(S.allDay=!1);let _={datesDelta:T,standardProps:S};for(let O of a)O(_,e,t);return _}function Z3(e){let{options:t}=e.context,n=t.eventLongPressDelay;return n==null&&(n=t.longPressDelay),n}class Q3 extends pf{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=d=>{let{component:p}=this,y=this.querySegEl(d),S=lf(y),T=this.eventRange=S.eventRange;this.dragging.minDistance=p.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(d.origEvent.target)||d.isTouch&&this.component.props.eventSelection!==T.instance.instanceId)},this.handleDragStart=d=>{let{context:p}=this.component,y=this.eventRange;this.relevantEvents=JS(p.getCurrentData().eventStore,this.eventRange.instance.instanceId);let S=this.querySegEl(d);this.draggingSegEl=S,this.draggingSeg=lf(S),p.calendarApi.unselect(),p.emitter.trigger("eventResizeStart",{el:S,event:new ei(p,y.def,y.instance),jsEvent:d.origEvent,view:p.viewApi})},this.handleHitUpdate=(d,p,y)=>{let{context:S}=this.component,T=this.relevantEvents,_=this.hitDragging.initialHit,O=this.eventRange.instance,L=null,P=null,H=!1,B={affectedEvents:T,mutatedEvents:gs(),isEvent:!0};d&&(d.componentId===_.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(_,d)||(L=K3(_,d,y.subjectEl.classList.contains("fc-event-resizer-start"),O.range))),L&&(P=nE(T,S.getCurrentData().eventUiBases,L,S),B.mutatedEvents=P,CM(B,d.dateProfile,S)||(H=!0,L=null,P=null,B.mutatedEvents=null)),P?S.dispatch({type:"SET_EVENT_RESIZE",state:B}):S.dispatch({type:"UNSET_EVENT_RESIZE"}),H?US():GS(),p||(L&&i0(_,d)&&(L=null),this.validMutation=L,this.mutatedRelevantEvents=P)},this.handleDragEnd=d=>{let{context:p}=this.component,y=this.eventRange.def,S=this.eventRange.instance,T=new ei(p,y,S),_=this.relevantEvents,O=this.mutatedRelevantEvents;if(p.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:T,jsEvent:d.origEvent,view:p.viewApi}),this.validMutation){let L=new ei(p,O.defs[y.defId],S?O.instances[S.instanceId]:null);p.dispatch({type:"MERGE_EVENTS",eventStore:O});let P={oldEvent:T,event:L,relatedEvents:Qu(O,p,S),revert(){p.dispatch({type:"MERGE_EVENTS",eventStore:_})}};p.emitter.trigger("eventResize",Object.assign(Object.assign({},P),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||vn(0),endDelta:this.validMutation.endDelta||vn(0),jsEvent:d.origEvent,view:p.viewApi})),p.emitter.trigger("eventChange",P)}else p.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=t,a=this.dragging=new lm(t.el);a.pointer.selector=".fc-event-resizer",a.touchScrollAllowed=!1,a.autoScroller.isEnabled=n.context.options.dragScroll;let l=this.hitDragging=new n0(this.dragging,iE(t));l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return hr(t.subjectEl,".fc-event")}}function K3(e,t,n,a){let l=e.context.dateEnv,d=e.dateSpan.range.start,p=t.dateSpan.range.start,y=$h(d,p,l,e.largeUnit);if(n){if(l.add(a.start,y)<a.end)return{startDelta:y}}else if(l.add(a.end,y)>a.start)return{endDelta:y};return null}class J3{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=a=>{a.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=a=>{let l=this.context.options.unselectCancel,d=GT(a.origEvent);this.matchesCancel=!!hr(d,l),this.matchesEvent=!!hr(d,cm.SELECTOR)},this.onDocumentPointerUp=a=>{let{context:l}=this,{documentPointer:d}=this,p=l.getCurrentData();if(!d.wasTouchScroll){if(p.dateSelection&&!this.isRecentPointerDateSelect){let y=l.options.unselectAuto;y&&(!y||!this.matchesCancel)&&l.calendarApi.unselect(a)}p.eventSelection&&!this.matchesEvent&&l.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new QM(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const e5={fixedMirrorParent:Me},t5={dateClick:Me,eventDragStart:Me,eventDragStop:Me,eventDrop:Me,eventResizeStart:Me,eventResizeStop:Me,eventResize:Me,drop:Me,eventReceive:Me,eventLeave:Me};oE.dataAttrPrefix="";var n5=Sc({name:"@fullcalendar/interaction",componentInteractions:[W3,Y3,cm,Q3],calendarInteractions:[J3],elementDraggingImpl:lm,optionRefiners:e5,listenerRefiners:t5});const i5=({month:e})=>{const{data:t}=xs(),n=em();bn();const a=t?.groupedData?.[e];if(!a)return null;const l={},d=Rb();for(const y of a){if(y.type==="incomes")continue;const S=d.find(T=>T.value===y.cat)?.label;l[S]||(l[S]={name:S,y:0}),l[S].y=parseFloat((l[S].y+parseFloat(String(y.sum))).toFixed(2))}const p={chart:{type:"pie"},title:{text:""},tooltip:{pointFormat:"{point.y} {series.name} ({point.percentage:.2f})%"},plotOptions:{pie:{borderWidth:0,innerSize:"50%",allowPointSelect:!0}},series:[{name:n,colorByPoint:!0,data:Object.values(l)}],credits:{enabled:!1}};return D.jsx(Vg,{highcharts:kg,options:p})},r5=({transactions:e,currentMonth:t,categoryLabels:n,onMonthChange:a,onEdit:l,onDelete:d,pendingSyncIds:p})=>{const{language:y}=bn(),[S,T]=G.useState(null),[_,O]=G.useState(!1),L=G.useMemo(()=>e.reduce((be,le)=>{const ye=le.dt;return be[ye]||(be[ye]=[]),be[ye].push(le),be},{}),[e]),H=Object.entries(L).map(([be,le])=>{const ye=le.reduce((De,Fe)=>De+(typeof Fe.sum=="string"?parseFloat(Fe.sum):Fe.sum),0);return{date:be,total:ye,count:le.length}}).map(({date:be,total:le,count:ye})=>({id:be,date:be,title:`${Tt(le)}`,allDay:!0,extendedProps:{total:le,count:ye}})),B=be=>be<1e3?"amount-low":be<3e3?"amount-medium":"amount-high",F=be=>["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(be),W=be=>{const le=be.event.id;if(le){const ye=L[le];ye&&ye.length>0&&(T(le),O(!0))}};let Y=0,$=0,K=!1;const re=be=>{_||(Y=be.touches[0].clientX)},ue=be=>{_||($=be.touches[0].clientX,K=!0)},X=()=>{if(!_){if(K){const be=$-Y,De=window.innerWidth*.25;Math.abs(be)>De&&(be>0?a("prev"):a("next"))}K=!1}},ie=S?L[S]||[]:[],pe=ie.reduce((be,le)=>be+(typeof le.sum=="string"?parseFloat(le.sum):le.sum),0);return D.jsxs("div",{className:"calendar-view-component",onTouchStart:re,onTouchMove:ue,onTouchEnd:X,children:[D.jsx(UM,{plugins:[L3,n5],initialView:"dayGridMonth",initialDate:t?new Date(parseInt(t.split(" ")[1],10),F(t.split(" ")[0]),1):new Date,events:H,headerToolbar:{left:"",center:"",right:""},height:"auto",firstDay:1,eventClick:W,eventContent:be=>{const le=be.event.extendedProps.total,ye=be.event.extendedProps.count,De=B(le);return D.jsxs("div",{className:`calendar-event ${De}`,children:[D.jsx("div",{className:"event-amount",children:be.event.title}),D.jsxs("div",{className:"event-count",children:[ye," items"]})]})},dayCellClassNames:be=>{const le=["calendar-day-cell"];return be.isToday&&le.push("calendar-day-today"),le.join(" ")},dayHeaderClassNames:"calendar-day-header"},t),D.jsx("div",{className:"month-chart-wrapper",children:D.jsx(i5,{month:t})}),D.jsx(so,{show:_&&!!S,onClose:()=>O(!1),title:S?(()=>{const be=kb(y);return new Date(S).toLocaleDateString(be,{day:"numeric",month:"long",year:"numeric"})})():"",topContent:D.jsxs(D.Fragment,{children:["Total: ",D.jsx("strong",{children:Tt(pe)})]}),children:D.jsx(bT,{transactions:ie,categoryLabels:n,pendingSyncIds:p,onEdit:be=>{O(!1),l?.(be)},onDelete:be=>{O(!1),d?.(be)}})})]})},a5=Ge.memo(r5),uw=({formType:e,values:t,onSuccess:n,hideSubmitButton:a=!1,onFormReady:l})=>{const{t:d}=bn(),{dataDispatch:p}=xs(),y={field_amount:"",field_date:new Date().toISOString().slice(0,10),field_category:"",field_description:""},S=Rb(),T={field_amount:{required:!0,custom:ie=>!isNaN(parseFloat(ie))&&parseFloat(ie)>0},field_date:{required:!0,custom:ie=>new Date(ie)<=new Date},field_category:{required:!0},field_description:{required:!0}},{getFieldValidation:_}=Ub(T),{formState:O,setFormState:L,isSubmitting:P,handleChange:H,handleSubmit:B}=Hb({formType:e,initialState:y,values:t,nodeType:"transaction",onSuccess:n,dataDispatch:p,buildNodeData:ie=>({title:[ie.field_date],field_amount:[ie.field_amount],field_category:[ie.field_category],field_date:[ie.field_date],field_description:[ie.field_description]}),successMessageKeys:{add:"notification.transactionAdded",edit:"notification.transactionUpdated"}}),F=O.field_category||t.field_category||"",W=G.useMemo(()=>F?rb()[F]||[]:[],[F]),{selectedTags:Y,handleTagClick:$,isTagSelected:K}=WD({suggestions:W,description:O.field_description,formType:e,normalizeTag:Zu});W.forEach(ie=>{Zu(ie)});const re=ie=>{H(ie)},ue=ie=>{const pe=$(ie);L({...O,field_description:pe})},X=ie=>{const pe=ab(ie,F),be=d(pe);return be!==pe?be:ie};return G.useEffect(()=>{l&&l(()=>{const ie=document.querySelector(`.transaction-form-${e}`);ie&&ie.requestSubmit()},P)},[l,P,e]),D.jsx("div",{className:"transaction-form-container",children:D.jsxs("form",{id:`transaction-form-${e}`,className:`transaction-form transaction-form-${e}`,onSubmit:B,children:[D.jsx(_i,{name:"field_amount",type:"number",label:d("transactionForm.amount"),value:O.field_amount,onChange:re,required:!0,placeholder:d("form.amountPlaceholder"),min:0,step:.01,isValid:_("field_amount",O),ariaLabel:d("transactionForm.amount")}),D.jsx(_i,{name:"field_date",type:"date",label:d("transactionForm.date"),value:O.field_date,onChange:re,required:!0,isValid:_("field_date",O),ariaLabel:d("transactionForm.date")}),D.jsxs("div",{className:"form-group required",children:[D.jsx("label",{htmlFor:"field_category",children:d("transactionForm.category")}),D.jsx("div",{className:"input-wrapper",children:D.jsxs("select",{id:"field_category",required:!0,name:"field_category",value:O.field_category,onChange:re,"aria-label":d("transactionForm.category"),className:`form-input ${_("field_category",O)?"valid":""}`,children:[D.jsx("option",{value:"",children:d("form.selectCategory")}),S.map((ie,pe)=>D.jsx("option",{value:ie.value,children:ie.label},pe))]})})]}),D.jsx(_i,{name:"field_description",type:"text",label:d("transactionForm.description"),value:O.field_description,onChange:re,placeholder:d("transactionForm.description"),isValid:_("field_description",O),ariaLabel:d("transactionForm.description")}),D.jsx(YD,{suggestions:W,selectedTags:Y,onTagClick:ue,isTagSelected:K,getTagLabel:X,normalizeTag:Zu,translationKey:"suggestions.title"}),!a&&D.jsx("div",{className:"form-actions-sticky",children:D.jsx("button",{type:"submit",className:"btn-submit",disabled:P,children:P?D.jsxs("div",{className:"loader",children:[D.jsx("span",{}),D.jsx("span",{}),D.jsx("span",{})]}):D.jsxs(D.Fragment,{children:[e==="add"||e==="quick-add"?D.jsx(ps,{}):D.jsx(ys,{}),D.jsx("span",{children:d(e==="add"||e==="quick-add"?"transactionForm.title":"transactionForm.editTitle")})]})})})]})})},s5=()=>{Gb();const e=wc(),{t}=bn(),{token:n}=nl(),{data:a,dataDispatch:l}=xs(),d=a.groupedData===null,p=a.loading,[y,S]=G.useState(a.textFilter??""),[T,_]=G.useState(a.category??""),[O,L]=G.useState(a.selectedTag??""),[P,H]=G.useState(a.dateRange??null),[B,F]=G.useState(!1),[W,Y]=G.useState(!1),[$,K]=G.useState(!1),[re,ue]=G.useState({}),[X,ie]=G.useState(!1),[pe,be]=G.useState(!1),[le,ye]=G.useState("list"),[De,Fe]=G.useState(!1),[$e,oe]=G.useState(!1),[Ee,Ie]=G.useState(!1),Ye=G.useRef(null),je=k1(),Re=im(),ge="quickAddDone_",Ae=()=>{const nt=Ye.current;nt&&(sessionStorage.setItem(ge+nt,"1"),Ye.current=null),oe(!1)},Be=G.useCallback(()=>{if(!je.enabled)return;const nt=new Date,Ot=nt.getDay(),Dn=je.daysOfWeek??[],Qt=je.timeSlots??[];if(Dn.length>0&&!Dn.includes(Ot))return;const fn=`${nt.getFullYear()}-${String(nt.getMonth()+1).padStart(2,"0")}-${String(nt.getDate()).padStart(2,"0")}`,ti=`${String(nt.getHours()).padStart(2,"0")}:${String(nt.getMinutes()).padStart(2,"0")}`;if(Qt.length>0){const wi=Qt.find(Si=>ti>=Si.start&&ti<Si.end);if(!wi)return;const Yn=`${fn}_${wi.start}`;if(sessionStorage.getItem(ge+Yn))return;Ye.current=Yn}else Ye.current=null;oe(!0)},[je.enabled,je.daysOfWeek,je.timeSlots]);G.useEffect(()=>{Be()},[Be]),G.useEffect(()=>{if(!je.enabled)return;const nt=()=>{document.visibilityState==="visible"&&Be()};return document.addEventListener("visibilitychange",nt),()=>document.removeEventListener("visibilitychange",nt)},[je.enabled,Be]);const Xe=Wg(["expense"]);G.useEffect(()=>{d&&Re&&XD(Re,l)},[d,Re,l]),G.useEffect(()=>{l({type:"FILTER_DATA",category:T,textFilter:y,selectedTag:O,dateRange:P??null})},[y,T,O,P,l]);const Ke=a.filtered||a,Ze=Rb(),Ve=Ke.groupedData?Object.keys(Ke.groupedData):[],[tt,Qe]=G.useState(0);G.useEffect(()=>{Ve.length>0?tt>=Ve.length&&Qe(0):Qe(0)},[Ve,tt]);const _t=Ve[tt]||Ve[0]||"",ce=!!(P?.start&&P?.end);G.useEffect(()=>{(y!==""||T!==""||O!==""||ce)&&Qe(0)},[y,T,O,ce]);const hn=nt=>{const Ot=Ke.groupedData[_t].find(Dn=>Dn.id===nt);ue({nid:Ot.id,field_date:Ot.dt,field_amount:Ot.sum,field_category:Ot.cat,field_description:Ot.dsc}),Y(!0)},Je=(nt,Ot)=>{ie(!0),gS(nt,Ot,Dn=>{Dn.ok?(e(t("notification.transactionDeleted"),Cn.SUCCESS),ie(!1)):(e(t("error.unknown"),Cn.ERROR),ie(!1)),F(!1)},l)},kt=G.useMemo(()=>(Ke.groupedData?.[_t]||[]).filter(Ot=>{if(y!==""){const Dn=y.toLowerCase(),Qt=Ot.dsc?.toLowerCase().includes(Dn)||!1,ti=(Ze.find(wi=>wi.value===Ot.cat)?.label||"").toLowerCase().includes(Dn);if(!Qt&&!ti)return!1}return!(O&&!Ob(Ot,O))}),[Ke.groupedData,_t,y,O,Ze]),Pt=y!==""||T!==""||O!==""||ce;G.useEffect(()=>{if(Pt&&kt.length===0&&Ve.length>0&&Ke.groupedData)for(let nt=0;nt<Ve.length;nt++){const Ot=Ke.groupedData[Ve[nt]]||[];let Dn=Ot;if(y!==""){const Qt=y.toLowerCase();Dn=Ot.filter(fn=>{const ti=fn.dsc?.toLowerCase().includes(Qt)||!1,Yn=(Ze.find(Si=>Si.value===fn.cat)?.label||"").toLowerCase().includes(Qt);return ti||Yn})}if(Dn.length>0){Qe(nt);break}}},[y,T,Pt,kt.length,Ve,Ke.groupedData,Ze]);const mi=kt.reduce((nt,Ot)=>nt+(typeof Ot.sum=="string"?parseFloat(Ot.sum):Ot.sum),0),Bn=a.incomeTotals,Fn=Bn&&Bn[_t]||0,nn=parseFloat((Fn-mi).toFixed(2)),xn=Pt?mi:Ke.totals?.[_t]||0,jt=Fn,wn=Pt?nn:parseFloat((Fn-(Ke.totals?.[_t]||0)).toFixed(2));return D.jsxs("div",{className:mc,children:[D.jsx(Fb,{open:!!B,onClose:()=>F(!1),onConfirm:()=>B&&Je(B,n),title:t("transaction.deleteTransaction"),message:t("modal.deleteTransaction"),isSubmitting:X}),D.jsx(so,{show:W,onClose:nt=>{nt.preventDefault(),Y(!1),ue({})},title:t("transactionForm.editTransaction"),footer:D.jsx("button",{type:"submit",form:"transaction-form-edit",disabled:pe,className:"btn-submit",children:pe?D.jsxs("div",{className:"loader",children:[D.jsx("span",{}),D.jsx("span",{}),D.jsx("span",{})]}):D.jsxs(D.Fragment,{children:[D.jsx(ys,{}),D.jsx("span",{children:t("transactionForm.editTitle")})]})}),children:D.jsx(uw,{formType:"edit",values:re,hideSubmitButton:!0,onFormReady:(nt,Ot)=>{be(Ot)},onSuccess:()=>{Y(!1),ue({})}})}),D.jsx(so,{show:$,onClose:nt=>{nt.preventDefault(),K(!1)},title:t("transactionForm.addTransaction"),footer:D.jsx("button",{type:"submit",form:"transaction-form-add",disabled:pe,className:"btn-submit",children:pe?D.jsxs("div",{className:"loader",children:[D.jsx("span",{}),D.jsx("span",{}),D.jsx("span",{})]}):D.jsxs(D.Fragment,{children:[D.jsx(ps,{}),D.jsx("span",{children:t("transactionForm.title")})]})}),children:D.jsx(uw,{formType:"add",values:{},hideSubmitButton:!0,onFormReady:(nt,Ot)=>{be(Ot)},onSuccess:()=>{K(!1)}})}),D.jsx(so,{show:$e,onClose:nt=>{nt.preventDefault(),Ae()},title:t("transactionForm.addTransaction"),footer:D.jsx("button",{type:"submit",form:"transaction-form-quick-add",disabled:Ee,className:"btn-submit",children:Ee?D.jsxs("div",{className:"loader",children:[D.jsx("span",{}),D.jsx("span",{}),D.jsx("span",{})]}):D.jsxs(D.Fragment,{children:[D.jsx(ps,{}),D.jsx("span",{children:t("transactionForm.title")})]})}),children:D.jsx(uw,{formType:"quick-add",values:{field_amount:je.amount,field_category:je.category,field_description:je.description},hideSubmitButton:!0,onFormReady:(nt,Ot)=>{Ie(Ot)},onSuccess:Ae})}),p?D.jsx(id,{}):d?D.jsx(rf,{icon:D.jsx(Jo,{}),title:t("home.noData"),description:t("home.noDataDesc")}):D.jsxs(D.Fragment,{children:[D.jsx(ES,{title:_t||t("home.title"),subtitle:`${kt.length} ${kt.length===1?t("common.transaction"):t("common.transactions")}`}),D.jsx("div",{className:"mb-6",children:D.jsx(YP,{searchValue:y,categoryValue:T,selectedTag:O,dateRange:P,onDateRangeChange:H,categories:Ze,onSearchChange:S,onCategoryChange:_,onTagChange:L,onClearFilters:()=>{S(""),_(""),L(""),H(null),Qe(0)},onFilterPanelOpenChange:Fe})}),D.jsxs(AS,{columns:3,filtered:Pt,children:[D.jsx(el,{icon:D.jsx(Jo,{}),value:Tt(xn),label:t("common.total")}),!Pt&&D.jsxs(D.Fragment,{children:[D.jsx(el,{icon:D.jsx(hO,{}),value:Tt(jt),label:t("common.income")}),D.jsx(el,{icon:wn>=0?D.jsx(W1,{}):D.jsx(V1,{}),value:Tt(wn),label:t("common.profit")})]})]}),D.jsxs("div",{className:"flex gap-2 mb-6",children:[D.jsxs("button",{type:"button",className:`flex-1 rounded-xl py-3.5 px-4 text-[0.95rem] cursor-pointer flex items-center justify-center gap-2 transition-all duration-200 border-none ${le==="list"?"bg-gradient-to-br from-[var(--color-app-accent)] to-[var(--color-app-accent-hover)] text-[var(--color-btn-on-accent)] font-medium shadow-[0_2px_8px_var(--color-app-accent-shadow)]":"bg-app-surface text-app-muted hover:bg-app-surface-hover hover:text-app-secondary"} [&_svg]:text-lg`,onClick:()=>ye("list"),children:[D.jsx(wO,{}),D.jsx("span",{children:"List"})]}),D.jsxs("button",{className:`flex-1 rounded-xl py-3.5 px-4 text-[0.95rem] cursor-pointer flex items-center justify-center gap-2 transition-all duration-200 border-none ${le==="calendar"?"bg-gradient-to-br from-[var(--color-app-accent)] to-[var(--color-app-accent-hover)] text-[var(--color-btn-on-accent)] font-medium shadow-[0_2px_8px_var(--color-app-accent-shadow)]":"bg-app-surface text-app-muted hover:bg-app-surface-hover hover:text-app-secondary"} [&_svg]:text-lg`,onClick:()=>ye("calendar"),children:[D.jsx(fc,{}),D.jsx("span",{children:"Calendar"})]})]}),kt.length===0?D.jsx(rf,{icon:D.jsx(Jo,{}),title:t("home.noTransactionsFound"),description:t(Pt?"home.tryDifferentFilters":"home.noDataDesc"),action:Pt?{label:t("common.clearFilters"),onClick:()=>{S(""),_(""),L(""),H(null),Qe(0)}}:void 0}):le==="list"?D.jsx("div",{children:D.jsx(bT,{transactions:kt.map(nt=>({...nt,dsc:nt.dsc??""})),categoryLabels:Ze,pendingSyncIds:Xe,onEdit:hn,onDelete:nt=>F(nt)})}):D.jsx("div",{className:"mb-8",children:D.jsx(a5,{transactions:kt,currentMonth:_t,categoryLabels:Ze,pendingSyncIds:Xe,onMonthChange:nt=>{nt==="prev"&&tt<Ve.length-1?Qe(tt+1):nt==="next"&&tt>0&&Qe(tt-1)},onEdit:hn,onDelete:nt=>F(nt)})}),le==="list"&&!De&&D.jsxs("div",{className:"fixed bottom-[70px] left-1/2 -translate-x-1/2 flex justify-center gap-4 z-[100] bg-[var(--color-app-bg)] backdrop-blur-md py-3 px-5 rounded-[20px] shadow-lg max-[360px]:bottom-[60px] max-[360px]:py-2.5",children:[D.jsx("button",{type:"button",className:"w-[50px] h-[50px] flex items-center justify-center rounded-xl border border-app-subtle bg-app-surface-hover cursor-pointer transition-all duration-200 shadow-md [&_svg]:text-app-secondary [&_svg]:text-[1.3rem] hover:not(:disabled):bg-app-surface-hover hover:not(:disabled):border-[var(--color-app-accent)]/40 hover:not(:disabled):scale-105 disabled:opacity-30 disabled:cursor-not-allowed max-[360px]:w-[46px] max-[360px]:h-[46px]",onClick:()=>Qe(tt+1),disabled:tt>=Ve.length-1,"aria-label":"Previous month",children:D.jsx(pO,{})}),D.jsx("button",{type:"button",className:"w-[50px] h-[50px] flex items-center justify-center rounded-xl border border-app-subtle bg-app-surface-hover cursor-pointer transition-all duration-200 shadow-md [&_svg]:text-app-secondary [&_svg]:text-[1.3rem] hover:not(:disabled):bg-app-surface-hover hover:not(:disabled):border-[var(--color-app-accent)]/40 hover:not(:disabled):scale-105 disabled:opacity-30 disabled:cursor-not-allowed max-[360px]:w-[46px] max-[360px]:h-[46px]",onClick:()=>Qe(tt-1),disabled:tt<=0,"aria-label":"Next month",children:D.jsx(gO,{})})]}),!De&&D.jsx("button",{className:"fab",onClick:()=>K(!0),title:t("transactionForm.addTransaction"),children:D.jsx(ps,{})})]})]})},n_=new dS(Vk);function o5(e){n_.setState(t=>Xk(t,e))}function um(){return{data:xc(n_),dataDispatch:o5}}async function l5(e,t){const n=await e.get(_S.LOAN_PAYMENTS(t));return!n.success||!n.data?{loanId:t,data:[]}:{loanId:t,data:n.data}}function dw(e,t,n){e({type:"SET_DATA",loans:t,payments:n,loading:!1})}let _g=null;async function Qo(e,t){return _g||(_g=(async()=>{if(Fa()){const p=await Xh(),y=await Yu();p&&p.length>0&&dw(t,p,y||[])}const n=await e.get(_S.LOANS);if(!n.success)return;if(!n.data||n.data.length===0){Fa()&&await Promise.all([Ew([]),Aw([])]),dw(t,null,[]);return}const a=n.data.map(p=>l5(e,p.id)),l=await Promise.all(a),d=mS(n.data);Fa()&&await Promise.all([Ew(d),Aw(l)]),dw(t,d,l)})().finally(()=>{_g=null}),_g)}const XC=e=>{const t=e.split(".");return[t[0],t[1],t[2]]},i_=(e,t)=>{const[n,a,l]=XC(e),[d,p,y]=XC(t),S=new Date(Number(l),Number(a)-1,Number(n)),T=new Date(Number(y),Number(p)-1,Number(d));return(T.getFullYear()-S.getFullYear())*12+(T.getMonth()-S.getMonth())},r_=(e,t,n,a)=>{if(e<=0)throw new Error("calculateAnnuity: principal must be positive");if(t<0)throw new Error("calculateAnnuity: rate must be non-negative");const l=i_(n,a);if(l<=0)return e;const d=t/12/100;if(d===0||t===0)return e/l;const p=1+d,S=1-Math.pow(p,-l);return Math.abs(S)<1e-10?e/l:e*d/S},ZC=e=>{const{currentPrincipal:t,currentPayment:n,oldRate:a,newRate:l,rateChangeDate:d,loanEndDate:p,applyPaymentFirst:y=!0}=e;if(t<=0)throw new Error("recalculateAfterRateChange: currentPrincipal must be positive");if(n<=0)throw new Error("recalculateAfterRateChange: currentPayment must be positive");if(a<0||l<0)throw new Error("recalculateAfterRateChange: rates must be non-negative");const S=i_(d,p);if(S<=0)return{newPayment:t,updatedPrincipal:t,remainingMonths:0};let T=t;if(y){const O=a/12/100,L=t*O,P=n-L;if(P<0)throw new Error(`recalculateAfterRateChange: Payment ${n} is too small to cover interest ${L} with old rate ${a}%`);T=t-P,T<0&&(T=0)}return{newPayment:r_(T,l,d,p),updatedPrincipal:T,remainingMonths:S}},hw=(e,t,n,a="act/360")=>{if(e<=0)throw new Error("calculatePeriodInterest: principal must be positive");if(t<0)throw new Error("calculatePeriodInterest: rate must be non-negative");if(n<0)throw new Error("calculatePeriodInterest: daysInPeriod must be non-negative");const l=a==="act/360"?360:365;return e*(t/100)*(n/l)},_r=e=>(e<10?"0":"")+e,iS=e=>{if(typeof e!="string")throw new Error("zeroFillDate illegal parameter type");if(!e)return"N/A";const[t,n,a]=Kg(e);return`${_r(Number(t))}.${_r(Number(n))}.${a}`},Kg=e=>{const t=e.split(".");return[t[0],t[1],t[2]]},Wn=e=>{const[t,n,a]=Kg(e);return Number(a+_r(Number(n))+_r(Number(t)))},c5=e=>e%4===0&&e%100!==0||e%400===0,rS=(e,t)=>{if([1,3,5,7,8,10,12].includes(e))return 31;if([4,6,9,11].includes(e))return 30;if(e===2)return c5(t)?29:28;throw new Error("daysInMonth: invalid month")},Fu=(e,t,n=!1)=>{const a=n?0:1,[l,d,p]=Kg(e),[y,S,T]=Kg(t),_=new Date(Number(p),Number(d)-1,Number(l)),O=new Date(Number(T),Number(S)-1,Number(y));return Math.round((O.getTime()-_.getTime())/(1e3*60*60*24))+a},u5=e=>{const t=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/);if(!t)return!1;const n=Number(t[1]),a=Number(t[2]),l=Number(t[3]);if(a<1||a>12)return!1;const d=rS(a,l);return n>=1&&n<=d},d5=e=>!isNaN(parseFloat(e))&&isFinite(e),fw=e=>!isNaN(e)&&typeof e=="number"&&e>=0,xi=e=>Math.round(e*100)/100,h5=(e,t)=>{const n=Wn(e.date),a=Wn(t.date);return n-a};class QC{day;month;year;constructor(t){t&&this.setCurrent(t)}getCurrent(){return`${_r(this.day)}.${_r(this.month)}.${this.year}`}setCurrent(t){const[n,a,l]=Kg(t);return this.day=Number(n),this.month=Number(a),this.year=Number(l),this}getNext(){const t=new Date(this.year,this.month-1,this.day);return t.setDate(t.getDate()+1),this.day=t.getDate(),this.month=t.getMonth()+1,this.year=t.getFullYear(),`${_r(this.day)}.${_r(this.month)}.${this.year}`}getPrev(){const t=new Date(this.year,this.month-1,this.day);return t.setDate(t.getDate()-1),this.day=t.getDate(),this.month=t.getMonth()+1,this.year=t.getFullYear(),`${_r(this.day)}.${_r(this.month)}.${this.year}`}getNthMonthNthDay(t,n){if(t===1&&(n===31||this.month===1&&n>28))return this.getNextMonthLastDay();let a=this.month+t,l=this.year;a>12&&(a=a-12,l++);const d=n===31?rS(a,l):n;return this.day=d,this.month=a,this.year=l,`${_r(d)}.${_r(a)}.${l}`}getNextMonthLastDay(){let t=this.month,n=this.year;t===12?(t=1,n++):t++;const a=rS(t,n);return this.day=a,this.month=t,this.year=n,`${a}.${_r(t)}.${n}`}}class f5{eventArray=[];sumOfInterests=0;sumOfReductions=0;latestCalculatedInterestDate="";latestPaymentDate="";currentRate="";currentRecurringPayment=null;currentPrincipal="";gpiSumOfInterests=0;totalNumberOfDays=0;gpiTotalDays=0;paymentLogArray=[];debugLogArray=[];dayCountDivisor=0;latestPeriodEndDate="";init={};roundValues=!0;initialFee=0;sumOfFees=0;currentRecurringFee=0;currentSingleFee=0;recurringPaymentPeriod=1;rateHashMap={};loggedRateChangeEvents=new Set;annualSummaries={};paymentLoggingEnabled=!1;debugLoggingEnabled=!1;debugPrintToConsole=!0;parseDate=t=>{const[n,a,l]=t.split(".").map(Number);return new Date(l,a-1,n)};round=t=>{if(typeof t!="number"||isNaN(t))throw new Error("round: illegal parameter type");return this.roundValues?xi(t):t};logPayment=t=>{this.paymentLoggingEnabled&&(t.date.length!==10&&(t.date=iS(t.date)),this.paymentLogArray.push(t))};checkDate=(t,n="")=>{if(!t)throw new Error(`checkDate: ${n} date is missing`);if(typeof t!="string")throw new Error(`checkDate: ${n} date must be of type string: ${t}`);if(!u5(t))throw new Error(`checkDate: ${n} date is invalid: ${t}`)};getPeriodInterests=(t,n,a,l)=>{let d=0;if(!t)throw new Error("getPeriodInterests: invalid parameter: principal");if(!a)throw new Error("getPeriodInterests: invalid parameter: startDate");if(!l)throw new Error("getPeriodInterests: invalid parameter: endDate");if(Wn(a)>Wn(l))throw new Error(`getPeriodInterests: invalid date: startDate ${a} is after endDate ${l}`);if(this.latestPeriodEndDate&&Fu(this.latestPeriodEndDate,a,!0)!==1)throw new Error(`Date difference is not one day as expected, latestPeriodEndDate: ${this.latestPeriodEndDate} startDate: ${a}`);const p=Fu(a,l);if(this.totalNumberOfDays+=p,this.debugLoggingEnabled&&this.debugLogPeriodStart(a,p,t,n),this.rateHashMap.hasOwnProperty(Wn(a))){n=this.rateHashMap[Wn(a)];const S=Wn(a);this.loggedRateChangeEvents.has(S)||(this.logPayment({date:a,rate:n,installment:"-",reduction:"-",interest:"-",principal:t,fee:"-"}),this.loggedRateChangeEvents.add(S))}this.debugLoggingEnabled&&this.debugLog(`Interest rate: ${n}`);let y=this.getFirstEventAfterDate("rate",a,l);if(y){let S=a,T=y.date,_=n,O,L;for(;y;){O=Fu(S,T,!0),this.gpiTotalDays+=O;const H=this.dayCountDivisor===360?"act/360":"act/365";L=hw(t,_,O,H),this.debugLoggingEnabled&&this.debugLogSubperiod(O,L,y.date,y.rate),d+=L,_=y.rate;const B=Wn(y.date);this.loggedRateChangeEvents.has(B)||(this.logPayment({date:y.date,rate:y.rate,installment:"-",reduction:"-",interest:"-",principal:t,fee:"-"}),this.loggedRateChangeEvents.add(B));const F=this.getFirstEventAfterDate("rate",T,l);S=T,F&&(T=F.date),y=F}O=Fu(T,l),this.gpiTotalDays+=O;const P=this.dayCountDivisor===360?"act/360":"act/365";L=hw(t,_,O,P),this.debugLoggingEnabled&&this.debugLogSubperiod(O,L),d+=L,this.currentRate=_}else{let S=Fu(a,l);this.gpiTotalDays+=S;const T=this.dayCountDivisor===360?"act/360":"act/365";let _=hw(t,n,S,T);this.debugLoggingEnabled&&this.debugLog(`Period daily interest: ${_/S}`),d+=_,this.currentRate=n}return this.debugLoggingEnabled&&this.debugLog("Period total interest: ",d),this.gpiSumOfInterests+=d,this.latestPeriodEndDate=l,d};getFirstEventAfterDate=(t,n,a)=>{for(const l of this.eventArray){const d=Wn(l.date),p=Wn(n),y=Wn(a);if(d>p&&l.hasOwnProperty(t)&&d<=y)return l;if(d>y)return!1}return!1};getLastRateEventOnOrBeforeDate=t=>{const n=Wn(t);let a=null,l=0;for(const d of this.eventArray){const p=Wn(d.date);d.hasOwnProperty("rate")&&p<=n&&p>l&&(a=d,l=p)}return a};handleLastPayment=(t,n,a,l=0,d)=>{let p;t+=this.currentPrincipal,p=t+a,this.sumOfReductions+=t;const y=n.split(".")[2];this.annualSummaries[y]||(this.annualSummaries[y]={total_principal:0,total_interest:0,total_fees:0}),this.annualSummaries[y].total_principal+=t,this.annualSummaries[y].total_interest+=a,this.annualSummaries[y].total_fees+=l,this.logPayment({date:n,rate:this.currentRate,installment:p,reduction:t,interest:a,principal:0,fee:l,num_days:d||null}),this.currentPrincipal=0,this.latestPaymentDate=n};funcPayInstallment=(t,n,a,l=0)=>{let d,p,y,S;if(this.latestCalculatedInterestDate===this.eventArray[t].date?d=0:(y=n.setCurrent(this.latestCalculatedInterestDate).getNext(),S=this.eventArray[t].date,d=this.getPeriodInterests(this.currentPrincipal,this.currentRate,y,S)),a===0?p=0:p=a-d,p<0)throw new Error(`Exception: installment ${this.round(a)} is too small to cover the interest ${this.round(d)}: ${y} - ${S}`);this.sumOfInterests+=d,this.currentPrincipal-=p,this.latestCalculatedInterestDate=this.eventArray[t].date,this.latestPaymentDate=this.eventArray[t].date;const T=Fu(y,S,!1);if(this.currentPrincipal<=0)return this.handleLastPayment(p,this.eventArray[t].date,d,l,T),!1;const _=this.eventArray[t].date.split(".")[2];return this.annualSummaries[_]||(this.annualSummaries[_]={total_principal:0,total_interest:0,total_fees:0}),this.annualSummaries[_].total_principal+=p,this.annualSummaries[_].total_interest+=d,this.annualSummaries[_].total_fees+=l,this.sumOfReductions+=p,this.logPayment({date:this.eventArray[t].date,rate:this.currentRate,installment:p+d,reduction:p,interest:d,principal:this.currentPrincipal,fee:l,was_payed:this.eventArray[t].was_payed,num_days:T}),!0};calculateRecurringAmount=({principal:t,rate:n,startDate:a,endDate:l})=>r_(t,n,a,l);calculateInitialRecurringAmount=t=>this.calculateRecurringAmount({principal:t.principal,rate:t.rate,startDate:t.start_date,endDate:t.end_date});setInit=t=>{if(!(typeof t=="object"&&t!==null))throw new Error("setInit: invalid or missing init_obj");if(this.init.start_date=t.start_date,this.init.end_date=t.end_date,this.init.principal=t.principal,this.init.rate=t.rate,this.init.day_count_method=t.day_count_method||"act/360",t.recurring){if(this.currentRecurringPayment=this.calculateInitialRecurringAmount(t),!t.recurring.first_payment_date)throw new Error("setInit: missing first recurring payment date");if(this.init.first_payment_date=t.recurring.first_payment_date,!fw(t.recurring.payment_day)||t.recurring.payment_day<1||t.recurring.payment_day>31||!Number.isInteger(t.recurring.payment_day))throw new Error("setInit: invalid or missing first payment_day number");this.init.payment_day=t.recurring.payment_day,this.init.payment_method="equal_installment"}else this.currentRecurringPayment=null;this.roundValues=t.round_values!==void 0?t.round_values:!0,this.debugLoggingEnabled=t.debug_logging||!1,this.initialFee=t.initial_fee||0};checkAndAddEvent=t=>{if(!t.hasOwnProperty("date"))throw new Error("checkAndAddEvent: date missing from event");if(this.checkDate(t.date,"event"),t.hasOwnProperty("rate")&&(isNaN(t.rate)||typeof t.rate!="number"))throw new Error(`checkAndAddEvent: invalid rate in event ${t.date}`);if(t.hasOwnProperty("recurring_amount")&&!fw(t.recurring_amount))throw new Error(`checkAndAddEvent: invalid recurring_amount in event ${t.date}`);if(t.hasOwnProperty("pay_installment")){if(typeof t.pay_installment!="number"||t.pay_installment<=0||isNaN(t.pay_installment))throw new Error(`checkAndAddEvent: invalid pay_installment in event ${t.date}`);t.was_payed=!0,t.pay_recurring=!0}if(t.hasOwnProperty("pay_single_fee")&&!fw(t.pay_single_fee))throw new Error(`checkAndAddEvent: invalid pay_single_fee in event ${t.date}`);this.eventArray.push({...t})};moveToNextMondayIfWeekend=t=>{const n=t.getDay();return n===6?t.setDate(t.getDate()+2):n===0&&t.setDate(t.getDate()+1),`${_r(t.getDate())}.${_r(t.getMonth()+1)}.${t.getFullYear()}`};addEvent=t=>{if(!t.hasOwnProperty("date"))throw new Error("addEvent: date missing from event");const n=this.parseDate(t.date);t.date=this.moveToNextMondayIfWeekend(n),this.eventArray.push({...t})};mergeEvents=()=>{this.eventArray.sort(h5);for(let t=0;t<this.eventArray.length-1;t++)this.eventArray[t].hasOwnProperty("rate")&&(this.rateHashMap[Wn(this.eventArray[t].date)]=this.eventArray[t].rate),Wn(this.eventArray[t].date)===Wn(this.eventArray[t+1].date)&&(Object.assign(this.eventArray[t],this.eventArray[t+1]),this.eventArray.splice(t+1,1),t--)};checkFirstPaymentDate=()=>{if(this.checkDate(this.init.first_payment_date,"1st recurring payment"),Wn(this.init.first_payment_date)<=Wn(this.init.start_date))throw new Error("checkFirstPaymentDate: first payment date must be after start date")};generatePaymentEventsTill=(t,n)=>{const a=new QC(this.init.first_payment_date),l=d=>{const p=Wn(d),y=n?Wn(n):null;(!n||p>y)&&this.addEvent({date:d,pay_recurring:!0})};for(l(a.getCurrent());Wn(a.getNthMonthNthDay(this.recurringPaymentPeriod,this.init.payment_day))<=Wn(t);){const d=a.getCurrent();l(d)}};checkEvents=()=>{for(const t of this.eventArray)if(Wn(t.date)<=Wn(this.init.start_date))throw new Error(`checkEvents: event date (${t.date}) before start date not allowed`)};debugLogPeriodStart=(t,n,a,l)=>{this.debugWrite(`New period starts ${t}`),this.debugWrite(`Days in period: ${n}`),this.debugWrite(`Remaining principal: ${this.round(a)}`)};debugLogSubperiod=(t,n,a,l)=>{this.debugWrite(`Subperiod days: ${t}`),this.debugWrite(`Subperiod daily interest: ${this.round(n/t)}`),this.debugWrite(`Subperiod total interest: ${this.round(n)}`),a&&this.debugWrite(`Rate changes ${a}, new rate is ${l}`)};debugLog=(t,n)=>{d5(n)?this.debugWrite(t,this.round(n)):this.debugWrite(t)};debugWrite=(t,n="")=>{this.debugPrintToConsole||this.debugLogArray.push(t+n)};calculateToDate=(t,n,a)=>{let l,d=0;if(typeof this.init.principal!="number"||isNaN(this.init.principal))throw new Error("calculateToDate: principal must be number");if(this.init.principal===0)throw new Error("calculateToDate: principal is missing");if(typeof this.init.rate!="number"||isNaN(this.init.rate))throw new Error("calculateToDate: rate must be number");this.paymentLoggingEnabled=Array.isArray(t),this.debugPrintToConsole=!Array.isArray(n),this.sumOfInterests=0,this.sumOfReductions=0,this.gpiSumOfInterests=0,this.annualSummaries={},this.loggedRateChangeEvents.clear();const p=new QC;if(this.checkDate(this.init.start_date,"start"),this.checkDate(this.init.end_date,"end"),this.currentRecurringPayment!==null&&(this.checkFirstPaymentDate(),this.generatePaymentEventsTill(this.init.end_date,a)),this.addEvent({date:this.init.end_date,ending:!0}),this.mergeEvents(),this.checkEvents(),this.init.day_count_method==="act/360")this.dayCountDivisor=360;else if(this.init.day_count_method==="act/365")this.dayCountDivisor=365;else throw new Error(`invalid day count method: ${this.init.day_count_method}`);this.latestCalculatedInterestDate=p.setCurrent(this.init.start_date).getPrev(),this.latestPeriodEndDate=this.latestCalculatedInterestDate,this.totalNumberOfDays=0,this.gpiTotalDays=0,this.logPayment({date:this.init.start_date,rate:this.init.rate,installment:"-",reduction:"-",interest:"-",principal:this.init.principal,fee:this.initialFee});const y=this.init.start_date.split(".")[2];this.annualSummaries[y]||(this.annualSummaries[y]={total_principal:0,total_interest:0,total_fees:0}),this.annualSummaries[y].total_fees+=this.initialFee,this.currentPrincipal=this.init.principal,this.currentRate=this.init.rate,this.sumOfFees=this.initialFee;for(let _=0;_<this.eventArray.length;_++){const O=this.eventArray[_];if(O.hasOwnProperty("rate")){const L=O.rate,P=typeof this.currentRate=="string"?parseFloat(String(this.currentRate)):Number(this.currentRate),H=typeof L=="number"?L:parseFloat(String(L)),B=!isNaN(P)&&!isNaN(H)&&Math.abs(H-P)>.001;if(!O.hasOwnProperty("pay_recurring")){const F=Wn(O.date);this.loggedRateChangeEvents.has(F)||(this.logPayment({date:O.date,rate:L,installment:"-",reduction:"-",interest:"-",principal:this.currentPrincipal,fee:"-"}),this.loggedRateChangeEvents.add(F))}if(this.currentRecurringPayment!==null&&!O.hasOwnProperty("recurring_amount")&&B&&!O.hasOwnProperty("pay_recurring"))try{const F=typeof this.currentPrincipal=="number"?this.currentPrincipal:parseFloat(String(this.currentPrincipal));if(isNaN(F)||F<=0)throw new Error(`Invalid current principal: ${this.currentPrincipal}`);const W=this.currentRecurringPayment,Y=ZC({currentPrincipal:F,currentPayment:W,oldRate:P,newRate:H,rateChangeDate:O.date,loanEndDate:this.init.end_date,applyPaymentFirst:!1});this.currentRecurringPayment=Y.newPayment,this.debugLoggingEnabled&&this.debugWrite(`[RATE CHANGE] ${O.date}: Rate ${P}% -> ${H}%. Recalculated payment: ${W} -> ${Y.newPayment}. Remaining principal: ${F}, Remaining months: ${Y.remainingMonths}`)}catch(F){this.debugLoggingEnabled&&this.debugWrite(`[RATE CHANGE ERROR] ${O.date}: Failed to recalculate payment. Error: ${F}. Keeping: ${this.currentRecurringPayment}`)}}if(O.hasOwnProperty("recurring_amount")){if(this.currentRecurringPayment===null)throw new Error("Can't do recurring_amount: initial recurring data missing or invalid!");this.currentRecurringPayment=O.recurring_amount}if(O.hasOwnProperty("pay_single_fee")){this.sumOfFees+=O.pay_single_fee,this.currentSingleFee=O.pay_single_fee;const L=O.date.split(".")[2];this.annualSummaries[L]||(this.annualSummaries[L]={total_principal:0,total_interest:0,total_fees:0}),this.annualSummaries[L].total_fees+=O.pay_single_fee}else this.currentSingleFee=0;if(O.hasOwnProperty("payment_method"))if(O.payment_method==="equal_installment")this.init.payment_method="equal_installment";else throw new Error(`invalid payment method in event: ${O.payment_method}`);if(O.hasOwnProperty("pay_recurring")){if(this.currentRecurringPayment===null)throw new Error("Can't do pay_recurring: initial recurring data missing or invalid!");if(this.sumOfFees+=this.currentRecurringFee,this.init.payment_method==="equal_installment"){l=O.hasOwnProperty("pay_installment")?O.pay_installment:this.currentRecurringPayment;const L=typeof this.currentPrincipal=="number"?this.currentPrincipal:parseFloat(String(this.currentPrincipal));if(!this.funcPayInstallment(_,p,l,this.currentRecurringFee))break;if(O.hasOwnProperty("rate")){const P=O.rate,H=typeof P=="number"?P:parseFloat(String(P)),B=typeof this.currentPrincipal=="number"?this.currentPrincipal:parseFloat(String(this.currentPrincipal));if(!O.hasOwnProperty("recurring_amount")&&B<L&&!isNaN(B)&&B>0)try{const F=typeof this.currentRate=="string"?parseFloat(String(this.currentRate)):Number(this.currentRate),W=this.currentRecurringPayment,Y=ZC({currentPrincipal:B,currentPayment:W,oldRate:F,newRate:H,rateChangeDate:O.date,loanEndDate:this.init.end_date,applyPaymentFirst:!1});this.currentRecurringPayment=Y.newPayment,this.debugLoggingEnabled&&this.debugWrite(`[RATE CHANGE WITH PAYMENT] ${O.date}: Applied payment ${l} with OLD rate ${F}%. Principal: ${L} -> ${B}. Recalculated payment with NEW rate ${H}%: ${W} -> ${Y.newPayment}. Remaining months: ${Y.remainingMonths}`)}catch(F){this.debugLoggingEnabled&&this.debugWrite(`[RATE CHANGE WITH PAYMENT ERROR] ${O.date}: Failed to recalculate payment after applying payment. Error: ${F}. Keeping: ${this.currentRecurringPayment}`)}}}else throw new Error(`invalid payment method: ${this.init.payment_method}`)}if(this.currentSingleFee&&!O.hasOwnProperty("ending")){let L=this.currentRate;const P=this.getLastRateEventOnOrBeforeDate(O.date);P&&P.rate!==void 0&&(L=P.rate),this.logPayment({date:O.date,rate:L,installment:"-",reduction:"-",interest:"-",principal:this.currentPrincipal,fee:this.currentSingleFee}),this.currentSingleFee=0}if(O.hasOwnProperty("ending")){if(!O.hasOwnProperty("pay_recurring")&&!O.hasOwnProperty("pay_installment")){d=this.getPeriodInterests(this.currentPrincipal,this.currentRate,p.setCurrent(this.latestCalculatedInterestDate).getNext(),O.date),this.sumOfInterests+=d;const L=Fu(p.setCurrent(this.latestCalculatedInterestDate).getNext(),O.date),P=O.date.split(".")[2];this.annualSummaries[P]||(this.annualSummaries[P]={total_principal:0,total_interest:0,total_fees:0}),this.annualSummaries[P].total_interest+=d,this.annualSummaries[P].total_principal+=this.currentPrincipal,this.logPayment({date:O.date,rate:this.currentRate,installment:"-",reduction:"-",interest:d,principal:this.currentPrincipal,fee:this.currentSingleFee,num_days:L}),this.latestCalculatedInterestDate=this.init.end_date}else this.latestCalculatedInterestDate=this.latestPaymentDate;break}}if(Math.abs(this.gpiSumOfInterests-this.sumOfInterests)>1e-10)throw new Error(`Sum of interests mismatch: ${this.gpiSumOfInterests} vs. ${this.sumOfInterests}`);if(this.gpiTotalDays!==this.totalNumberOfDays)throw new Error(`Day count mismatch, gpiTotalDays: ${this.gpiTotalDays} totalNumberOfDays: ${this.totalNumberOfDays}`);this.paymentLoggingEnabled&&t&&t.push(...this.paymentLogArray),this.debugLoggingEnabled&&!this.debugPrintToConsole&&n&&n.push(...this.debugLogArray);let T=0;return this.paymentLogArray&&this.paymentLogArray.length>0&&this.paymentLogArray.forEach(_=>{if(_.was_payed===!0&&_.interest!==void 0&&_.interest!==null&&_.interest!=="-"){const O=typeof _.interest=="string"?parseFloat(_.interest)||0:_.interest||0;T+=O}}),[this.sumOfInterests,this.sumOfReductions,this.currentPrincipal,this.latestCalculatedInterestDate,this.latestPaymentDate,d,this.sumOfFees,this.annualSummaries,T]}}function p5(){return{calculate:function(e,t,n,a){const l=new f5;l.setInit(e);let d=[],p;if(t){const K=t.filter(re=>re.pay_installment!==void 0&&!re.isSimulatedPayment).sort((re,ue)=>l.parseDate(ue.date).getTime()-l.parseDate(re.date).getTime())[0];p=K?K.date:void 0,d=t.slice()}for(;d[0];)l.checkAndAddEvent(d.shift());let y,S,T,_,O,L,P,H,B;try{[y,S,T,_,O,L,P,H,B]=l.calculateToDate(n,a,p)}catch(Y){throw Y}let F;if(e.hasOwnProperty("round_values"))if(e.round_values){F=xi(y+S-L),y=xi(y),S=xi(S),T=xi(T),L=xi(L),P=xi(P),B=xi(B);for(const Y in H)H[Y].total_principal=xi(H[Y].total_principal),H[Y].total_interest=xi(H[Y].total_interest),H[Y].total_fees=xi(H[Y].total_fees)}else F=y+S-L;else{F=xi(y+S-L),y=xi(y),S=xi(S),T=xi(T),L=xi(L),P=xi(P),B=xi(B);for(const Y in H)H[Y].total_principal=xi(H[Y].total_principal),H[Y].total_interest=xi(H[Y].total_interest),H[Y].total_fees=xi(H[Y].total_fees)}const W=.01;if(Math.abs(T)>W){const Y=`[BALANCE VALIDATION WARNING] Final remaining balance (${T}) is outside tolerance (${W}). Expected: 0  ${W}`;e.debug_logging&&a&&a.push(Y)}if(B<0){const Y=`[INTEREST VALIDATION WARNING] Total interest paid (${B}) is negative. This is unexpected.`;e.debug_logging&&a&&a.push(Y)}return{sum_of_interests:y,sum_of_reductions:S,sum_of_installments:F,remaining_principal:T,days_calculated:l.totalNumberOfDays,actual_end_date:iS(_),latest_payment_date:iS(O),unpaid_interest:L,interest_paid:B,sum_of_fees:P,annual_summaries:H}}}}function a_(e){if(!e?.sdt||!e?.edt)return null;const t=qh(e.sdt),n=qh(e.edt),a=ao(e.fp??0),l=ao(e.fr??0),d={start_date:t,end_date:n,principal:a,rate:l,day_count_method:"act/365"};return e.fif!=null&&e.fif!==""&&(d.initial_fee=ao(e.fif)),e.pdt&&e.frpd!=null&&(d.recurring={first_payment_date:qh(e.pdt),payment_day:ao(e.frpd)}),d}function s_(e){return e?.length?e.map(t=>{const n={date:qh(t.fdt??""),isSimulatedPayment:Number(t.fisp??0)!==0};return t.fr!=null&&t.fr!==""&&(n.rate=ao(t.fr)),t.fpi!=null&&t.fpi!==""&&(n.pay_installment=ao(t.fpi)),t.fpsf!=null&&t.fpsf!==""&&(n.pay_single_fee=ao(t.fpsf)),t.fnra!=null&&t.fnra!==""&&(n.recurring_amount=ao(t.fnra)),t.title!=null&&(n.title=t.title),n}):[]}const g5=["anticipat","avans","nainte","inainte","prematur","extra","suplimentar","early","advance","premature","additional"];function KC(e){const t=(e.title??"").toString().toLowerCase();return g5.some(n=>t.includes(n))}function o_(e,t){const n=[];return{paydown:p5().calculate(e,t,n),schedule:n}}const aS=({formType:e,values:t={},onSuccess:n=()=>{},hideSubmitButton:a=!1,onFormReady:l})=>{const{t:d}=bn(),p=wc(),{dataDispatch:y}=um(),S={title:"",field_principal:"",field_start_date:new Date().toISOString().slice(0,10),field_end_date:new Date().toISOString().slice(0,10),field_rate:"",field_initial_fee:"",field_rec_first_payment_date:"",field_recurring_payment_day:"",field_loan_status:"draft"},{formState:T,isSubmitting:_,handleChange:O,handleSubmit:L}=Hb({formType:e,initialState:S,values:t,nodeType:"loan",onSuccess:n,dataDispatch:y,useFetchRequest:!1,buildNodeData:$=>({title:[$.title],field_principal:[$.field_principal],field_start_date:[$.field_start_date],field_end_date:[$.field_end_date],field_rate:[$.field_rate],field_initial_fee:[$.field_initial_fee],field_rec_first_payment_date:[$.field_rec_first_payment_date],field_recurring_payment_day:[$.field_recurring_payment_day],field_loan_status:[$.field_loan_status]}),successMessageKeys:{add:"notification.loanAdded",edit:"notification.loanUpdated"}}),P={title:{required:!0},field_principal:{required:!0,custom:$=>{if(!$)return!1;const K=parseFloat(String($));return!isNaN(K)&&K>0}},field_rate:{required:!0,custom:$=>{if(!$)return!1;const K=parseFloat(String($));return!isNaN(K)&&K>=0}},field_start_date:{required:!0},field_end_date:{required:!0,custom:($,K)=>{if(!$)return!1;const re=K||T;if(!re||!re.field_start_date)return!0;const ue=new Date($),X=new Date(re.field_start_date);return ue>X}},field_initial_fee:{required:!1,custom:$=>{if(!$)return!1;const K=String($).trim();if(K==="")return!1;const re=parseFloat(K);return!isNaN(re)&&re>=0}},field_rec_first_payment_date:{required:!1,custom:($,K)=>{if(!$)return!0;const re=K||T;if(!re||!re.field_start_date||!re.field_end_date)return!0;const ue=new Date($),X=new Date(re.field_start_date),ie=new Date(re.field_end_date);return ue>=X&&ue<=ie}},field_recurring_payment_day:{required:!1,custom:$=>{if(!$)return!0;const K=String($).trim();if(K==="")return!0;const re=parseInt(K);return!isNaN(re)&&re>=1&&re<=31}},field_loan_status:{required:!0}},{getFieldValidation:H}=Ub(P),B=[{value:"in_progress",label:d("common.active")},{value:"draft",label:d("common.pending")},{value:"completed",label:d("common.completed")}],F=G.useRef(null),W=G.useRef(null);G.useEffect(()=>{if(F.current&&T.field_start_date){const $=new Date(T.field_start_date);$.setDate($.getDate()+1),F.current.min=$.toISOString().split("T")[0]}},[T.field_start_date]),G.useEffect(()=>{W.current&&(T.field_start_date&&(W.current.min=T.field_start_date),T.field_end_date&&(W.current.max=T.field_end_date))},[T.field_start_date,T.field_end_date]);const Y=$=>{if($.preventDefault(),T.field_end_date&&T.field_start_date){const K=new Date(T.field_end_date),re=new Date(T.field_start_date);if(K<=re){p(d("loanForm.endDateMustBeAfterStartDate"),Cn.ERROR);return}}if(T.field_rec_first_payment_date&&T.field_start_date&&T.field_end_date){const K=new Date(T.field_rec_first_payment_date),re=new Date(T.field_start_date),ue=new Date(T.field_end_date);if(K<re||K>ue){p(d("loanForm.firstPaymentDateMustBeBetweenStartAndEnd"),Cn.ERROR);return}}L($)};return Ge.useEffect(()=>{l&&l(()=>{const $=document.querySelector(".loan-form");$&&$.requestSubmit()},_)},[l,_]),D.jsx("div",{className:"loan-form-container",children:D.jsxs("form",{id:`loan-form-${e}`,className:"loan-form",onSubmit:Y,children:[D.jsx(_i,{name:"title",type:"text",label:d("loanForm.loanTitle"),value:T.title,onChange:O,required:!0,placeholder:d("loanForm.enterLoanTitle"),isValid:H("title",T)}),D.jsxs("div",{className:"form-row",children:[D.jsx(_i,{name:"field_principal",type:"number",label:d("loanForm.principalAmount"),value:T.field_principal,onChange:O,required:!0,step:"0.01",min:"0",isValid:H("field_principal",T)}),D.jsx(_i,{name:"field_rate",type:"number",label:d("loanForm.interestRate"),value:T.field_rate,onChange:O,required:!0,step:"0.01",min:"0",isValid:H("field_rate",T)})]}),D.jsxs("div",{className:"form-row",children:[D.jsx(_i,{name:"field_start_date",type:"date",label:d("loanForm.startDate"),value:T.field_start_date,onChange:O,required:!0,isValid:H("field_start_date",T)}),D.jsx(_i,{name:"field_end_date",type:"date",label:d("loanForm.endDate"),value:T.field_end_date,onChange:O,required:!0,inputRef:F,isValid:H("field_end_date",T)})]}),D.jsx(_i,{name:"field_initial_fee",type:"number",label:d("loanForm.initialFee"),value:T.field_initial_fee,onChange:O,step:"0.01",min:"0",isValid:H("field_initial_fee",T)}),D.jsxs("div",{className:"form-row",children:[D.jsx(_i,{name:"field_rec_first_payment_date",type:"date",label:d("loanForm.firstPaymentDate"),value:T.field_rec_first_payment_date,onChange:O,inputRef:W,isValid:H("field_rec_first_payment_date",T)}),D.jsx(_i,{name:"field_recurring_payment_day",type:"number",label:d("loanForm.paymentDayOfMonth"),value:T.field_recurring_payment_day,onChange:O,min:"1",max:"31",isValid:H("field_recurring_payment_day",T)})]}),D.jsxs("div",{className:"form-group required",children:[D.jsx("label",{children:d("loanForm.loanStatus")}),D.jsx("div",{className:"input-wrapper",children:D.jsx("select",{required:!0,name:"field_loan_status",value:T.field_loan_status,onChange:O,className:`form-input ${H("field_loan_status",T)?"valid":""}`,children:B.map($=>D.jsx("option",{value:$.value,children:$.label},$.value))})})]}),!a&&D.jsx("div",{className:"form-actions-sticky",children:D.jsx("button",{type:"submit",disabled:_,className:"btn-submit",children:_?D.jsxs("div",{className:"loader",children:[D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"})]}):d(e==="add"?"common.add":"common.save")})})]})})},JC=["active","pending","completed"],m5=({loans:e,onEdit:t,onDelete:n,getStatus:a,getStatusText:l,getProgress:d,statusFilter:p,onStatusFilterChange:y,pendingSyncIds:S})=>{const T=G.useRef(null),[_,O]=G.useState("status"),[L,P]=G.useState("asc"),[H,B]=G.useState("all"),F=p!==void 0?p:H,W=oe=>{y?y(oe):B(oe)},{handleTouchStart:Y,handleTouchMove:$,handleTouchEnd:K,deleteVisible:re,editVisible:ue,swipedItemId:X}=Vb(),ie=oe=>{_===oe?P(L==="asc"?"desc":"asc"):(O(oe),P("asc"))},be=[...e.filter(oe=>F==="all"?!0:a(oe)===F)].sort((oe,Ee)=>{if(!_)return 0;let Ie,Ye;if(_==="title")Ie=oe.title?.toLowerCase()||"",Ye=Ee.title?.toLowerCase()||"";else if(_==="principal")Ie=parseFloat(oe.fp||"0"),Ye=parseFloat(Ee.fp||"0");else if(_==="status")Ie=JC.indexOf(a(oe)),Ye=JC.indexOf(a(Ee));else return 0;return Ie<Ye?L==="asc"?-1:1:Ie>Ye?L==="asc"?1:-1:0}),le=oe=>_!==oe?D.jsx(Pb,{}):L==="asc"?D.jsx(Lb,{}):D.jsx(Nb,{}),ye="rounded-lg py-2 px-4 text-app-muted text-sm cursor-pointer flex items-center gap-2 transition-all duration-200 bg-app-surface border-none hover:bg-app-surface-hover hover:text-app-secondary [&_svg]:text-sm",De="bg-[color-mix(in_srgb,var(--color-app-accent)_20%,transparent)] text-[var(--color-app-accent)] font-medium",Fe={active:"#4F8CFF",completed:"#22c55e",pending:"#94a3b8"},$e=oe=>{const Ee=Fe[oe]??Fe.pending;return{color:Ee,borderColor:`color-mix(in srgb, ${Ee} 55%, transparent)`,backgroundColor:Ee}};return D.jsxs("div",{className:"flex flex-col gap-2 w-full max-w-full relative overflow-x-hidden overflow-y-auto touch-pan-y",style:{WebkitOverflowScrolling:"touch",touchAction:"pan-y pinch-zoom"},ref:T,children:[D.jsxs("div",{className:"sticky top-0 z-10 flex flex-wrap gap-2 mb-3 items-center justify-between py-2 px-0 bg-transparent",children:[D.jsxs("div",{className:"inline-flex gap-2 items-center",children:[D.jsxs("button",{type:"button",className:`${ye} ${_==="title"?De:""}`,onClick:()=>ie("title"),"aria-label":"Sort by title",children:[D.jsx(_O,{}),_==="title"&&le("title")]}),D.jsxs("button",{type:"button",className:`${ye} ${_==="principal"?De:""}`,onClick:()=>ie("principal"),"aria-label":"Sort by amount",children:[D.jsx(vO,{}),_==="principal"&&le("principal")]}),D.jsxs("button",{type:"button",className:`${ye} ${_==="status"?De:""}`,onClick:()=>ie("status"),"aria-label":"Sort by status",children:[D.jsx(wS,{}),_==="status"&&le("status")]})]}),D.jsxs("div",{className:"inline-flex items-center gap-1.5 py-2 px-4 rounded-lg text-app-muted text-sm bg-app-surface border-none cursor-pointer hover:bg-app-surface-hover hover:text-app-secondary [&_svg]:text-sm",children:[D.jsx(MO,{}),D.jsxs("select",{value:F,onChange:oe=>W(oe.target.value),"aria-label":"Filter by status",className:"bg-transparent border-none text-app-primary text-[0.9rem] font-semibold outline-none cursor-pointer pr-1.5",children:[D.jsx("option",{value:"all",children:"All"}),D.jsx("option",{value:"active",children:"Active"}),D.jsx("option",{value:"pending",children:"Pending"}),D.jsx("option",{value:"completed",children:"Completed"})]})]})]}),be.map(oe=>{const Ee=a(oe),Ie=l(Ee),je=$e(Ee==="active"||Ee==="completed"||Ee==="pending"?Ee:"pending"),Re=d(oe),ge=X===oe.id,Ae=!!S?.[oe.id]||typeof oe.id=="string"&&oe.id.startsWith("temp_");return D.jsxs("div",{className:"relative w-full rounded-2xl overflow-hidden",children:[D.jsxs("div",{className:`swipe-actions-background rounded-2xl ${ge&&(re||ue)?"visible":""}`,children:[ge&&re&&D.jsx("div",{className:"delete-action-bg",children:D.jsx(nf,{})}),ge&&ue&&D.jsx("div",{className:"edit-action-bg",children:D.jsx(ys,{})})]}),D.jsx(Vh,{to:"/expenses/loan/$id",params:{id:String(oe.id)},"data-id":oe.id,className:"bg-app-surface rounded-2xl py-4 pr-6 pl-4 flex items-stretch gap-4 relative z-[1] no-underline cursor-pointer w-full min-h-0 touch-pan-y overflow-hidden transition-all duration-200 hover:bg-app-surface-hover hover:translate-x-1 active:scale-[0.98]",style:{WebkitOverflowScrolling:"touch",touchAction:"pan-y pan-x pinch-zoom"},onTouchStart:Be=>Y(Be,oe.id,T),onTouchMove:Be=>$(Be,T),onTouchEnd:Be=>K(Be,T,oe.id,t,n),children:D.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-2.5 relative z-[1]",children:[D.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[D.jsx("div",{className:"text-[0.96rem] font-semibold text-app-primary leading-tight break-words",children:oe.title??""}),D.jsx("div",{className:"py-0.5 px-2.5 rounded-full text-[0.75rem] font-bold uppercase tracking-wide whitespace-nowrap border bg-transparent",style:{color:je.color,borderColor:je.borderColor},children:Ie})]}),D.jsx("div",{className:"text-[1.4rem] font-bold text-app-primary",children:Tt(oe.fp??"")}),D.jsx(Wb,{status:Ae?"pending":void 0}),D.jsxs("div",{className:"flex items-center gap-2.5 w-full",children:[D.jsx("div",{className:"flex-1 h-1 bg-app-surface rounded-full overflow-hidden relative",children:D.jsx("span",{className:"block h-full rounded-full transition-[width] duration-300 ease-out",style:{width:`${Math.min(Re,100)}%`,backgroundColor:je.backgroundColor}})}),D.jsxs("div",{className:"text-[0.76rem] font-semibold whitespace-nowrap",style:{color:je.color},children:[Math.round(Re),"%"]})]})]})})]},oe.id)})]})},y5=()=>{const{data:e,dataDispatch:t}=um(),{token:n}=nl(),{t:a}=bn(),l=cf(),d=im(),p=wc(),[y,S]=G.useState(!1),[T,_]=G.useState(!1),[O,L]=G.useState(!1),[P,H]=G.useState({}),[B,F]=G.useState(!1),[W,Y]=G.useState(!1),[$,K]=G.useState(!1),[re,ue]=G.useState("all"),{loans:X,loading:ie,payments:pe}=e,be=Wg(["loan"]);Wg(["payment"]),G.useEffect(()=>{!X&&d&&Qo(d,t)},[X,d,t]);const le=ge=>{const Ae=X?.find(Be=>Be.id===ge);Ae&&(H({nid:Ae.id,title:Ae.title,field_principal:Ae.fp,field_start_date:Ae.sdt,field_end_date:Ae.edt,field_rate:Ae.fr,field_initial_fee:Ae.fif,field_rec_first_payment_date:Ae.pdt,field_recurring_payment_day:Ae.frpd,field_loan_status:Ae.fls}),_(!0))},ye=ge=>{const Ae=X?.find(Be=>Be.id===ge);H(Ae??{}),L(!0)},De=()=>{F(!0);const ge="id"in P?P.id:"";fk(ge,n,t,l,()=>{F(!1),L(!1),p(a("notification.loanDeleted"),Cn.SUCCESS),navigator.onLine&&d&&Qo(d,t)})},Fe=ge=>ww(ge?.fls),$e=ge=>{switch(ge){case"completed":return a("common.completed");case"active":return a("common.active");case"pending":return a("common.pending");default:return a("common.status")}},oe=G.useMemo(()=>{const ge=new Map;if(!X?.length||!pe?.length)return ge;const Ae=pe;for(const Be of X){const Xe=ww(Be?.fls);if(Xe==="completed"){ge.set(Be.id,{paydown:{sum_of_installments:1},totalPaidAmount:1});continue}if(Xe==="pending"){ge.set(Be.id,{paydown:{sum_of_installments:0},totalPaidAmount:0});continue}const Ke=Ae.find(tt=>tt?.loanId===Be.id&&tt?.data?.length>0);if(!Ke?.data?.length){ge.set(Be.id,{paydown:{sum_of_installments:0},totalPaidAmount:0});continue}const Ze=a_(Be);if(!Ze){ge.set(Be.id,{paydown:{sum_of_installments:0},totalPaidAmount:0});continue}const Ve=s_(Ke.data);try{const{paydown:tt}=o_(Ze,Ve),Qe=Ke.data.reduce((_t,ce)=>_t+parseFloat(String(ce.fpi??"0")),0);ge.set(Be.id,{paydown:tt,totalPaidAmount:Qe})}catch{ge.set(Be.id,{paydown:{sum_of_installments:0},totalPaidAmount:0})}}return ge},[X,pe]),Ee=ge=>{const Ae=Fe(ge);if(Ae==="completed")return 100;if(Ae==="pending")return 0;const Be=oe.get(ge.id);if(!Be)return 0;const{paydown:Xe,totalPaidAmount:Ke}=Be,Ze=Xe.sum_of_installments||0;return Ze===0?0:Math.max(0,Math.min(100,Ke/Ze*100))},Ie=G.useMemo(()=>{if(!X)return[];let ge=X;return re!=="all"&&(ge=X.filter(Ae=>Fe(Ae)===re)),ge},[X,re]),Ye=Ie?.length||0,je=Ie?.filter(ge=>Fe(ge)==="active").length||0,Re=Ie?.filter(ge=>Fe(ge)==="completed").length||0;return ie?D.jsx("div",{className:mc,children:D.jsx(id,{})}):D.jsxs("div",{className:mc,children:[D.jsx(ES,{title:a("loans.title"),subtitle:`${Ye} ${a(Ye===1?"loans.loan":"loans.loans")}`}),D.jsxs("div",{className:"hidden",children:[D.jsxs("div",{className:"stat-item",children:[D.jsx("span",{className:"stat-value",children:Tt(Ye)}),D.jsx("span",{className:"stat-label",children:a("common.total")})]}),D.jsxs("div",{className:"stat-item",children:[D.jsx("span",{className:"stat-value",children:Tt(je)}),D.jsx("span",{className:"stat-label",children:a("loans.active")})]}),D.jsxs("div",{className:"stat-item",children:[D.jsx("span",{className:"stat-value",children:Tt(Re)}),D.jsx("span",{className:"stat-label",children:a("common.completed")})]})]}),D.jsx("div",{className:"mb-8",children:Ie.length===0?D.jsx(rf,{icon:D.jsx(xS,{}),title:a("loans.noLoans"),description:re!=="all"?`${a("loans.noLoansWithStatus")} "${$e(re)}".`:a("loans.noLoansDesc"),action:re!=="all"?{label:a("loans.showAllLoans"),onClick:()=>ue("all")}:void 0}):D.jsx(m5,{loans:X||[],onEdit:le,onDelete:ye,getStatus:Fe,getStatusText:$e,getProgress:Ee,statusFilter:re,onStatusFilterChange:ue,pendingSyncIds:be})}),D.jsx(so,{show:y,onClose:ge=>{ge.preventDefault(),S(!1)},title:a("loan.addLoan"),footer:D.jsx("button",{type:"submit",form:"loan-form-add",disabled:W,className:"btn-submit",children:W?D.jsxs("div",{className:"loader",children:[D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"})]}):D.jsxs(D.Fragment,{children:[D.jsx(ps,{}),D.jsx("span",{children:a("loan.addLoan")})]})}),children:D.jsx(aS,{formType:"add",values:{nid:"",title:"",field_principal:"",field_start_date:"",field_end_date:"",field_rate:"",field_initial_fee:"",field_rec_first_payment_date:"",field_recurring_payment_day:""},hideSubmitButton:!0,onFormReady:(ge,Ae)=>{Y(Ae)},onSuccess:()=>{S(!1),navigator.onLine&&d&&Qo(d,t)}})}),D.jsx(so,{show:T,onClose:ge=>{ge.preventDefault(),_(!1)},title:a("loan.editLoan"),footer:D.jsx("button",{type:"submit",form:"loan-form-edit",disabled:$,className:"btn-submit",children:$?D.jsxs("div",{className:"loader",children:[D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"})]}):D.jsxs(D.Fragment,{children:[D.jsx(ys,{}),D.jsx("span",{children:a("loan.editLoan")})]})}),children:D.jsx(aS,{formType:"edit",values:P,hideSubmitButton:!0,onFormReady:(ge,Ae)=>{K(Ae)},onSuccess:()=>{_(!1),navigator.onLine&&d&&Qo(d,t)}})}),D.jsx(Fb,{open:O,onClose:()=>L(!1),onConfirm:De,title:a("loan.deleteLoan"),message:a("modal.deleteLoanMessage"),isSubmitting:B}),D.jsx("button",{onClick:()=>S(!0),className:"fab",title:a("loan.addLoan"),children:D.jsx(ps,{})})]})},v5=({data:e})=>{const t=em(),{t:n}=bn(),{principal:a,sumOfInterest:l,sumInstallments:d}=e,p={chart:{type:"column"},title:{text:n("loan.loanCostBreakdown")},xAxis:{categories:[n("loan.principal"),n("loan.interests"),n("loan.installments")]},yAxis:{min:0,title:{text:t}},tooltip:{valueDecimals:2},legend:{enabled:!1},series:[{name:n("common.total"),colorByPoint:!0,data:[a,l,d]}]};return D.jsx(Vg,{highcharts:Qh,options:p})};function dc(e,t){return typeof e=="function"?e(t):e}function xa(e,t){return n=>{t.setState(a=>({...a,[e]:dc(n,a[e])}))}}function r0(e){return e instanceof Function}function b5(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function x5(e,t){const n=[],a=l=>{l.forEach(d=>{n.push(d);const p=t(d);p!=null&&p.length&&a(p)})};return a(e),n}function Et(e,t,n){let a=[],l;return d=>{let p;n.key&&n.debug&&(p=Date.now());const y=e(d);if(!(y.length!==a.length||y.some((_,O)=>a[O]!==_)))return l;a=y;let T;if(n.key&&n.debug&&(T=Date.now()),l=t(...y),n==null||n.onChange==null||n.onChange(l),n.key&&n.debug&&n!=null&&n.debug()){const _=Math.round((Date.now()-p)*100)/100,O=Math.round((Date.now()-T)*100)/100,L=O/16,P=(H,B)=>{for(H=String(H);H.length<B;)H=" "+H;return H};console.info(`%c ${P(O,5)} /${P(_,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*L,120))}deg 100% 31%);`,n?.key)}return l}}function At(e,t,n,a){return{debug:()=>{var l;return(l=e?.debugAll)!=null?l:e[t]},key:!1,onChange:a}}function w5(e,t,n,a){const l=()=>{var p;return(p=d.getValue())!=null?p:e.options.renderFallbackValue},d={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(a),renderValue:l,getContext:Et(()=>[e,n,t,d],(p,y,S,T)=>({table:p,column:y,row:S,cell:T,getValue:T.getValue,renderValue:T.renderValue}),At(e.options,"debugCells"))};return e._features.forEach(p=>{p.createCell==null||p.createCell(d,n,t,e)},{}),d}function S5(e,t,n,a){var l,d;const y={...e._getDefaultColumnDef(),...t},S=y.accessorKey;let T=(l=(d=y.id)!=null?d:S?typeof String.prototype.replaceAll=="function"?S.replaceAll(".","_"):S.replace(/\./g,"_"):void 0)!=null?l:typeof y.header=="string"?y.header:void 0,_;if(y.accessorFn?_=y.accessorFn:S&&(S.includes(".")?_=L=>{let P=L;for(const B of S.split(".")){var H;P=(H=P)==null?void 0:H[B]}return P}:_=L=>L[y.accessorKey]),!T)throw new Error;let O={id:`${String(T)}`,accessorFn:_,parent:a,depth:n,columnDef:y,columns:[],getFlatColumns:Et(()=>[!0],()=>{var L;return[O,...(L=O.columns)==null?void 0:L.flatMap(P=>P.getFlatColumns())]},At(e.options,"debugColumns")),getLeafColumns:Et(()=>[e._getOrderColumnsFn()],L=>{var P;if((P=O.columns)!=null&&P.length){let H=O.columns.flatMap(B=>B.getLeafColumns());return L(H)}return[O]},At(e.options,"debugColumns"))};for(const L of e._features)L.createColumn==null||L.createColumn(O,e);return O}const dr="debugHeaders";function e1(e,t,n){var a;let d={id:(a=n.id)!=null?a:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const p=[],y=S=>{S.subHeaders&&S.subHeaders.length&&S.subHeaders.map(y),p.push(S)};return y(d),p},getContext:()=>({table:e,header:d,column:t})};return e._features.forEach(p=>{p.createHeader==null||p.createHeader(d,e)}),d}const E5={createTable:e=>{e.getHeaderGroups=Et(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,a,l)=>{var d,p;const y=(d=a?.map(O=>n.find(L=>L.id===O)).filter(Boolean))!=null?d:[],S=(p=l?.map(O=>n.find(L=>L.id===O)).filter(Boolean))!=null?p:[],T=n.filter(O=>!(a!=null&&a.includes(O.id))&&!(l!=null&&l.includes(O.id)));return Uv(t,[...y,...T,...S],e)},At(e.options,dr)),e.getCenterHeaderGroups=Et(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,a,l)=>(n=n.filter(d=>!(a!=null&&a.includes(d.id))&&!(l!=null&&l.includes(d.id))),Uv(t,n,e,"center")),At(e.options,dr)),e.getLeftHeaderGroups=Et(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,a)=>{var l;const d=(l=a?.map(p=>n.find(y=>y.id===p)).filter(Boolean))!=null?l:[];return Uv(t,d,e,"left")},At(e.options,dr)),e.getRightHeaderGroups=Et(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,a)=>{var l;const d=(l=a?.map(p=>n.find(y=>y.id===p)).filter(Boolean))!=null?l:[];return Uv(t,d,e,"right")},At(e.options,dr)),e.getFooterGroups=Et(()=>[e.getHeaderGroups()],t=>[...t].reverse(),At(e.options,dr)),e.getLeftFooterGroups=Et(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),At(e.options,dr)),e.getCenterFooterGroups=Et(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),At(e.options,dr)),e.getRightFooterGroups=Et(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),At(e.options,dr)),e.getFlatHeaders=Et(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),At(e.options,dr)),e.getLeftFlatHeaders=Et(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),At(e.options,dr)),e.getCenterFlatHeaders=Et(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),At(e.options,dr)),e.getRightFlatHeaders=Et(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),At(e.options,dr)),e.getCenterLeafHeaders=Et(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var a;return!((a=n.subHeaders)!=null&&a.length)}),At(e.options,dr)),e.getLeftLeafHeaders=Et(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var a;return!((a=n.subHeaders)!=null&&a.length)}),At(e.options,dr)),e.getRightLeafHeaders=Et(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var a;return!((a=n.subHeaders)!=null&&a.length)}),At(e.options,dr)),e.getLeafHeaders=Et(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,a)=>{var l,d,p,y,S,T;return[...(l=(d=t[0])==null?void 0:d.headers)!=null?l:[],...(p=(y=n[0])==null?void 0:y.headers)!=null?p:[],...(S=(T=a[0])==null?void 0:T.headers)!=null?S:[]].map(_=>_.getLeafHeaders()).flat()},At(e.options,dr))}};function Uv(e,t,n,a){var l,d;let p=0;const y=function(L,P){P===void 0&&(P=1),p=Math.max(p,P),L.filter(H=>H.getIsVisible()).forEach(H=>{var B;(B=H.columns)!=null&&B.length&&y(H.columns,P+1)},0)};y(e);let S=[];const T=(L,P)=>{const H={depth:P,id:[a,`${P}`].filter(Boolean).join("_"),headers:[]},B=[];L.forEach(F=>{const W=[...B].reverse()[0],Y=F.column.depth===H.depth;let $,K=!1;if(Y&&F.column.parent?$=F.column.parent:($=F.column,K=!0),W&&W?.column===$)W.subHeaders.push(F);else{const re=e1(n,$,{id:[a,P,$.id,F?.id].filter(Boolean).join("_"),isPlaceholder:K,placeholderId:K?`${B.filter(ue=>ue.column===$).length}`:void 0,depth:P,index:B.length});re.subHeaders.push(F),B.push(re)}H.headers.push(F),F.headerGroup=H}),S.push(H),P>0&&T(B,P-1)},_=t.map((L,P)=>e1(n,L,{depth:p,index:P}));T(_,p-1),S.reverse();const O=L=>L.filter(H=>H.column.getIsVisible()).map(H=>{let B=0,F=0,W=[0];H.subHeaders&&H.subHeaders.length?(W=[],O(H.subHeaders).forEach($=>{let{colSpan:K,rowSpan:re}=$;B+=K,W.push(re)})):B=1;const Y=Math.min(...W);return F=F+Y,H.colSpan=B,H.rowSpan=F,{colSpan:B,rowSpan:F}});return O((l=(d=S[0])==null?void 0:d.headers)!=null?l:[]),S}const A5=(e,t,n,a,l,d,p)=>{let y={id:t,index:a,original:n,depth:l,parentId:p,_valuesCache:{},_uniqueValuesCache:{},getValue:S=>{if(y._valuesCache.hasOwnProperty(S))return y._valuesCache[S];const T=e.getColumn(S);if(T!=null&&T.accessorFn)return y._valuesCache[S]=T.accessorFn(y.original,a),y._valuesCache[S]},getUniqueValues:S=>{if(y._uniqueValuesCache.hasOwnProperty(S))return y._uniqueValuesCache[S];const T=e.getColumn(S);if(T!=null&&T.accessorFn)return T.columnDef.getUniqueValues?(y._uniqueValuesCache[S]=T.columnDef.getUniqueValues(y.original,a),y._uniqueValuesCache[S]):(y._uniqueValuesCache[S]=[y.getValue(S)],y._uniqueValuesCache[S])},renderValue:S=>{var T;return(T=y.getValue(S))!=null?T:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>x5(y.subRows,S=>S.subRows),getParentRow:()=>y.parentId?e.getRow(y.parentId,!0):void 0,getParentRows:()=>{let S=[],T=y;for(;;){const _=T.getParentRow();if(!_)break;S.push(_),T=_}return S.reverse()},getAllCells:Et(()=>[e.getAllLeafColumns()],S=>S.map(T=>w5(e,y,T,T.id)),At(e.options,"debugRows")),_getAllCellsByColumnId:Et(()=>[y.getAllCells()],S=>S.reduce((T,_)=>(T[_.column.id]=_,T),{}),At(e.options,"debugRows"))};for(let S=0;S<e._features.length;S++){const T=e._features[S];T==null||T.createRow==null||T.createRow(y,e)}return y},C5={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},l_=(e,t,n)=>{var a,l;const d=n==null||(a=n.toString())==null?void 0:a.toLowerCase();return!!(!((l=e.getValue(t))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(d))};l_.autoRemove=e=>ms(e);const c_=(e,t,n)=>{var a;return!!(!((a=e.getValue(t))==null||(a=a.toString())==null)&&a.includes(n))};c_.autoRemove=e=>ms(e);const u_=(e,t,n)=>{var a;return((a=e.getValue(t))==null||(a=a.toString())==null?void 0:a.toLowerCase())===n?.toLowerCase()};u_.autoRemove=e=>ms(e);const d_=(e,t,n)=>{var a;return(a=e.getValue(t))==null?void 0:a.includes(n)};d_.autoRemove=e=>ms(e);const h_=(e,t,n)=>!n.some(a=>{var l;return!((l=e.getValue(t))!=null&&l.includes(a))});h_.autoRemove=e=>ms(e)||!(e!=null&&e.length);const f_=(e,t,n)=>n.some(a=>{var l;return(l=e.getValue(t))==null?void 0:l.includes(a)});f_.autoRemove=e=>ms(e)||!(e!=null&&e.length);const p_=(e,t,n)=>e.getValue(t)===n;p_.autoRemove=e=>ms(e);const g_=(e,t,n)=>e.getValue(t)==n;g_.autoRemove=e=>ms(e);const uE=(e,t,n)=>{let[a,l]=n;const d=e.getValue(t);return d>=a&&d<=l};uE.resolveFilterValue=e=>{let[t,n]=e,a=typeof t!="number"?parseFloat(t):t,l=typeof n!="number"?parseFloat(n):n,d=t===null||Number.isNaN(a)?-1/0:a,p=n===null||Number.isNaN(l)?1/0:l;if(d>p){const y=d;d=p,p=y}return[d,p]};uE.autoRemove=e=>ms(e)||ms(e[0])&&ms(e[1]);const qo={includesString:l_,includesStringSensitive:c_,equalsString:u_,arrIncludes:d_,arrIncludesAll:h_,arrIncludesSome:f_,equals:p_,weakEquals:g_,inNumberRange:uE};function ms(e){return e==null||e===""}const D5={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:xa("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],a=n?.getValue(e.id);return typeof a=="string"?qo.includesString:typeof a=="number"?qo.inNumberRange:typeof a=="boolean"||a!==null&&typeof a=="object"?qo.equals:Array.isArray(a)?qo.arrIncludes:qo.weakEquals},e.getFilterFn=()=>{var n,a;return r0(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(a=t.options.filterFns)==null?void 0:a[e.columnDef.filterFn])!=null?n:qo[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,a,l;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((a=t.options.enableColumnFilters)!=null?a:!0)&&((l=t.options.enableFilters)!=null?l:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(a=>a.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,a;return(n=(a=t.getState().columnFilters)==null?void 0:a.findIndex(l=>l.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(a=>{const l=e.getFilterFn(),d=a?.find(_=>_.id===e.id),p=dc(n,d?d.value:void 0);if(t1(l,p,e)){var y;return(y=a?.filter(_=>_.id!==e.id))!=null?y:[]}const S={id:e.id,value:p};if(d){var T;return(T=a?.map(_=>_.id===e.id?S:_))!=null?T:[]}return a!=null&&a.length?[...a,S]:[S]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),a=l=>{var d;return(d=dc(t,l))==null?void 0:d.filter(p=>{const y=n.find(S=>S.id===p.id);if(y){const S=y.getFilterFn();if(t1(S,p.value,y))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(a)},e.resetColumnFilters=t=>{var n,a;e.setColumnFilters(t?[]:(n=(a=e.initialState)==null?void 0:a.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function t1(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const T5=(e,t,n)=>n.reduce((a,l)=>{const d=l.getValue(e);return a+(typeof d=="number"?d:0)},0),M5=(e,t,n)=>{let a;return n.forEach(l=>{const d=l.getValue(e);d!=null&&(a>d||a===void 0&&d>=d)&&(a=d)}),a},_5=(e,t,n)=>{let a;return n.forEach(l=>{const d=l.getValue(e);d!=null&&(a<d||a===void 0&&d>=d)&&(a=d)}),a},R5=(e,t,n)=>{let a,l;return n.forEach(d=>{const p=d.getValue(e);p!=null&&(a===void 0?p>=p&&(a=l=p):(a>p&&(a=p),l<p&&(l=p)))}),[a,l]},k5=(e,t)=>{let n=0,a=0;if(t.forEach(l=>{let d=l.getValue(e);d!=null&&(d=+d)>=d&&(++n,a+=d)}),n)return a/n},O5=(e,t)=>{if(!t.length)return;const n=t.map(d=>d.getValue(e));if(!b5(n))return;if(n.length===1)return n[0];const a=Math.floor(n.length/2),l=n.sort((d,p)=>d-p);return n.length%2!==0?l[a]:(l[a-1]+l[a])/2},N5=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),L5=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,I5=(e,t)=>t.length,pw={sum:T5,min:M5,max:_5,extent:R5,mean:k5,median:O5,unique:N5,uniqueCount:L5,count:I5},P5={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:xa("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(a=>a!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,a;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((a=t.options.enableGrouping)!=null?a:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],a=n?.getValue(e.id);if(typeof a=="number")return pw.sum;if(Object.prototype.toString.call(a)==="[object Date]")return pw.extent},e.getAggregationFn=()=>{var n,a;if(!e)throw new Error;return r0(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(a=t.options.aggregationFns)==null?void 0:a[e.columnDef.aggregationFn])!=null?n:pw[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,a;e.setGrouping(t?[]:(n=(a=e.initialState)==null?void 0:a.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const a=t.getColumn(n);return a!=null&&a.columnDef.getGroupingValue?(e._groupingValuesCache[n]=a.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,a)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var l;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((l=n.subRows)!=null&&l.length)}}};function j5(e,t,n){if(!(t!=null&&t.length)||!n)return e;const a=e.filter(d=>!t.includes(d.id));return n==="remove"?a:[...t.map(d=>e.find(p=>p.id===d)).filter(Boolean),...a]}const z5={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:xa("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Et(n=>[Fg(t,n)],n=>n.findIndex(a=>a.id===e.id),At(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var a;return((a=Fg(t,n)[0])==null?void 0:a.id)===e.id},e.getIsLastColumn=n=>{var a;const l=Fg(t,n);return((a=l[l.length-1])==null?void 0:a.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Et(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,a)=>l=>{let d=[];if(!(t!=null&&t.length))d=l;else{const p=[...t],y=[...l];for(;y.length&&p.length;){const S=p.shift(),T=y.findIndex(_=>_.id===S);T>-1&&d.push(y.splice(T,1)[0])}d=[...d,...y]}return j5(d,n,a)},At(e.options,"debugTable"))}},gw=()=>({left:[],right:[]}),B5={getInitialState:e=>({columnPinning:gw(),...e}),getDefaultOptions:e=>({onColumnPinningChange:xa("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const a=e.getLeafColumns().map(l=>l.id).filter(Boolean);t.setColumnPinning(l=>{var d,p;if(n==="right"){var y,S;return{left:((y=l?.left)!=null?y:[]).filter(O=>!(a!=null&&a.includes(O))),right:[...((S=l?.right)!=null?S:[]).filter(O=>!(a!=null&&a.includes(O))),...a]}}if(n==="left"){var T,_;return{left:[...((T=l?.left)!=null?T:[]).filter(O=>!(a!=null&&a.includes(O))),...a],right:((_=l?.right)!=null?_:[]).filter(O=>!(a!=null&&a.includes(O)))}}return{left:((d=l?.left)!=null?d:[]).filter(O=>!(a!=null&&a.includes(O))),right:((p=l?.right)!=null?p:[]).filter(O=>!(a!=null&&a.includes(O)))}})},e.getCanPin=()=>e.getLeafColumns().some(a=>{var l,d,p;return((l=a.columnDef.enablePinning)!=null?l:!0)&&((d=(p=t.options.enableColumnPinning)!=null?p:t.options.enablePinning)!=null?d:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(y=>y.id),{left:a,right:l}=t.getState().columnPinning,d=n.some(y=>a?.includes(y)),p=n.some(y=>l?.includes(y));return d?"left":p?"right":!1},e.getPinnedIndex=()=>{var n,a;const l=e.getIsPinned();return l?(n=(a=t.getState().columnPinning)==null||(a=a[l])==null?void 0:a.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Et(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,a,l)=>{const d=[...a??[],...l??[]];return n.filter(p=>!d.includes(p.column.id))},At(t.options,"debugRows")),e.getLeftVisibleCells=Et(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,a)=>(a??[]).map(d=>n.find(p=>p.column.id===d)).filter(Boolean).map(d=>({...d,position:"left"})),At(t.options,"debugRows")),e.getRightVisibleCells=Et(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,a)=>(a??[]).map(d=>n.find(p=>p.column.id===d)).filter(Boolean).map(d=>({...d,position:"right"})),At(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,a;return e.setColumnPinning(t?gw():(n=(a=e.initialState)==null?void 0:a.columnPinning)!=null?n:gw())},e.getIsSomeColumnsPinned=t=>{var n;const a=e.getState().columnPinning;if(!t){var l,d;return!!((l=a.left)!=null&&l.length||(d=a.right)!=null&&d.length)}return!!((n=a[t])!=null&&n.length)},e.getLeftLeafColumns=Et(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(a=>t.find(l=>l.id===a)).filter(Boolean),At(e.options,"debugColumns")),e.getRightLeafColumns=Et(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(a=>t.find(l=>l.id===a)).filter(Boolean),At(e.options,"debugColumns")),e.getCenterLeafColumns=Et(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,a)=>{const l=[...n??[],...a??[]];return t.filter(d=>!l.includes(d.id))},At(e.options,"debugColumns"))}};function F5(e){return e||(typeof document<"u"?document:null)}const Gv={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},mw=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),H5={getDefaultColumnDef:()=>Gv,getInitialState:e=>({columnSizing:{},columnSizingInfo:mw(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:xa("columnSizing",e),onColumnSizingInfoChange:xa("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,a,l;const d=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Gv.minSize,(a=d??e.columnDef.size)!=null?a:Gv.size),(l=e.columnDef.maxSize)!=null?l:Gv.maxSize)},e.getStart=Et(n=>[n,Fg(t,n),t.getState().columnSizing],(n,a)=>a.slice(0,e.getIndex(n)).reduce((l,d)=>l+d.getSize(),0),At(t.options,"debugColumns")),e.getAfter=Et(n=>[n,Fg(t,n),t.getState().columnSizing],(n,a)=>a.slice(e.getIndex(n)+1).reduce((l,d)=>l+d.getSize(),0),At(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:a,...l}=n;return l})},e.getCanResize=()=>{var n,a;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((a=t.options.enableColumnResizing)!=null?a:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const a=l=>{if(l.subHeaders.length)l.subHeaders.forEach(a);else{var d;n+=(d=l.column.getSize())!=null?d:0}};return a(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const a=t.getColumn(e.column.id),l=a?.getCanResize();return d=>{if(!a||!l||(d.persist==null||d.persist(),yw(d)&&d.touches&&d.touches.length>1))return;const p=e.getSize(),y=e?e.getLeafHeaders().map(W=>[W.column.id,W.column.getSize()]):[[a.id,a.getSize()]],S=yw(d)?Math.round(d.touches[0].clientX):d.clientX,T={},_=(W,Y)=>{typeof Y=="number"&&(t.setColumnSizingInfo($=>{var K,re;const ue=t.options.columnResizeDirection==="rtl"?-1:1,X=(Y-((K=$?.startOffset)!=null?K:0))*ue,ie=Math.max(X/((re=$?.startSize)!=null?re:0),-.999999);return $.columnSizingStart.forEach(pe=>{let[be,le]=pe;T[be]=Math.round(Math.max(le+le*ie,0)*100)/100}),{...$,deltaOffset:X,deltaPercentage:ie}}),(t.options.columnResizeMode==="onChange"||W==="end")&&t.setColumnSizing($=>({...$,...T})))},O=W=>_("move",W),L=W=>{_("end",W),t.setColumnSizingInfo(Y=>({...Y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},P=F5(n),H={moveHandler:W=>O(W.clientX),upHandler:W=>{P?.removeEventListener("mousemove",H.moveHandler),P?.removeEventListener("mouseup",H.upHandler),L(W.clientX)}},B={moveHandler:W=>(W.cancelable&&(W.preventDefault(),W.stopPropagation()),O(W.touches[0].clientX),!1),upHandler:W=>{var Y;P?.removeEventListener("touchmove",B.moveHandler),P?.removeEventListener("touchend",B.upHandler),W.cancelable&&(W.preventDefault(),W.stopPropagation()),L((Y=W.touches[0])==null?void 0:Y.clientX)}},F=U5()?{passive:!1}:!1;yw(d)?(P?.addEventListener("touchmove",B.moveHandler,F),P?.addEventListener("touchend",B.upHandler,F)):(P?.addEventListener("mousemove",H.moveHandler,F),P?.addEventListener("mouseup",H.upHandler,F)),t.setColumnSizingInfo(W=>({...W,startOffset:S,startSize:p,deltaOffset:0,deltaPercentage:0,columnSizingStart:y,isResizingColumn:a.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?mw():(n=e.initialState.columnSizingInfo)!=null?n:mw())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((a,l)=>a+l.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((a,l)=>a+l.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((a,l)=>a+l.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((a,l)=>a+l.getSize(),0))!=null?t:0}}};let Vv=null;function U5(){if(typeof Vv=="boolean")return Vv;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Vv=e,Vv}function yw(e){return e.type==="touchstart"}const G5={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:xa("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(a=>({...a,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,a;const l=e.columns;return(n=l.length?l.some(d=>d.getIsVisible()):(a=t.getState().columnVisibility)==null?void 0:a[e.id])!=null?n:!0},e.getCanHide=()=>{var n,a;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((a=t.options.enableHiding)!=null?a:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Et(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(a=>a.column.getIsVisible()),At(t.options,"debugRows")),e.getVisibleCells=Et(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,a,l)=>[...n,...a,...l],At(t.options,"debugRows"))},createTable:e=>{const t=(n,a)=>Et(()=>[a(),a().filter(l=>l.getIsVisible()).map(l=>l.id).join("_")],l=>l.filter(d=>d.getIsVisible==null?void 0:d.getIsVisible()),At(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var a;e.setColumnVisibility(n?{}:(a=e.initialState.columnVisibility)!=null?a:{})},e.toggleAllColumnsVisible=n=>{var a;n=(a=n)!=null?a:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((l,d)=>({...l,[d.id]:n||!(d.getCanHide!=null&&d.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var a;e.toggleAllColumnsVisible((a=n.target)==null?void 0:a.checked)}}};function Fg(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const V5={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},W5={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:xa("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const a=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof a=="string"||typeof a=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,a,l,d;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((a=t.options.enableGlobalFilter)!=null?a:!0)&&((l=t.options.enableFilters)!=null?l:!0)&&((d=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?d:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>qo.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:a}=e.options;return r0(a)?a:a==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[a])!=null?t:qo[a]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Y5={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:xa("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var a,l;if(!t){e._queue(()=>{t=!0});return}if((a=(l=e.options.autoResetAll)!=null?l:e.options.autoResetExpanded)!=null?a:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=a=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(a),e.toggleAllRowsExpanded=a=>{a??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=a=>{var l,d;e.setExpanded(a?{}:(l=(d=e.initialState)==null?void 0:d.expanded)!=null?l:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(a=>a.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>a=>{a.persist==null||a.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const a=e.getState().expanded;return a===!0||Object.values(a).some(Boolean)},e.getIsAllRowsExpanded=()=>{const a=e.getState().expanded;return typeof a=="boolean"?a===!0:!(!Object.keys(a).length||e.getRowModel().flatRows.some(l=>!l.getIsExpanded()))},e.getExpandedDepth=()=>{let a=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(d=>{const p=d.split(".");a=Math.max(a,p.length)}),a},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(a=>{var l;const d=a===!0?!0:!!(a!=null&&a[e.id]);let p={};if(a===!0?Object.keys(t.getRowModel().rowsById).forEach(y=>{p[y]=!0}):p=a,n=(l=n)!=null?l:!d,!d&&n)return{...p,[e.id]:!0};if(d&&!n){const{[e.id]:y,...S}=p;return S}return a})},e.getIsExpanded=()=>{var n;const a=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:a===!0||a?.[e.id])},e.getCanExpand=()=>{var n,a,l;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((a=t.options.enableExpanding)!=null?a:!0)&&!!((l=e.subRows)!=null&&l.length)},e.getIsAllParentsExpanded=()=>{let n=!0,a=e;for(;n&&a.parentId;)a=t.getRow(a.parentId,!0),n=a.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},sS=0,oS=10,vw=()=>({pageIndex:sS,pageSize:oS}),$5={getInitialState:e=>({...e,pagination:{...vw(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:xa("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var a,l;if(!t){e._queue(()=>{t=!0});return}if((a=(l=e.options.autoResetAll)!=null?l:e.options.autoResetPageIndex)!=null?a:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=a=>{const l=d=>dc(a,d);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(l)},e.resetPagination=a=>{var l;e.setPagination(a?vw():(l=e.initialState.pagination)!=null?l:vw())},e.setPageIndex=a=>{e.setPagination(l=>{let d=dc(a,l.pageIndex);const p=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return d=Math.max(0,Math.min(d,p)),{...l,pageIndex:d}})},e.resetPageIndex=a=>{var l,d;e.setPageIndex(a?sS:(l=(d=e.initialState)==null||(d=d.pagination)==null?void 0:d.pageIndex)!=null?l:sS)},e.resetPageSize=a=>{var l,d;e.setPageSize(a?oS:(l=(d=e.initialState)==null||(d=d.pagination)==null?void 0:d.pageSize)!=null?l:oS)},e.setPageSize=a=>{e.setPagination(l=>{const d=Math.max(1,dc(a,l.pageSize)),p=l.pageSize*l.pageIndex,y=Math.floor(p/d);return{...l,pageIndex:y,pageSize:d}})},e.setPageCount=a=>e.setPagination(l=>{var d;let p=dc(a,(d=e.options.pageCount)!=null?d:-1);return typeof p=="number"&&(p=Math.max(-1,p)),{...l,pageCount:p}}),e.getPageOptions=Et(()=>[e.getPageCount()],a=>{let l=[];return a&&a>0&&(l=[...new Array(a)].fill(null).map((d,p)=>p)),l},At(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:a}=e.getState().pagination,l=e.getPageCount();return l===-1?!0:l===0?!1:a<l-1},e.previousPage=()=>e.setPageIndex(a=>a-1),e.nextPage=()=>e.setPageIndex(a=>a+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var a;return(a=e.options.pageCount)!=null?a:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var a;return(a=e.options.rowCount)!=null?a:e.getPrePaginationRowModel().rows.length}}},bw=()=>({top:[],bottom:[]}),q5={getInitialState:e=>({rowPinning:bw(),...e}),getDefaultOptions:e=>({onRowPinningChange:xa("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,a,l)=>{const d=a?e.getLeafRows().map(S=>{let{id:T}=S;return T}):[],p=l?e.getParentRows().map(S=>{let{id:T}=S;return T}):[],y=new Set([...p,e.id,...d]);t.setRowPinning(S=>{var T,_;if(n==="bottom"){var O,L;return{top:((O=S?.top)!=null?O:[]).filter(B=>!(y!=null&&y.has(B))),bottom:[...((L=S?.bottom)!=null?L:[]).filter(B=>!(y!=null&&y.has(B))),...Array.from(y)]}}if(n==="top"){var P,H;return{top:[...((P=S?.top)!=null?P:[]).filter(B=>!(y!=null&&y.has(B))),...Array.from(y)],bottom:((H=S?.bottom)!=null?H:[]).filter(B=>!(y!=null&&y.has(B)))}}return{top:((T=S?.top)!=null?T:[]).filter(B=>!(y!=null&&y.has(B))),bottom:((_=S?.bottom)!=null?_:[]).filter(B=>!(y!=null&&y.has(B)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:a,enablePinning:l}=t.options;return typeof a=="function"?a(e):(n=a??l)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:a,bottom:l}=t.getState().rowPinning,d=n.some(y=>a?.includes(y)),p=n.some(y=>l?.includes(y));return d?"top":p?"bottom":!1},e.getPinnedIndex=()=>{var n,a;const l=e.getIsPinned();if(!l)return-1;const d=(n=l==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(p=>{let{id:y}=p;return y});return(a=d?.indexOf(e.id))!=null?a:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,a;return e.setRowPinning(t?bw():(n=(a=e.initialState)==null?void 0:a.rowPinning)!=null?n:bw())},e.getIsSomeRowsPinned=t=>{var n;const a=e.getState().rowPinning;if(!t){var l,d;return!!((l=a.top)!=null&&l.length||(d=a.bottom)!=null&&d.length)}return!!((n=a[t])!=null&&n.length)},e._getPinnedRows=(t,n,a)=>{var l;return((l=e.options.keepPinnedRows)==null||l?(n??[]).map(p=>{const y=e.getRow(p,!0);return y.getIsAllParentsExpanded()?y:null}):(n??[]).map(p=>t.find(y=>y.id===p))).filter(Boolean).map(p=>({...p,position:a}))},e.getTopRows=Et(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),At(e.options,"debugRows")),e.getBottomRows=Et(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),At(e.options,"debugRows")),e.getCenterRows=Et(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,a)=>{const l=new Set([...n??[],...a??[]]);return t.filter(d=>!l.has(d.id))},At(e.options,"debugRows"))}},X5={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:xa("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const a={...n},l=e.getPreGroupedRowModel().flatRows;return t?l.forEach(d=>{d.getCanSelect()&&(a[d.id]=!0)}):l.forEach(d=>{delete a[d.id]}),a})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const a=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),l={...n};return e.getRowModel().rows.forEach(d=>{lS(l,d.id,a,!0,e)}),l}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Et(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?xw(e,n):{rows:[],flatRows:[],rowsById:{}},At(e.options,"debugTable")),e.getFilteredSelectedRowModel=Et(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?xw(e,n):{rows:[],flatRows:[],rowsById:{}},At(e.options,"debugTable")),e.getGroupedSelectedRowModel=Et(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?xw(e,n):{rows:[],flatRows:[],rowsById:{}},At(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let a=!!(t.length&&Object.keys(n).length);return a&&t.some(l=>l.getCanSelect()&&!n[l.id])&&(a=!1),a},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(l=>l.getCanSelect()),{rowSelection:n}=e.getState();let a=!!t.length;return a&&t.some(l=>!n[l.id])&&(a=!1),a},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,a)=>{const l=e.getIsSelected();t.setRowSelection(d=>{var p;if(n=typeof n<"u"?n:!l,e.getCanSelect()&&l===n)return d;const y={...d};return lS(y,e.id,n,(p=a?.selectChildren)!=null?p:!0,t),y})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return dE(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return cS(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return cS(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return a=>{var l;n&&e.toggleSelected((l=a.target)==null?void 0:l.checked)}}}},lS=(e,t,n,a,l)=>{var d;const p=l.getRow(t,!0);n?(p.getCanMultiSelect()||Object.keys(e).forEach(y=>delete e[y]),p.getCanSelect()&&(e[t]=!0)):delete e[t],a&&(d=p.subRows)!=null&&d.length&&p.getCanSelectSubRows()&&p.subRows.forEach(y=>lS(e,y.id,n,a,l))};function xw(e,t){const n=e.getState().rowSelection,a=[],l={},d=function(p,y){return p.map(S=>{var T;const _=dE(S,n);if(_&&(a.push(S),l[S.id]=S),(T=S.subRows)!=null&&T.length&&(S={...S,subRows:d(S.subRows)}),_)return S}).filter(Boolean)};return{rows:d(t.rows),flatRows:a,rowsById:l}}function dE(e,t){var n;return(n=t[e.id])!=null?n:!1}function cS(e,t,n){var a;if(!((a=e.subRows)!=null&&a.length))return!1;let l=!0,d=!1;return e.subRows.forEach(p=>{if(!(d&&!l)&&(p.getCanSelect()&&(dE(p,t)?d=!0:l=!1),p.subRows&&p.subRows.length)){const y=cS(p,t);y==="all"?d=!0:(y==="some"&&(d=!0),l=!1)}}),l?"all":d?"some":!1}const uS=/([0-9]+)/gm,Z5=(e,t,n)=>m_(bc(e.getValue(n)).toLowerCase(),bc(t.getValue(n)).toLowerCase()),Q5=(e,t,n)=>m_(bc(e.getValue(n)),bc(t.getValue(n))),K5=(e,t,n)=>hE(bc(e.getValue(n)).toLowerCase(),bc(t.getValue(n)).toLowerCase()),J5=(e,t,n)=>hE(bc(e.getValue(n)),bc(t.getValue(n))),e4=(e,t,n)=>{const a=e.getValue(n),l=t.getValue(n);return a>l?1:a<l?-1:0},t4=(e,t,n)=>hE(e.getValue(n),t.getValue(n));function hE(e,t){return e===t?0:e>t?1:-1}function bc(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function m_(e,t){const n=e.split(uS).filter(Boolean),a=t.split(uS).filter(Boolean);for(;n.length&&a.length;){const l=n.shift(),d=a.shift(),p=parseInt(l,10),y=parseInt(d,10),S=[p,y].sort();if(isNaN(S[0])){if(l>d)return 1;if(d>l)return-1;continue}if(isNaN(S[1]))return isNaN(p)?-1:1;if(p>y)return 1;if(y>p)return-1}return n.length-a.length}const Rg={alphanumeric:Z5,alphanumericCaseSensitive:Q5,text:K5,textCaseSensitive:J5,datetime:e4,basic:t4},n4={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:xa("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let a=!1;for(const l of n){const d=l?.getValue(e.id);if(Object.prototype.toString.call(d)==="[object Date]")return Rg.datetime;if(typeof d=="string"&&(a=!0,d.split(uS).length>1))return Rg.alphanumeric}return a?Rg.text:Rg.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,a;if(!e)throw new Error;return r0(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(a=t.options.sortingFns)==null?void 0:a[e.columnDef.sortingFn])!=null?n:Rg[e.columnDef.sortingFn]},e.toggleSorting=(n,a)=>{const l=e.getNextSortingOrder(),d=typeof n<"u"&&n!==null;t.setSorting(p=>{const y=p?.find(P=>P.id===e.id),S=p?.findIndex(P=>P.id===e.id);let T=[],_,O=d?n:l==="desc";if(p!=null&&p.length&&e.getCanMultiSort()&&a?y?_="toggle":_="add":p!=null&&p.length&&S!==p.length-1?_="replace":y?_="toggle":_="replace",_==="toggle"&&(d||l||(_="remove")),_==="add"){var L;T=[...p,{id:e.id,desc:O}],T.splice(0,T.length-((L=t.options.maxMultiSortColCount)!=null?L:Number.MAX_SAFE_INTEGER))}else _==="toggle"?T=p.map(P=>P.id===e.id?{...P,desc:O}:P):_==="remove"?T=p.filter(P=>P.id!==e.id):T=[{id:e.id,desc:O}];return T})},e.getFirstSortDir=()=>{var n,a;return((n=(a=e.columnDef.sortDescFirst)!=null?a:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var a,l;const d=e.getFirstSortDir(),p=e.getIsSorted();return p?p!==d&&((a=t.options.enableSortingRemoval)==null||a)&&(!(n&&(l=t.options.enableMultiRemove)!=null)||l)?!1:p==="desc"?"asc":"desc":d},e.getCanSort=()=>{var n,a;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((a=t.options.enableSorting)!=null?a:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,a;return(n=(a=e.columnDef.enableMultiSort)!=null?a:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const a=(n=t.getState().sorting)==null?void 0:n.find(l=>l.id===e.id);return a?a.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,a;return(n=(a=t.getState().sorting)==null?void 0:a.findIndex(l=>l.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(a=>a.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return a=>{n&&(a.persist==null||a.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(a):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,a;e.setSorting(t?[]:(n=(a=e.initialState)==null?void 0:a.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},i4=[E5,G5,z5,B5,C5,D5,V5,W5,n4,P5,Y5,$5,q5,X5,H5];function r4(e){var t,n;const a=[...i4,...(t=e._features)!=null?t:[]];let l={_features:a};const d=l._features.reduce((L,P)=>Object.assign(L,P.getDefaultOptions==null?void 0:P.getDefaultOptions(l)),{}),p=L=>l.options.mergeOptions?l.options.mergeOptions(d,L):{...d,...L};let S={...{},...(n=e.initialState)!=null?n:{}};l._features.forEach(L=>{var P;S=(P=L.getInitialState==null?void 0:L.getInitialState(S))!=null?P:S});const T=[];let _=!1;const O={_features:a,options:{...d,...e},initialState:S,_queue:L=>{T.push(L),_||(_=!0,Promise.resolve().then(()=>{for(;T.length;)T.shift()();_=!1}).catch(P=>setTimeout(()=>{throw P})))},reset:()=>{l.setState(l.initialState)},setOptions:L=>{const P=dc(L,l.options);l.options=p(P)},getState:()=>l.options.state,setState:L=>{l.options.onStateChange==null||l.options.onStateChange(L)},_getRowId:(L,P,H)=>{var B;return(B=l.options.getRowId==null?void 0:l.options.getRowId(L,P,H))!=null?B:`${H?[H.id,P].join("."):P}`},getCoreRowModel:()=>(l._getCoreRowModel||(l._getCoreRowModel=l.options.getCoreRowModel(l)),l._getCoreRowModel()),getRowModel:()=>l.getPaginationRowModel(),getRow:(L,P)=>{let H=(P?l.getPrePaginationRowModel():l.getRowModel()).rowsById[L];if(!H&&(H=l.getCoreRowModel().rowsById[L],!H))throw new Error;return H},_getDefaultColumnDef:Et(()=>[l.options.defaultColumn],L=>{var P;return L=(P=L)!=null?P:{},{header:H=>{const B=H.header.column.columnDef;return B.accessorKey?B.accessorKey:B.accessorFn?B.id:null},cell:H=>{var B,F;return(B=(F=H.renderValue())==null||F.toString==null?void 0:F.toString())!=null?B:null},...l._features.reduce((H,B)=>Object.assign(H,B.getDefaultColumnDef==null?void 0:B.getDefaultColumnDef()),{}),...L}},At(e,"debugColumns")),_getColumnDefs:()=>l.options.columns,getAllColumns:Et(()=>[l._getColumnDefs()],L=>{const P=function(H,B,F){return F===void 0&&(F=0),H.map(W=>{const Y=S5(l,W,F,B),$=W;return Y.columns=$.columns?P($.columns,Y,F+1):[],Y})};return P(L)},At(e,"debugColumns")),getAllFlatColumns:Et(()=>[l.getAllColumns()],L=>L.flatMap(P=>P.getFlatColumns()),At(e,"debugColumns")),_getAllFlatColumnsById:Et(()=>[l.getAllFlatColumns()],L=>L.reduce((P,H)=>(P[H.id]=H,P),{}),At(e,"debugColumns")),getAllLeafColumns:Et(()=>[l.getAllColumns(),l._getOrderColumnsFn()],(L,P)=>{let H=L.flatMap(B=>B.getLeafColumns());return P(H)},At(e,"debugColumns")),getColumn:L=>l._getAllFlatColumnsById()[L]};Object.assign(l,O);for(let L=0;L<l._features.length;L++){const P=l._features[L];P==null||P.createTable==null||P.createTable(l)}return l}function a4(){return e=>Et(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},a=function(l,d,p){d===void 0&&(d=0);const y=[];for(let T=0;T<l.length;T++){const _=A5(e,e._getRowId(l[T],T,p),l[T],T,d,void 0,p?.id);if(n.flatRows.push(_),n.rowsById[_.id]=_,y.push(_),e.options.getSubRows){var S;_.originalSubRows=e.options.getSubRows(l[T],T),(S=_.originalSubRows)!=null&&S.length&&(_.subRows=a(_.originalSubRows,d+1,_))}}return y};return n.rows=a(t),n},At(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Wv(e,t){return e?s4(e)?G.createElement(e,t):e:null}function s4(e){return o4(e)||typeof e=="function"||l4(e)}function o4(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function l4(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function c4(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=G.useState(()=>({current:r4(t)})),[a,l]=G.useState(()=>n.current.initialState);return n.current.setOptions(d=>({...d,...e,state:{...a,...e.state},onStateChange:p=>{l(p),e.onStateChange==null||e.onStateChange(p)}})),n.current}function Gh(e,t,n){let a=n.initialDeps??[],l,d=!0;function p(){var y,S,T;let _;n.key&&((y=n.debug)!=null&&y.call(n))&&(_=Date.now());const O=e();if(!(O.length!==a.length||O.some((H,B)=>a[B]!==H)))return l;a=O;let P;if(n.key&&((S=n.debug)!=null&&S.call(n))&&(P=Date.now()),l=t(...O),n.key&&((T=n.debug)!=null&&T.call(n))){const H=Math.round((Date.now()-_)*100)/100,B=Math.round((Date.now()-P)*100)/100,F=B/16,W=(Y,$)=>{for(Y=String(Y);Y.length<$;)Y=" "+Y;return Y};console.info(`%c ${W(B,5)} /${W(H,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*F,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(d&&n.skipInitialOnChange)&&n.onChange(l),d=!1,l}return p.updateDeps=y=>{a=y},p}function n1(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const u4=(e,t)=>Math.abs(e-t)<1.01,d4=(e,t,n)=>{let a;return function(...l){e.clearTimeout(a),a=e.setTimeout(()=>t.apply(this,l),n)}},i1=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},h4=e=>e,f4=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),a=[];for(let l=t;l<=n;l++)a.push(l);return a},p4=(e,t)=>{const n=e.scrollElement;if(!n)return;const a=e.targetWindow;if(!a)return;const l=p=>{const{width:y,height:S}=p;t({width:Math.round(y),height:Math.round(S)})};if(l(i1(n)),!a.ResizeObserver)return()=>{};const d=new a.ResizeObserver(p=>{const y=()=>{const S=p[0];if(S?.borderBoxSize){const T=S.borderBoxSize[0];if(T){l({width:T.inlineSize,height:T.blockSize});return}}l(i1(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(y):y()});return d.observe(n,{box:"border-box"}),()=>{d.unobserve(n)}},r1={passive:!0},a1=typeof window>"u"?!0:"onscrollend"in window,g4=(e,t)=>{const n=e.scrollElement;if(!n)return;const a=e.targetWindow;if(!a)return;let l=0;const d=e.options.useScrollendEvent&&a1?()=>{}:d4(a,()=>{t(l,!1)},e.options.isScrollingResetDelay),p=_=>()=>{const{horizontal:O,isRtl:L}=e.options;l=O?n.scrollLeft*(L&&-1||1):n.scrollTop,d(),t(l,_)},y=p(!0),S=p(!1);n.addEventListener("scroll",y,r1);const T=e.options.useScrollendEvent&&a1;return T&&n.addEventListener("scrollend",S,r1),()=>{n.removeEventListener("scroll",y),T&&n.removeEventListener("scrollend",S)}},m4=(e,t,n)=>{if(t?.borderBoxSize){const a=t.borderBoxSize[0];if(a)return Math.round(a[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},y4=(e,{adjustments:t=0,behavior:n},a)=>{var l,d;const p=e+t;(d=(l=a.scrollElement)==null?void 0:l.scrollTo)==null||d.call(l,{[a.options.horizontal?"left":"top"]:p,behavior:n})};class v4{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const a=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(l=>{l.forEach(d=>{const p=()=>{this._measureElement(d.target,d)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(p):p()})}));return{disconnect:()=>{var l;(l=a())==null||l.disconnect(),n=null},observe:l=>{var d;return(d=a())==null?void 0:d.observe(l,{box:"border-box"})},unobserve:l=>{var d;return(d=a())==null?void 0:d.unobserve(l)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([a,l])=>{typeof l>"u"&&delete n[a]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:h4,rangeExtractor:f4,onChange:()=>{},measureElement:m4,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var a,l;(l=(a=this.options).onChange)==null||l.call(a,this,n)},this.maybeNotify=Gh(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const a=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==a){if(this.cleanup(),!a){this.maybeNotify();return}this.scrollElement=a,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(l=>{this.observer.observe(l)}),this.unsubs.push(this.options.observeElementRect(this,l=>{this.scrollRect=l,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(l,d)=>{this.scrollAdjustments=0,this.scrollDirection=d?this.getScrollOffset()<l?"forward":"backward":null,this.scrollOffset=l,this.isScrolling=d,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,a)=>{const l=new Map,d=new Map;for(let p=a-1;p>=0;p--){const y=n[p];if(l.has(y.lane))continue;const S=d.get(y.lane);if(S==null||y.end>S.end?d.set(y.lane,y):y.end<S.end&&l.set(y.lane,!0),l.size===this.options.lanes)break}return d.size===this.options.lanes?Array.from(d.values()).sort((p,y)=>p.end===y.end?p.index-y.index:p.end-y.end)[0]:void 0},this.getMeasurementOptions=Gh(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,a,l,d,p,y)=>(this.prevLanes!==void 0&&this.prevLanes!==y&&(this.lanesChangedFlag=!0),this.prevLanes=y,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:a,scrollMargin:l,getItemKey:d,enabled:p,lanes:y}),{key:!1}),this.getMeasurements=Gh(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:a,scrollMargin:l,getItemKey:d,enabled:p,lanes:y},S)=>{if(!p)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const L of this.laneAssignments.keys())L>=n&&this.laneAssignments.delete(L);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(L=>{this.itemSizeCache.set(L.key,L.size)}));const T=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const _=this.measurementsCache.slice(0,T),O=new Array(y).fill(void 0);for(let L=0;L<T;L++){const P=_[L];P&&(O[P.lane]=L)}for(let L=T;L<n;L++){const P=d(L),H=this.laneAssignments.get(L);let B,F;if(H!==void 0&&this.options.lanes>1){B=H;const K=O[B],re=K!==void 0?_[K]:void 0;F=re?re.end+this.options.gap:a+l}else{const K=this.options.lanes===1?_[L-1]:this.getFurthestMeasurement(_,L);F=K?K.end+this.options.gap:a+l,B=K?K.lane:L%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(L,B)}const W=S.get(P),Y=typeof W=="number"?W:this.options.estimateSize(L),$=F+Y;_[L]={index:L,start:F,size:Y,end:$,key:P,lane:B},O[B]=L}return this.measurementsCache=_,_},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Gh(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,a,l,d)=>this.range=n.length>0&&a>0?b4({measurements:n,outerSize:a,scrollOffset:l,lanes:d}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Gh(()=>{let n=null,a=null;const l=this.calculateRange();return l&&(n=l.startIndex,a=l.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,a]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,a]},(n,a,l,d,p)=>d===null||p===null?[]:n({startIndex:d,endIndex:p,overscan:a,count:l}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const a=this.options.indexAttribute,l=n.getAttribute(a);return l?parseInt(l,10):(console.warn(`Missing attribute name '${a}={index}' on measured element.`),-1)},this._measureElement=(n,a)=>{const l=this.indexFromElement(n),d=this.measurementsCache[l];if(!d)return;const p=d.key,y=this.elementsCache.get(p);y!==n&&(y&&this.observer.unobserve(y),this.observer.observe(n),this.elementsCache.set(p,n)),n.isConnected&&this.resizeItem(l,this.options.measureElement(n,a,this))},this.resizeItem=(n,a)=>{const l=this.measurementsCache[n];if(!l)return;const d=this.itemSizeCache.get(l.key)??l.size,p=a-d;p!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(l,p,this):l.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=p,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(l.index),this.itemSizeCache=new Map(this.itemSizeCache.set(l.key,a)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((a,l)=>{a.isConnected||(this.observer.unobserve(a),this.elementsCache.delete(l))});return}this._measureElement(n,void 0)},this.getVirtualItems=Gh(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,a)=>{const l=[];for(let d=0,p=n.length;d<p;d++){const y=n[d],S=a[y];l.push(S)}return l},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const a=this.getMeasurements();if(a.length!==0)return n1(a[y_(0,a.length-1,l=>n1(a[l]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,a,l=0)=>{if(!this.scrollElement)return 0;const d=this.getSize(),p=this.getScrollOffset();a==="auto"&&(a=n>=p+d?"end":"start"),a==="center"?n+=(l-d)/2:a==="end"&&(n-=d);const y=this.getMaxScrollOffset();return Math.max(Math.min(y,n),0)},this.getOffsetForIndex=(n,a="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const l=this.measurementsCache[n];if(!l)return;const d=this.getSize(),p=this.getScrollOffset();if(a==="auto")if(l.end>=p+d-this.options.scrollPaddingEnd)a="end";else if(l.start<=p+this.options.scrollPaddingStart)a="start";else return[p,a];if(a==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),a];const y=a==="end"?l.end+this.options.scrollPaddingEnd:l.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(y,a,l.size),a]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:a="start",behavior:l}={})=>{l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,a),{adjustments:void 0,behavior:l})},this.scrollToIndex=(n,{align:a="auto",behavior:l}={})=>{l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let d=0;const p=10,y=T=>{if(!this.targetWindow)return;const _=this.getOffsetForIndex(n,T);if(!_){console.warn("Failed to get offset for index:",n);return}const[O,L]=_;this._scrollToOffset(O,{adjustments:void 0,behavior:l}),this.targetWindow.requestAnimationFrame(()=>{const P=()=>{if(this.currentScrollToIndex!==n)return;const H=this.getScrollOffset(),B=this.getOffsetForIndex(n,L);if(!B){console.warn("Failed to get offset for index:",n);return}u4(B[0],H)||S(L)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(P):P()})},S=T=>{this.targetWindow&&this.currentScrollToIndex===n&&(d++,d<p?this.targetWindow.requestAnimationFrame(()=>y(T)):console.warn(`Failed to scroll to index ${n} after ${p} attempts.`))};y(a)},this.scrollBy=(n,{behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:a})},this.getTotalSize=()=>{var n;const a=this.getMeasurements();let l;if(a.length===0)l=this.options.paddingStart;else if(this.options.lanes===1)l=((n=a[a.length-1])==null?void 0:n.end)??0;else{const d=Array(this.options.lanes).fill(null);let p=a.length-1;for(;p>=0&&d.some(y=>y===null);){const y=a[p];d[y.lane]===null&&(d[y.lane]=y.end),p--}l=Math.max(...d.filter(y=>y!==null))}return Math.max(l-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:a,behavior:l})=>{this.options.scrollToFn(n,{behavior:l,adjustments:a},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const y_=(e,t,n,a)=>{for(;e<=t;){const l=(e+t)/2|0,d=n(l);if(d<a)e=l+1;else if(d>a)t=l-1;else return l}return e>0?e-1:0};function b4({measurements:e,outerSize:t,scrollOffset:n,lanes:a}){const l=e.length-1,d=S=>e[S].start;if(e.length<=a)return{startIndex:0,endIndex:l};let p=y_(0,l,d,n),y=p;if(a===1)for(;y<l&&e[y].end<n+t;)y++;else if(a>1){const S=Array(a).fill(0);for(;y<l&&S.some(_=>_<n+t);){const _=e[y];S[_.lane]=_.end,y++}const T=Array(a).fill(n+t);for(;p>=0&&T.some(_=>_>=n);){const _=e[p];T[_.lane]=_.start,p--}p=Math.max(0,p-p%a),y=Math.min(l,y+(a-1-y%a))}return{startIndex:p,endIndex:y}}const s1=typeof document<"u"?G.useLayoutEffect:G.useEffect;function x4({useFlushSync:e=!0,...t}){const n=G.useReducer(()=>({}),{})[1],a={...t,onChange:(d,p)=>{var y;e&&p?ro.flushSync(n):n(),(y=t.onChange)==null||y.call(t,d,p)}},[l]=G.useState(()=>new v4(a));return l.setOptions(a),s1(()=>l._didMount(),[]),s1(()=>l._willUpdate()),l}function w4(e){return x4({observeElementRect:p4,observeElementOffset:g4,scrollToFn:y4,...e})}const S4=({amortizationSchedule:e})=>{const{t}=bn(),n=G.useRef(null),a=G.useRef(null),l=G.useRef(null),d=G.useRef(!1);G.useEffect(()=>{const B=a.current,F=l.current;if(!B||!F)return;const W=(K,re)=>{d.current||(d.current=!0,re.scrollLeft=K.scrollLeft,requestAnimationFrame(()=>{d.current=!1}))},Y=()=>W(B,F),$=()=>W(F,B);return B.addEventListener("scroll",Y,{passive:!0}),F.addEventListener("scroll",$,{passive:!0}),()=>{B.removeEventListener("scroll",Y),F.removeEventListener("scroll",$)}},[]);const p=G.useMemo(()=>[{id:"date",accessorKey:"date",header:t("amortization.date"),size:120,cell:B=>{const F=B.row.original;return"type"in F&&F.type==="annual_summary"?`${t("amortization.total")} ${F.year}`:F.date}},{id:"rate",accessorKey:"rate",header:t("amortization.rate"),size:100,cell:B=>{const F=B.row.original;return"type"in F&&F.type==="annual_summary"?"-":Tt(F.rate)}},{id:"days",accessorKey:"num_days",header:t("amortization.days"),size:80,cell:B=>{const F=B.row.original;return"type"in F&&F.type==="annual_summary"?"-":Tt(F.num_days||0)}},{id:"installment",accessorKey:"installment",header:t("amortization.installment"),size:120,cell:B=>{const F=B.row.original;return"type"in F&&F.type==="annual_summary"?Tt(F.totalPaid):Tt(F.installment)}},{id:"reduction",accessorKey:"reduction",header:t("amortization.reduction"),size:120,cell:B=>{const F=B.row.original;return"type"in F&&F.type==="annual_summary"?Tt(F.totalPrincipal):Tt(F.reduction)}},{id:"interest",accessorKey:"interest",header:t("amortization.interest"),size:120,cell:B=>{const F=B.row.original;return"type"in F&&F.type==="annual_summary"?Tt(F.totalInterest):Tt(F.interest)}},{id:"principal",accessorKey:"principal",header:t("amortization.principal"),size:120,cell:B=>{const F=B.row.original;return"type"in F&&F.type==="annual_summary"?"-":Tt(F.principal)}},{id:"fee",accessorKey:"fee",header:t("amortization.fee"),size:100,cell:B=>{const F=B.row.original;return"type"in F&&F.type==="annual_summary"?Tt(F.totalFees):Tt(F.fee)}}],[t]),y=c4({data:e,columns:p,getCoreRowModel:a4(),columnResizeMode:"onChange"}),_=y.getHeaderGroups()[0]?.headers?.[0]?.getSize?.()??120,{getVirtualItems:O,getTotalSize:L}=w4({count:e.length,getScrollElement:()=>n.current,estimateSize:()=>40,overscan:5}),P=B=>{const F=B.original;return"type"in F&&F.type==="annual_summary"?"annual-summary-row":"was_payed"in F&&F.was_payed?"was-payed":""},H=B=>{const F=P(B);return F==="was-payed"?"":F};return D.jsxs("div",{className:"amortization-table-tanstack",children:[D.jsx("div",{className:"amortization-table-header-sticky",children:D.jsxs("div",{className:"amortization-table-header-split",children:[D.jsx("div",{className:"amortization-table-first-col-header",children:D.jsx("table",{className:"amortization-table amortization-table-first-col",children:D.jsx("thead",{children:y.getHeaderGroups().map(B=>D.jsx("tr",{children:B.headers.slice(0,1).map(F=>D.jsx("th",{className:"sticky-col",style:{width:_,minWidth:_,maxWidth:_},children:Wv(F.column.columnDef.header,F.getContext())},F.id))},B.id))})})}),D.jsx("div",{ref:l,className:"amortization-table-header-inner",children:D.jsx("table",{className:"amortization-table amortization-table-rest",children:D.jsx("thead",{children:y.getHeaderGroups().map(B=>D.jsx("tr",{children:B.headers.slice(1).map(F=>D.jsx("th",{style:{width:F.getSize(),minWidth:F.getSize(),maxWidth:F.getSize()},children:Wv(F.column.columnDef.header,F.getContext())},F.id))},B.id))})})})]})}),D.jsx("div",{ref:n,className:"amortization-table-body-virtual",children:D.jsxs("div",{className:"amortization-table-body-split",children:[D.jsx("div",{className:"amortization-table-first-col-body",style:{width:_},children:D.jsx("div",{className:"amortization-table-virtual-container",style:{height:`${L()}px`,width:_,position:"relative"},children:O().map(B=>{const F=y.getRowModel().rows[B.index];if(!F)return null;const W=F.getVisibleCells()[0];return W?D.jsx("div",{className:`amortization-table-row amortization-table-first-col-row ${H(F)}`,style:{position:"absolute",top:0,left:0,width:_,height:`${B.size}px`,transform:`translateY(${B.start}px)`},children:D.jsx("table",{className:"amortization-table amortization-table-first-col",children:D.jsx("tbody",{children:D.jsx("tr",{children:D.jsx("td",{className:"sticky-col",style:{width:_,minWidth:_,maxWidth:_},children:Wv(W.column.columnDef.cell,W.getContext())})})})})},`${F.id}-first`):null})})}),D.jsx("div",{ref:a,className:"amortization-table-body-horizontal",children:D.jsx("div",{className:"amortization-table-virtual-container",style:{height:`${L()}px`,width:"100%",position:"relative"},children:O().map(B=>{const F=y.getRowModel().rows[B.index];return F?D.jsx("div",{className:`amortization-table-row ${P(F)}`,style:{position:"absolute",top:0,left:0,width:"100%",height:`${B.size}px`,transform:`translateY(${B.start}px)`},children:D.jsx("table",{className:"amortization-table amortization-table-rest",children:D.jsx("tbody",{children:D.jsx("tr",{children:F.getVisibleCells().slice(1).map(W=>D.jsx("td",{style:{width:W.column.getSize(),minWidth:W.column.getSize(),maxWidth:W.column.getSize()},children:Wv(W.column.columnDef.cell,W.getContext())},W.id))})})})},F.id):null})})})]})})]})},E4=e=>{const{t}=bn(),n=e?.loan??null,a=e?.amortizationSchedule??[],l=n?.annual_summaries??{};if(!a||a.length===0)return D.jsxs("div",{className:"charts-page",children:[D.jsx("p",{children:t("loan.noAmortizationData")}),D.jsxs("p",{children:[t("loan.debugInfo"),": amortizationSchedule length ="," ",a?.length||0]})]});const d=[];let p=null;a.forEach((T,_)=>{let O,L;if(Array.isArray(T)){if(!T[0]){console.warn("Invalid payment row found (missing date):",T);return}O=T[0]}else if(typeof T=="object"&&T!==null){if(!T.date){console.warn("Invalid payment row found (missing date property):",T);return}O=T.date}else{console.warn("Invalid payment row format:",T);return}if(typeof O!="string"){console.warn("Invalid payment date found:",O);return}const P=O.split(".");if(P.length<3){console.warn("Invalid date format found:",O);return}if(L=P[2],p===null&&(p=L),(L!==p||_===a.length-1)&&L!==p){const H=l[p];H&&d.push({type:"annual_summary",year:p,totalPrincipal:H.total_principal,totalInterest:H.total_interest,totalFees:H.total_fees,totalPaid:H.total_principal+H.total_interest+H.total_fees}),p=L}if(d.push(T),_===a.length-1&&d[d.length-1].type!=="annual_summary"){const H=l[p];H&&d.push({type:"annual_summary",year:p,totalPrincipal:H.total_principal,totalInterest:H.total_interest,totalFees:H.total_fees,totalPaid:H.total_principal+H.total_interest+H.total_fees})}});const y=(n?.sum_of_installments??0)+(n?.remaining_principal??0)+(n?.unpaid_interest??0)+(n?.sum_of_fees??0),S=(n?.sum_of_interests??0)+(n?.unpaid_interest??0);return D.jsxs("div",{className:"charts-page amortization-schedule",children:[D.jsx(v5,{data:{principal:e.loanData.principal,sumOfInterest:S,sumInstallments:y}}),D.jsx("br",{}),D.jsx(S4,{amortizationSchedule:d})]})},v_=({formType:e,values:t,onSuccess:n,startDate:a,endDate:l,hideSubmitButton:d=!1,onFormReady:p})=>{const{id:y}=u1({from:"/expenses/loan/$id"}),{t:S}=bn(),{dataDispatch:T}=um(),_={field_date:new Date().toISOString().slice(0,10),title:"",field_rate:"",field_pay_installment:"",field_pay_single_fee:"",field_new_recurring_amount:"",field_loan_reference:y,field_is_simulated_payment:!1},O={title:t.title||"",field_date:t.field_date||new Date().toISOString().slice(0,10),field_rate:t.field_rate||"",field_pay_installment:t.field_pay_installment||"",field_pay_single_fee:t.field_pay_single_fee||"",field_new_recurring_amount:t.field_new_recurring_amount||"",field_loan_reference:y,field_is_simulated_payment:t.field_is_simulated_payment||!1},L={title:{required:!0},field_date:{required:!0,custom:Y=>{if(!Y)return!1;if(!a||!l)return!0;const $=new Date(Y),K=new Date(a),re=new Date(l);return $>=K&&$<=re}},field_rate:{required:!1,custom:Y=>{if(!Y)return!1;const $=String(Y).trim();if($==="")return!1;const K=parseFloat($);return!isNaN(K)&&K>0}},field_pay_installment:{required:!1,custom:Y=>{if(!Y)return!1;const $=String(Y).trim();if($==="")return!1;const K=parseFloat($);return!isNaN(K)&&K>0}},field_pay_single_fee:{required:!1,custom:Y=>{if(!Y)return!1;const $=String(Y).trim();if($==="")return!1;const K=parseFloat($);return!isNaN(K)&&K>0}},field_new_recurring_amount:{required:!1,custom:Y=>{if(!Y)return!1;const $=String(Y).trim();if($==="")return!1;const K=parseFloat($);return!isNaN(K)&&K>0}}},{getFieldValidation:P}=Ub(L),{formState:H,isSubmitting:B,handleChange:F,handleSubmit:W}=Hb({formType:e,initialState:e==="add"?_:O,values:t,nodeType:"payment",onSuccess:n,dataDispatch:T,useFetchRequest:!1,additionalParams:{loanId:y},buildNodeData:Y=>({title:[Y.title],field_date:[Y.field_date],field_rate:[Y.field_rate],field_pay_installment:[Y.field_pay_installment],field_pay_single_fee:[Y.field_pay_single_fee],field_new_recurring_amount:[Y.field_new_recurring_amount],field_is_simulated_payment:[Y.field_is_simulated_payment?1:0],field_loan_reference:[y]}),successMessageKeys:{add:"notification.paymentAdded",edit:"notification.paymentUpdated"}});return Ge.useEffect(()=>{p&&p(()=>{const Y=document.querySelector(`.payment-form-${e}`);Y&&Y.requestSubmit()},B)},[p,B,e]),D.jsx("div",{className:"payment-form-container",children:D.jsxs("form",{id:`payment-form-${e}`,className:`payment-form payment-form-${e}`,onSubmit:W,children:[D.jsx(_i,{name:"title",type:"text",label:S("paymentForm.paymentTitle"),value:H.title,onChange:F,required:!0,placeholder:S("paymentForm.enterPaymentTitle"),isValid:P("title",H),ariaLabel:S("paymentForm.paymentTitle")}),D.jsx(_i,{name:"field_date",type:"date",label:S("paymentForm.paymentDate"),value:H.field_date,onChange:F,required:!0,isValid:P("field_date",H),ariaLabel:S("paymentForm.paymentDate")}),D.jsx(_i,{name:"field_rate",type:"number",label:S("paymentForm.newInterestRate"),value:H.field_rate,onChange:F,step:"0.01",min:"0",isValid:P("field_rate",H),ariaLabel:S("paymentForm.newInterestRate")}),D.jsx(_i,{name:"field_pay_installment",type:"number",label:S("paymentForm.installmentPayment"),value:H.field_pay_installment,onChange:F,step:"0.01",min:"0",isValid:P("field_pay_installment",H),ariaLabel:S("paymentForm.installmentPayment")}),D.jsx(_i,{name:"field_pay_single_fee",type:"number",label:S("paymentForm.individualFee"),value:H.field_pay_single_fee,onChange:F,step:"0.01",min:"0",isValid:P("field_pay_single_fee",H),ariaLabel:S("paymentForm.individualFee")}),D.jsx(_i,{name:"field_new_recurring_amount",type:"number",label:S("paymentForm.newRecurringAmount"),value:H.field_new_recurring_amount,onChange:F,step:"0.01",min:"0",isValid:P("field_new_recurring_amount",H),ariaLabel:S("paymentForm.newRecurringAmount")}),D.jsxs("div",{className:"flex items-center gap-3 py-3 px-0 [&_input]:w-5 [&_input]:h-5 [&_input]:min-w-5 [&_input]:min-h-5 [&_input]:accent-[#5b8def] [&_input]:cursor-pointer [&_input]:shrink-0 [&_input]:rounded [&_input]:border-white/20",children:[D.jsx("input",{type:"checkbox",id:"field_is_simulated_payment",name:"field_is_simulated_payment",checked:H.field_is_simulated_payment,onChange:F}),D.jsx("label",{htmlFor:"field_is_simulated_payment",className:"text-sm text-white/90 cursor-pointer select-none m-0 flex-1",children:S("paymentForm.simulatedPayment")})]}),!d&&D.jsx("div",{className:"form-actions-sticky",children:D.jsx("button",{type:"submit",disabled:B,className:"btn-submit",children:B?D.jsxs("div",{className:"loader",children:[D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"})]}):S(e==="add"?"common.add":"common.save")})})]})})},A4=e=>{const t=e?.payments??[],n=e?.loan??{},a=e?.pendingSyncIds??{},l=G.useRef(null),d=wc(),{t:p,language:y}=bn(),S=im(),[T,_]=G.useState(!1),[O,L]=G.useState(!1),[P,H]=G.useState(!1),[B,F]=G.useState(!1),{dataDispatch:W}=um(),{token:Y}=nl();cf();const[$,K]=G.useState(4),[re,ue]=G.useState(!1),[X,ie]=G.useState("date"),[pe,be]=G.useState("desc"),{handleTouchStart:le,handleTouchMove:ye,handleTouchEnd:De,deleteVisible:Fe,editVisible:$e,swipedItemId:oe}=Vb(),[Ee,Ie]=G.useState({nid:"",title:"",field_date:new Date().toISOString().slice(0,10),field_rate:void 0,field_pay_installment:void 0,field_pay_single_fee:void 0,field_new_recurring_amount:void 0,field_is_simulated_payment:!1}),Ye=Ze=>{const Ve=t?.find(tt=>tt.id===Ze);Ie({nid:Ve.id,title:Ve.title,field_date:Ve.fdt,field_rate:Ve.fr?Number(Ve.fr):void 0,field_pay_installment:Ve.fpi?Number(Ve.fpi):void 0,field_pay_single_fee:Ve.fpsf?Number(Ve.fpsf):void 0,field_new_recurring_amount:Ve.fnra?Number(Ve.fnra):void 0,field_is_simulated_payment:!!Number(Ve.fisp)}),_(!0)},je=(Ze,Ve)=>{H(!0),gS(Ze,Ve,tt=>{tt.ok?(d(p("notification.paymentDeleted"),Cn.SUCCESS),H(!1)):(d(p("error.unknown"),Cn.ERROR),H(!1)),ue(!1),navigator.onLine&&S&&Qo(S,W)},W,n?.id)},Re=Ze=>{ue(Ze)},ge=Ze=>{X===Ze?be(pe==="asc"?"desc":"asc"):(ie(Ze),be("desc"))},Ae=X?[...t].sort((Ze,Ve)=>{if(X==="date"){const tt=new Date(Ze.fdt).getTime(),Qe=new Date(Ve.fdt).getTime();if(pe==="asc"){const _t=tt-Qe;if(_t!==0)return _t;const ce=Ze.cr||new Date(Ze.fdt).getTime(),hn=Ve.cr||new Date(Ve.fdt).getTime();return ce-hn}else{const _t=Qe-tt;if(_t!==0)return _t;const ce=Ze.cr||new Date(Ze.fdt).getTime();return(Ve.cr||new Date(Ve.fdt).getTime())-ce}}if(X==="amount"){const tt=parseFloat(Ze.fpi||"0"),Qe=parseFloat(Ve.fpi||"0");return pe==="asc"?tt-Qe:Qe-tt}return 0}):p1([...t]),Be=Ze=>X!==Ze?D.jsx(Pb,{}):pe==="asc"?D.jsx(Lb,{}):D.jsx(Nb,{}),Xe="rounded-lg py-2 px-4 text-white/60 text-sm cursor-pointer flex items-center gap-2 transition-all duration-200 bg-white/[0.05] border-none hover:bg-white/10 hover:text-white/80 [&_svg]:text-sm",Ke="bg-[rgba(91,141,239,0.2)] text-[#5b8def] font-medium";return D.jsxs("div",{children:[D.jsx(Fb,{open:!!re,onClose:()=>ue(!1),onConfirm:()=>re&&je(re,Y),title:p("payment.deletePayment"),message:p("modal.deletePayment"),isSubmitting:P}),D.jsx(so,{show:T,onClose:Ze=>{Ze.preventDefault(),_(!1),L(!1)},title:p(O?"payment.addPayment":"payment.editPayment"),footer:D.jsx("button",{type:"submit",form:`payment-form-${O?"add":"edit"}`,disabled:B,className:"btn-submit",children:B?D.jsxs("div",{className:"loader",children:[D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"})]}):O?D.jsxs(D.Fragment,{children:[D.jsx(ps,{}),D.jsx("span",{children:p("payment.addPayment")})]}):D.jsxs(D.Fragment,{children:[D.jsx(ys,{}),D.jsx("span",{children:p("payment.editPayment")})]})}),children:D.jsx(v_,{formType:O?"add":"edit",values:Ee,startDate:n.sdt,endDate:n.edt,hideSubmitButton:!0,onFormReady:(Ze,Ve)=>{F(Ve)},onSuccess:()=>{L(!1),_(!1),navigator.onLine&&S&&Qo(S,W)}})}),t.length?D.jsxs("div",{className:"flex flex-col gap-2 w-full relative overflow-x-hidden overflow-y-auto touch-pan-y mt-4",style:{WebkitOverflowScrolling:"touch"},ref:l,children:[D.jsxs("div",{className:"mb-3",children:[D.jsxs("p",{className:"text-base text-white/50 m-0 mb-2",children:[Math.min($,t.length)," of ",t.length," ","payments"]}),D.jsxs("div",{className:"flex gap-2",children:[D.jsxs("button",{type:"button",className:`${Xe} ${X==="date"?Ke:""}`,onClick:()=>ge("date"),children:["Date ",Be("date")]}),D.jsxs("button",{type:"button",className:`${Xe} ${X==="amount"?Ke:""}`,onClick:()=>ge("amount"),children:["Amount ",Be("amount")]})]})]}),D.jsx("div",{className:"flex flex-col gap-2",children:Ae.slice(0,$).map(Ze=>{const Ve=Number(Ze.fisp)===1,tt=new Date(Ze.fdt),Qe=tt.getDate(),_t=tt.getFullYear(),ce=kb(y),hn=tt.toLocaleDateString(ce,{month:"short"}).toUpperCase(),Je=oe===Ze.id,kt=!!a[Ze.id]||typeof Ze.id=="string"&&Ze.id.startsWith("temp_");return D.jsxs("div",{className:`relative w-full rounded-2xl overflow-hidden ${Ve?"border-l-4 border-l-[#ff9800]":""}`,children:[D.jsxs("div",{className:`swipe-actions-background rounded-2xl ${Je&&(Fe||$e)?"visible":""}`,children:[Je&&Fe&&D.jsx("div",{className:"delete-action-bg",children:D.jsx(nf,{})}),Je&&$e&&D.jsx("div",{className:"edit-action-bg",children:D.jsx(ys,{})})]}),D.jsxs("div",{"data-id":Ze.id,className:"bg-white/[0.05] rounded-2xl py-4 pr-6 pl-4 flex items-start gap-4 cursor-pointer transition-all duration-200 relative z-[1] w-full min-h-0 touch-pan-y overflow-hidden hover:bg-white/10 hover:translate-x-1 active:scale-[0.98]",style:{touchAction:"pan-y pan-x pinch-zoom"},onTouchStart:Pt=>le(Pt,Ze.id,l),onTouchMove:Pt=>ye(Pt,l),onTouchEnd:Pt=>De(Pt,l,Ze.id,Ye,Re),children:[D.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[50px] shrink-0",children:[D.jsx("div",{className:"text-2xl font-bold text-white leading-none",children:Qe}),D.jsx("div",{className:"text-xs font-semibold text-white/50 mt-1 tracking-wide",children:hn}),D.jsx("div",{className:"text-xs font-semibold text-white/50 tracking-wide",children:_t})]}),D.jsx("div",{className:"flex-1 min-w-0",children:D.jsxs("div",{className:"flex items-center gap-2 flex-wrap text-base font-medium text-white/90 leading-snug break-words",children:[Ze.title,Ve&&D.jsx("span",{className:"inline-block text-[0.7rem] font-semibold text-[#ff9800] bg-[rgba(255,152,0,0.15)] px-2 py-0.5 rounded-full uppercase tracking-wide",children:p("payment.simulated")})]})}),D.jsxs("div",{className:"text-lg font-bold text-white whitespace-nowrap pr-2 shrink-0 flex items-center gap-1",children:[Tt(Ze.fpi),D.jsx(Wb,{status:kt?"pending":void 0})]})]})]},Ze.id)})}),t.length>$&&D.jsx("div",{className:"flex justify-center items-center py-4 mt-2",children:D.jsxs("button",{type:"button",onClick:()=>K($+10),className:"inline-flex items-center justify-center gap-2 py-2.5 px-5 rounded-xl bg-[var(--color-app-accent)]/20 border border-[var(--color-app-accent)]/40 text-[var(--color-app-accent)] text-[0.95rem] font-semibold cursor-pointer transition-all duration-200 hover:bg-[var(--color-app-accent)]/30 hover:border-[var(--color-app-accent)]/50 hover:-translate-y-0.5 active:translate-y-0 shadow-[0_2px_8px_rgba(0,0,0,0.15)] [&_svg]:text-sm",children:[D.jsx(cb,{}),D.jsxs("span",{children:[p("common.loadMore")," (",t.length-$," ",p("common.remaining"),")"]})]})})]}):D.jsxs("div",{className:"text-center py-12 px-6",children:[D.jsx(Jo,{className:"w-12 h-12 text-[var(--color-app-accent)]/70 mx-auto mb-4 opacity-70"}),D.jsx("h3",{className:"text-xl font-semibold text-white m-0 mb-2",children:p("payment.noPaymentsYet")}),D.jsx("p",{className:"text-white/50 text-sm m-0",children:p("payment.noPaymentsDesc")})]})]})};function o1(e,t){const n=G.useMemo(()=>a_(e),[e?.id,e?.sdt,e?.edt,e?.fp,e?.fr,e?.fif,e?.pdt,e?.frpd]),a=G.useMemo(()=>s_(t),[t]);return G.useMemo(()=>{if(!n)return{paydown:null,schedule:[]};try{const{paydown:l,schedule:d}=o_(n,a);return{paydown:l,schedule:d}}catch(l){const d=l instanceof Error?l.message:String(l);return{paydown:null,schedule:[],error:d}}},[n,a])}const C4=()=>{Gb();const{id:e}=u1({from:"/expenses/loan/$id"}),{data:t,dataDispatch:n}=um(),[a,l]=G.useState(!1),[d,p]=G.useState(!1),[y,S]=G.useState(!1),[T,_]=G.useState(!1),{loans:O}=t,L=t.loans===null,{t:P}=bn(),H=im(),B=Wg(["payment"]);G.useEffect(()=>{L&&H&&Qo(H,n)},[L,H,n]);const F=O?.find(jt=>jt.id===e),W=t?.payments?.find(jt=>jt?.loanId===e&&jt?.data?.length>0),Y=G.useMemo(()=>W?.data??[],[W?.data]),$=G.useMemo(()=>Y.filter(jt=>!KC(jt)),[Y]),K=o1(F??null,Y),re=o1(F??null,$);if(!F)return D.jsx("div",{className:mc,children:D.jsx(id,{})});const ue=ww(String(F?.fls??"")),X=K.paydown,ie=K.schedule,pe=K.error,be=Y.some(KC);let le=0;if((ue==="active"||ue==="completed")&&be&&X&&re.paydown){const jt=re.paydown.sum_of_interests??0,wn=X.sum_of_interests??0;le=Math.max(0,jt-wn),le>wn*10&&(le=0)}const ye={start_date:qh(F.sdt??""),end_date:qh(F.edt??""),principal:ao(F.fp??0),rate:ao(F.fr??0)},De=W?.data?.reduce((jt,wn)=>jt+parseFloat(String(wn.fpi??"0")),0)??0,$e=(()=>{if(ue==="completed")return 100;if(ue==="pending"||!F.fp||!X)return 0;const jt=X.sum_of_installments||0;if(jt===0)return 0;const wn=(De??0)/jt*100;return Math.max(0,Math.min(wn,100))})(),oe=parseFloat(String(F.fp??"0")),Ee=X?.sum_of_installments+X?.remaining_principal+X?.unpaid_interest+X?.sum_of_fees||0,Ie=Ee-(De??0),Ye=X?.days_calculated||0,je=ye.start_date?.split(".")||[],[Re,ge,Ae]=je.length>=3?je:["01","01","2024"],Be=`${Ae}-${ge}-${Re}`,Xe=mk(Be),Ke=Xe>0?Math.min(Xe,Ye):0,Ze=Math.max(Ye-Ke,0),Ve=Math.floor(Ke/30),tt=Math.ceil(Ye/30),Qe=ue==="active"?`${Ve} / ${tt}`:ue==="completed"?`${tt} / ${tt}`:P("loan.notStarted"),_t=ue==="active"?Ze:P(ue==="completed"?"common.completed":"loan.notStarted"),ce=ue==="completed"||ue==="pending"?P(ue==="completed"?"common.completed":"loan.notStarted"):Tt(Ie),hn=ue==="pending"||!X?0:X.interest_paid||0,Je=ue==="pending"?P("loan.notStarted"):Tt(hn),kt=ue==="pending"||!X?0:le,Pt=ue==="pending"?P("loan.notStarted"):kt>0?Tt(kt):Tt(0),mi=ue==="pending"||!X?0:De-hn||0,Bn=ue==="pending"?P("loan.notStarted"):Tt(mi),Fn=ue==="pending"||!X?0:oe-mi||0,nn=ue==="pending"||ue==="completed"?P(ue==="completed"?"common.completed":"loan.notStarted"):Tt(Fn),xn="w-4 h-4 shrink-0 text-[var(--color-app-accent)]";return D.jsxs("div",{className:`${mc} loan-container`,children:[D.jsxs("div",{className:"w-full text-center mb-5 pt-6 flex flex-col items-center",children:[D.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight m-0",children:F?.title}),D.jsxs("button",{type:"button",onClick:()=>l(!0),className:"w-full inline-flex items-center justify-center gap-2 mt-4 py-3 px-6 min-h-12 text-base font-semibold text-white bg-white/10 border border-white/10 rounded-xl hover:bg-white/15 hover:border-[var(--color-app-accent)] active:scale-[0.98] transition-all cursor-pointer",children:[D.jsx(ys,{className:"w-5 h-5 shrink-0 text-[var(--color-app-accent)]"}),D.jsx("span",{children:P("loan.editLoan")})]})]}),pe&&D.jsx("div",{className:"mb-6",children:D.jsx(q1,{message:pe,type:"error"})}),D.jsxs("div",{className:"bg-gradient-to-br from-white/[0.07] to-white/[0.03] border border-white/10 rounded-2xl p-6 pb-5 mb-5 shadow-lg",children:[D.jsx("h2",{className:"text-xs font-semibold text-white/50 uppercase tracking-wider mb-2 m-0",children:P("loan.paymentProgress")}),D.jsx("div",{className:"mb-3",children:D.jsxs("span",{className:"text-4xl font-extrabold text-white tracking-tight tabular-nums sm:text-3xl",children:[Tt($e),"%"]})}),D.jsx("div",{className:"w-full h-3 rounded-md bg-black/20 overflow-hidden shadow-inner",children:D.jsx("div",{className:"h-full rounded-md bg-gradient-to-r from-[var(--color-app-accent)] to-[var(--color-app-accent-hover)] transition-[width] duration-500",style:{width:`${$e}%`}})}),D.jsxs("div",{className:"flex flex-wrap gap-4 mt-4 pt-4 border-t border-white/5 text-sm text-white/55",children:[D.jsxs("span",{className:"inline-flex items-center gap-2",children:[D.jsx(fc,{className:xn}),D.jsxs("span",{children:[P("loan.monthsPassed"),": ",D.jsx("strong",{className:"text-white font-semibold",children:Qe})]})]}),D.jsxs("span",{className:"inline-flex items-center gap-2",children:[D.jsx(Dw,{className:xn}),D.jsxs("span",{children:[P("loan.daysRemaining"),": ",D.jsx("strong",{className:"text-white font-semibold",children:_t})]})]})]})]}),D.jsxs(AS,{columns:3,children:[D.jsx(el,{icon:D.jsx(xS,{}),value:Tt(oe),label:P("loan.principal")}),D.jsx(el,{icon:D.jsx(fO,{}),value:Tt(De),label:P("loan.paid"),accent:!0}),D.jsx(el,{icon:D.jsx(Dw,{}),value:ce,label:P("loan.remaining")})]}),D.jsxs("div",{className:"bg-white/[0.04] border border-white/5 rounded-xl overflow-hidden mb-6",children:[D.jsxs("div",{className:"flex items-center justify-between py-3 px-4 border-b border-white/5",children:[D.jsxs("span",{className:"inline-flex items-center gap-2 text-[0.825rem] text-white/55 font-medium",children:[D.jsx(fc,{className:xn}),P("loan.startDate")]}),D.jsx("span",{className:"text-sm font-semibold text-white tabular-nums text-right",children:ye.start_date||"-"})]}),D.jsxs("div",{className:"flex items-center justify-between py-3 px-4 border-b border-white/5",children:[D.jsxs("span",{className:"inline-flex items-center gap-2 text-[0.825rem] text-white/55 font-medium",children:[D.jsx(fc,{className:xn}),P("loan.endDate")]}),D.jsx("span",{className:"text-sm font-semibold text-white tabular-nums text-right",children:ye.end_date||(ie.length>0?(()=>{const jt=ie[ie.length-1];return Array.isArray(jt)?jt[0]||"-":jt?.date||"-"})():"-")})]}),D.jsxs("div",{className:"flex items-center justify-between py-3 px-4 border-b border-white/5",children:[D.jsxs("span",{className:"inline-flex items-center gap-2 text-[0.825rem] text-white/55 font-medium",children:[D.jsx(bS,{className:xn}),P("common.total")]}),D.jsx("span",{className:"text-sm font-semibold text-white tabular-nums text-right",children:Tt(Ee)})]}),D.jsxs("div",{className:"flex items-center justify-between py-3 px-4 border-b border-white/5",children:[D.jsxs("span",{className:"inline-flex items-center gap-2 text-[0.825rem] text-white/55 font-medium",children:[D.jsx(DO,{className:xn}),P("loan.currentInterest")]}),D.jsx("span",{className:"text-sm font-semibold text-white tabular-nums text-right",children:Je})]}),D.jsxs("div",{className:"flex items-center justify-between py-3 px-4 border-b border-white/5",children:[D.jsxs("span",{className:"inline-flex items-center gap-2 text-[0.825rem] text-white/55 font-medium",children:[D.jsx(V1,{className:xn}),P("loan.interestSavings")]}),D.jsx("span",{className:"text-sm font-semibold text-white tabular-nums text-right",children:Pt})]}),D.jsxs("div",{className:"flex items-center justify-between py-3 px-4 border-b border-white/5",children:[D.jsxs("span",{className:"inline-flex items-center gap-2 text-[0.825rem] text-white/55 font-medium",children:[D.jsx(Ib,{className:xn}),P("loan.principalPaid")]}),D.jsx("span",{className:"text-sm font-semibold text-white tabular-nums text-right",children:Bn})]}),D.jsxs("div",{className:"flex items-center justify-between py-3 px-4",children:[D.jsxs("span",{className:"inline-flex items-center gap-2 text-[0.825rem] text-white/55 font-medium",children:[D.jsx(H1,{className:xn}),P("loan.remainingPrincipal")]}),D.jsx("span",{className:"text-sm font-semibold text-white tabular-nums text-right",children:nn})]})]}),D.jsxs("div",{className:"flex flex-col gap-8 w-full sm:gap-6",children:[D.jsxs("div",{className:"w-full",children:[D.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4 pb-3 border-b border-white/5",children:[D.jsx(Jo,{className:"text-xl text-[var(--color-app-accent)]"}),D.jsx("h3",{className:"text-lg font-semibold text-white m-0",children:P("loan.paymentHistory")})]}),D.jsx(A4,{loan:F,payments:W?.data||[],totalPaidAmount:De,pendingSyncIds:B})]}),D.jsx("div",{className:"w-full",children:D.jsx(E4,{loanData:ye,loan:X,amortizationSchedule:ie,totalPaidAmount:De})})]}),D.jsx(so,{show:a,onClose:jt=>{jt.preventDefault(),l(!1)},title:P("loan.editLoan"),footer:D.jsx("button",{type:"submit",form:"loan-form-edit",disabled:y,className:"btn-submit",children:y?D.jsxs("div",{className:"loader",children:[D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"})]}):D.jsxs(D.Fragment,{children:[D.jsx(ys,{}),D.jsx("span",{children:P("loan.editLoan")})]})}),children:D.jsx(aS,{formType:"edit",values:{nid:F.id,title:F.title,field_principal:F.fp,field_start_date:F.sdt,field_end_date:F.edt,field_rate:F.fr,field_initial_fee:F.fif,field_rec_first_payment_date:F.pdt,field_recurring_payment_day:F.frpd,field_loan_status:F.fls},hideSubmitButton:!0,onFormReady:(jt,wn)=>{S(wn)},onSuccess:()=>{l(!1),navigator.onLine&&H&&Qo(H,n)}})}),D.jsx(so,{show:d,onClose:jt=>{jt.preventDefault(),p(!1)},title:P("loan.addPayment"),footer:D.jsx("button",{type:"submit",form:"payment-form-add",disabled:T,className:"btn-submit",children:T?D.jsxs("div",{className:"loader",children:[D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"}),D.jsx("span",{className:"loader__element"})]}):D.jsxs(D.Fragment,{children:[D.jsx(ps,{}),D.jsx("span",{children:P("loan.addPayment")})]})}),children:D.jsx(v_,{formType:"add",values:{nid:"",title:"",field_date:new Date().toISOString().slice(0,10),field_rate:"",field_pay_installment:"",field_pay_single_fee:"",field_new_recurring_amount:""},startDate:F.sdt,endDate:F.edt,hideSubmitButton:!0,onFormReady:(jt,wn)=>{_(wn)},onSuccess:()=>{p(!1),navigator.onLine&&H&&Qo(H,n)}})}),D.jsx("button",{onClick:()=>p(!0),className:"fab",title:P("loan.addPayment"),children:D.jsx(ps,{})})]})},D4=G.lazy(()=>va(()=>import("./index-Cib7bOw5.js"),__vite__mapDeps([0,1,2])));function gf(){if(!N1())throw YR({to:"/expenses/login"})}function T4(){return D.jsxs("div",{className:"app-container",style:{background:"var(--color-app-bg)"},children:[D.jsx(JN,{}),D.jsx(KN,{}),D.jsx("main",{className:"main-content",style:{background:"var(--color-app-bg)"},children:D.jsx(G.Suspense,{fallback:D.jsx(id,{}),children:D.jsx(zD,{onError:(e,t)=>{xt.error("Application error caught by ErrorBoundary:",e,t)},children:D.jsx(WR,{})})})})]})}const Ac=GR({component:T4}),M4=td({getParentRoute:()=>Ac,path:"/expenses",beforeLoad:gf,component:s5}),_4=td({getParentRoute:()=>Ac,path:"/expenses/login",component:VP}),R4=td({getParentRoute:()=>Ac,path:"/expenses/charts",beforeLoad:gf,component:D4,pendingComponent:id}),k4=td({getParentRoute:()=>Ac,path:"/expenses/income",beforeLoad:gf,component:ZL}),O4=td({getParentRoute:()=>Ac,path:"/expenses/loans",beforeLoad:gf,component:y5}),N4=td({getParentRoute:()=>Ac,path:"/expenses/loan/$id",beforeLoad:gf,component:C4}),L4=td({getParentRoute:()=>Ac,path:"/expenses/user",beforeLoad:gf,component:GP}),I4=Ac.addChildren([M4,_4,R4,k4,O4,N4,L4]),P4=VR({routeTree:I4,defaultPreload:"intent"}),j4=()=>D.jsx(zD,{onError:(e,t)=>{xt.error("Application error caught by ErrorBoundary:",e,t)},children:D.jsx(rO,{children:D.jsx(IO,{children:D.jsx(ak,{children:D.jsx(NO,{children:D.jsx($R,{router:P4})})})})})});function z4(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:a,onRegistered:l,onRegisteredSW:d,onRegisterError:p}=e;let y,S;const T=async(O=!0)=>{await S};async function _(){if("serviceWorker"in navigator){if(y=await va(async()=>{const{Workbox:O}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:O}},[]).then(({Workbox:O})=>new O("/expenses/sw.js",{scope:"/expenses/",type:"classic"})).catch(O=>{p?.(O)}),!y)return;y.addEventListener("activated",O=>{(O.isUpdate||O.isExternal)&&window.location.reload()}),y.addEventListener("installed",O=>{O.isUpdate||a?.()}),y.register({immediate:t}).then(O=>{d?d("/expenses/sw.js",O):l?.(O)}).catch(O=>{p?.(O)})}}return S=_(),T}z4({immediate:!0});const B4=tk.createRoot(document.getElementById("root"));B4.render(D.jsx(Ge.StrictMode,{children:D.jsx(j4,{})}));export{$4 as A,bS as F,Vg as H,id as L,rf as N,mc as P,YP as T,so as V,em as a,bn as b,kg as c,Rb as d,vS as e,hk as f,sk as g,V4 as h,Qh as i,VL as j,GL as k,gk as l,pk as m,LA as n,Tt as o,Ev as p,G4 as q,mk as r,UL as s,xs as t,W4 as u,im as v,XD as w,wx as x,uw as y,ps as z};
